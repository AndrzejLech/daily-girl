(self.webpackChunkdaily_girl_v2=self.webpackChunkdaily_girl_v2||[]).push([[179],{8255:Ye=>{function xe(N){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+N+"'");throw a.code="MODULE_NOT_FOUND",a})}xe.keys=()=>[],xe.resolve=xe,xe.id=8255,Ye.exports=xe},7716:(Ye,xe,N)=>{"use strict";N.d(xe,{deG:()=>Jx,tb:()=>id,AFp:()=>K0,ip1:()=>xl,CZH:()=>Rc,hGG:()=>xF,z2F:()=>tm,sBO:()=>Qy,Sil:()=>df,_Vd:()=>bc,EJc:()=>J0,SBq:()=>Ws,qLn:()=>_,vpe:()=>Da,gxx:()=>Ii,tBr:()=>$a,XFs:()=>tt,OlP:()=>xn,zs3:()=>an,ZZ4:()=>Gh,aQg:()=>Mg,soG:()=>Ev,YKP:()=>b0,v3s:()=>nm,h0i:()=>ya,PXZ:()=>GA,R0b:()=>os,FiY:()=>Gs,Lbi:()=>Kg,g9A:()=>EA,n_E:()=>Bg,Qsj:()=>dO,FYo:()=>wc,JOm:()=>Ys,Tiy:()=>h0,q3G:()=>kn,tp0:()=>Si,EAV:()=>gD,Rgc:()=>jh,dDg:()=>Av,DyG:()=>sa,q4F:()=>qy,GfV:()=>f0,s_b:()=>Dc,ifc:()=>Ue,eFA:()=>HA,G48:()=>lD,Gpc:()=>$,f3M:()=>zd,X6Q:()=>aD,_c5:()=>_f,VLi:()=>pF,c2e:()=>MA,zSh:()=>Qp,wAp:()=>pt,vHH:()=>ye,EiD:()=>yu,mCW:()=>Ql,qzn:()=>pu,JVY:()=>S_,pB0:()=>Ja,eBb:()=>gu,L6k:()=>Op,LAX:()=>Eo,cg1:()=>GC,Tjo:()=>MD,kL8:()=>HC,yhl:()=>ha,dqk:()=>dn,sIi:()=>ng,CqO:()=>gC,QGY:()=>fC,F4k:()=>pC,RDi:()=>Jm,AaK:()=>W,z3N:()=>xo,qOj:()=>Yw,TTD:()=>Ni,_Bn:()=>cS,xp6:()=>sc,uIk:()=>Ww,Gre:()=>RC,ekj:()=>_y,Suo:()=>Hg,Xpm:()=>$t,lG2:()=>wd,Yz7:()=>un,cJS:()=>Bt,oAB:()=>kl,Yjl:()=>Rl,Y36:()=>xh,_UZ:()=>MR,GkF:()=>xM,BQk:()=>hC,ynx:()=>dC,qZA:()=>DM,TgZ:()=>gy,EpF:()=>EM,n5z:()=>mp,Ikx:()=>Rh,LFG:()=>fn,$8M:()=>h_,$Z:()=>CM,NdJ:()=>MM,CRH:()=>G0,kcU:()=>Ob,O4$:()=>Zx,oxw:()=>_C,ALo:()=>JS,lcZ:()=>ef,Hsn:()=>vC,F$t:()=>yC,Q6J:()=>lg,s9C:()=>bC,DdM:()=>Yt,VKq:()=>P0,WLB:()=>N0,iGM:()=>sA,MAs:()=>Jw,CHM:()=>tp,LSH:()=>Xd,kYT:()=>bd,Udp:()=>DC,WFA:()=>mC,d8E:()=>gg,YNc:()=>uy,_uU:()=>yy,Oqu:()=>Ah,hij:()=>fg,Gf:()=>oA});var a=N(9765),ae=N(5319),U=N(7574),oe=N(6682),le=N(8819);function J(l){for(let c in l)if(l[c]===J)return c;throw Error("Could not find renamed property on target object.")}function q(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function W(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(W).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Y(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const B=J({__forward_ref__:J});function $(l){return l.__forward_ref__=$,l.toString=function(){return W(this())},l}function V(l){return K(l)?l():l}function K(l){return"function"==typeof l&&l.hasOwnProperty(B)&&l.__forward_ref__===$}class ye extends Error{constructor(c,d){super(function(l,c){return`${l?`NG0${l}: `:""}${c}`}(c,d)),this.code=c}}function ve(l){return"string"==typeof l?l:null==l?"":String(l)}function Ie(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ve(l)}function Lt(l,c){const d=c?` in ${c}`:"";throw new ye("201",`No provider for ${Ie(l)} found${d}`)}function ht(l,c){null==l&&function(l,c,d,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,l,null,"!=")}function un(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Bt(l){return{providers:l.providers||[],imports:l.imports||[]}}function Ci(l){return ho(l,fo)||ho(l,$o)}function ho(l,c){return l.hasOwnProperty(c)?l[c]:null}function Yo(l){return l&&(l.hasOwnProperty(qo)||l.hasOwnProperty(ka))?l[qo]:null}const fo=J({\u0275prov:J}),qo=J({\u0275inj:J}),$o=J({ngInjectableDef:J}),ka=J({ngInjectorDef:J});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Di;function or(l){const c=Di;return Di=l,c}function Dt(l,c,d){const h=Ci(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&tt.Optional?null:void 0!==c?c:void Lt(W(l),"Injector")}function qt(l){return{toString:l}.toString()}var Gt=(()=>((Gt=Gt||{})[Gt.OnPush=0]="OnPush",Gt[Gt.Default=1]="Default",Gt))(),Ue=(()=>((Ue=Ue||{})[Ue.Emulated=0]="Emulated",Ue[Ue.None=2]="None",Ue[Ue.ShadowDom=3]="ShadowDom",Ue))();const ft="undefined"!=typeof globalThis&&globalThis,ds="undefined"!=typeof window&&window,Zo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,hs="undefined"!=typeof global&&global,dn=ft||hs||ds||Zo,en={},z=[],G=J({\u0275cmp:J}),ne=J({\u0275dir:J}),pe=J({\u0275pipe:J}),re=J({\u0275mod:J}),Le=J({\u0275loc:J}),Je=J({\u0275fac:J}),Et=J({__NG_ELEMENT_ID__:J});let Ut=0;function $t(l){return qt(()=>{const d={},h={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||z,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Ue.Emulated,id:"c",styles:l.styles||z,_:null,setInput:null,schemas:l.schemas||null,tView:null},p=l.directives,m=l.features,b=l.pipes;return h.id+=Ut++,h.inputs=zf(l.inputs,d),h.outputs=zf(l.outputs),m&&m.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Yn):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(ii):null,h})}function Yn(l){return xi(l)||function(l){return l[ne]||null}(l)}function ii(l){return function(l){return l[pe]||null}(l)}const Wo={};function kl(l){return qt(()=>{const c={type:l.type,bootstrap:l.bootstrap||z,declarations:l.declarations||z,imports:l.imports||z,exports:l.exports||z,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(Wo[l.id]=l.type),c})}function bd(l,c){return qt(()=>{const d=jr(l,!0);d.declarations=c.declarations||z,d.imports=c.imports||z,d.exports=c.exports||z})}function zf(l,c){if(null==l)return en;const d={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),d[p]=h,c&&(c[p]=m)}return d}const wd=$t;function Rl(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function xi(l){return l[G]||null}function jr(l,c){const d=l[re]||null;if(!d&&!0===c)throw new Error(`Type ${W(l)} does not have '\u0275mod' property.`);return d}function ps(l){return Array.isArray(l)&&"object"==typeof l[1]}function qr(l){return Array.isArray(l)&&!0===l[1]}function Zc(l){return 0!=(8&l.flags)}function gs(l){return 2==(2&l.flags)}function Pl(l){return 1==(1&l.flags)}function lr(l){return null!==l.template}function si(l){return 0!=(512&l[2])}function Xo(l,c){return l.hasOwnProperty(Je)?l[Je]:null}class Qm{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ni(){return ea}function ea(l){return l.type.prototype.ngOnChanges&&(l.setInput=$f),xb}function xb(){const l=mo(this),c=null==l?void 0:l.current;if(c){const d=l.previous;if(d===en)l.previous=c;else for(let h in c)d[h]=c[h];l.current=null,this.ngOnChanges(c)}}function $f(l,c,d,h){const p=mo(l)||function(l,c){return l[Zf]=c}(l,{previous:en,current:null}),m=p.current||(p.current={}),b=p.previous,C=this.declaredInputs[d],M=b[C];m[C]=new Qm(M&&M.currentValue,c,b===en),l[h]=c}Ni.ngInherit=!0;const Zf="__ngSimpleChanges__";function mo(l){return l[Zf]||null}const Kc="http://www.w3.org/2000/svg";let Jc;function Jm(l){Jc=l}function wn(l){return!!l.listen}const _o={createRenderer:(l,c)=>void 0!==Jc?Jc:"undefined"!=typeof document?document:void 0};function Cn(l){for(;Array.isArray(l);)l=l[0];return l}function Ll(l,c){return Cn(c[l])}function Zi(l,c){return Cn(c[l.index])}function Ed(l,c){return l.data[c]}function ta(l,c){return l[c]}function cr(l,c){const d=c[l];return ps(d)?d:d[0]}function Jf(l){return 4==(4&l[2])}function t_(l){return 128==(128&l[2])}function Pa(l,c){return null==c?null:l[c]}function Md(l){l[18]=0}function Vl(l,c){l[5]+=c;let d=l,h=l[3];for(;null!==h&&(1===c&&1===d[5]||-1===c&&0===d[5]);)h[5]+=c,d=h,h=h[3]}const yt={lFrame:r_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ep(){return yt.bindingsEnabled}function Me(){return yt.lFrame.lView}function Pt(){return yt.lFrame.tView}function tp(l){return yt.lFrame.contextLView=l,l[8]}function _n(){let l=np();for(;null!==l&&64===l.type;)l=l.parent;return l}function np(){return yt.lFrame.currentTNode}function $r(l,c){const d=yt.lFrame;d.currentTNode=l,d.isParent=c}function Ad(){return yt.lFrame.isParent}function Ul(){yt.lFrame.isParent=!1}function Gl(){return yt.isInCheckNoChangesMode}function Td(l){yt.isInCheckNoChangesMode=l}function qn(){const l=yt.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function vo(){return yt.lFrame.bindingIndex++}function Dr(l){const c=yt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function n_(l,c){const d=yt.lFrame;d.bindingIndex=d.bindingRootIndex=l,sp(c)}function sp(l){yt.lFrame.currentDirectiveIndex=l}function eu(l){const c=yt.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function i_(){return yt.lFrame.currentQueryIndex}function tu(l){yt.lFrame.currentQueryIndex=l}function op(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function kd(l,c,d){if(d&tt.SkipSelf){let p=c,m=l;for(;!(p=p.parent,null!==p||d&tt.Host||(p=op(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;c=p,l=m}const h=yt.lFrame=La();return h.currentTNode=c,h.lView=l,!0}function Rd(l){const c=La(),d=l[1];yt.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function La(){const l=yt.lFrame,c=null===l?null:l.child;return null===c?r_(l):c}function r_(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function s_(){const l=yt.lFrame;return yt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Ib=s_;function nu(){const l=s_();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Wi(){return yt.lFrame.selectedIndex}function Hl(l){yt.lFrame.selectedIndex=l}function $n(){const l=yt.lFrame;return Ed(l.tView,l.selectedIndex)}function Zx(){yt.lFrame.currentNamespace=Kc}function Ob(){yt.lFrame.currentNamespace=null}function jl(l,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const m=l.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:M,ngAfterViewChecked:A,ngOnDestroy:T}=m;b&&(l.contentHooks||(l.contentHooks=[])).push(-d,b),C&&((l.contentHooks||(l.contentHooks=[])).push(d,C),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,C)),M&&(l.viewHooks||(l.viewHooks=[])).push(-d,M),A&&((l.viewHooks||(l.viewHooks=[])).push(d,A),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,A)),null!=T&&(l.destroyHooks||(l.destroyHooks=[])).push(d,T)}}function zl(l,c,d){o_(l,c,3,d)}function Od(l,c,d,h){(3&l[2])===d&&o_(l,c,d,h)}function lp(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function o_(l,c,d,h){const m=null!=h?h:-1,b=c.length-1;let C=0;for(let M=void 0!==h?65535&l[18]:0;M<b;M++)if("number"==typeof c[M+1]){if(C=c[M],null!=h&&C>=h)break}else c[M]<0&&(l[18]+=65536),(C<m||-1==m)&&(cp(l,d,c,M),l[18]=(4294901760&l[18])+M+2),M++}function cp(l,c,d,h){const p=d[h]<0,m=d[h+1],C=l[p?-d[h]:d[h]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Fd{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Bs(l,c,d){const h=wn(l);let p=0;for(;p<d.length;){const m=d[p];if("number"==typeof m){if(0!==m)break;p++;const b=d[p++],C=d[p++],M=d[p++];h?l.setAttribute(c,C,M,b):c.setAttributeNS(b,C,M)}else{const b=m,C=d[++p];Vs(b)?h&&l.setProperty(c,b,C):h?l.setAttribute(c,b,C):c.setAttribute(b,C),p++}}return p}function l_(l){return 3===l||4===l||6===l}function Vs(l){return 64===l.charCodeAt(0)}function na(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?d=p:0===d||c_(l,d,p,null,-1===d||2===d?c[++h]:null)}}return l}function c_(l,c,d,h,p){let m=0,b=l.length;if(-1===c)b=-1;else for(;m<l.length;){const C=l[m++];if("number"==typeof C){if(C===c){b=-1;break}if(C>c){b=m-1;break}}}for(;m<l.length;){const C=l[m];if("number"==typeof C)break;if(C===d){if(null===h)return void(null!==p&&(l[m+1]=p));if(h===l[m+1])return void(l[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==b&&(l.splice(b,0,c),m=b+1),l.splice(m++,0,d),null!==h&&l.splice(m++,0,h),null!==p&&l.splice(m++,0,p)}function An(l){return-1!==l}function Ba(l){return 32767&l}function ru(l,c){let d=function(l){return l>>16}(l),h=c;for(;d>0;)h=h[15],d--;return h}let Pd=!0;function Nd(l){const c=Pd;return Pd=l,c}let gp=0;function bo(l,c){const d=Zt(l,c);if(-1!==d)return d;const h=c[1];h.firstCreatePass&&(l.injectorIndex=c.length,su(h.data,l),su(c,null),su(h.blueprint,null));const p=je(l,c),m=l.injectorIndex;if(An(p)){const b=Ba(p),C=ru(p,c),M=C[1].data;for(let A=0;A<8;A++)c[m+A]=C[b+A]|M[b+A]}return c[m+8]=p,m}function su(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Zt(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function je(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,h=null,p=c;for(;null!==p;){const m=p[1],b=m.type;if(h=2===b?m.declTNode:1===b?p[6]:null,null===h)return-1;if(d++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return-1}function ke(l,c,d){!function(l,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Et)&&(h=d[Et]),null==h&&(h=d[Et]=gp++);const p=255&h;c.data[l+(p>>5)]|=1<<p}(l,c,d)}function Ki(l,c,d){if(d&tt.Optional)return l;Lt(c,"NodeInjector")}function Va(l,c,d,h){if(d&tt.Optional&&void 0===h&&(h=null),0==(d&(tt.Self|tt.Host))){const p=l[9],m=or(void 0);try{return p?p.get(c,h,d&tt.Optional):Dt(c,h,d&tt.Optional)}finally{or(m)}}return Ki(h,c,d)}function Yl(l,c,d,h=tt.Default,p){if(null!==l){const m=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(Et)?l[Et]:void 0;return"number"==typeof c?c>=0?255&c:Nb:c}(d);if("function"==typeof m){if(!kd(c,l,h))return h&tt.Host?Ki(p,d,h):Va(c,d,h,p);try{const b=m(h);if(null!=b||h&tt.Optional)return b;Lt(d)}finally{Ib()}}else if("number"==typeof m){let b=null,C=Zt(l,c),M=-1,A=h&tt.Host?c[16][6]:null;for((-1===C||h&tt.SkipSelf)&&(M=-1===C?je(l,c):c[C+8],-1!==M&&ou(h,!1)?(b=c[1],C=Ba(M),c=ru(M,c)):C=-1);-1!==C;){const T=c[1];if(d_(m,C,T.data)){const R=Kx(C,c,d,b,h,A);if(R!==Mi)return R}M=c[C+8],-1!==M&&ou(h,c[1].data[C+8]===A)&&d_(m,C,c)?(b=T,C=Ba(M),c=ru(M,c)):C=-1}}}return Va(c,d,h,p)}const Mi={};function Nb(){return new Ua(_n(),Me())}function Kx(l,c,d,h,p,m){const b=c[1],C=b.data[l+8],T=ia(C,b,d,null==h?gs(C)&&Pd:h!=b&&0!=(3&C.type),p&tt.Host&&m===C);return null!==T?on(c,b,T,C):Mi}function ia(l,c,d,h,p){const m=l.providerIndexes,b=c.data,C=1048575&m,M=l.directiveStart,T=m>>20,P=p?C+T:l.directiveEnd;for(let H=h?C:C+T;H<P;H++){const Z=b[H];if(H<M&&d===Z||H>=M&&Z.type===d)return H}if(p){const H=b[M];if(H&&lr(H)&&H.type===d)return M}return null}function on(l,c,d,h){let p=l[d];const m=c.data;if(function(l){return l instanceof Fd}(p)){const b=p;b.resolving&&function(l,c){throw new ye("200",`Circular dependency in DI detected for ${l}`)}(Ie(m[d]));const C=Nd(b.canSeeViewProviders);b.resolving=!0;const M=b.injectImpl?or(b.injectImpl):null;kd(l,h,tt.Default);try{p=l[d]=b.factory(void 0,m,l,h),c.firstCreatePass&&d>=h.directiveStart&&function(l,c,d){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=c.type.prototype;if(h){const b=ea(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,b)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,p),m&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,m),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,m))}(d,m[d],c)}finally{null!==M&&or(M),Nd(C),b.resolving=!1,Ib()}}return p}function d_(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function ou(l,c){return!(l&tt.Self||l&tt.Host&&c)}class Ua{constructor(c,d){this._tNode=c,this._lView=d}get(c,d){return Yl(this._tNode,this._lView,c,void 0,d)}}function mp(l){return qt(()=>{const c=l.prototype.constructor,d=c[Je]||Bd(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const m=p[Je]||Bd(p);if(m&&m!==d)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Bd(l){return K(l)?()=>{const c=Bd(V(l));return c&&c()}:Xo(l)}function h_(l){return function(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const h=d.length;let p=0;for(;p<h;){const m=d[p];if(l_(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof d[p];)p++;else{if(m===c)return d[p+1];p+=2}}}return null}(_n(),l)}const Zr="__parameters__";function Kr(l,c,d){return qt(()=>{const h=function(l){return function(...d){if(l){const h=l(...d);for(const p in h)this[p]=h[p]}}}(c);function p(...m){if(this instanceof p)return h.apply(this,m),this;const b=new p(...m);return C.annotation=b,C;function C(M,A,T){const R=M.hasOwnProperty(Zr)?M[Zr]:Object.defineProperty(M,Zr,{value:[]})[Zr];for(;R.length<=T;)R.push(null);return(R[T]=R[T]||[]).push(b),M}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class xn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=un({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Jx=new xn("AnalyzeForEntryComponents"),sa=Function;function Jr(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let h=l[d];Array.isArray(h)?(c===l&&(c=l.slice(0,d)),Jr(h,c)):c!==l&&c.push(h)}return c}function Us(l,c){l.forEach(d=>Array.isArray(d)?Us(d,c):c(d))}function za(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function oa(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function aa(l,c){const d=[];for(let h=0;h<l;h++)d.push(c);return d}function In(l,c,d){let h=la(l,c);return h>=0?l[1|h]=d:(h=~h,function(l,c,d,h){let p=l.length;if(p==c)l.push(d,h);else if(1===p)l.push(h,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=h}}(l,h,c,d)),h}function Zn(l,c){const d=la(l,c);if(d>=0)return l[1|d]}function la(l,c){return function(l,c,d){let h=0,p=l.length>>d;for(;p!==h;){const m=h+(p-h>>1),b=l[m<<d];if(c===b)return m<<d;b>c?p=m:h=m+1}return~(p<<d)}(l,c,1)}const au={},Ep="__NG_DI_FLAG__",ca="ngTempTokenPath",v_=/\n/gm,Sp="__source",$l=J({provide:String,useValue:J});let ua;function xt(l){const c=ua;return ua=l,c}function Ap(l,c=tt.Default){if(void 0===ua)throw new Error("inject() must be called from an injection context");return null===ua?Dt(l,void 0,c):ua.get(l,c&tt.Optional?null:void 0,c)}function fn(l,c=tt.Default){return(Di||Ap)(V(l),c)}const zd=fn;function da(l){const c=[];for(let d=0;d<l.length;d++){const h=V(l[d]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,m=tt.Default;for(let b=0;b<h.length;b++){const C=h[b],M=w_(C);"number"==typeof M?-1===M?p=C.token:m|=M:p=C}c.push(fn(p,m))}else c.push(fn(h))}return c}function lu(l,c){return l[Ep]=c,l.prototype[Ep]=c,l}function w_(l){return l[Ep]}function Er(l,c,d,h){const p=l[ca];throw c[Sp]&&p.unshift(c[Sp]),l.message=function(l,c,d,h=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let p=W(c);if(Array.isArray(c))p=c.map(W).join(" -> ");else if("object"==typeof c){let m=[];for(let b in c)if(c.hasOwnProperty(b)){let C=c[b];m.push(b+":"+("string"==typeof C?JSON.stringify(C):W(C)))}p=`{${m.join(", ")}}`}return`${d}${h?"("+h+")":""}[${p}]: ${l.replace(v_,"\n  ")}`}("\n"+l.message,p,d,h),l.ngTokenPath=p,l[ca]=null,l}const $a=lu(Kr("Inject",l=>({token:l})),-1),Gs=lu(Kr("Optional"),8),Si=lu(Kr("SkipSelf"),4);let Kl;function Co(l){var c;return(null===(c=function(){if(void 0===Kl&&(Kl=null,dn.trustedTypes))try{Kl=dn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return Kl}())||void 0===c?void 0:c.createHTML(l))||l}class Do{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class zb extends Do{getTypeName(){return"HTML"}}class Yb extends Do{getTypeName(){return"Style"}}class Zd extends Do{getTypeName(){return"Script"}}class qb extends Do{getTypeName(){return"URL"}}class $b extends Do{getTypeName(){return"ResourceURL"}}function xo(l){return l instanceof Do?l.changingThisBreaksApplicationSecurity:l}function pu(l,c){const d=ha(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function ha(l){return l instanceof Do&&l.getTypeName()||null}function S_(l){return new zb(l)}function Op(l){return new Yb(l)}function gu(l){return new Zd(l)}function Eo(l){return new qb(l)}function Ja(l){return new $b(l)}class A_{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(Co(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Pp{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const h=this.inertDocument.createElement("body");d.appendChild(h)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=Co(c),d;const h=this.inertDocument.createElement("body");return h.innerHTML=Co(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(c){const d=c.attributes;for(let p=d.length-1;0<p;p--){const b=d.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&c.removeAttribute(b)}let h=c.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const T_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ql(l){return(l=String(l)).match(T_)||l.match(Wd)?l:"unsafe:"+l}function vs(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function el(...l){const c={};for(const d of l)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const mu=vs("area,br,col,hr,img,wbr"),Qd=vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_u=vs("rp,rt"),Np=el(mu,el(Qd,vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),el(_u,vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),el(_u,Qd)),Jl=vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hs=vs("srcset"),Lp=el(Jl,Hs,vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),F_=vs("script,style,template");class Bp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Np.hasOwnProperty(d))return this.sanitizedSomething=!0,!F_.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),b=m.name,C=b.toLowerCase();if(!Lp.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let M=m.value;Jl[C]&&(M=Ql(M)),Hs[C]&&(l=M,M=(l=String(l)).split(",").map(c=>Ql(c.trim())).join(", ")),this.buf.push(" ",b,'="',P_(M),'"')}var l;return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Np.hasOwnProperty(d)&&!mu.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(P_(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Kb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Qb=/([^\#-~ |!])/g;function P_(l){return l.replace(/&/g,"&amp;").replace(Kb,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Qb,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fa;function yu(l,c){let d=null;try{fa=fa||function(l){const c=new Pp(l);return function(){try{return!!(new window.DOMParser).parseFromString(Co(""),"text/html")}catch(l){return!1}}()?new A_(c):c}(l);let h=c?String(c):"";d=fa.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=d.innerHTML,d=fa.getInertBodyElement(h)}while(h!==m);return Co((new Bp).sanitizeChildren(Jd(d)||d))}finally{if(d){const h=Jd(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Jd(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var kn=(()=>((kn=kn||{})[kn.NONE=0]="NONE",kn[kn.HTML=1]="HTML",kn[kn.STYLE=2]="STYLE",kn[kn.SCRIPT=3]="SCRIPT",kn[kn.URL=4]="URL",kn[kn.RESOURCE_URL=5]="RESOURCE_URL",kn))();function Xd(l){const c=function(){const l=Me();return l&&l[12]}();return c?c.sanitize(kn.URL,l)||"":pu(l,"URL")?xo(l):Ql(ve(l))}const tl="__ngContext__";function Ti(l,c){l[tl]=c}function nh(l){const c=function(l){return l[tl]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function rl(l){return l.ngOriginalError}function D(l,...c){l.error(...c)}class _{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c),h=this._findContext(c),p=(l=c)&&l.ngErrorLogger||D;var l;p(this._console,"ERROR",c),d&&p(this._console,"ORIGINAL ERROR",d),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(c){return c?c.ngDebugContext||this._findContext(rl(c)):null}_findOriginalError(c){let d=c&&rl(c);for(;d&&rl(d);)d=rl(d);return d||null}}const wu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dn))();function Xr(l){return l instanceof Function?l():l}var Ys=(()=>((Ys=Ys||{})[Ys.Important=1]="Important",Ys[Ys.DashCase=2]="DashCase",Ys))();function ah(l,c){return undefined(l,c)}function Yp(l){const c=l[3];return qr(c)?c[3]:c}function H_(l){return rw(l[13])}function sE(l){return rw(l[4])}function rw(l){for(;null!==l&&!qr(l);)l=l[4];return l}function Du(l,c,d,h,p){if(null!=h){let m,b=!1;qr(h)?m=h:ps(h)&&(b=!0,h=h[0]);const C=Cn(h);0===l&&null!==d?null==p?uE(c,d,C):ic(c,d,C,p||null,!0):1===l&&null!==d?ic(c,d,C,p||null,!0):2===l?function(l,c,d){const h=q_(l,c);h&&function(l,c,d,h){wn(l)?l.removeChild(c,d,h):c.removeChild(d)}(l,h,c,d)}(c,C,b):3===l&&c.destroyNode(C),null!=m&&function(l,c,d,h,p){const m=d[7];m!==Cn(d)&&Du(c,l,h,m,p);for(let C=10;C<d.length;C++){const M=d[C];Eu(M[1],M,l,c,h,m)}}(c,l,m,d,p)}}function sw(l,c,d){return wn(l)?l.createElement(c,d):null===d?l.createElement(c):l.createElementNS(d,c)}function z_(l,c){const d=l[9],h=d.indexOf(c),p=c[3];1024&c[2]&&(c[2]&=-1025,Vl(p,-1)),d.splice(h,1)}function Y_(l,c){if(l.length<=10)return;const d=10+c,h=l[d];if(h){const p=h[17];null!==p&&p!==l&&z_(p,h),c>0&&(l[d-1][4]=h[4]);const m=oa(l,10+c);!function(l,c){Eu(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function aE(l,c){if(!(256&c[2])){const d=c[11];wn(d)&&d.destroyNode&&Eu(l,c,d,3,null,null),function(l){let c=l[13];if(!c)return nc(l[1],l);for(;c;){let d=null;if(ps(c))d=c[13];else{const h=c[10];h&&(d=h)}if(!d){for(;c&&!c[4]&&c!==l;)ps(c)&&nc(c[1],c),c=c[3];null===c&&(c=l),ps(c)&&nc(c[1],c),d=c&&c[4]}c=d}}(c)}}function nc(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let h=0;h<d.length;h+=2){const p=c[d[h]];if(!(p instanceof Fd)){const m=d[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const C=p[m[b]],M=m[b+1];try{M.call(C)}finally{}}else try{m.call(p)}finally{}}}}(l,c),function(l,c){const d=l.cleanup,h=c[7];let p=-1;if(null!==d)for(let m=0;m<d.length-1;m+=2)if("string"==typeof d[m]){const b=d[m+1],C="function"==typeof b?b(c):Cn(c[b]),M=h[p=d[m+2]],A=d[m+3];"boolean"==typeof A?C.removeEventListener(d[m],M,A):A>=0?h[p=A]():h[p=-A].unsubscribe(),m+=2}else{const b=h[p=d[m+1]];d[m].call(b)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();c[7]=null}}(l,c),1===c[1].type&&wn(c[11])&&c[11].destroy();const d=c[17];if(null!==d&&qr(c[3])){d!==c[3]&&z_(d,c);const h=c[19];null!==h&&h.detachView(l)}}}function lE(l,c,d){return function(l,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[0];if(2&h.flags){const p=l.data[h.directiveStart].encapsulation;if(p===Ue.None||p===Ue.Emulated)return null}return Zi(h,d)}(l,c.parent,d)}function ic(l,c,d,h,p){wn(l)?l.insertBefore(c,d,h,p):c.insertBefore(d,h,p)}function uE(l,c,d){wn(l)?l.appendChild(c,d):c.appendChild(d)}function dE(l,c,d,h,p){null!==h?ic(l,c,d,h,p):uE(l,c,d)}function q_(l,c){return wn(l)?l.parentNode(c):c.parentNode}function Z_(l,c,d){return xu(l,c,d)}let xu=function(l,c,d){return 40&l.type?Zi(l,d):null};function lh(l,c,d,h){const p=lE(l,h,c),m=c[11],C=Z_(h.parent||c[6],h,c);if(null!=p)if(Array.isArray(d))for(let M=0;M<d.length;M++)dE(m,p,d[M],C,!1);else dE(m,p,d,C,!1)}function K_(l,c){if(null!==c){const d=c.type;if(3&d)return Zi(c,l);if(4&d)return cw(-1,l[c.index]);if(8&d){const h=c.child;if(null!==h)return K_(l,h);{const p=l[c.index];return qr(p)?cw(-1,p):Cn(p)}}if(32&d)return ah(c,l)()||Cn(l[c.index]);{const h=lw(l,c);return null!==h?Array.isArray(h)?h[0]:K_(Yp(l[16]),h):K_(l,c.next)}}return null}function lw(l,c){return null!==c?l[16][6].projection[c.projection]:null}function cw(l,c){const d=10+l+1;if(d<c.length){const h=c[d],p=h[1].firstChild;if(null!==p)return K_(h,p)}return c[7]}function Q_(l,c,d,h,p,m,b){for(;null!=d;){const C=h[d.index],M=d.type;if(b&&0===c&&(C&&Ti(Cn(C),h),d.flags|=4),64!=(64&d.flags))if(8&M)Q_(l,c,d.child,h,p,m,!1),Du(c,l,p,C,m);else if(32&M){const A=ah(d,h);let T;for(;T=A();)Du(c,l,p,T,m);Du(c,l,p,C,m)}else 16&M?rc(l,c,h,d,p,m):Du(c,l,p,C,m);d=b?d.projectionNext:d.next}}function Eu(l,c,d,h,p,m){Q_(d,h,l.firstChild,c,p,m,!1)}function rc(l,c,d,h,p,m){const b=d[16],M=b[6].projection[h.projection];if(Array.isArray(M))for(let A=0;A<M.length;A++)Du(c,l,p,M[A],m);else Q_(l,c,M,b[3],p,m,!0)}function pE(l,c,d){wn(l)?l.setAttribute(c,"style",d):c.style.cssText=d}function dw(l,c,d){wn(l)?""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d):c.className=d}function hw(l,c,d){let h=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const m=c.length;if(p+m===h||l.charCodeAt(p+m)<=32)return p}d=p+1}}const gE="ng-template";function pk(l,c,d){let h=0;for(;h<l.length;){let p=l[h++];if(d&&"class"===p){if(p=l[h],-1!==hw(p.toLowerCase(),c,0))return!0}else if(1===p){for(;h<l.length&&"string"==typeof(p=l[h++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function fw(l){return 4===l.type&&l.value!==gE}function gk(l,c,d){return c===(4!==l.type||d?l.value:gE)}function mk(l,c,d){let h=4;const p=l.attrs||[],m=function(l){for(let c=0;c<l.length;c++)if(l_(l[c]))return c;return l.length}(p);let b=!1;for(let C=0;C<c.length;C++){const M=c[C];if("number"!=typeof M){if(!b)if(4&h){if(h=2|1&h,""!==M&&!gk(l,M,d)||""===M&&1===c.length){if(So(h))return!1;b=!0}}else{const A=8&h?M:c[++C];if(8&h&&null!==l.attrs){if(!pk(l.attrs,A,d)){if(So(h))return!1;b=!0}continue}const R=pw(8&h?"class":M,p,fw(l),d);if(-1===R){if(So(h))return!1;b=!0;continue}if(""!==A){let P;P=R>m?"":p[R+1].toLowerCase();const H=8&h?P:null;if(H&&-1!==hw(H,A,0)||2&h&&A!==P){if(So(h))return!1;b=!0}}}}else{if(!b&&!So(h)&&!So(M))return!1;if(b&&So(M))continue;b=!1,h=M|1&h}}return So(h)||b}function So(l){return 0==(1&l)}function pw(l,c,d,h){if(null===c)return-1;let p=0;if(h||!d){let m=!1;for(;p<c.length;){const b=c[p];if(b===l)return p;if(3===b||6===b)m=!0;else{if(1===b||2===b){let C=c[++p];for(;"string"==typeof C;)C=c[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=m?1:2}return-1}return function(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const h=l[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,l)}function mE(l,c,d=!1){for(let h=0;h<c.length;h++)if(mk(l,c[h],d))return!0;return!1}function kN(l,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function En(l,c){return l?":not("+c.trim()+")":c}function vk(l){let c=l[0],d=1,h=2,p="",m=!1;for(;d<l.length;){let b=l[d];if("string"==typeof b)if(2&h){const C=l[++d];p+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!So(b)&&(c+=En(m,p),p=""),h=b,m=m||!So(h);d++}return""!==p&&(c+=En(m,p)),c}const Ct={};function sc(l){gw(Pt(),Me(),Wi()+l,Gl())}function gw(l,c,d,h){if(!h)if(3==(3&c[2])){const m=l.preOrderCheckHooks;null!==m&&zl(c,m,d)}else{const m=l.preOrderHooks;null!==m&&Od(c,m,0,d)}Hl(d)}function ch(l,c){return l<<17|c<<2}function oi(l){return l>>17&32767}function J_(l){return 2|l}function Ao(l){return(131068&l)>>2}function X_(l,c){return-131069&l|c<<2}function _w(l){return 1|l}function Dw(l,c){const d=l.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const p=d[h],m=d[h+1];if(-1!==m){const b=l.data[m];tu(p),b.contentQueries(2,c[m],m)}}}function uh(l,c,d,h,p,m,b,C,M,A){const T=c.blueprint.slice();return T[0]=p,T[2]=140|h,Md(T),T[3]=T[15]=l,T[8]=d,T[10]=b||l&&l[10],T[11]=C||l&&l[11],T[12]=M||l&&l[12]||null,T[9]=A||l&&l[9]||null,T[6]=m,T[16]=2==c.type?l[16]:T,T}function Au(l,c,d,h,p){let m=l.data[c];if(null===m)m=function(l,c,d,h,p){const m=np(),b=Ad(),M=l.data[c]=function(l,c,d,h,p,m){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,d,c,h,p);return null===l.firstChild&&(l.firstChild=M),null!==m&&(b?null==m.child&&null!==M.parent&&(m.child=M):null===m.next&&(m.next=M)),M}(l,c,d,h,p),yt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=d,m.value=h,m.attrs=p;const b=function(){const l=yt.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return $r(m,!0),m}function Kt(l,c,d,h){if(0===d)return-1;const p=c.length;for(let m=0;m<d;m++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function iy(l,c,d){Rd(c);try{const h=l.viewQuery;null!==h&&Ow(1,h,d);const p=l.template;null!==p&&SE(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Dw(l,c),l.staticViewQueries&&Ow(2,l.viewQuery,d);const m=l.components;null!==m&&function(l,c){for(let d=0;d<c.length;d++)jk(l,c[d])}(c,m)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[2]&=-5,nu()}}function To(l,c,d,h){const p=c[2];if(256==(256&p))return;Rd(c);const m=Gl();try{Md(c),function(l){yt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&SE(l,c,d,2,h);const b=3==(3&p);if(!m)if(b){const A=l.preOrderCheckHooks;null!==A&&zl(c,A,null)}else{const A=l.preOrderHooks;null!==A&&Od(c,A,0,null),lp(c,0)}if(function(l){for(let c=H_(l);null!==c;c=sE(c)){if(!c[2])continue;const d=c[9];for(let h=0;h<d.length;h++){const p=d[h],m=p[3];0==(1024&p[2])&&Vl(m,1),p[2]|=1024}}}(c),function(l){for(let c=H_(l);null!==c;c=sE(c))for(let d=10;d<c.length;d++){const h=c[d],p=h[1];t_(h)&&To(p,h,p.template,h[8])}}(c),null!==l.contentQueries&&Dw(l,c),!m)if(b){const A=l.contentCheckHooks;null!==A&&zl(c,A)}else{const A=l.contentHooks;null!==A&&Od(c,A,1),lp(c,1)}!function(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const p=d[h];if(p<0)Hl(~p);else{const m=p,b=d[++h],C=d[++h];n_(b,m),C(2,c[m])}}}finally{Hl(-1)}}(l,c);const C=l.components;null!==C&&function(l,c){for(let d=0;d<c.length;d++)Hk(l,c[d])}(c,C);const M=l.viewQuery;if(null!==M&&Ow(2,M,h),!m)if(b){const A=l.viewCheckHooks;null!==A&&zl(c,A)}else{const A=l.viewHooks;null!==A&&Od(c,A,2),lp(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),m||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,Vl(c[3],-1))}finally{nu()}}function We(l,c,d,h){const p=c[10],m=!Gl(),b=Jf(c);try{m&&!b&&p.begin&&p.begin(),b&&iy(l,c,h),To(l,c,d,h)}finally{m&&!b&&p.end&&p.end()}}function SE(l,c,d,h,p){const m=Wi(),b=2&h;try{Hl(-1),b&&c.length>20&&gw(l,c,20,Gl()),d(h,p)}finally{Hl(m)}}function AE(l,c,d){if(Zc(c)){const p=c.directiveEnd;for(let m=c.directiveStart;m<p;m++){const b=l.data[m];b.contentQueries&&b.contentQueries(1,d[m],m)}}}function Zp(l,c,d){!ep()||(function(l,c,d,h){const p=d.directiveStart,m=d.directiveEnd;l.firstCreatePass||bo(d,c),Ti(h,c);const b=d.initialInputs;for(let C=p;C<m;C++){const M=l.data[C],A=lr(M);A&&Tu(c,d,M);const T=on(c,l,C,d);Ti(T,c),null!==b&&Vk(0,C-p,T,M,0,b),A&&(cr(d.index,c)[8]=T)}}(l,c,d,Zi(d,c)),128==(128&d.flags)&&function(l,c,d){const h=d.directiveStart,p=d.directiveEnd,b=d.index,C=yt.lFrame.currentDirectiveIndex;try{Hl(b);for(let M=h;M<p;M++){const A=l.data[M],T=c[M];sp(M),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Mw(A,T)}}finally{Hl(-1),sp(C)}}(l,c,d))}function dh(l,c,d=Zi){const h=c.localNames;if(null!==h){let p=c.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],C=-1===b?d(c,l):l[b];l[p++]=C}}}function TE(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Wp(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Wp(l,c,d,h,p,m,b,C,M,A){const T=20+h,R=T+p,P=function(l,c){const d=[];for(let h=0;h<c;h++)d.push(h<l?null:Ct);return d}(T,R),H="function"==typeof A?A():A;return P[1]={type:l,blueprint:P,template:d,queries:null,viewQuery:C,declTNode:c,data:P.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:M,consts:H,incompleteFirstPass:!1}}function RE(l,c,d,h){const p=BE(c);null===d?p.push(h):(p.push(d),l.firstCreatePass&&VE(l).push(h,p.length-1))}function OE(l,c,d){for(let h in l)if(l.hasOwnProperty(h)){const p=l[h];(d=null===d?{}:d).hasOwnProperty(h)?d[h].push(c,p):d[h]=[c,p]}return d}function ts(l,c,d,h,p,m,b,C){const M=Zi(c,d);let T,A=c.inputs;!C&&null!=A&&(T=A[h])?(Fw(l,d,T,h,p),gs(c)&&function(l,c){const d=cr(c,l);16&d[2]||(d[2]|=64)}(d,c.index)):3&c.type&&(h=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=b?b(p,c.value||"",h):p,wn(m)?m.setProperty(M,h,p):Vs(h)||(M.setProperty?M.setProperty(h,p):M[h]=p))}function Ew(l,c,d,h){let p=!1;if(ep()){const m=function(l,c,d){const h=l.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];mE(d,b.selectors,!1)&&(p||(p=[]),ke(bo(d,c),l,b.type),lr(b)?(ll(l,d),p.unshift(b)):p.push(b))}return p}(l,c,d),b=null===h?null:{"":-1};if(null!==m){p=!0,Bk(d,l.data.length,m.length);for(let T=0;T<m.length;T++){const R=m[T];R.providersResolver&&R.providersResolver(R)}let C=!1,M=!1,A=Kt(l,c,m.length,null);for(let T=0;T<m.length;T++){const R=m[T];d.mergedAttrs=na(d.mergedAttrs,R.hostAttrs),PE(l,d,c,A,R),Lk(A,R,b),null!==R.contentQueries&&(d.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(d.flags|=128);const P=R.type.prototype;!C&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),C=!0),!M&&(P.ngOnChanges||P.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),M=!0),A++}!function(l,c){const h=c.directiveEnd,p=l.data,m=c.attrs,b=[];let C=null,M=null;for(let A=c.directiveStart;A<h;A++){const T=p[A],R=T.inputs,P=null===m||fw(c)?null:Uk(R,m);b.push(P),C=OE(R,A,C),M=OE(T.outputs,A,M)}null!==C&&(C.hasOwnProperty("class")&&(c.flags|=16),C.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=b,c.inputs=C,c.outputs=M}(l,d)}b&&function(l,c,d){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const m=d[c[p+1]];if(null==m)throw new ye("301",`Export of name '${c[p+1]}' not found!`);h.push(c[p],m)}}}(d,h,b)}return d.mergedAttrs=na(d.mergedAttrs,d.attrs),p}function FE(l,c,d,h,p,m){const b=m.hostBindings;if(b){let C=l.hostBindingOpCodes;null===C&&(C=l.hostBindingOpCodes=[]);const M=~c.index;(function(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(C)!=M&&C.push(M),C.push(h,p,b)}}function Mw(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function ll(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function Lk(l,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=l;lr(c)&&(d[""]=l)}}function Bk(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function PE(l,c,d,h,p){l.data[h]=p;const m=p.factory||(p.factory=Xo(p.type)),b=new Fd(m,lr(p),null);l.blueprint[h]=b,d[h]=b,FE(l,c,0,h,Kt(l,d,p.hostVars,Ct),p)}function Tu(l,c,d){const h=Zi(c,l),p=TE(d),m=l[10],b=Tw(l,uh(l,p,null,d.onPush?64:16,h,c,m,m.createRenderer(h,d),null,null));l[c.index]=b}function pa(l,c,d,h,p,m){const b=Zi(l,c);!function(l,c,d,h,p,m,b){if(null==m)wn(l)?l.removeAttribute(c,p,d):c.removeAttribute(p);else{const C=null==b?ve(m):b(m,h||"",p);wn(l)?l.setAttribute(c,p,C,d):d?c.setAttributeNS(d,p,C):c.setAttribute(p,C)}}(c[11],b,m,l.value,d,h,p)}function Vk(l,c,d,h,p,m){const b=m[c];if(null!==b){const C=h.setInput;for(let M=0;M<b.length;){const A=b[M++],T=b[M++],R=b[M++];null!==C?h.setInput(d,R,A,T):d[T]=R}}}function Uk(l,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;l.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,l[p],c[h+1])),h+=2}else h+=2;else h+=4}return d}function NE(l,c,d,h){return new Array(l,!0,!1,c,null,0,h,d,null,null)}function Hk(l,c){const d=cr(c,l);if(t_(d)){const h=d[1];80&d[2]?To(h,d,h.template,d[8]):d[5]>0&&Aw(d)}}function Aw(l){for(let h=H_(l);null!==h;h=sE(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const b=m[1];To(b,m,b.template,m[8])}else m[5]>0&&Aw(m)}const d=l[1].components;if(null!==d)for(let h=0;h<d.length;h++){const p=cr(d[h],l);t_(p)&&p[5]>0&&Aw(p)}}function jk(l,c){const d=cr(c,l),h=d[1];(function(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(h,d),iy(h,d,d[8])}function Tw(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function Iw(l){for(;l;){l[2]|=64;const c=Yp(l);if(si(l)&&!c)return l;l=c}return null}function Rw(l,c,d){const h=c[10];h.begin&&h.begin();try{To(l,c,l.template,d)}catch(p){throw GE(c,p),p}finally{h.end&&h.end()}}function LE(l){!function(l){for(let c=0;c<l.components.length;c++){const d=l.components[c],h=nh(d),p=h[1];We(p,h,p.template,d)}}(l[8])}function Ow(l,c,d){tu(0),c(l,d)}const Zk=(()=>Promise.resolve(null))();function BE(l){return l[7]||(l[7]=[])}function VE(l){return l.cleanup||(l.cleanup=[])}function UE(l,c,d){return(null===l||lr(l))&&(d=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function GE(l,c){const d=l[9],h=d?d.get(_,null):null;h&&h.handleError(c)}function Fw(l,c,d,h,p){for(let m=0;m<d.length;){const b=d[m++],C=d[m++],M=c[b],A=l.data[b];null!==A.setInput?A.setInput(M,p,h,C):M[C]=p}}function cl(l,c,d){const h=Ll(c,l);!function(l,c,d){wn(l)?l.setValue(c,d):c.textContent=d}(l[11],h,d)}function sy(l,c,d){let h=d?l.styles:null,p=d?l.classes:null,m=0;if(null!==c)for(let b=0;b<c.length;b++){const C=c[b];"number"==typeof C?m=C:1==m?p=Y(p,C):2==m&&(h=Y(h,C+": "+c[++b]+";"))}d?l.styles=h:l.stylesWithoutHost=h,d?l.classes=p:l.classesWithoutHost=p}const Ii=new xn("INJECTOR",-1);class HE{get(c,d=au){if(d===au){const h=new Error(`NullInjectorError: No provider for ${W(c)}!`);throw h.name="NullInjectorError",h}return d}}const Qp=new xn("Set Injector scope."),Jp={},Kk={};let Pw;function jE(){return void 0===Pw&&(Pw=new HE),Pw}function zE(l,c=null,d=null,h){return new KN(l,d,c||jE(),h)}class KN{constructor(c,d,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];d&&Us(d,C=>this.processProvider(C,c,d)),Us([c],C=>this.processInjectorType(C,[],m)),this.records.set(Ii,Iu(void 0,this));const b=this.records.get(Qp);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof c?null:W(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,d=au,h=tt.Default){this.assertNotDestroyed();const p=xt(this),m=or(void 0);try{if(!(h&tt.SkipSelf)){let C=this.records.get(c);if(void 0===C){const M=("function"==typeof(l=c)||"object"==typeof l&&l instanceof xn)&&Ci(c);C=M&&this.injectableDefInScope(M)?Iu(Xp(c),Jp):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(h&tt.Self?jE():this.parent).get(c,d=h&tt.Optional&&d===au?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[ca]=b[ca]||[]).unshift(W(c)),p)throw b;return Er(b,c,"R3InjectorError",this.source)}throw b}finally{or(m),xt(p)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((h,p)=>c.push(W(p))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,d,h){if(!(c=V(c)))return!1;let p=Yo(c);const m=null==p&&c.ngModule||void 0,b=void 0===m?c:m,C=-1!==h.indexOf(b);if(void 0!==m&&(p=Yo(m)),null==p)return!1;if(null!=p.imports&&!C){let T;h.push(b);try{Us(p.imports,R=>{this.processInjectorType(R,d,h)&&(void 0===T&&(T=[]),T.push(R))})}finally{}if(void 0!==T)for(let R=0;R<T.length;R++){const{ngModule:P,providers:H}=T[R];Us(H,Z=>this.processProvider(Z,P,H||z))}}this.injectorDefTypes.add(b);const M=Xo(b)||(()=>new b);this.records.set(b,Iu(M,Jp));const A=p.providers;if(null!=A&&!C){const T=c;Us(A,R=>this.processProvider(R,T,A))}return void 0!==m&&void 0!==c.providers}processProvider(c,d,h){let p=hh(c=V(c))?c:V(c&&c.provide);const m=oy(l=c)?Iu(void 0,l.useValue):Iu(YE(l),Jp);var l;if(hh(c)||!0!==c.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=Iu(void 0,Jp,!0),b.factory=()=>da(b.multi),this.records.set(p,b)),p=c,b.multi.push(c)}this.records.set(p,m)}hydrate(c,d){return d.value===Jp&&(d.value=Kk,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(l=d.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var l}injectableDefInScope(c){if(!c.providedIn)return!1;const d=V(c.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function Xp(l){const c=Ci(l),d=null!==c?c.factory:Xo(l);if(null!==d)return d;if(l instanceof xn)throw new Error(`Token ${W(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const c=l.length;if(c>0){const h=aa(c,"?");throw new Error(`Can't resolve all parameters for ${W(l)}: (${h.join(", ")}).`)}const d=function(l){const c=l&&(l[fo]||l[$o]);if(c){const d=function(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new Error("unreachable")}function YE(l,c,d){let h;if(hh(l)){const p=V(l);return Xo(p)||Xp(p)}if(oy(l))h=()=>V(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...da(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))h=()=>fn(V(l.useExisting));else{const p=V(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return Xo(p)||Xp(p);h=()=>new p(...da(l.deps))}return h}function Iu(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function oy(l){return null!==l&&"object"==typeof l&&$l in l}function hh(l){return"function"==typeof l}const $E=function(l,c,d){return function(l,c=null,d=null,h){const p=zE(l,c,d,h);return p._resolveInjectorDefTypes(),p}({name:d},c,l,d)};class an{static create(c,d){return Array.isArray(c)?$E(c,d,""):$E(c.providers,c.parent,c.name||"")}}function dR(l,c){jl(nh(l)[1],_n())}function Yw(l){let c=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const h=[l];for(;c;){let p;if(lr(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");p=c.\u0275dir}if(p){if(d){h.push(p);const b=l;b.inputs=ph(l.inputs),b.declaredInputs=ph(l.declaredInputs),b.outputs=ph(l.outputs);const C=p.hostBindings;C&&$w(l,C);const M=p.viewQuery,A=p.contentQueries;if(M&&tM(l,M),A&&qw(l,A),q(l.inputs,p.inputs),q(l.declaredInputs,p.declaredInputs),q(l.outputs,p.outputs),lr(p)&&p.data.animation){const T=l.data;T.animation=(T.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let b=0;b<m.length;b++){const C=m[b];C&&C.ngInherit&&C(l),C===Yw&&(d=!1)}}c=Object.getPrototypeOf(c)}!function(l){let c=0,d=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=na(p.hostAttrs,d=na(d,p.hostAttrs))}}(h)}function ph(l){return l===en?{}:l===z?[]:l}function tM(l,c){const d=l.viewQuery;l.viewQuery=d?(h,p)=>{c(h,p),d(h,p)}:c}function qw(l,c){const d=l.contentQueries;l.contentQueries=d?(h,p,m)=>{c(h,p,m),d(h,p,m)}:c}function $w(l,c){const d=l.hostBindings;l.hostBindings=d?(h,p)=>{c(h,p),d(h,p)}:c}an.THROW_IF_NOT_FOUND=au,an.NULL=new HE,an.\u0275prov=un({token:an,providedIn:"any",factory:()=>fn(Ii)}),an.__NG_ELEMENT_ID__=-1;let Ou=null;function gh(){if(!Ou){const l=dn.Symbol;if(l&&l.iterator)Ou=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const h=c[d];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Ou=h)}}}return Ou}class Io{constructor(c){this.wrapped=c}static wrap(c){return new Io(c)}static unwrap(c){return Io.isWrapped(c)?c.wrapped:c}static isWrapped(c){return c instanceof Io}}function ng(l){return!!Zw(l)&&(Array.isArray(l)||!(l instanceof Map)&&gh()in l)}function Zw(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ga(l,c,d){return l[c]=d}function pn(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function Ww(l,c,d,h){const p=Me();return pn(p,vo(),c)&&(Pt(),pa($n(),p,l,c,d,h)),Ww}function Pu(l,c,d,h){return pn(l,vo(),d)?c+ve(d)+h:Ct}function uy(l,c,d,h,p,m,b,C){const M=Me(),A=Pt(),T=l+20,R=A.firstCreatePass?function(l,c,d,h,p,m,b,C,M){const A=c.consts,T=Au(c,l,4,b||null,Pa(A,C));Ew(c,d,T,Pa(A,M)),jl(c,T);const R=T.tViews=Wp(2,T,h,p,m,c.directiveRegistry,c.pipeRegistry,null,c.schemas,A);return null!==c.queries&&(c.queries.template(c,T),R.queries=c.queries.embeddedTView(T)),T}(T,A,M,c,d,h,p,m,b):A.data[T];$r(R,!1);const P=M[11].createComment("");lh(A,M,P,R),Ti(P,M),Tw(M,M[T]=NE(P,M,P,R)),Pl(R)&&Zp(A,M,R),null!=b&&dh(M,R,C)}function Jw(l){return ta(yt.lFrame.contextLView,20+l)}function xh(l,c=tt.Default){const d=Me();return null===d?fn(l,c):Yl(_n(),d,V(l),c)}function CM(){throw new Error("invalid")}function lg(l,c,d){const h=Me();return pn(h,vo(),c)&&ts(Pt(),$n(),h,l,c,h[11],d,!1),lg}function uC(l,c,d,h,p){const b=p?"class":"style";Fw(l,d,c.inputs[b],b,h)}function gy(l,c,d,h){const p=Me(),m=Pt(),b=20+l,C=p[11],M=p[b]=sw(C,c,yt.lFrame.currentNamespace),A=m.firstCreatePass?function(l,c,d,h,p,m,b){const C=c.consts,A=Au(c,l,2,p,Pa(C,m));return Ew(c,d,A,Pa(C,b)),null!==A.attrs&&sy(A,A.attrs,!1),null!==A.mergedAttrs&&sy(A,A.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,A),A}(b,m,p,0,c,d,h):m.data[b];$r(A,!0);const T=A.mergedAttrs;null!==T&&Bs(C,M,T);const R=A.classes;null!==R&&dw(C,M,R);const P=A.styles;null!==P&&pE(C,M,P),64!=(64&A.flags)&&lh(m,p,M,A),0===yt.lFrame.elementDepthCount&&Ti(M,p),yt.lFrame.elementDepthCount++,Pl(A)&&(Zp(m,p,A),AE(m,A,p)),null!==h&&dh(p,A)}function DM(){let l=_n();Ad()?Ul():(l=l.parent,$r(l,!1));const c=l;yt.lFrame.elementDepthCount--;const d=Pt();d.firstCreatePass&&(jl(d,l),Zc(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(c)&&uC(d,c,Me(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(c)&&uC(d,c,Me(),c.stylesWithoutHost,!1)}function MR(l,c,d,h){gy(l,c,d,h),DM()}function dC(l,c,d){const h=Me(),p=Pt(),m=l+20,b=p.firstCreatePass?function(l,c,d,h,p){const m=c.consts,b=Pa(m,h),C=Au(c,l,8,"ng-container",b);return null!==b&&sy(C,b,!0),Ew(c,d,C,Pa(m,p)),null!==c.queries&&c.queries.elementStart(c,C),C}(m,p,h,c,d):p.data[m];$r(b,!0);const C=h[m]=h[11].createComment("");lh(p,h,C,b),Ti(C,h),Pl(b)&&(Zp(p,h,b),AE(p,b,h)),null!=d&&dh(h,b)}function hC(){let l=_n();const c=Pt();Ad()?Ul():(l=l.parent,$r(l,!1)),c.firstCreatePass&&(jl(c,l),Zc(l)&&c.queries.elementEnd(l))}function xM(l,c,d){dC(l,c,d),hC()}function EM(){return Me()}function fC(l){return!!l&&"function"==typeof l.then}function pC(l){return!!l&&"function"==typeof l.subscribe}const gC=pC;function MM(l,c,d,h){const p=Me(),m=Pt(),b=_n();return SM(m,p,p[11],b,l,c,!!d,h),MM}function mC(l,c){const d=_n(),h=Me(),p=Pt();return SM(p,h,UE(eu(p.data),d,h),d,l,c,!1),mC}function SM(l,c,d,h,p,m,b,C){const M=Pl(h),T=l.firstCreatePass&&VE(l),R=c[8],P=BE(c);let H=!0;if(3&h.type||C){const ie=Zi(h,c),Re=C?C(ie):ie,De=P.length,nt=C?ot=>C(Cn(ot[h.index])):h.index;if(wn(d)){let ot=null;if(!C&&M&&(ot=function(l,c,d,h){const p=l.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const b=p[m];if(b===d&&p[m+1]===h){const C=c[7],M=p[m+2];return C.length>M?C[M]:null}"string"==typeof b&&(m+=2)}return null}(l,c,p,h.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=m,ot.__ngLastListenerFn__=m,H=!1;else{m=my(h,c,R,m,!1);const jt=d.listen(Re,p,m);P.push(m,jt),T&&T.push(p,nt,De,De+1)}}else m=my(h,c,R,m,!0),Re.addEventListener(p,m,b),P.push(m),T&&T.push(p,nt,De,b)}else m=my(h,c,R,m,!1);const Z=h.outputs;let de;if(H&&null!==Z&&(de=Z[p])){const ie=de.length;if(ie)for(let Re=0;Re<ie;Re+=2){const gn=c[de[Re]][de[Re+1]].subscribe(m),zi=P.length;P.push(m,gn),T&&T.push(p,h.index,zi,-(zi+1))}}}function cg(l,c,d,h){try{return!1!==d(h)}catch(p){return GE(l,p),!1}}function my(l,c,d,h,p){return function m(b){if(b===Function)return h;const C=2&l.flags?cr(l.index,c):c;0==(32&c[2])&&Iw(C);let M=cg(c,0,h,b),A=m.__ngNextListenerFn__;for(;A;)M=cg(c,0,A,b)&&M,A=A.__ngNextListenerFn__;return p&&!1===M&&(b.preventDefault(),b.returnValue=!1),M}}function _C(l=1){return function(l){return(yt.lFrame.contextLView=function(l,c){for(;l>0;)c=c[15],l--;return c}(l,yt.lFrame.contextLView))[8]}(l)}function hl(l,c){let d=null;const h=function(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const m=c[p];if("*"!==m){if(null===h?mE(l,m,!0):kN(h,m))return p}else d=p}return d}function yC(l){const c=Me()[16][6];if(!c.projection){const h=c.projection=aa(l?l.length:1,null),p=h.slice();let m=c.child;for(;null!==m;){const b=l?hl(m,l):0;null!==b&&(p[b]?p[b].projectionNext=m:h[b]=m,p[b]=m),m=m.next}}}function vC(l,c=0,d){const h=Me(),p=Pt(),m=Au(p,20+l,16,null,d||null);null===m.projection&&(m.projection=c),Ul(),64!=(64&m.flags)&&function(l,c,d){rc(c[11],0,c,d,lE(l,d,c),Z_(d.parent||c[6],d,c))}(p,h,m)}function bC(l,c,d){return wC(l,"",c,"",d),bC}function wC(l,c,d,h,p){const m=Me(),b=Pu(m,c,d,h);return b!==Ct&&ts(Pt(),$n(),m,l,b,m[11],p,!1),wC}function OM(l,c,d,h,p){const m=l[d+1],b=null===c;let C=h?oi(m):Ao(m),M=!1;for(;0!==C&&(!1===M||b);){const T=l[C+1];dL(l[C],c)&&(M=!0,l[C+1]=h?_w(T):J_(T)),C=h?oi(T):Ao(T)}M&&(l[d+1]=h?J_(m):_w(m))}function dL(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&la(l,c)>=0}const Ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kR(l){return l.substring(Ui.key,Ui.keyEnd)}function Zs(l,c){const d=Ui.textEnd;return d===c?-1:(c=Ui.keyEnd=function(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,Ui.key=c,d),Mh(l,c,d))}function Mh(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function DC(l,c,d){return is(l,c,d,!1),DC}function _y(l,c){return is(l,c,null,!0),_y}function dt(l,c){for(let d=function(l){return function(l){Ui.key=0,Ui.keyEnd=0,Ui.value=0,Ui.valueEnd=0,Ui.textEnd=l.length}(l),Zs(l,Mh(l,0,Ui.textEnd))}(c);d>=0;d=Zs(c,d))In(l,kR(c),!0)}function is(l,c,d,h){const p=Me(),m=Pt(),b=Dr(2);m.firstUpdatePass&&BM(m,l,b,h),c!==Ct&&pn(p,b,c)&&VM(m,m.data[Wi()],p,p[11],l,p[b+1]=function(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=W(xo(l)))),l}(c,d),h,b)}function Sh(l,c){return c>=l.expandoStartIndex}function BM(l,c,d,h){const p=l.data;if(null===p[d+1]){const m=p[Wi()],b=Sh(l,d);SC(m,h)&&null===c&&!b&&(c=!1),c=function(l,c,d,h){const p=eu(l);let m=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(d=gc(d=ki(null,l,c,d,h),c.attrs,h),m=null);else{const b=c.directiveStylingLast;if(-1===b||l[b]!==p)if(d=ki(p,l,c,d,h),null===m){let M=function(l,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==Ao(h))return l[oi(h)]}(l,c,h);void 0!==M&&Array.isArray(M)&&(M=ki(null,l,c,M[1],h),M=gc(M,c.attrs,h),function(l,c,d,h){l[oi(d?c.classBindings:c.styleBindings)]=h}(l,c,h,M))}else m=function(l,c,d){let h;const p=c.directiveEnd;for(let m=1+c.directiveStylingLast;m<p;m++)h=gc(h,l[m].hostAttrs,d);return gc(h,c.attrs,d)}(l,c,h)}return void 0!==m&&(h?c.residualClasses=m:c.residualStyles=m),d}(p,m,c,h),function(l,c,d,h,p,m){let b=m?c.classBindings:c.styleBindings,C=oi(b),M=Ao(b);l[h]=d;let T,A=!1;if(Array.isArray(d)){const R=d;T=R[1],(null===T||la(R,T)>0)&&(A=!0)}else T=d;if(p)if(0!==M){const P=oi(l[C+1]);l[h+1]=ch(P,C),0!==P&&(l[P+1]=X_(l[P+1],h)),l[C+1]=function(l,c){return 131071&l|c<<17}(l[C+1],h)}else l[h+1]=ch(C,0),0!==C&&(l[C+1]=X_(l[C+1],h)),C=h;else l[h+1]=ch(M,0),0===C?C=h:l[M+1]=X_(l[M+1],h),M=h;A&&(l[h+1]=J_(l[h+1])),OM(l,T,h,!0),OM(l,T,h,!1),function(l,c,d,h,p){const m=p?l.residualClasses:l.residualStyles;null!=m&&"string"==typeof c&&la(m,c)>=0&&(d[h+1]=_w(d[h+1]))}(c,T,l,h,m),b=ch(C,M),m?c.classBindings=b:c.styleBindings=b}(p,m,c,d,b,h)}}function ki(l,c,d,h,p){let m=null;const b=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<b&&(m=c[C],h=gc(h,m.hostAttrs,p),m!==l);)C++;return null!==l&&(d.directiveStylingLast=C),h}function gc(l,c,d){const h=d?1:2;let p=-1;if(null!==c)for(let m=0;m<c.length;m++){const b=c[m];"number"==typeof b?p=b:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),In(l,b,!!d||c[++m]))}return void 0===l?null:l}function VM(l,c,d,h,p,m,b,C){if(!(3&c.type))return;const M=l.data,A=M[C+1];hg(function(l){return 1==(1&l)}(A)?MC(M,c,d,p,Ao(A),b):void 0)||(hg(m)||function(l){return 2==(2&l)}(A)&&(m=MC(M,null,d,p,C,b)),function(l,c,d,h,p){const m=wn(l);if(c)p?m?l.addClass(d,h):d.classList.add(h):m?l.removeClass(d,h):d.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:Ys.DashCase;if(null==p)m?l.removeStyle(d,h,b):d.style.removeProperty(h);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),b|=Ys.Important),m?l.setStyle(d,h,p,b):d.style.setProperty(h,p,C?"important":"")}}}(h,b,Ll(Wi(),d),p,m))}function MC(l,c,d,h,p,m){const b=null===c;let C;for(;p>0;){const M=l[p],A=Array.isArray(M),T=A?M[1]:M,R=null===T;let P=d[p+1];P===Ct&&(P=R?z:void 0);let H=R?Zn(P,h):T===h?P:void 0;if(A&&!hg(H)&&(H=Zn(M,h)),hg(H)&&(C=H,b))return C;const Z=l[p+1];p=b?oi(Z):Ao(Z)}if(null!==c){let M=m?c.residualClasses:c.residualStyles;null!=M&&(C=Zn(M,h))}return C}function hg(l){return void 0!==l}function SC(l,c){return 0!=(l.flags&(c?16:32))}function yy(l,c=""){const d=Me(),h=Pt(),p=l+20,m=h.firstCreatePass?Au(h,p,1,c,null):h.data[p],b=d[p]=function(l,c){return wn(l)?l.createText(c):l.createTextNode(c)}(d[11],c);lh(h,d,b,m),$r(m,!1)}function Ah(l){return fg("",l,""),Ah}function fg(l,c,d){const h=Me(),p=Pu(h,l,c,d);return p!==Ct&&cl(h,Wi(),p),fg}function RC(l,c,d){!function(l,c,d,h){const p=Pt(),m=Dr(2);p.firstUpdatePass&&BM(p,null,m,h);const b=Me();if(d!==Ct&&pn(b,m,d)){const C=p.data[Wi()];if(SC(C,h)&&!Sh(p,m)){let M=h?C.classesWithoutHost:C.stylesWithoutHost;null!==M&&(d=Y(M,d||"")),uC(p,C,b,d,h)}else!function(l,c,d,h,p,m,b,C){p===Ct&&(p=z);let M=0,A=0,T=0<p.length?p[0]:null,R=0<m.length?m[0]:null;for(;null!==T||null!==R;){const P=M<p.length?p[M+1]:void 0,H=A<m.length?m[A+1]:void 0;let de,Z=null;T===R?(M+=2,A+=2,P!==H&&(Z=R,de=H)):null===R||null!==T&&T<R?(M+=2,Z=T):(A+=2,Z=R,de=H),null!==Z&&VM(l,c,d,h,Z,de,b,C),T=M<p.length?p[M]:null,R=A<m.length?m[A]:null}}(p,C,b,b[11],b[m+1],b[m+1]=function(l,c,d){if(null==d||""===d)return z;const h=[],p=xo(d);if(Array.isArray(p))for(let m=0;m<p.length;m++)l(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&l(h,m,p[m]);else"string"==typeof p&&c(h,p);return h}(l,c,d),h,m)}}(In,dt,Pu(Me(),l,c,d),!0)}function Rh(l,c,d){const h=Me();return pn(h,vo(),c)&&ts(Pt(),$n(),h,l,c,h[11],d,!0),Rh}function gg(l,c,d){const h=Me();if(pn(h,vo(),c)){const m=Pt(),b=$n();ts(m,b,h,l,c,UE(eu(m.data),b,h),d,!0)}return gg}const pl=void 0;var UC=["en",[["a","p"],["AM","PM"],pl],[["AM","PM"],pl,pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pl,"{1} 'at' {0}",pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const c=Math.floor(Math.abs(l)),d=l.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Lu={};function GC(l){const c=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=Cy(c);if(d)return d;const h=c.split("-")[0];if(d=Cy(h),d)return d;if("en"===h)return UC;throw new Error(`Missing locale data for the locale "${l}".`)}function HC(l){return GC(l)[pt.PluralCase]}function Cy(l){return l in Lu||(Lu[l]=dn.ng&&dn.ng.common&&dn.ng.common.locales&&dn.ng.common.locales[l]),Lu[l]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const li="en-US";let qC=li;function $C(l){ht(l,"Expected localeId to be defined"),"string"==typeof l&&(qC=l.toLowerCase().replace(/_/g,"-"))}function a0(l,c,d,h,p){if(l=V(l),Array.isArray(l))for(let m=0;m<l.length;m++)a0(l[m],c,d,h,p);else{const m=Pt(),b=Me();let C=hh(l)?l:V(l.provide),M=YE(l);const A=_n(),T=1048575&A.providerIndexes,R=A.directiveStart,P=A.providerIndexes>>20;if(hh(l)||!l.multi){const H=new Fd(M,p,xh),Z=Uy(C,c,p?T:T+P,R);-1===Z?(ke(bo(A,b),m,C),ju(m,l,c.length),c.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),d.push(H),b.push(H)):(d[Z]=H,b[Z]=H)}else{const H=Uy(C,c,T+P,R),Z=Uy(C,c,T,T+P),de=H>=0&&d[H],ie=Z>=0&&d[Z];if(p&&!ie||!p&&!de){ke(bo(A,b),m,C);const Re=function(l,c,d,h,p){const m=new Fd(l,d,xh);return m.multi=[],m.index=c,m.componentProviders=0,_l(m,p,h&&!d),m}(p?lS:aS,d.length,p,h,M);!p&&ie&&(d[Z].providerFactory=Re),ju(m,l,c.length,0),c.push(C),A.directiveStart++,A.directiveEnd++,p&&(A.providerIndexes+=1048576),d.push(Re),b.push(Re)}else ju(m,l,H>-1?H:Z,_l(d[p?Z:H],M,!p&&h));!p&&h&&ie&&d[Z].componentProviders++}}}function ju(l,c,d,h){const p=hh(c);if(p||function(l){return!!l.useClass}(c)){const b=(c.useClass||c).prototype.ngOnDestroy;if(b){const C=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const M=C.indexOf(d);-1===M?C.push(d,[h,b]):C[M+1].push(h,b)}else C.push(d,b)}}}function _l(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Uy(l,c,d,h){for(let p=d;p<h;p++)if(c[p]===l)return p;return-1}function aS(l,c,d,h){return vc(this.multi,[])}function lS(l,c,d,h){const p=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=on(d,d[1],this.providerFactory.index,h);m=C.slice(0,b),vc(p,m);for(let M=b;M<C.length;M++)m.push(C[M])}else m=[],vc(p,m);return m}function vc(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function cS(l,c=[]){return d=>{d.providersResolver=(h,p)=>function(l,c,d){const h=Pt();if(h.firstCreatePass){const p=lr(l);a0(d,h.data,h.blueprint,p,!0),a0(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class dS{}const c0="ngComponent";class u0{resolveComponentFactory(c){throw function(l){const c=Error(`No component factory found for ${W(l)}. Did you add it to @NgModule.entryComponents?`);return c[c0]=l,c}(c)}}class bc{}function Gy(...l){}function Vh(l,c){return new Ws(Zi(l,c))}bc.NULL=new u0;const zy=function(){return Vh(_n(),Me())};let Ws=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=zy,l})();function d0(l){return l instanceof Ws?l.nativeElement:l}class wc{}let dO=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>fO(),l})();const fO=function(){const l=Me(),d=cr(_n().index,l);return function(l){return l[11]}(ps(d)?d:l)};let h0=(()=>{class l{}return l.\u0275prov=un({token:l,providedIn:"root",factory:()=>null}),l})();class f0{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const qy=new f0("13.0.0-next.5");class p0{constructor(){}supports(c){return ng(c)}create(c){return new yl(c)}}const $y=(l,c)=>c;class yl{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||$y}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,p=0,m=null;for(;d||h;){const b=!h||d&&d.currentIndex<Uh(h,p,m)?d:h,C=Uh(b,p,m),M=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)p++;else{m||(m=[]);const A=C-p,T=M-p;if(A!=T){for(let P=0;P<A;P++){const H=P<m.length?m[P]:m[P]=0,Z=H+P;T<=Z&&Z<A&&(m[P]=H+1)}m[b.previousIndex]=T-A}}C!==M&&c(b,C,M)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!ng(c))throw new Error(`Error trying to diff '${W(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,m,b,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)m=c[C],b=this._trackByFn(C,m),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,m,b,C)),Object.is(d.item,m)||this._addIdentityChange(d,m)):(d=this._mismatch(d,m,b,C),h=!0),d=d._next}else p=0,function(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[gh()]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,C=>{b=this._trackByFn(p,C),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,C,b,p)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,b,p),h=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,p){let m;return null===c?m=this._itTail:(m=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,m,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,m,p)):c=this._addAfter(new fS(d,h),m,p),c}_verifyReinsertion(c,d,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?c=this._reinsertAfter(m,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,m=c._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new Zy),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zy),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class fS{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _O{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class Zy{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new _O,this.map.set(d,h)),h.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uh(l,c,d){const h=l.previousIndex;if(null===h)return h;let p=0;return d&&h<d.length&&(p=d[h]),h+c+p}class g0{constructor(){}supports(c){return c instanceof Map||Zw(c)}create(){return new m0}}class m0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||Zw(c)))throw new Error(`Error trying to diff '${W(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const m=this._getOrCreateRecordForKey(p,h);d=this._insertBeforeOrAppend(d,m)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const m=p._prev,b=p._next;return m&&(m._next=b),b&&(b._prev=m),p._next=null,p._prev=null,p}const h=new Wy(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class Wy{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _0(){return new Gh([new p0])}let Gh=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||_0()),deps:[[l,new Si,new Gs]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(l){return l.name||typeof l}(d)}'`)}}return l.\u0275prov=un({token:l,providedIn:"root",factory:_0}),l})();function pS(){return new Mg([new g0])}let Mg=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||pS()),deps:[[l,new Si,new Gs]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return l.\u0275prov=un({token:l,providedIn:"root",factory:pS}),l})();function Cc(l,c,d,h,p=!1){for(;null!==d;){const m=c[d.index];if(null!==m&&h.push(Cn(m)),qr(m))for(let C=10;C<m.length;C++){const M=m[C],A=M[1].firstChild;null!==A&&Cc(M[1],M,A,h)}const b=d.type;if(8&b)Cc(l,c,d.child,h);else if(32&b){const C=ah(d,c);let M;for(;M=C();)h.push(M)}else if(16&b){const C=lw(c,d);if(Array.isArray(C))h.push(...C);else{const M=Yp(c[16]);Cc(M[1],M,C,h,!0)}}d=p?d.projectionNext:d.next}return h}class Hh{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return Cc(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(qr(c)){const d=c[8],h=d?d.indexOf(this):-1;h>-1&&(Y_(c,h),oa(d,h))}this._attachedToViewContainer=!1}aE(this._lView[1],this._lView)}onDestroy(c){RE(this._lView[1],this._lView,null,c)}markForCheck(){Iw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Rw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,c,d){Td(!0);try{Rw(l,c,d)}finally{Td(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,Eu(this._lView[1],c=this._lView,c[11],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class gS extends Hh{constructor(c){super(c),this._view=c}detectChanges(){LE(this._view)}checkNoChanges(){!function(l){Td(!0);try{LE(l)}finally{Td(!1)}}(this._view)}get context(){return null}}const _S=function(l){return function(l,c,d){if(gs(l)&&!d){const h=cr(l.index,c);return new Hh(h,h)}return 47&l.type?new Hh(c[16],c):null}(_n(),Me(),16==(16&l))};let Qy=(()=>{class l{}return l.__NG_ELEMENT_ID__=_S,l})();const zu=[new g0],wS=new Gh([new p0]),CS=new Mg(zu),xs=function(){return Sg(_n(),Me())};let jh=(()=>{class l{}return l.__NG_ELEMENT_ID__=xs,l})();const xS=jh,zh=class extends xS{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c){const d=this._declarationTContainer.tViews,h=uh(this._declarationLView,d,c,16,null,d.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(d)),iy(d,h,c),new Hh(h)}};function Sg(l,c){return 4&l.type?new zh(c,l,Vh(l,c)):null}class ya{}class b0{}const AS=function(){return vl(_n(),Me())};let Dc=(()=>{class l{}return l.__NG_ELEMENT_ID__=AS,l})();const pL=Dc,yO=class extends pL{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return Vh(this._hostTNode,this._hostLView)}get injector(){return new Ua(this._hostTNode,this._hostLView)}get parentInjector(){const c=je(this._hostTNode,this._hostLView);if(An(c)){const d=ru(c,this._hostLView),h=Ba(c);return new Ua(d[1].data[h+8],d)}return new Ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Gi(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,h){const p=c.createEmbeddedView(d||{});return this.insert(p,h),p}createComponent(c,d,h,p,m){const b=h||this.parentInjector;if(!m&&null==c.ngModule&&b){const M=b.get(ya,null);M&&(m=M)}const C=c.create(b,p,void 0,m);return this.insert(C.hostView,d),C}insert(c,d){const h=c._lView,p=h[1];if(qr(h[3])){const T=this.indexOf(c);if(-1!==T)this.detach(T);else{const R=h[3],P=new yO(R,R[6],R[3]);P.detach(P.indexOf(c))}}const m=this._adjustIndex(d),b=this._lContainer;!function(l,c,d,h){const p=10+h,m=d.length;h>0&&(d[p-1][4]=c),h<m-10?(c[4]=d[p],za(d,10+h,c)):(d.push(c),c[4]=null),c[3]=d;const b=c[17];null!==b&&d!==b&&function(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(b,c);const C=c[19];null!==C&&C.insertView(l),c[2]|=128}(p,h,b,m);const C=cw(m,b),M=h[11],A=q_(M,b[7]);return null!==A&&function(l,c,d,h,p,m){h[0]=p,h[6]=c,Eu(l,h,d,1,p,m)}(p,b[6],M,h,A,C),c.attachToViewContainerRef(),za(xc(b),m,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Gi(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=Y_(this._lContainer,d);h&&(oa(xc(this._lContainer),d),aE(h[1],h))}detach(c){const d=this._adjustIndex(c,-1),h=Y_(this._lContainer,d);return h&&null!=oa(xc(this._lContainer),d)?new Hh(h):null}_adjustIndex(c,d=0){return null==c?this.length+d:c}};function Gi(l){return l[8]}function xc(l){return l[8]||(l[8]=[])}function vl(l,c){let d;const h=c[l.index];if(qr(h))d=h;else{let p;if(8&l.type)p=Cn(h);else{const m=c[11];p=m.createComment("");const b=Zi(l,c);ic(m,q_(m,b),p,function(l,c){return wn(l)?l.nextSibling(c):c.nextSibling}(m,b),!1)}c[l.index]=d=NE(h,c,p,l),Tw(c,d)}return new yO(d,l,c)}const eo={};class qS extends bc{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=xi(c);return new fv(d,this.ngModule)}}function di(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}const hv=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wu});class fv extends dS{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=c.selectors.map(vk).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return di(this.componentDef.inputs)}get outputs(){return di(this.componentDef.outputs)}create(c,d,h,p){const m=(p=p||this.ngModule)?function(l,c){return{get:(d,h,p)=>{const m=l.get(d,eo,p);return m!==eo||h===eo?m:c.get(d,h,p)}}}(c,p.injector):c,b=m.get(wc,_o),C=m.get(h0,null),M=b.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",T=h?function(l,c,d){if(wn(l))return l.selectRootElement(c,d===Ue.ShadowDom);let h="string"==typeof c?l.querySelector(c):c;return h.textContent="",h}(M,h,this.componentDef.encapsulation):sw(b.createRenderer(null,this.componentDef),A,function(l){const c=l.toLowerCase();return"svg"===c?Kc:"math"===c?"http://www.w3.org/1998/MathML/":null}(A)),R=this.componentDef.onPush?576:528,P=function(l,c){return{components:[],scheduler:l||wu,clean:Zk,playerHandler:c||null,flags:0}}(),H=Wp(0,null,null,1,0,null,null,null,null,null),Z=uh(null,H,P,R,null,null,b,M,C,m);let de,ie;Rd(Z);try{const Re=function(l,c,d,h,p,m){const b=d[1];d[20]=l;const M=Au(b,20,2,"#host",null),A=M.mergedAttrs=c.hostAttrs;null!==A&&(sy(M,A,!0),null!==l&&(Bs(p,l,A),null!==M.classes&&dw(p,l,M.classes),null!==M.styles&&pE(p,l,M.styles)));const T=h.createRenderer(l,c),R=uh(d,TE(c),null,c.onPush?64:16,d[20],M,h,T,m||null,null);return b.firstCreatePass&&(ke(bo(M,d),b,c.type),ll(b,M),Bk(M,d.length,1)),Tw(d,R),d[20]=R}(T,this.componentDef,Z,b,M);if(T)if(h)Bs(M,T,["ng-version",qy.full]);else{const{attrs:De,classes:nt}=function(l){const c=[],d=[];let h=1,p=2;for(;h<l.length;){let m=l[h];if("string"==typeof m)2===p?""!==m&&c.push(m,l[++h]):8===p&&d.push(m);else{if(!So(p))break;p=m}h++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);De&&Bs(M,T,De),nt&&nt.length>0&&dw(M,T,nt.join(" "))}if(ie=Ed(H,20),void 0!==d){const De=ie.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const ot=d[nt];De.push(null!=ot?Array.from(ot):null)}}de=function(l,c,d,h,p){const m=d[1],b=function(l,c,d){const h=_n();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),PE(l,h,c,Kt(l,c,1,null),d));const p=on(c,l,h.directiveStart,h);Ti(p,c);const m=Zi(h,c);return m&&Ti(m,c),p}(m,d,c);if(h.components.push(b),l[8]=b,p&&p.forEach(M=>M(b,c)),c.contentQueries){const M=_n();c.contentQueries(1,b,M.directiveStart)}const C=_n();return!m.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Hl(C.index),FE(d[1],C,0,C.directiveStart,C.directiveEnd,c),Mw(c,b)),b}(Re,this.componentDef,Z,P,[dR]),iy(H,Z,null)}finally{nu()}return new $S(this.componentType,de,Vh(ie,Z),Z,ie)}}class $S extends class{}{constructor(c,d,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=d,this.hostView=this.changeDetectorRef=new gS(p),this.componentType=c}get injector(){return new Ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}const Es=new Map;class NO extends ya{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qS(this);const h=jr(c),p=c[Le]||null;p&&$C(p),this._bootstrapComponents=Xr(h.bootstrap),this._r3Injector=zE(c,d,[{provide:ya,useValue:this},{provide:bc,useValue:this.componentFactoryResolver}],W(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,d=an.THROW_IF_NOT_FOUND,h=tt.Default){return c===an||c===ya||c===Ii?this:this._r3Injector.get(c,d,h)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class ei extends b0{constructor(c){super(),this.moduleType=c,null!==jr(c)&&function(l){const c=new Set;!function d(h){const p=jr(h,!0),m=p.id;null!==m&&(function(l,c,d){if(c&&c!==d)throw new Error(`Duplicate module registered for ${l} - ${W(c)} vs ${W(c.name)}`)}(m,Es.get(m),h),Es.set(m,h));const b=Xr(p.imports);for(const C of b)c.has(C)||(c.add(C),d(C))}(l)}(c)}create(c){return new NO(this.moduleType,c)}}function Yt(l,c,d){const h=qn()+l,p=Me();return p[h]===Ct?ga(p,h,d?c.call(d):c()):function(l,c){return l[c]}(p,h)}function P0(l,c,d,h){return _v(Me(),qn(),l,c,d,h)}function N0(l,c,d,h,p){return function(l,c,d,h,p,m,b){const C=c+d;return function(l,c,d,h){const p=pn(l,c,d);return pn(l,c+1,h)||p}(l,C,p,m)?ga(l,C+2,b?h.call(b,p,m):h(p,m)):Pg(l,C+2)}(Me(),qn(),l,c,d,h,p)}function Pg(l,c){const d=l[c];return d===Ct?void 0:d}function _v(l,c,d,h,p,m){const b=c+d;return pn(l,b,p)?ga(l,b+1,m?h.call(m,p):h(p)):Pg(l,b+1)}function JS(l,c){const d=Pt();let h;const p=l+20;d.firstCreatePass?(h=function(l,c){if(c)for(let d=c.length-1;d>=0;d--){const h=c[d];if(l===h.name)return h}throw new ye("302",`The pipe '${l}' could not be found!`)}(c,d.pipeRegistry),d.data[p]=h,h.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,h.onDestroy)):h=d.data[p];const m=h.factory||(h.factory=Xo(h.type)),b=or(xh);try{const C=Nd(!1),M=m();return Nd(C),function(l,c,d,h){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=h}(d,Me(),p,M),M}finally{or(b)}}function ef(l,c,d){const h=l+20,p=Me(),m=ta(p,h);return function(l,c){Io.isWrapped(c)&&(c=Io.unwrap(c),l[yt.lFrame.bindingIndex]=Ct);return c}(p,function(l,c){return l[1].data[c].pure}(p,h)?_v(p,qn(),c,m.transform,d,m):m.transform(d))}function bv(l){return c=>{setTimeout(l,void 0,c)}}const Da=class extends a.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){var p,m,b;let C=c,M=d||(()=>null),A=h;if(c&&"object"==typeof c){const R=c;C=null===(p=R.next)||void 0===p?void 0:p.bind(R),M=null===(m=R.error)||void 0===m?void 0:m.bind(R),A=null===(b=R.complete)||void 0===b?void 0:b.bind(R)}this.__isAsync&&(M=bv(M),C&&(C=bv(C)),A&&(A=bv(A)));const T=super.subscribe({next:C,error:M,complete:A});return c instanceof ae.w&&c.add(T),T}};function BO(){return this._results[gh()]()}class Bg{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=gh(),h=Bg.prototype;h[d]||(h[d]=BO)}get changes(){return this._changes||(this._changes=new Da)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const p=Jr(c);(this._changesDetected=!function(l,c,d){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],m=c[h];if(d&&(p=d(p),m=d(m)),m!==p)return!1}return!0}(h._results,p,d))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class _i{constructor(c){this.queryList=c,this.matches=null}clone(){return new _i(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ug{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let m=0;m<h;m++){const b=d.getByIndex(m);p.push(this.queries[b.indexInDeclarationView].clone())}return new Ug(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==lA(c,d).matches&&this.queries[d].setDirty()}}class B0{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class Xu{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const p=null!==d?d.length:0,m=this.getByIndex(h).embeddedTView(c,p);m&&(m.indexInDeclarationView=h,null!==d?d.push(m):d=[m])}return null!==d?new Xu(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class io{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new io(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(c,d,V0(d,m)),this.matchTNodeWithReadOption(c,d,ia(d,c,m,!1,!1))}else h===jh?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,ia(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Ws||p===Dc||p===jh&&4&d.type)this.addMatch(d.index,-2);else{const m=ia(d,c,p,!1,!1);null!==m&&this.addMatch(d.index,m)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function V0(l,c){const d=l.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function Gg(l,c,d,h){return-1===d?function(l,c){return 11&l.type?Vh(l,c):4&l.type?Sg(l,c):null}(c,l):-2===d?function(l,c,d){return d===Ws?Vh(c,l):d===jh?Sg(c,l):d===Dc?vl(c,l):void 0}(l,c,h):on(l,l[1],d,c)}function U0(l,c,d,h){const p=c[19].queries[h];if(null===p.matches){const m=l.data,b=d.matches,C=[];for(let M=0;M<b.length;M+=2){const A=b[M];C.push(A<0?null:Gg(c,m[A],b[M+1],d.metadata.read))}p.matches=C}return p.matches}function wv(l,c,d,h){const p=l.queries.getByIndex(d),m=p.matches;if(null!==m){const b=U0(l,c,p,d);for(let C=0;C<m.length;C+=2){const M=m[C];if(M>0)h.push(b[C/2]);else{const A=m[C+1],T=c[-M];for(let R=10;R<T.length;R++){const P=T[R];P[17]===P[3]&&wv(P[1],P,A,h)}if(null!==T[9]){const R=T[9];for(let P=0;P<R.length;P++){const H=R[P];wv(H[1],H,A,h)}}}}}return h}function sA(l){const c=Me(),d=Pt(),h=i_();tu(h+1);const p=lA(d,h);if(l.dirty&&Jf(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const m=p.crossesNgTemplate?wv(d,c,h,[]):U0(d,c,p,h);l.reset(m,d0),l.notifyOnChanges()}return!0}return!1}function oA(l,c,d){const h=Pt();h.firstCreatePass&&(j0(h,new B0(l,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),H0(h,Me(),c)}function Hg(l,c,d,h){const p=Pt();if(p.firstCreatePass){const m=_n();j0(p,new B0(c,d,h),m.index),function(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}H0(p,Me(),d)}function G0(){return l=Me(),c=i_(),l[19].queries[c].queryList;var l,c}function H0(l,c,d){const h=new Bg(4==(4&d));RE(l,c,h,h.destroy),null===c[19]&&(c[19]=new Ug),c[19].queries.push(new _i(h))}function j0(l,c,d){null===l.queries&&(l.queries=new Xu),l.queries.track(new io(c,d))}function lA(l,c){return l.queries.getByIndex(c)}const xl=new xn("Application Initializer");let Rc=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(fC(m))d.push(m);else if(gC(m)){const b=new Promise((C,M)=>{m.subscribe({complete:C,error:M})});d.push(b)}}Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(fn(xl,8))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();const K0=new xn("AppId"),iF={provide:K0,useFactory:function(){return`${Q0()}${Q0()}${Q0()}`},deps:[]};function Q0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const EA=new xn("Platform Initializer"),Kg=new xn("Platform ID"),id=new xn("appBootstrapListener");let MA=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();const Ev=new xn("LocaleId"),J0=new xn("DefaultCurrencyCode");class Qg{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}const tD=function(l){return new ei(l)},IA=tD,oF=function(l){return Promise.resolve(tD(l))},nD=function(l){const c=tD(l),h=Xr(jr(l).declarations).reduce((p,m)=>{const b=xi(m);return b&&p.push(new fv(b)),p},[]);return new Qg(c,h)},iD=nD,cF=function(l){return Promise.resolve(nD(l))};let df=(()=>{class l{constructor(){this.compileModuleSync=IA,this.compileModuleAsync=oF,this.compileModuleAndAllComponentsSync=iD,this.compileModuleAndAllComponentsAsync=cF}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();const ff=(()=>Promise.resolve(0))();function Jg(l){"undefined"==typeof Zone?ff.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class os{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&d,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let l=dn.requestAnimationFrame,c=dn.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(l){const c=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(dn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Xg(l),l.isCheckStableRunning=!0,rD(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Xg(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,p,m,b,C)=>{try{return OA(l),d.invokeTask(p,m,b,C)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||l.shouldCoalesceRunChangeDetection)&&c(),Sv(l)}},onInvoke:(d,h,p,m,b,C,M)=>{try{return OA(l),d.invoke(p,m,b,C,M)}finally{l.shouldCoalesceRunChangeDetection&&c(),Sv(l)}},onHasTask:(d,h,p,m)=>{d.hasTask(p,m),h===p&&("microTask"==m.change?(l._hasPendingMicrotasks=m.microTask,Xg(l),rD(l)):"macroTask"==m.change&&(l.hasPendingMacrotasks=m.macroTask))},onHandleError:(d,h,p,m)=>(d.handleError(p,m),l.runOutsideAngular(()=>l.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,p){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+p,c,RA,Gy,Gy);try{return m.runTask(b,d,h)}finally{m.cancelTask(b)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const RA={};function rD(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Xg(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function OA(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Sv(l){l._nesting--,rD(l)}class hF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,p){return c.apply(d,h)}}let Av=(()=>{class l{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{os.assertNotInAngularZone(),Jg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jg(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:m,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,h,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(fn(os))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})(),Oi=(()=>{class l{constructor(){this._applications=new Map,oD.addToWindow(this)}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return oD.findTestabilityInTree(this,d,h)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();class fF{addToWindow(c){}findTestabilityInTree(c,d,h){return null}}function pF(l){oD=l}let oD=new fF,FA=!0,PA=!1;function aD(){return PA=!0,FA}function lD(){if(PA)throw new Error("Cannot enable prod mode after platform setup.");FA=!1}let so;const UA=new xn("AllowMultipleToken");class GA{constructor(c,d){this.name=c,this.token=d}}function HA(l,c,d=[]){const h=`Platform: ${c}`,p=new xn(h);return(m=[])=>{let b=em();if(!b||b.injector.get(UA,!1))if(l)l(d.concat(m).concat({provide:p,useValue:!0}));else{const C=d.concat(m).concat({provide:p,useValue:!0},{provide:Qp,useValue:"platform"});!function(l){if(so&&!so.destroyed&&!so.injector.get(UA,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");so=l.get(pf);const c=l.get(EA,null);c&&c.forEach(d=>d())}(an.create({providers:C,name:h}))}return function(l){const c=em();if(!c)throw new Error("No platform exists!");if(!c.injector.get(l,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return c}(p)}}function em(){return so&&!so.destroyed?so:null}let pf=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const C=function(l,c){let d;return d="noop"===l?new hF:("zone.js"===l?void 0:l)||new os({enableLongStackTrace:aD(),shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),d}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),M=[{provide:os,useValue:C}];return C.run(()=>{const A=an.create({providers:M,parent:this.injector,name:d.moduleType.name}),T=d.create(A),R=T.injector.get(_,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const P=C.onError.subscribe({next:H=>{R.handleError(H)}});T.onDestroy(()=>{hD(this._modules,T),P.unsubscribe()})}),function(l,c,d){try{const h=d();return fC(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(R,C,()=>{const P=T.injector.get(Rc);return P.runInitializers(),P.donePromise.then(()=>($C(T.injector.get(Ev,li)||li),this._moduleDoBootstrap(T),T))})})}bootstrapModule(d,h=[]){const p=zA({},h);return function(l,c,d){const h=new ei(d);return Promise.resolve(h)}(0,0,d).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(d){const h=d.injector.get(tm);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${W(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(fn(an))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();function zA(l,c){return Array.isArray(c)?c.reduce(zA,l):Object.assign(Object.assign({},l),c)}let tm=(()=>{class l{constructor(d,h,p,m,b){this._zone=d,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new U.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),M=new U.y(A=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{os.assertNotInAngularZone(),Jg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{T.unsubscribe(),R.unsubscribe()}});this.isStable=(0,oe.T)(C,M.pipe((0,le.B)()))}bootstrap(d,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=d instanceof dS?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(p.componentType);const m=function(l){return l.isBoundToModule}(p)?void 0:this._injector.get(ya),C=p.create(an.NULL,[],h||p.selector,m),M=C.location.nativeElement,A=C.injector.get(Av,null),T=A&&C.injector.get(Oi);return A&&T&&T.registerApplication(M,A),C.onDestroy(()=>{this.detachView(C.hostView),hD(this.components,C),T&&T.unregisterApplication(M)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;hD(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(id,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(d){return new(d||l)(fn(os),fn(an),fn(_),fn(bc),fn(Rc))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();function hD(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}class nm{}class ZA{}const pD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gD=(()=>{class l{constructor(d,h){this._compiler=d,this._config=h||pD}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[h,p]=d.split("#");return void 0===p&&(p="default"),N(8255)(h).then(m=>m[p]).then(m=>El(m,h,p)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(d){let[h,p]=d.split("#"),m="NgFactory";return void 0===p&&(p="default",m=""),N(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(b=>b[p+m]).then(b=>El(b,h,p))}}return l.\u0275fac=function(d){return new(d||l)(fn(df),fn(ZA,8))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();function El(l,c,d){if(!l)throw new Error(`Cannot find '${d}' in '${c}'`);return l}const MD=function(l){return null},_f=HA(null,"core",[{provide:Kg,useValue:"unknown"},{provide:pf,deps:[an]},{provide:Oi,deps:[]},{provide:MA,deps:[]}]),ID=[{provide:tm,useClass:tm,deps:[os,an,_,bc,Rc]},{provide:hv,deps:[os],useFactory:function(l){let c=[];return l.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(d){c.push(d)}}},{provide:Rc,useClass:Rc,deps:[[new Gs,xl]]},{provide:df,useClass:df,deps:[]},iF,{provide:Gh,useFactory:function(){return wS},deps:[]},{provide:Mg,useFactory:function(){return CS},deps:[]},{provide:Ev,useFactory:function(l){return $C(l=l||"undefined"!=typeof $localize&&$localize.locale||li),l},deps:[[new $a(Ev),new Gs,new Si]]},{provide:J0,useValue:"USD"}];let xF=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(fn(tm))},l.\u0275mod=kl({type:l}),l.\u0275inj=Bt({providers:ID}),l})()},8939:(Ye,xe,N)=>{"use strict";N.d(xe,{hO:()=>K,xv:()=>Y,Dh:()=>W,GT:()=>J,on:()=>B,pX:()=>le});var a=N(7716),ae=N(7841),U=N(9126);Ye=N.hmd(Ye);const oe=["ngOnDestroy"],le=(X,ye,he,Te={})=>new Proxy(X,{get:(ve,Ie)=>he.runOutsideAngular(()=>{var gt;if(X[Ie])return(null===(gt=null==Te?void 0:Te.spy)||void 0===gt?void 0:gt.get)&&Te.spy.get(Ie,X[Ie]),X[Ie];if(oe.indexOf(Ie)>-1)return()=>{};const it=ye.toPromise().then(ct=>{const Lt=ct&&ct[Ie];return"function"==typeof Lt?Lt.bind(ct):Lt&&Lt.then?Lt.then(Tt=>he.run(()=>Tt)):he.run(()=>Lt)});return new Proxy(()=>{},{get:(ct,Lt)=>it[Lt],apply:(ct,Lt,Tt)=>it.then(cn=>{var we;const ue=cn&&cn(...Tt);return(null===(we=null==Te?void 0:Te.spy)||void 0===we?void 0:we.apply)&&Te.spy.apply(Ie,Tt,ue),ue})})})}),J=(X,ye)=>{ye.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(Te=>{Object.defineProperty(X.prototype,Te,Object.getOwnPropertyDescriptor(he.prototype||he,Te))})})};class q{constructor(ye){return ye}}const W=new a.OlP("angularfire2.app.options"),Y=new a.OlP("angularfire2.app.name");function B(X,ye,he){const ve="object"==typeof he&&he||{};ve.name=ve.name||"string"==typeof he&&he||"[DEFAULT]";const gt=ae.Z.apps.filter(it=>it&&it.name===ve.name)[0]||ye.runOutsideAngular(()=>ae.Z.initializeApp(X,ve));try{JSON.stringify(X)!==JSON.stringify(gt.options)&&$("error",`${gt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(it){}return new q(gt)}const $=(X,...ye)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[X](...ye)},V={provide:q,useFactory:B,deps:[W,a.R0b,[new a.FiY,Y]]};let K=(()=>{class X{constructor(he){ae.Z.registerVersion("angularfire",U.q4.full,"core"),ae.Z.registerVersion("angularfire",U.q4.full,"app-compat"),ae.Z.registerVersion("angular",a.q4F.full,he.toString())}static initializeApp(he,Te){return{ngModule:X,providers:[{provide:W,useValue:he},{provide:Y,useValue:Te}]}}}return X.\u0275fac=function(he){return new(he||X)(a.LFG(a.Lbi))},X.\u0275mod=a.oAB({type:X}),X.\u0275inj=a.cJS({providers:[V]}),X})()},9126:(Ye,xe,N)=>{"use strict";N.d(xe,{q4:()=>B,iC:()=>ue,fc:()=>cn,HU:()=>it,cc:()=>K});var a=N(7716);(0,N(5452).registerVersion)("firebase","9.0.2","app");var le=N(7771),J=N(3637),q=N(3342),W=N(9746),Y=N(9673);Ye=N.hmd(Ye);const B=new a.GfV("7.0.4"),$=!!Ye.hot,V=(me,...ee)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[me](...ee)};function K(me,ee,Pe,Qe,Rt){const[,lt,ht]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===me)||[];if(lt)return function(me,ee){try{return me.toString()===ee.toString()}catch(Pe){return me===ee}}(Rt,ht)||(V("error",`${ee} was already initialized on the ${Pe} Firebase App with different settings.${$?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:Rt,was:ht})),lt;{const ut=Qe();return globalThis.\u0275AngularfireInstanceCache.push([me,ut,Rt]),ut}}function ve(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ie{constructor(ee,Pe=le.N){this.zone=ee,this.delegate=Pe}now(){return this.delegate.now()}schedule(ee,Pe,Qe){const Rt=this.zone;return this.delegate.schedule(function(ht){Rt.runGuarded(()=>{ee.apply(this,[ht])})},Pe,Qe)}}class gt{constructor(ee){this.zone=ee,this.task=null}call(ee,Pe){const Qe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),Pe.pipe((0,q.b)({next:Qe,complete:Qe,error:Qe})).subscribe(ee).add(Qe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let it=(()=>{class me{constructor(Pe){this.ngZone=Pe,this.outsideAngular=Pe.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=Pe.run(()=>new Ie(Zone.current,J.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return me.\u0275fac=function(Pe){return new(Pe||me)(a.LFG(a.R0b))},me.\u0275prov=a.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();function ct(){const me=globalThis.\u0275AngularFireScheduler;if(!me)throw new Error("AngularFireModule has not been provided");return me}function cn(me){return me.pipe((0,W.QV)(ct().outsideAngular))}function ue(me){return ct(),function(me){return function(Pe){return(Pe=Pe.lift(new gt(me.ngZone))).pipe((0,Y.R)(me.outsideAngular),(0,W.QV)(me.insideAngular))}}(ct())(me)}},4486:(Ye,xe,N)=>{"use strict";N.d(xe,{Z:()=>he});var a=N(4685),ae=N(6034),U=N(5452),oe=N(300);class le{constructor(ve,Ie){this._delegate=ve,this.firebase=Ie,(0,U._addComponent)(ve,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ve,Ie=U._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(ve);return!it.isInitialized()&&"EXPLICIT"===(null===(gt=it.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:Ie})}_removeServiceInstance(ve,Ie=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Ie)}_addComponent(ve){(0,U._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,U._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Y(){const Te=function(Te){const ve={},Ie={__esModule:!0,initializeApp:function(we,ue={}){const ce=U.initializeApp(we,ue);if((0,a.r3)(ve,ce.name))return ve[ce.name];const Ce=new Te(ce,Ie);return ve[ce.name]=Ce,Ce},app:it,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(we){const ue=we.name,ce=ue.replace("-compat","");if(U._registerComponent(we)&&"PUBLIC"===we.type){const Ce=(fe=it())=>{if("function"!=typeof fe[ce])throw q.create("invalid-app-argument",{appName:ue});return fe[ce]()};void 0!==we.serviceProps&&(0,a.ZB)(Ce,we.serviceProps),Ie[ce]=Ce,Te.prototype[ce]=function(...fe){return this._getService.bind(this,ue).apply(this,we.multipleInstances?fe:[])}}return"PUBLIC"===we.type?Ie[ce]:null},removeApp:function(we){delete ve[we]},useAsService:function(we,ue){return"serverAuth"===ue?null:ue},modularAPIs:U}};function it(we){if(!(0,a.r3)(ve,we=we||U._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:we});return ve[we]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function(){return Object.keys(ve).map(we=>ve[we])}}),it.App=Te,Ie}(le);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Ie){(0,a.ZB)(Te,Ie)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Te}(),$=new oe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=B;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const he=ye},5452:(Ye,xe,N)=>{"use strict";N.r(xe),N.d(xe,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>Mn,_addOrOverwriteComponent:()=>us,_apps:()=>ht,_clearComponents:()=>Bt,_components:()=>ut,_getProvider:()=>un,_registerComponent:()=>Ur,_removeServiceInstance:()=>jn,deleteApp:()=>$o,getApp:()=>fo,getApps:()=>qo,initializeApp:()=>Yo,onLog:()=>Di,registerVersion:()=>tt,setLogLevel:()=>po});var a=N(8239),ae=N(6034),U=N(300),oe=N(4685);class le{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(qt=>{if(function(Dt){const at=Dt.getComponent();return"VERSION"===(null==at?void 0:at.type)}(qt)){const Gt=qt.getImmediate();return`${Gt.library}/${Gt.version}`}return null}).filter(qt=>qt).join(" ")}}const q="@firebase/app",Y=new U.Yd("@firebase/app"),Rt="[DEFAULT]",lt={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,ut=new Map;function Mn(Dt,at){try{Dt.container.addComponent(at)}catch(qt){Y.debug(`Component ${at.name} failed to register with FirebaseApp ${Dt.name}`,qt)}}function us(Dt,at){Dt.container.addOrOverwriteComponent(at)}function Ur(Dt){const at=Dt.name;if(ut.has(at))return Y.debug(`There were multiple attempts to register component ${at}.`),!1;ut.set(at,Dt);for(const qt of ht.values())Mn(qt,Dt);return!0}function un(Dt,at){return Dt.container.getProvider(at)}function jn(Dt,at,qt=Rt){un(Dt,at).clearInstance(qt)}function Bt(){ut.clear()}const ho=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ia{constructor(at,qt,Gt){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},qt),this._name=qt.name,this._automaticDataCollectionEnabled=qt.automaticDataCollectionEnabled,this._container=Gt,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw ho.create("app-deleted",{appName:this._name})}}const vr="9.0.0";function Yo(Dt,at={}){"object"!=typeof at&&(at={name:at});const qt=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},at),Gt=qt.name;if("string"!=typeof Gt||!Gt)throw ho.create("bad-app-name",{appName:String(Gt)});const $i=ht.get(Gt);if($i){if((0,oe.vZ)(Dt,$i.options)&&(0,oe.vZ)(qt,$i.config))return $i;throw ho.create("duplicate-app",{appName:Gt})}const nn=new ae.H0(Gt);for(const ft of ut.values())nn.addComponent(ft);const Ue=new Ia(Dt,qt,nn);return ht.set(Gt,Ue),Ue}function fo(Dt=Rt){const at=ht.get(Dt);if(!at)throw ho.create("no-app",{appName:Dt});return at}function qo(){return Array.from(ht.values())}function $o(Dt){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(Dt){const at=Dt.name;ht.has(at)&&(ht.delete(at),yield Promise.all(Dt.container.getProviders().map(qt=>qt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function tt(Dt,at,qt){var Gt;let $i=null!==(Gt=lt[Dt])&&void 0!==Gt?Gt:Dt;qt&&($i+=`-${qt}`);const nn=$i.match(/\s|\//),Ue=at.match(/\s|\//);if(nn||Ue){const ft=[`Unable to register library "${$i}" with version "${at}":`];return nn&&ft.push(`library name "${$i}" contains illegal characters (whitespace or "/")`),nn&&Ue&&ft.push("and"),Ue&&ft.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Y.warn(ft.join(" "))}Ur(new ae.wA(`${$i}-version`,()=>({library:$i,version:at}),"VERSION"))}function Di(Dt,at){if(null!==Dt&&"function"!=typeof Dt)throw ho.create("invalid-log-argument");(0,U.Am)(Dt,at)}function po(Dt){(0,U.Ub)(Dt)}Ur(new ae.wA("platform-logger",at=>new le(at),"PRIVATE")),tt(q,"0.7.0",undefined),tt("fire-js","")},6034:(Ye,xe,N)=>{"use strict";N.d(xe,{wA:()=>U,H0:()=>W});var a=N(4762),ae=N(4685),U=function(){function Y(B,$,V){this.name=B,this.instanceFactory=$,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(B){return this.instantiationMode=B,this},Y.prototype.setMultipleInstances=function(B){return this.multipleInstances=B,this},Y.prototype.setServiceProps=function(B){return this.serviceProps=B,this},Y.prototype.setInstanceCreatedCallback=function(B){return this.onInstanceCreated=B,this},Y}(),oe="[DEFAULT]",le=function(){function Y(B,$){this.name=B,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(B){var $=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has($)){var V=new ae.BH;if(this.instancesDeferred.set($,V),this.isInitialized($)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:$});K&&V.resolve(K)}catch(X){}}return this.instancesDeferred.get($).promise},Y.prototype.getImmediate=function(B){var $,V=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),K=null!==($=null==B?void 0:B.optional)&&void 0!==$&&$;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(X){if(K)return null;throw X}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(B){var $,V;if(B.name!==this.name)throw Error("Mismatching Component "+B.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=B,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(gt){}try{for(var K=(0,a.XA)(this.instancesDeferred.entries()),X=K.next();!X.done;X=K.next()){var ye=(0,a.CR)(X.value,2),Te=ye[1],ve=this.normalizeInstanceIdentifier(ye[0]);try{var Ie=this.getOrInitializeService({instanceIdentifier:ve});Te.resolve(Ie)}catch(gt){}}}catch(gt){$={error:gt}}finally{try{X&&!X.done&&(V=K.return)&&V.call(K)}finally{if($)throw $.error}}}},Y.prototype.clearInstance=function(B){void 0===B&&(B=oe),this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)},Y.prototype.delete=function(){return(0,a.mG)(this,void 0,void 0,function(){var B;return(0,a.Jh)(this,function($){switch($.label){case 0:return B=Array.from(this.instances.values()),[4,Promise.all((0,a.ev)((0,a.ev)([],(0,a.CR)(B.filter(function(V){return"INTERNAL"in V}).map(function(V){return V.INTERNAL.delete()}))),(0,a.CR)(B.filter(function(V){return"_delete"in V}).map(function(V){return V._delete()}))))];case 1:return $.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(B){return void 0===B&&(B=oe),this.instances.has(B)},Y.prototype.getOptions=function(B){return void 0===B&&(B=oe),this.instancesOptions.get(B)||{}},Y.prototype.initialize=function(B){var $,V;void 0===B&&(B={});var K=B.options,X=void 0===K?{}:K,ye=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ye))throw Error(this.name+"("+ye+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var he=this.getOrInitializeService({instanceIdentifier:ye,options:X});try{for(var Te=(0,a.XA)(this.instancesDeferred.entries()),ve=Te.next();!ve.done;ve=Te.next()){var Ie=(0,a.CR)(ve.value,2),it=Ie[1];ye===this.normalizeInstanceIdentifier(Ie[0])&&it.resolve(he)}}catch(Lt){$={error:Lt}}finally{try{ve&&!ve.done&&(V=Te.return)&&V.call(Te)}finally{if($)throw $.error}}return he},Y.prototype.onInit=function(B,$){var V,K=this.normalizeInstanceIdentifier($),X=null!==(V=this.onInitCallbacks.get(K))&&void 0!==V?V:new Set;X.add(B),this.onInitCallbacks.set(K,X);var ye=this.instances.get(K);return ye&&B(ye,K),function(){X.delete(B)}},Y.prototype.invokeOnInitCallbacks=function(B,$){var V,K,X=this.onInitCallbacks.get($);if(X)try{for(var ye=(0,a.XA)(X),he=ye.next();!he.done;he=ye.next()){var Te=he.value;try{Te(B,$)}catch(ve){}}}catch(ve){V={error:ve}}finally{try{he&&!he.done&&(K=ye.return)&&K.call(ye)}finally{if(V)throw V.error}}},Y.prototype.getOrInitializeService=function(B){var $=B.instanceIdentifier,V=B.options,K=void 0===V?{}:V,X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:J($),options:K}),this.instances.set($,X),this.instancesOptions.set($,K),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch(ye){}return X||null},Y.prototype.normalizeInstanceIdentifier=function(B){return void 0===B&&(B=oe),this.component?this.component.multipleInstances?B:oe:B},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function J(Y){return Y===oe?void 0:Y}var W=function(){function Y(B){this.name=B,this.providers=new Map}return Y.prototype.addComponent=function(B){var $=this.getProvider(B.name);if($.isComponentSet())throw new Error("Component "+B.name+" has already been registered with "+this.name);$.setComponent(B)},Y.prototype.addOrOverwriteComponent=function(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)},Y.prototype.getProvider=function(B){if(this.providers.has(B))return this.providers.get(B);var $=new le(B,this);return this.providers.set(B,$),$},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},300:(Ye,xe,N)=>{"use strict";function a(){for(var V=0,K=0,X=arguments.length;K<X;K++)V+=arguments[K].length;var ye=Array(V),he=0;for(K=0;K<X;K++)for(var Te=arguments[K],ve=0,Ie=Te.length;ve<Ie;ve++,he++)ye[he]=Te[ve];return ye}N.d(xe,{in:()=>oe,Yd:()=>Y,Ub:()=>B,Am:()=>$});var ae,U=[],oe=(()=>{return(V=oe||(oe={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",oe;var V})(),le={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},J=oe.INFO,q=((ae={})[oe.DEBUG]="log",ae[oe.VERBOSE]="log",ae[oe.INFO]="info",ae[oe.WARN]="warn",ae[oe.ERROR]="error",ae),W=function(V,K){for(var X=[],ye=2;ye<arguments.length;ye++)X[ye-2]=arguments[ye];if(!(K<V.logLevel)){var he=(new Date).toISOString(),Te=q[K];if(!Te)throw new Error("Attempted to log a message with an invalid logType (value: "+K+")");console[Te].apply(console,a(["["+he+"]  "+V.name+":"],X))}},Y=function(){function V(K){this.name=K,this._logLevel=J,this._logHandler=W,this._userLogHandler=null,U.push(this)}return Object.defineProperty(V.prototype,"logLevel",{get:function(){return this._logLevel},set:function(K){if(!(K in oe))throw new TypeError('Invalid value "'+K+'" assigned to `logLevel`');this._logLevel=K},enumerable:!1,configurable:!0}),V.prototype.setLogLevel=function(K){this._logLevel="string"==typeof K?le[K]:K},Object.defineProperty(V.prototype,"logHandler",{get:function(){return this._logHandler},set:function(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(K){this._userLogHandler=K},enumerable:!1,configurable:!0}),V.prototype.debug=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.DEBUG],K)),this._logHandler.apply(this,a([this,oe.DEBUG],K))},V.prototype.log=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.VERBOSE],K)),this._logHandler.apply(this,a([this,oe.VERBOSE],K))},V.prototype.info=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.INFO],K)),this._logHandler.apply(this,a([this,oe.INFO],K))},V.prototype.warn=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.WARN],K)),this._logHandler.apply(this,a([this,oe.WARN],K))},V.prototype.error=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.ERROR],K)),this._logHandler.apply(this,a([this,oe.ERROR],K))},V}();function B(V){U.forEach(function(K){K.setLogLevel(V)})}function $(V,K){for(var X=function(ve){var Ie=null;K&&K.level&&(Ie=le[K.level]),ve.userLogHandler=null===V?null:function(gt,it){for(var ct=[],Lt=2;Lt<arguments.length;Lt++)ct[Lt-2]=arguments[Lt];var Tt=ct.map(function(cn){if(null==cn)return null;if("string"==typeof cn)return cn;if("number"==typeof cn||"boolean"==typeof cn)return cn.toString();if(cn instanceof Error)return cn.message;try{return JSON.stringify(cn)}catch(we){return null}}).filter(function(cn){return cn}).join(" ");it>=(null!=Ie?Ie:gt.logLevel)&&V({level:oe[it].toLowerCase(),message:Tt,args:ct,type:gt.name})}},ye=0,he=U;ye<he.length;ye++)X(he[ye])}},4685:(Ye,xe,N)=>{"use strict";N.d(xe,{BH:()=>X,LL:()=>Pe,ZR:()=>ee,tV:()=>B,r3:()=>jn,Sg:()=>ye,ne:()=>ka,vZ:()=>Ia,ZB:()=>V,pd:()=>qo,m9:()=>en,z$:()=>he,jU:()=>Ie,ru:()=>gt,d:()=>ct,xb:()=>Ci,w1:()=>Lt,hl:()=>ue,uI:()=>Te,UG:()=>ve,b$:()=>it,G6:()=>we,Mn:()=>Tt,xO:()=>Yo,zd:()=>fo});var a=N(4762),le=function(z){for(var G=[],ne=0,pe=0;pe<z.length;pe++){var re=z.charCodeAt(pe);re<128?G[ne++]=re:re<2048?(G[ne++]=re>>6|192,G[ne++]=63&re|128):55296==(64512&re)&&pe+1<z.length&&56320==(64512&z.charCodeAt(pe+1))?(re=65536+((1023&re)<<10)+(1023&z.charCodeAt(++pe)),G[ne++]=re>>18|240,G[ne++]=re>>12&63|128,G[ne++]=re>>6&63|128,G[ne++]=63&re|128):(G[ne++]=re>>12|224,G[ne++]=re>>6&63|128,G[ne++]=63&re|128)}return G},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(z,G){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[],re=0;re<z.length;re+=3){var Le=z[re],Je=re+1<z.length,Et=Je?z[re+1]:0,Ut=re+2<z.length,$t=Ut?z[re+2]:0,ii=(15&Et)<<2|$t>>6,Wo=63&$t;Ut||(Wo=64,Je||(ii=64)),pe.push(ne[Le>>2],ne[(3&Le)<<4|Et>>4],ne[ii],ne[Wo])}return pe.join("")},encodeString:function(z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(z):this.encodeByteArray(le(z),G)},decodeString:function(z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(z):function(z){for(var G=[],ne=0,pe=0;ne<z.length;){var re=z[ne++];if(re<128)G[pe++]=String.fromCharCode(re);else if(re>191&&re<224){var Le=z[ne++];G[pe++]=String.fromCharCode((31&re)<<6|63&Le)}else if(re>239&&re<365){var Ut=((7&re)<<18|(63&(Le=z[ne++]))<<12|(63&(Je=z[ne++]))<<6|63&z[ne++])-65536;G[pe++]=String.fromCharCode(55296+(Ut>>10)),G[pe++]=String.fromCharCode(56320+(1023&Ut))}else{Le=z[ne++];var Je=z[ne++];G[pe++]=String.fromCharCode((15&re)<<12|(63&Le)<<6|63&Je)}}return G.join("")}(this.decodeStringToByteArray(z,G))},decodeStringToByteArray:function(z,G){this.init_();for(var ne=G?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[],re=0;re<z.length;){var Le=ne[z.charAt(re++)],Et=re<z.length?ne[z.charAt(re)]:0,$t=++re<z.length?ne[z.charAt(re)]:64,Yn=++re<z.length?ne[z.charAt(re)]:64;if(++re,null==Le||null==Et||null==$t||null==Yn)throw Error();pe.push(Le<<2|Et>>4),64!==$t&&(pe.push(Et<<4&240|$t>>2),64!==Yn&&pe.push($t<<6&192|Yn))}return pe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},Y=function(z){return function(z){var G=le(z);return q.encodeByteArray(G,!0)}(z).replace(/\./g,"")},B=function(z){try{return q.decodeString(z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function V(z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return G}for(var pe in G)!G.hasOwnProperty(pe)||!K(pe)||(z[pe]=V(z[pe],G[pe]));return z}function K(z){return"__proto__"!==z}var X=function(){function z(){var G=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,pe){G.resolve=ne,G.reject=pe})}return z.prototype.wrapCallback=function(G){var ne=this;return function(pe,re){pe?ne.reject(pe):ne.resolve(re),"function"==typeof G&&(ne.promise.catch(function(){}),1===G.length?G(pe):G(pe,re))}},z}();function ye(z,G){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var pe=G||"demo-project",re=z.iat||0,Le=z.sub||z.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Je=(0,a.pi)({iss:"https://securetoken.google.com/"+pe,aud:pe,iat:re,exp:re+3600,auth_time:re,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},z);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(Je)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function gt(){var z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){return he().indexOf("Electron/")>=0}function Lt(){var z=he();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Tt(){return he().indexOf("MSAppHost/")>=0}function we(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"indexedDB"in self&&null!=indexedDB}var ee=function(z){function G(ne,pe,re){var Le=z.call(this,pe)||this;return Le.code=ne,Le.customData=re,Le.name="FirebaseError",Object.setPrototypeOf(Le,G.prototype),Error.captureStackTrace&&Error.captureStackTrace(Le,Pe.prototype.create),Le}return(0,a.ZT)(G,z),G}(Error),Pe=function(){function z(G,ne,pe){this.service=G,this.serviceName=ne,this.errors=pe}return z.prototype.create=function(G){for(var ne=[],pe=1;pe<arguments.length;pe++)ne[pe-1]=arguments[pe];var re=ne[0]||{},Le=this.service+"/"+G,Je=this.errors[G],Et=Je?Qe(Je,re):"Error",Ut=this.serviceName+": "+Et+" ("+Le+").",$t=new ee(Le,Ut,re);return $t},z}();function Qe(z,G){return z.replace(Rt,function(ne,pe){var re=G[pe];return null!=re?String(re):"<"+pe+"?>"})}var Rt=/\{\$([^}]+)}/g;function jn(z,G){return Object.prototype.hasOwnProperty.call(z,G)}function Ci(z){for(var G in z)if(Object.prototype.hasOwnProperty.call(z,G))return!1;return!0}function Ia(z,G){if(z===G)return!0;for(var ne=Object.keys(z),pe=Object.keys(G),re=0,Le=ne;re<Le.length;re++){if(!pe.includes(Je=Le[re]))return!1;var Et=z[Je],Ut=G[Je];if(vr(Et)&&vr(Ut)){if(!Ia(Et,Ut))return!1}else if(Et!==Ut)return!1}for(var $t=0,zn=pe;$t<zn.length;$t++){var Je;if(!ne.includes(Je=zn[$t]))return!1}return!0}function vr(z){return null!==z&&"object"==typeof z}function Yo(z){for(var G=[],ne=function(Ut,$t){Array.isArray($t)?$t.forEach(function(zn){G.push(encodeURIComponent(Ut)+"="+encodeURIComponent(zn))}):G.push(encodeURIComponent(Ut)+"="+encodeURIComponent($t))},pe=0,re=Object.entries(z);pe<re.length;pe++){var Le=re[pe];ne(Le[0],Le[1])}return G.length?"&"+G.join("&"):""}function fo(z){var G={};return z.replace(/^\?/,"").split("&").forEach(function(pe){if(pe){var re=pe.split("="),Je=re[1];G[decodeURIComponent(re[0])]=decodeURIComponent(Je)}}),G}function qo(z){var G=z.indexOf("?");if(!G)return"";var ne=z.indexOf("#",G);return z.substring(G,ne>0?ne:void 0)}function ka(z,G){var ne=new tt(z,G);return ne.subscribe.bind(ne)}!function(){function z(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}z.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},z.prototype.compress_=function(G,ne){ne||(ne=0);var pe=this.W_;if("string"==typeof G)for(var re=0;re<16;re++)pe[re]=G.charCodeAt(ne)<<24|G.charCodeAt(ne+1)<<16|G.charCodeAt(ne+2)<<8|G.charCodeAt(ne+3),ne+=4;else for(re=0;re<16;re++)pe[re]=G[ne]<<24|G[ne+1]<<16|G[ne+2]<<8|G[ne+3],ne+=4;for(re=16;re<80;re++)pe[re]=4294967295&((Le=pe[re-3]^pe[re-8]^pe[re-14]^pe[re-16])<<1|Le>>>31);var Yn,ii,Je=this.chain_[0],Et=this.chain_[1],Ut=this.chain_[2],$t=this.chain_[3],zn=this.chain_[4];for(re=0;re<80;re++){re<40?re<20?(Yn=$t^Et&(Ut^$t),ii=1518500249):(Yn=Et^Ut^$t,ii=1859775393):re<60?(Yn=Et&Ut|$t&(Et|Ut),ii=2400959708):(Yn=Et^Ut^$t,ii=3395469782);var Le=(Je<<5|Je>>>27)+Yn+zn+ii+pe[re]&4294967295;zn=$t,$t=Ut,Ut=4294967295&(Et<<30|Et>>>2),Et=Je,Je=Le}this.chain_[0]=this.chain_[0]+Je&4294967295,this.chain_[1]=this.chain_[1]+Et&4294967295,this.chain_[2]=this.chain_[2]+Ut&4294967295,this.chain_[3]=this.chain_[3]+$t&4294967295,this.chain_[4]=this.chain_[4]+zn&4294967295},z.prototype.update=function(G,ne){if(null!=G){void 0===ne&&(ne=G.length);for(var pe=ne-this.blockSize,re=0,Le=this.buf_,Je=this.inbuf_;re<ne;){if(0===Je)for(;re<=pe;)this.compress_(G,re),re+=this.blockSize;if("string"==typeof G){for(;re<ne;)if(Le[Je]=G.charCodeAt(re),++re,++Je===this.blockSize){this.compress_(Le),Je=0;break}}else for(;re<ne;)if(Le[Je]=G[re],++re,++Je===this.blockSize){this.compress_(Le),Je=0;break}}this.inbuf_=Je,this.total_+=ne}},z.prototype.digest=function(){var G=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var pe=this.blockSize-1;pe>=56;pe--)this.buf_[pe]=255&ne,ne/=256;this.compress_(this.buf_);var re=0;for(pe=0;pe<5;pe++)for(var Le=24;Le>=0;Le-=8)G[re]=this.chain_[pe]>>Le&255,++re;return G}}();var tt=function(){function z(G,ne){var pe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){G(pe)}).catch(function(re){pe.error(re)})}return z.prototype.next=function(G){this.forEachObserver(function(ne){ne.next(G)})},z.prototype.error=function(G){this.forEachObserver(function(ne){ne.error(G)}),this.close(G)},z.prototype.complete=function(){this.forEachObserver(function(G){G.complete()}),this.close()},z.prototype.subscribe=function(G,ne,pe){var Le,re=this;if(void 0===G&&void 0===ne&&void 0===pe)throw new Error("Missing Observer.");void 0===(Le=function(z,G){if("object"!=typeof z||null===z)return!1;for(var ne=0,pe=["next","error","complete"];ne<pe.length;ne++){var re=pe[ne];if(re in z&&"function"==typeof z[re])return!0}return!1}(G)?G:{next:G,error:ne,complete:pe}).next&&(Le.next=or),void 0===Le.error&&(Le.error=or),void 0===Le.complete&&(Le.complete=or);var Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{re.finalError?Le.error(re.finalError):Le.complete()}catch(Et){}}),this.observers.push(Le),Je},z.prototype.unsubscribeOne=function(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},z.prototype.forEachObserver=function(G){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,G)},z.prototype.sendOne=function(G,ne){var pe=this;this.task.then(function(){if(void 0!==pe.observers&&void 0!==pe.observers[G])try{ne(pe.observers[G])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})},z.prototype.close=function(G){var ne=this;this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},z}();function or(){}function en(z){return z&&z._delegate?z._delegate:z}},7841:(Ye,xe,N)=>{"use strict";N.d(xe,{Z:()=>a.Z});var a=N(4486);a.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(Ye,xe,N)=>{"use strict";N.r(xe);var a=N(8239),ae=N(4486),U=N(4685),oe=N(5452),le=N(4762),J=N(300),q=N(6034);const ye=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},he=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Te=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new J.Yd("@firebase/auth");function gt(D,..._){Ie.logLevel<=J.in.ERROR&&Ie.error(`Auth (${oe.SDK_VERSION}): ${D}`,..._)}function it(D,..._){throw cn(D,..._)}function ct(D,..._){return cn(D,..._)}function Lt(D,_,v){const E=Object.assign(Object.assign({},he()),{[_]:v});return new U.LL("auth","Firebase",E).create(_,{appName:D.name})}function Tt(D,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&it(D,"argument-error"),Lt(D,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cn(D,..._){if("string"!=typeof D){const v=_[0],E=[..._.slice(1)];return E[0]&&(E[0].appName=D.name),D._errorFactory.create(v,...E)}return Te.create(D,..._)}function we(D,_,...v){if(!D)throw cn(_,...v)}function ue(D){const _="INTERNAL ASSERTION FAILED: "+D;throw gt(_),new Error(_)}function ce(D,_){D||ue(_)}const Ce=new Map;function fe(D){ce(D instanceof Function,"Expected a class definition");let _=Ce.get(D);return _?(ce(_ instanceof D,"Instance stored in cache mismatched with class"),_):(_=new D,Ce.set(D,_),_)}function Pe(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Qe(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class ut{constructor(_,v){this.shortDelay=_,this.longDelay=v,ce(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qe()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Mn(D,_){ce(D.emulator,"Emulator should always be set here");const{url:v}=D.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class us{static initialize(_,v,E){this.fetchImpl=_,v&&(this.headersImpl=v),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ur={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new ut(3e4,6e4);function jn(D,_){return D.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:D.tenantId}):_}function Bt(D,_,v,E){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(D,_,v,E,k={}){return ho(D,k,()=>{let O={},Q={};E&&("GET"===_?Q=E:O={body:JSON.stringify(E)});const _e=(0,U.xO)(Object.assign({key:D.config.apiKey},Q)).slice(1),Oe=new(us.headers());return Oe.set("Content-Type","application/json"),Oe.set("X-Client-Version",D._getSdkClientVersion()),D.languageCode&&Oe.set("X-Firebase-Locale",D.languageCode),us.fetch()(fo(D,D.config.apiHost,v,_e),Object.assign({method:_,headers:Oe,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function ho(D,_,v){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,a.Z)(function*(D,_,v){D._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ur),_);try{const k=new qo(D),O=yield Promise.race([v(),k.promise]);k.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw $o(D,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const _e=O.ok?Q.errorMessage:Q.error.message,[Oe,$e]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw $o(D,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Oe)throw $o(D,"email-already-in-use",Q);const vt=E[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw Lt(D,vt,$e);it(D,vt)}}catch(k){if(k instanceof U.ZR)throw k;it(D,"network-request-failed")}})).apply(this,arguments)}function vr(D,_,v,E){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(D,_,v,E,k={}){const O=yield Bt(D,_,v,E,k);return"mfaPendingCredential"in O&&it(D,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function fo(D,_,v,E){const k=`${_}${v}?${E}`;return D.config.emulator?Mn(D.config,k):`${D.config.apiScheme}://${k}`}class qo{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,E)=>{this.timer=setTimeout(()=>E(ct(this.auth,"timeout")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $o(D,_,v){const E={appName:D.name};v.email&&(E.email=v.email),v.phoneNumber&&(E.phoneNumber=v.phoneNumber);const k=ct(D,_,E);return k.customData._tokenResponse=v,k}function tt(){return(tt=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Di(D,_){return po.apply(this,arguments)}function po(){return(po=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function or(D,_){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function at(D){if(D)try{const _=new Date(Number(D));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function $i(){return($i=(0,a.Z)(function*(D,_=!1){const v=(0,U.m9)(D),E=yield v.getIdToken(_),k=Ue(E);we(k&&k.exp&&k.auth_time&&k.iat,v.auth,"internal-error");const O="object"==typeof k.firebase?k.firebase:void 0,Q=null==O?void 0:O.sign_in_provider;return{claims:k,token:E,authTime:at(nn(k.auth_time)),issuedAtTime:at(nn(k.iat)),expirationTime:at(nn(k.exp)),signInProvider:Q||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function nn(D){return 1e3*Number(D)}function Ue(D){const[_,v,E]=D.split(".");if(void 0===_||void 0===v||void 0===E)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,U.tV)(v);return k?JSON.parse(k):(gt("Failed to decode base64 JWT payload"),null)}catch(k){return gt("Caught error parsing JWT payload as JSON",k),null}}function ds(D,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(D,_,v=!1){if(v)return _;try{return yield _}catch(E){throw E instanceof U.ZR&&hs(E)&&D.auth.currentUser===D&&(yield D.auth.signOut()),E}})).apply(this,arguments)}function hs({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class dn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const k=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const E=this.getInterval(_);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),E)}iteration(){var _=this;return(0,a.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class Gr{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=at(this.lastLoginAt),this.creationTime=at(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Il(D){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(D){var _;const v=D.auth,E=yield D.getIdToken(),k=yield ds(D,or(v,{idToken:E}));we(null==k?void 0:k.users.length,v,"internal-error");const O=k.users[0];D._notifyReloadListener(O);const Q=(null===(_=O.providerUserInfo)||void 0===_?void 0:_.length)?pe(O.providerUserInfo):[],_e=ne(D.providerData,Q),vt=!!D.isAnonymous&&!(D.email&&O.passwordHash||(null==_e?void 0:_e.length)),st={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:_e,metadata:new Gr(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(D,st)})).apply(this,arguments)}function G(){return(G=(0,a.Z)(function*(D){const _=(0,U.m9)(D);yield Il(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ne(D,_){return[...D.filter(E=>!_.some(k=>k.providerId===E.providerId)),..._]}function pe(D){return D.map(_=>{var{providerId:v}=_,E=(0,le._T)(_,["providerId"]);return{providerId:v,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Le(){return(Le=(0,a.Z)(function*(D,_){const v=yield ho(D,{},()=>{const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:k,apiKey:O}=D.config,Q=fo(D,k,"/v1/token",`key=${O}`);return us.fetch()(Q,{method:"POST",headers:{"X-Client-Version":D._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Je{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){we(_.idToken,"internal-error"),we(void 0!==_.idToken,"internal-error"),we(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(D){const _=Ue(D);return we(_,"internal-error"),we(void 0!==_.exp,"internal-error"),we(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var E=this;return(0,a.Z)(function*(){return we(!E.accessToken||E.refreshToken,_,"user-token-expired"),v||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(_,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var E=this;return(0,a.Z)(function*(){const{accessToken:k,refreshToken:O,expiresIn:Q}=yield function(D,_){return Le.apply(this,arguments)}(_,v);E.updateTokensAndExpiration(k,O,Number(Q))})()}updateTokensAndExpiration(_,v,E){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(_,v){const{refreshToken:E,accessToken:k,expirationTime:O}=v,Q=new Je;return E&&(we("string"==typeof E,"internal-error",{appName:_}),Q.refreshToken=E),k&&(we("string"==typeof k,"internal-error",{appName:_}),Q.accessToken=k),O&&(we("number"==typeof O,"internal-error",{appName:_}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Je,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Et(D,_){we("string"==typeof D||void 0===D,"internal-error",{appName:_})}class Ut{constructor(_){var{uid:v,auth:E,stsTokenManager:k}=_,O=(0,le._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=E,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new Gr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,a.Z)(function*(){const E=yield ds(v,v.stsTokenManager.getToken(v.auth,_));return we(E,v.auth,"internal-error"),v.accessToken!==E&&(v.accessToken=E,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),E})()}getIdTokenResult(_){return function(D){return $i.apply(this,arguments)}(this,_)}reload(){return function(D){return G.apply(this,arguments)}(this)}_assign(_){this!==_&&(we(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ut(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var E=this;return(0,a.Z)(function*(){let k=!1;_.idToken&&_.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(_),k=!0),v&&(yield Il(E)),yield E.auth._persistUserIfCurrent(E),k&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var _=this;return(0,a.Z)(function*(){const v=yield _.getIdToken();return yield ds(_,function(D,_){return tt.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var E,k,O,Q,_e,Oe,$e,vt;const st=null!==(E=v.displayName)&&void 0!==E?E:void 0,Kn=null!==(k=v.email)&&void 0!==k?k:void 0,ur=null!==(O=v.phoneNumber)&&void 0!==O?O:void 0,wu=null!==(Q=v.photoURL)&&void 0!==Q?Q:void 0,U_=null!==(_e=v.tenantId)&&void 0!==_e?_e:void 0,sl=null!==(Oe=v._redirectEventId)&&void 0!==Oe?Oe:void 0,G_=null!==($e=v.createdAt)&&void 0!==$e?$e:void 0,ol=null!==(vt=v.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Xr,emailVerified:tw,isAnonymous:nw,providerData:oh,stsTokenManager:iw}=v;we(Xr&&iw,_,"internal-error");const Ys=Je.fromJSON(this.name,iw);we("string"==typeof Xr,_,"internal-error"),Et(st,_.name),Et(Kn,_.name),we("boolean"==typeof tw,_,"internal-error"),we("boolean"==typeof nw,_,"internal-error"),Et(ur,_.name),Et(wu,_.name),Et(U_,_.name),Et(sl,_.name),Et(G_,_.name),Et(ol,_.name);const Cu=new Ut({uid:Xr,auth:_,email:Kn,emailVerified:tw,displayName:st,isAnonymous:nw,photoURL:wu,phoneNumber:ur,tenantId:U_,stsTokenManager:Ys,createdAt:G_,lastLoginAt:ol});return oh&&Array.isArray(oh)&&(Cu.providerData=oh.map(ah=>Object.assign({},ah))),sl&&(Cu._redirectEventId=sl),Cu}static _fromIdTokenResponse(_,v,E=!1){return(0,a.Z)(function*(){const k=new Je;k.updateFromServerResponse(v);const O=new Ut({uid:v.localId,auth:_,stsTokenManager:k,isAnonymous:E});return yield Il(O),O})()}}const zn=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,E){var k=this;return(0,a.Z)(function*(){k.storage[v]=E})()}_get(v){var E=this;return(0,a.Z)(function*(){const k=E.storage[v];return void 0===k?null:k})()}_remove(v){var E=this;return(0,a.Z)(function*(){delete E.storage[v]})()}_addListener(v,E){}_removeListener(v,E){}}return D.type="NONE",D})();function Yn(D,_,v){return`firebase:${D}:${_}:${v}`}class ii{constructor(_,v,E){this.persistence=_,this.auth=v,this.userKey=E;const{config:k,name:O}=this.auth;this.fullUserKey=Yn(this.userKey,k.apiKey,O),this.fullPersistenceKey=Yn("persistence",k.apiKey,O),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,a.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?Ut._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,a.Z)(function*(){if(v.persistence===_)return;const E=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,E?v.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,E="authUser"){return(0,a.Z)(function*(){if(!v.length)return new ii(fe(zn),_,E);const k=(yield Promise.all(v.map(function(){var $e=(0,a.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return $e.apply(this,arguments)}}()))).filter($e=>$e);let O=k[0]||fe(zn);const Q=Yn(E,_.config.apiKey,_.name);let _e=null;for(const $e of v)try{const vt=yield $e._get(Q);if(vt){const st=Ut._fromJSON(_,vt);$e!==O&&(_e=st),O=$e;break}}catch(vt){}const Oe=k.filter($e=>$e._shouldAllowMigration);return O._shouldAllowMigration&&Oe.length?(O=Oe[0],_e&&(yield O._set(Q,_e.toJSON())),yield Promise.all(v.map(function(){var $e=(0,a.Z)(function*(vt){if(vt!==O)try{yield vt._remove(Q)}catch(st){}});return function(vt){return $e.apply(this,arguments)}}())),new ii(O,_,E)):new ii(O,_,E)})()}}function Wo(D){const _=D.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(wd(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(kl(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(xi(_))return"Blackberry";if(Hr(_))return"Webos";if(bd(_))return"Safari";if((_.includes("chrome/")||zf(_))&&!_.includes("edge/"))return"Chrome";if(Rl(_))return"Android";{const E=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function kl(D=(0,U.z$)()){return/firefox\//i.test(D)}function bd(D=(0,U.z$)()){const _=D.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function zf(D=(0,U.z$)()){return/crios\//i.test(D)}function wd(D=(0,U.z$)()){return/iemobile/i.test(D)}function Rl(D=(0,U.z$)()){return/android/i.test(D)}function xi(D=(0,U.z$)()){return/blackberry/i.test(D)}function Hr(D=(0,U.z$)()){return/webos/i.test(D)}function Pi(D=(0,U.z$)()){return/iphone|ipad|ipod/i.test(D)}function Ge(D=(0,U.z$)()){return Pi(D)||Rl(D)||Hr(D)||xi(D)||/windows phone/i.test(D)||wd(D)}function sn(D,_=[]){let v;switch(D){case"Browser":v=Wo((0,U.z$)());break;case"Worker":v=`${Wo((0,U.z$)())}-${D}`;break;default:v=D}const E=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${oe.SDK_VERSION}/${E}`}class br{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ri(this),this.idTokenSubscription=new ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Te,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var E=this;return v&&(this._popupRedirectResolver=fe(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var k;E._deleted||(E.persistenceManager=yield ii.create(E,_),!E._deleted&&((null===(k=E._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(v),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,a.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,a.Z)(function*(){var E;let k=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const O=null===(E=v.redirectUser)||void 0===E?void 0:E._redirectEventId,Q=null==k?void 0:k._redirectEventId,_e=yield v.tryRedirectSignIn(_);(!O||O===Q)&&(null==_e?void 0:_e.user)&&(k=_e.user)}return k?k._redirectEventId?(we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===k._redirectEventId?v.directlySetCurrentUser(k):v.reloadAndSetCurrentUserOrClear(k)):v.reloadAndSetCurrentUserOrClear(k):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,a.Z)(function*(){let E=null;try{E=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(k){yield v._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,a.Z)(function*(){try{yield Il(_)}catch(E){if("auth/network-request-failed"!==E.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var _=this;return(0,a.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,a.Z)(function*(){const E=_?(0,U.m9)(_):null;return E&&we(E.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(E&&E._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return _&&we(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,a.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(fe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new U.LL("auth","Firebase",_())}onAuthStateChanged(_,v,E){return this.registerStateListener(this.authStateSubscription,_,v,E)}onIdTokenChanged(_,v,E){return this.registerStateListener(this.idTokenSubscription,_,v,E)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var E=this;return(0,a.Z)(function*(){const k=yield E.getOrInitRedirectPersistenceManager(v);return null===_?k.removeCurrentUser():k.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const E=_&&fe(_)||v._popupRedirectResolver;we(E,v,"argument-error"),v.redirectPersistenceManager=yield ii.create(v,[fe(E._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,a.Z)(function*(){var E,k;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(E=v._currentUser)||void 0===E?void 0:E._redirectEventId)===_?v._currentUser:(null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,a.Z)(function*(){if(_===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,E,k){if(this._deleted)return()=>{};const O="function"==typeof v?v:v.next.bind(v),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return we(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof v?_.addObserver(v,E,k):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function bn(D){return(0,U.m9)(D)}class ri{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,U.ne)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Sn(D){const _=D.indexOf(":");return _<0?"":D.substr(0,_+1)}function Ra(D){if(!D)return null;const _=Number(D);return isNaN(_)?null:_}class zr{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return ue("not implemented")}_getIdTokenResponse(_){return ue("not implemented")}_linkToIdToken(_,v){return ue("not implemented")}_getReauthenticationResolver(_){return ue("not implemented")}}function Ko(D,_){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:resetPassword",jn(D,_))})).apply(this,arguments)}function Ol(D,_){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function wr(D,_){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:update",jn(D,_))})).apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signInWithPassword",jn(D,_))})).apply(this,arguments)}function qc(D,_){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:sendOobCode",jn(D,_))})).apply(this,arguments)}function gi(D,_){return $c.apply(this,arguments)}function $c(){return($c=(0,a.Z)(function*(D,_){return qc(D,_)})).apply(this,arguments)}function Fl(D,_){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(D,_){return qc(D,_)})).apply(this,arguments)}function Yr(D,_){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(D,_){return qc(D,_)})).apply(this,arguments)}function qm(D,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,a.Z)(function*(D,_){return qc(D,_)})).apply(this,arguments)}function Zc(){return(Zc=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signInWithEmailLink",jn(D,_))})).apply(this,arguments)}function Pl(){return(Pl=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signInWithEmailLink",jn(D,_))})).apply(this,arguments)}class lr extends zr{constructor(_,v,E,k=null){super("password",E),this._email=_,this._password=v,this._tenantId=k}static _fromEmailAndPassword(_,v){return new lr(_,v,"password")}static _fromEmailAndCode(_,v,E=null){return new lr(_,v,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return function(D,_){return Ht.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(D,_){return Zc.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:it(_,"internal-error")}})()}_linkToIdToken(_,v){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return Ol(_,{idToken:v,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(D,_){return Pl.apply(this,arguments)}(_,{idToken:v,email:E._email,oobCode:E._password});default:it(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function si(D,_){return $m.apply(this,arguments)}function $m(){return($m=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signInWithIdp",jn(D,_))})).apply(this,arguments)}class Fs extends zr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Fs(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):it("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:E,signInMethod:k}=v,O=(0,le._T)(v,["providerId","signInMethod"]);if(!E||!k)return null;const Q=new Fs(E,k);return Object.assign(Q,O),Q}_getIdTokenResponse(_){return si(_,this.buildRequest())}_linkToIdToken(_,v){const E=this.buildRequest();return E.idToken=v,si(_,E)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,si(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,U.xO)(v)}return _}}function Bx(D,_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:sendVerificationCode",jn(D,_))})).apply(this,arguments)}function Zm(){return(Zm=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signInWithPhoneNumber",jn(D,_))})).apply(this,arguments)}function Wm(){return(Wm=(0,a.Z)(function*(D,_){const v=yield vr(D,"POST","/v1/accounts:signInWithPhoneNumber",jn(D,_));if(v.temporaryProof)throw $o(D,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Gx={USER_NOT_FOUND:"user-not-found"};function Km(){return(Km=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signInWithPhoneNumber",jn(D,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Gx)})).apply(this,arguments)}class Nl extends zr{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Nl({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Nl({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(D,_){return Zm.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(D,_){return Wm.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(D,_){return Km.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:E,verificationCode:k}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:E,code:k}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:E,phoneNumber:k,temporaryProof:O}=_;return E||v||k||O?new Nl({verificationId:v,verificationCode:E,phoneNumber:k,temporaryProof:O}):null}}class Cd{constructor(_){var v,E,k,O,Q,_e;const Oe=(0,U.zd)((0,U.pd)(_)),$e=null!==(v=Oe.apiKey)&&void 0!==v?v:null,vt=null!==(E=Oe.oobCode)&&void 0!==E?E:null,st=function(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=Oe.mode)&&void 0!==k?k:null);we($e&&vt&&st,"argument-error"),this.apiKey=$e,this.operation=st,this.code=vt,this.continueUrl=null!==(O=Oe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Oe.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(_e=Oe.tenantId)&&void 0!==_e?_e:null}static parseLink(_){const v=function(D){const _=(0,U.zd)((0,U.pd)(D)).link,v=_?(0,U.zd)((0,U.pd)(_)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(D)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||v||_||D}(_);try{return new Cd(v)}catch(E){return null}}}let Dd=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(v,E){return lr._fromEmailAndPassword(v,E)}static credentialWithLink(v,E){const k=Cd.parseLink(E);return we(k,"argument-error"),lr._fromEmailAndCode(v,k.code,k.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Ps{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Wc extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Fa extends Wc{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return we("providerId"in v&&"signInMethod"in v,"argument-error"),Fs._fromParams(v)}credential(_){return this._credential(_)}_credential(_){return we(_.idToken||_.accessToken,"argument-error"),Fs._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Fa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Fa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:k,pendingToken:O,nonce:Q,providerId:_e}=_;if(!E&&!k&&!v&&!O||!_e)return null;try{return new Fa(_e)._credential({idToken:v,accessToken:E,rawNonce:Q,pendingToken:O})}catch(Oe){return null}}}let qf=(()=>{class D extends Wc{constructor(){super("facebook.com")}static credential(v){return Fs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch(E){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Xo=(()=>{class D extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,E){return Fs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:E})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:k}=v;if(!E&&!k)return null;try{return D.credential(E,k)}catch(O){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),Qm=(()=>{class D extends Wc{constructor(){super("github.com")}static credential(v){return Fs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return D.credential(v.oauthAccessToken)}catch(E){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class ea extends zr{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return si(_,this.buildRequest())}_linkToIdToken(_,v){const E=this.buildRequest();return E.idToken=v,si(_,E)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,si(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:E,signInMethod:k,pendingToken:O}=v;return E&&k&&O&&E===k?new ea(E,O):null}static _create(_,v){return new ea(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Zf=(()=>{class D extends Wc{constructor(){super("twitter.com")}static credential(v,E){return Fs._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:E})}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:E,oauthTokenSecret:k}=v;if(!E||!k)return null;try{return D.credential(E,k)}catch(O){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function mo(D,_){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signUp",jn(D,_))})).apply(this,arguments)}class Cr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,E,k=!1){return(0,a.Z)(function*(){const O=yield Ut._fromIdTokenResponse(_,E,k),Q=Eb(E);return new Cr({user:O,providerId:Q,_tokenResponse:E,operationType:v})})()}static _forOperation(_,v,E){return(0,a.Z)(function*(){yield _._updateTokensIfNecessary(E,!0);const k=Eb(E);return new Cr({user:_,providerId:k,_tokenResponse:E,operationType:v})})()}}function Eb(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Kc(){return(Kc=(0,a.Z)(function*(D){var _;const v=bn(D);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new Cr({user:v.currentUser,providerId:null,operationType:"signIn"});const E=yield mo(v,{returnSecureToken:!0}),k=yield Cr._fromIdTokenResponse(v,"signIn",E,!0);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class Qc extends U.ZR{constructor(_,v,E,k){var O;super(v.code,v.message),this.operationType=E,this.user=k,this.name="FirebaseError",Object.setPrototypeOf(this,Qc.prototype),this.appName=_.name,this.code=v.code,this.tenantId=null!==(O=_.tenantId)&&void 0!==O?O:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(_,v,E,k){return new Qc(_,v,E,k)}}function Jc(D,_,v,E){return("reauthenticate"===_?v._getReauthenticationResolver(D):v._getIdTokenResponse(D)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Qc._fromErrorAndOperation(D,O,_,E):O})}function Jm(D){return new Set(D.map(({providerId:_})=>_).filter(_=>!!_))}function Wf(){return(Wf=(0,a.Z)(function*(D,_){const v=(0,U.m9)(D);yield _o(!0,v,_);const{providerUserInfo:E}=yield Di(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),k=Jm(E||[]);return v.providerData=v.providerData.filter(O=>k.has(O.providerId)),k.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function wn(D,_){return xd.apply(this,arguments)}function xd(){return(xd=(0,a.Z)(function*(D,_,v=!1){const E=yield ds(D,_._linkToIdToken(D.auth,yield D.getIdToken()),v);return Cr._forOperation(D,"link",E)})).apply(this,arguments)}function _o(D,_,v){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,a.Z)(function*(D,_,v){yield Il(_);const k=!1===D?"provider-already-linked":"no-such-provider";we(Jm(_.providerData).has(v)===D,_.auth,k)})).apply(this,arguments)}function Cn(D,_){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,a.Z)(function*(D,_,v=!1){const{auth:E}=D,k="reauthenticate";try{const O=yield ds(D,Jc(E,k,_,D),v);we(O.idToken,E,"internal-error");const Q=Ue(O.idToken);we(Q,E,"internal-error");const{sub:_e}=Q;return we(D.uid===_e,E,"user-mismatch"),Cr._forOperation(D,k,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&it(E,"user-mismatch"),O}})).apply(this,arguments)}function e_(D,_){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,a.Z)(function*(D,_,v=!1){const E="signIn",k=yield Jc(D,E,_),O=yield Cr._fromIdTokenResponse(D,E,k);return v||(yield D._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Zi(D,_){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,a.Z)(function*(D,_){return e_(bn(D),_)})).apply(this,arguments)}function Ed(D,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,a.Z)(function*(D,_){const v=(0,U.m9)(D);return yield _o(!1,v,_.providerId),wn(v,_)})).apply(this,arguments)}function cr(D,_){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,a.Z)(function*(D,_){return Cn((0,U.m9)(D),_)})).apply(this,arguments)}function t_(D,_){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,a.Z)(function*(D,_){return vr(D,"POST","/v1/accounts:signInWithCustomToken",jn(D,_))})).apply(this,arguments)}function Md(){return(Md=(0,a.Z)(function*(D,_){const v=bn(D),E=yield t_(v,{token:_,returnSecureToken:!0}),k=yield Cr._fromIdTokenResponse(v,"signIn",E);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class Vl{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?yt._fromServerResponse(_,v):it(_,"internal-error")}}class yt extends Vl{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new yt(v)}}function Sd(D,_,v){var E;we((null===(E=v.url)||void 0===E?void 0:E.length)>0,D,"invalid-continue-uri"),we(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),_.iosBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,D,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Xf(){return(Xf=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D),k={requestType:"PASSWORD_RESET",email:_};v&&Sd(E,k,v),yield Fl(E,k)})).apply(this,arguments)}function ep(){return(ep=(0,a.Z)(function*(D,_,v){yield Ko((0,U.m9)(D),{oobCode:_,newPassword:v})})).apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(D,_){yield wr((0,U.m9)(D),{oobCode:_})})).apply(this,arguments)}function Me(D,_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(D,_){const v=(0,U.m9)(D),E=yield Ko(v,{oobCode:_}),k=E.requestType;switch(we(k,v,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(E.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(E.mfaInfo,v,"internal-error");default:we(E.email,v,"internal-error")}let O=null;return E.mfaInfo&&(O=Vl._fromServerResponse(bn(v),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:k}})).apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(D,_){const{data:v}=yield Me((0,U.m9)(D),_);return v.email})).apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(D,_,v){const E=bn(D),k=yield mo(E,{returnSecureToken:!0,email:_,password:v}),O=yield Cr._fromIdTokenResponse(E,"signIn",k);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}function Ul(){return(Ul=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D),k={requestType:"EMAIL_SIGNIN",email:_};we(v.handleCodeInApp,E,"argument-error"),v&&Sd(E,k,v),yield Yr(E,k)})).apply(this,arguments)}function Gl(){return(Gl=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D),k=Dd.credentialWithLink(_,v||Pe());return we(k._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Zi(E,k)})).apply(this,arguments)}function Td(D,_){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:createAuthUri",jn(D,_))})).apply(this,arguments)}function ip(){return(ip=(0,a.Z)(function*(D,_){const E={identifier:_,continueUri:Qe()?Pe():"http://localhost"},{signinMethods:k}=yield Td((0,U.m9)(D),E);return k||[]})).apply(this,arguments)}function Dr(){return(Dr=(0,a.Z)(function*(D,_){const v=(0,U.m9)(D),k={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};_&&Sd(v.auth,k,_);const{email:O}=yield gi(v.auth,k);O!==D.email&&(yield D.reload())})).apply(this,arguments)}function Id(){return(Id=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:_};v&&Sd(E.auth,O,v);const{email:Q}=yield qm(E.auth,O);Q!==D.email&&(yield D.reload())})).apply(this,arguments)}function n_(D,_){return rp.apply(this,arguments)}function rp(){return(rp=(0,a.Z)(function*(D,_){return Bt(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function eu(){return(eu=(0,a.Z)(function*(D,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const E=(0,U.m9)(D),O={idToken:yield E.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Q=yield ds(E,n_(E.auth,O));E.displayName=Q.displayName||null,E.photoURL=Q.photoUrl||null;const _e=E.providerData.find(({providerId:Oe})=>"password"===Oe);_e&&(_e.displayName=E.displayName,_e.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Q)})).apply(this,arguments)}function op(D,_,v){return kd.apply(this,arguments)}function kd(){return(kd=(0,a.Z)(function*(D,_,v){const{auth:E}=D,O={idToken:yield D.getIdToken(),returnSecureToken:!0};_&&(O.email=_),v&&(O.password=v);const Q=yield ds(D,Ol(E,O));yield D._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class La{constructor(_,v,E={}){this.isNewUser=_,this.providerId=v,this.profile=E}}class r_ extends La{constructor(_,v,E,k){super(_,v,E),this.username=k}}class s_ extends La{constructor(_,v){super(_,"facebook.com",v)}}class Ib extends r_{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class nu extends La{constructor(_,v){super(_,"google.com",v)}}class kb extends r_{constructor(_,v,E){super(_,"twitter.com",v,E)}}function Rb(D){const{user:_,_tokenResponse:v}=D;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(D){var _,v;if(!D)return null;const{providerId:E}=D,k=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},O=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!E&&(null==D?void 0:D.idToken)){const Q=null===(v=null===(_=Ue(D.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Q)return new La(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!E)return null;switch(E){case"facebook.com":return new s_(O,k);case"github.com":return new Ib(O,k);case"google.com":return new nu(O,k);case"twitter.com":return new kb(O,k,D.screenName||null);case"custom":case"anonymous":return new La(O,null);default:return new La(O,E,k)}}(v)}class xr{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new xr("enroll",_)}static _fromMfaPendingCredential(_){return new xr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,E;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return xr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(E=_.multiFactorSession)||void 0===E?void 0:E.idToken)return xr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class jl{constructor(_,v,E){this.session=_,this.hints=v,this.signInResolver=E}static _fromError(_,v){const E=bn(_),k=(v.serverResponse.mfaInfo||[]).map(Q=>Vl._fromServerResponse(E,Q));we(v.serverResponse.mfaPendingCredential,E,"internal-error");const O=xr._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new jl(O,k,function(){var Q=(0,a.Z)(function*(_e){const Oe=yield _e._process(E,O);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const $e=Object.assign(Object.assign({},v.serverResponse),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(v.operationType){case"signIn":const vt=yield Cr._fromIdTokenResponse(E,v.operationType,$e);return yield E._updateCurrentUser(vt.user),vt;case"reauthenticate":return we(v.user,E,"internal-error"),Cr._forOperation(v.user,v.operationType,$e);default:it(E,"internal-error")}});return function(_e){return Q.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,a.Z)(function*(){return v.signInResolver(_)})()}}function Od(D,_){return Bt(D,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:D.tenantId},_))}class cp{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(E=>Vl._fromServerResponse(_.auth,E)))})}static _fromUser(_){return new cp(_)}getSession(){var _=this;return(0,a.Z)(function*(){return xr._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var E=this;return(0,a.Z)(function*(){const k=_,O=yield E.getSession(),Q=yield ds(E.user,k._process(E.user.auth,O,v));return yield E.user._updateTokensIfNecessary(Q),E.user.reload()})()}unenroll(_){var v=this;return(0,a.Z)(function*(){const E="string"==typeof _?_:_.uid,k=yield v.user.getIdToken(),O=yield ds(v.user,function(D,_){return Bt(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:D.tenantId},_))}(v.user.auth,{idToken:k,mfaEnrollmentId:E}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Q})=>Q!==E),yield v.user._updateTokensIfNecessary(O);try{yield v.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const Ls=new WeakMap,up="__sak";class a_{constructor(_,v){this.storage=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const fp=(()=>{class D extends a_{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const D=(0,U.z$)();return bd(D)||Pi(D)}()&&function(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Ge(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const E of Object.keys(this.listeners)){const k=this.storage.getItem(E),O=this.localCache[E];k!==O&&v(E,O,k)}}onStorageEvent(v,E=!1){if(!v.key)return void this.forAllChangedKeys((_e,Oe,$e)=>{this.notifyListeners(_e,$e)});const k=v.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(k);if(v.newValue!==_e)null!==v.newValue?this.storage.setItem(k,v.newValue):this.storage.removeItem(k);else if(this.localCache[k]===v.newValue&&!E)return}const O=()=>{const _e=this.storage.getItem(k);!E&&this.localCache[k]===_e||this.notifyListeners(k,_e)},Q=this.storage.getItem(k);(0,U.w1)()&&10===document.documentMode&&Q!==v.newValue&&v.newValue!==v.oldValue?setTimeout(O,10):O()}notifyListeners(v,E){this.localCache[v]=E;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,E,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:E,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,E){var k=()=>super._set,O=this;return(0,a.Z)(function*(){yield k().call(O,v,E),O.localCache[v]=JSON.stringify(E)})()}_get(v){var E=()=>super._get,k=this;return(0,a.Z)(function*(){const O=yield E().call(k,v);return k.localCache[v]=JSON.stringify(O),O})()}_remove(v){var E=()=>super._remove,k=this;return(0,a.Z)(function*(){yield E().call(k,v),delete k.localCache[v]})()}}return D.type="LOCAL",D})(),Bs=(()=>{class D extends a_{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,E){}_removeListener(v,E){}}return D.type="SESSION",D})();let Vs=(()=>{class D{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const E=this.receivers.find(O=>O.isListeningto(v));if(E)return E;const k=new D(v);return this.receivers.push(k),k}isListeningto(v){return this.eventTarget===v}handleEvent(v){var E=this;return(0,a.Z)(function*(){const k=v,{eventId:O,eventType:Q,data:_e}=k.data,Oe=E.handlersMap[Q];if(!(null==Oe?void 0:Oe.size))return;k.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const $e=Array.from(Oe).map(function(){var st=(0,a.Z)(function*(Kn){return Kn(k.origin,_e)});return function(Kn){return st.apply(this,arguments)}}()),vt=yield function(D){return Promise.all(D.map(function(){var _=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(E){return{fulfilled:!1,reason:E}}});return function(v){return _.apply(this,arguments)}}()))}($e);k.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:vt})})()}_subscribe(v,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(E)}_unsubscribe(v,E){this.handlersMap[v]&&E&&this.handlersMap[v].delete(E),(!E||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function na(D="",_=10){let v="";for(let E=0;E<_;E++)v+=Math.floor(10*Math.random());return D+v}class c_{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,E=50){var k=this;return(0,a.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,_e;return new Promise((Oe,$e)=>{const vt=na("",20);O.port1.start();const st=setTimeout(()=>{$e(new Error("unsupported_event"))},E);_e={messageChannel:O,onMessage(Kn){const ur=Kn;if(ur.data.eventId===vt)switch(ur.data.status){case"ack":clearTimeout(st),Q=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Oe(ur.data.response);break;default:clearTimeout(st),clearTimeout(Q),$e(new Error("invalid_response"))}}},k.handlers.add(_e),O.port1.addEventListener("message",_e.onMessage),k.target.postMessage({eventType:_,eventId:vt,data:v},[O.port2])}).finally(()=>{_e&&k.removeMessageHandler(_e)})})()}}function An(){return window}function u_(){return void 0!==An().WorkerGlobalScope&&"function"==typeof An().importScripts}function Pd(){return(Pd=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const pp="firebaseLocalStorageDb",gp="firebaseLocalStorage",Pb="fbase_key";class bo{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function su(D,_){return D.transaction([gp],_?"readwrite":"readonly").objectStore(gp)}function je(){const D=indexedDB.open(pp,1);return new Promise((_,v)=>{D.addEventListener("error",()=>{v(D.error)}),D.addEventListener("upgradeneeded",()=>{const E=D.result;try{E.createObjectStore(gp,{keyPath:Pb})}catch(k){v(k)}}),D.addEventListener("success",(0,a.Z)(function*(){const E=D.result;E.objectStoreNames.contains(gp)?_(E):(E.close(),yield function(){const D=indexedDB.deleteDatabase(pp);return new bo(D).toPromise()}(),_(yield je()))}))})}function ke(D,_,v){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,a.Z)(function*(D,_,v){const E=su(D,!0).put({[Pb]:_,value:v});return new bo(E).toPromise()})).apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(D,_){const v=su(D,!1).get(_),E=yield new bo(v).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Yl(D,_){const v=su(D,!0).delete(_);return new bo(v).toPromise()}const ia=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield je()),v.db})()}_withRetries(v){var E=this;return(0,a.Z)(function*(){let k=0;for(;;)try{const O=yield E._openDb();return yield v(O)}catch(O){if(k++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return u_()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=Vs._getInstance(u_()?self:null),v.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(k,O){return{keyProcessed:(yield v._poll()).includes(O.key)}});return function(k,O){return E.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(k,O){return["keyChanged"]});return function(k,O){return E.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var E,k;if(v.activeServiceWorker=yield function(){return Pd.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new c_(v.activeServiceWorker);const O=yield v.sender._send("ping",{},800);!O||(null===(E=O[0])||void 0===E?void 0:E.fulfilled)&&(null===(k=O[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:v},E.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield je();return yield ke(v,up,"1"),yield Yl(v,up),!0}catch(v){}return!1})()}_withPendingWrite(v){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield v()}finally{E.pendingWrites--}})()}_set(v,E){var k=this;return(0,a.Z)(function*(){return k._withPendingWrite((0,a.Z)(function*(){return yield k._withRetries(O=>ke(O,v,E)),k.localCache[v]=E,k.notifyServiceWorker(v)}))})()}_get(v){var E=this;return(0,a.Z)(function*(){const k=yield E._withRetries(O=>function(D,_){return Va.apply(this,arguments)}(O,v));return E.localCache[v]=k,k})()}_remove(v){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(k=>Yl(k,v)),delete E.localCache[v],E.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const E=yield v._withRetries(Q=>{const _e=su(Q,!1).getAll();return new bo(_e).toPromise()});if(!E)return[];if(0!==v.pendingWrites)return[];const k=[],O=new Set;for(const{fbase_key:Q,value:_e}of E)O.add(Q),JSON.stringify(v.localCache[Q])!==JSON.stringify(_e)&&(v.notifyListeners(Q,_e),k.push(Q));for(const Q of Object.keys(v.localCache))v.localCache[Q]&&!O.has(Q)&&(v.notifyListeners(Q,null),k.push(Q));return k})()}notifyListeners(v,E){this.localCache[v]=E;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(E)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function on(D,_){return Bt(D,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:D.tenantId},_))}function ou(){return(ou=(0,a.Z)(function*(D){return(yield Bt(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mp(D){return new Promise((_,v)=>{const E=document.createElement("script");E.setAttribute("src",D),E.onload=_,E.onerror=k=>{const O=ct("internal-error");O.customData=k,v(O)},E.type="text/javascript",E.charset="UTF-8",function(){var D,_;return null!==(_=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==_?_:document}().appendChild(E)})}function Bd(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Zr=1e12;class ql{constructor(_){this.auth=_,this.counter=Zr,this._widgets=new Map}render(_,v){const E=this.counter;return this._widgets.set(E,new ra(_,this.auth.name,v||{})),this.counter++,E}reset(_){var v;const E=_||Zr;null===(v=this._widgets.get(E))||void 0===v||v.delete(),this._widgets.delete(E)}getResponse(_){var v;return(null===(v=this._widgets.get(_||Zr))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,a.Z)(function*(){var E;return null===(E=v._widgets.get(_||Zr))||void 0===E||E.execute(),""})()}}class ra{constructor(_,v,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof _?document.getElementById(_):_;we(k,"argument-error",{appName:v}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(D){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kr=Bd("rcb"),Qx=new ut(3e4,6e4);class Qr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!An().grecaptcha}load(_,v=""){return we((D=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(An().grecaptcha):new Promise((E,k)=>{const O=An().setTimeout(()=>{k(ct(_,"network-request-failed"))},Qx.get());An()[Kr]=()=>{An().clearTimeout(O),delete An()[Kr];const _e=An().grecaptcha;if(!_e)return void k(ct(_,"internal-error"));const Oe=_e.render;_e.render=($e,vt)=>{const st=Oe($e,vt);return this.counter++,st},this.hostLanguage=v,E(_e)},mp(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Kr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(O),k(ct(_,"internal-error"))})});var D}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!An().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bb{load(_){return(0,a.Z)(function*(){return new ql(_)})()}clearedOneInstance(){}}const xn="recaptcha",Jx={theme:"light",type:"image"};class _p{constructor(_,v=Object.assign({},Jx),E){this.parameters=v,this.type=xn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(E),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof _?document.getElementById(_):_;we(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bb:new Qr,this.validateStartingState()}verify(){var _=this;return(0,a.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),E=_.getAssertedRecaptcha();return E.getResponse(v)||new Promise(O=>{const Q=_e=>{!_e||(_.tokenChangeListeners.delete(Q),O(_e))};_.tokenChangeListeners.add(Q),_.isInvisible&&E.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(E=>E(v)),"function"==typeof _)_(v);else if("string"==typeof _){const E=An()[_];"function"==typeof E&&E(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,a.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const E=document.createElement("div");v.appendChild(E),v=E}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,a.Z)(function*(){we(Qe()&&!u_(),_.auth,"internal-error"),yield function(){let D=null;return new Promise(_=>{"complete"!==document.readyState?(D=()=>_(),window.addEventListener("load",D)):_()}).catch(_=>{throw D&&window.removeEventListener("load",D),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(D){return ou.apply(this,arguments)}(_.auth);we(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class f_{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Nl._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Jt(){return(Jt=(0,a.Z)(function*(D,_,v){const E=bn(D),k=yield yp(E,_,(0,U.m9)(v));return new f_(k,O=>Zi(E,O))})).apply(this,arguments)}function p_(){return(p_=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D);yield _o(!1,E,"phone");const k=yield yp(E.auth,_,(0,U.m9)(v));return new f_(k,O=>Ed(E,O))})).apply(this,arguments)}function Nt(){return(Nt=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D),k=yield yp(E.auth,_,(0,U.m9)(v));return new f_(k,O=>cr(E,O))})).apply(this,arguments)}function yp(D,_,v){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(D,_,v){var E;const k=yield v.verify();try{let O;if(we("string"==typeof k,D,"argument-error"),we(v.type===xn,D,"argument-error"),O="string"==typeof _?{phoneNumber:_}:_,"session"in O){const Q=O.session;if("phoneNumber"in O)return we("enroll"===Q.type,D,"internal-error"),(yield Od(D,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{we("signin"===Q.type,D,"internal-error");const _e=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return we(_e,D,"missing-multi-factor-info"),(yield on(D,{mfaPendingCredential:Q.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield Bx(D,{phoneNumber:O.phoneNumber,recaptchaToken:k});return Q}}finally{v._reset()}})).apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(D,_){yield wn((0,U.m9)(D),_)})).apply(this,arguments)}let sa=(()=>{class D{constructor(v){this.providerId=D.PROVIDER_ID,this.auth=bn(v)}verifyPhoneNumber(v,E){return yp(this.auth,v,(0,U.m9)(E))}static credential(v,E){return Nl._fromVerification(v,E)}static credentialFromResult(v){return D.credentialFromTaggedObject(v)}static credentialFromError(v){return D.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:E,temporaryProof:k}=v;return E&&k?Nl._fromTokenResponse(E,k):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Dn(D,_){return _?fe(_):(we(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class ja extends zr{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return si(_,this._buildIdpRequest())}_linkToIdToken(_,v){return si(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return si(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function vp(D){return e_(D.auth,new ja(D),D.bypassAuthState)}function Jr(D){const{auth:_,user:v}=D;return we(v,_,"internal-error"),Cn(v,new ja(D),D.bypassAuthState)}function Us(D){return za.apply(this,arguments)}function za(){return(za=(0,a.Z)(function*(D){const{auth:_,user:v}=D;return we(v,_,"internal-error"),wn(v,new ja(D),D.bypassAuthState)})).apply(this,arguments)}class oa{constructor(_,v,E,k,O=!1){this.auth=_,this.resolver=E,this.user=k,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,a.Z)(function*(E,k){_.pendingPromise={resolve:E,reject:k};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(O){_.reject(O)}});return function(E,k){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:k,postBody:O,tenantId:Q,error:_e,type:Oe}=_;if(_e)return void v.reject(_e);const $e={auth:v.auth,requestUri:E,sessionId:k,tenantId:Q||void 0,postBody:O||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Oe)($e))}catch(vt){v.reject(vt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return vp;case"linkViaPopup":case"linkViaRedirect":return Us;case"reauthViaPopup":case"reauthViaRedirect":return Jr;default:it(this.auth,"internal-error")}}resolve(_){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aa=new ut(2e3,1e4);function Ud(){return(Ud=(0,a.Z)(function*(D,_,v){const E=bn(D);Tt(D,_,Ps);const k=Dn(E,v);return new In(E,"signInViaPopup",_,k).executeNotNull()})).apply(this,arguments)}function m_(){return(m_=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D);Tt(E.auth,_,Ps);const k=Dn(E.auth,v);return new In(E.auth,"reauthViaPopup",_,k,E).executeNotNull()})).apply(this,arguments)}function Gd(){return(Gd=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D);Tt(E.auth,_,Ps);const k=Dn(E.auth,v);return new In(E.auth,"linkViaPopup",_,k,E).executeNotNull()})).apply(this,arguments)}let In=(()=>{class D extends oa{constructor(v,E,k,O,Q){super(v,E,O,Q),this.provider=k,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const E=yield v.execute();return we(E,v.auth,"internal-error"),E})()}onExecution(){var v=this;return(0,a.Z)(function*(){ce(1===v.filter.length,"Popup operations only handle one event");const E=na();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],E),v.authWindow.associatedEvent=E,v.resolver._originValidation(v.auth).catch(k=>{v.reject(k)}),v.resolver._isIframeWebStorageSupported(v.auth,k=>{k||v.reject(ct(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const v=()=>{var E,k;this.pollId=(null===(k=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ct(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,aa.get())};v()}}return D.currentPopupAction=null,D})();const la=new Map;class Wt extends oa{constructor(_,v,E=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,E),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,a.Z)(function*(){let E=la.get(v.auth._key());if(!E){try{const O=(yield function(D,_){return wp.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;E=()=>Promise.resolve(O)}catch(k){E=()=>Promise.reject(k)}la.set(v.auth._key(),E)}return E()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(E,_);if("unknown"!==_.type){if(_.eventId){const k=yield E.auth._redirectUserForId(_.eventId);if(k)return E.user=k,v().call(E,_);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function wp(){return(wp=(0,a.Z)(function*(D,_){const v=qa(_),E="true"===(yield Ya(D)._get(v));return yield Ya(D)._remove(v),E})).apply(this,arguments)}function Cp(D,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,a.Z)(function*(D,_){return Ya(D)._set(qa(_),"true")})).apply(this,arguments)}function Ya(D){return fe(D._redirectPersistence)}function qa(D){return Yn("pendingRedirect",D.config.apiKey,D.name)}function __(){return(__=(0,a.Z)(function*(D,_,v){const E=bn(D);Tt(D,_,Ps);const k=Dn(E,v);return yield Cp(k,E),k._openRedirect(E,_,"signInViaRedirect")})).apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D);Tt(E.auth,_,Ps);const k=Dn(E.auth,v);yield Cp(k,E.auth);const O=yield xt(E);return k._openRedirect(E.auth,_,"reauthViaRedirect",O)})).apply(this,arguments)}function Mp(){return(Mp=(0,a.Z)(function*(D,_,v){const E=(0,U.m9)(D);Tt(E.auth,_,Ps);const k=Dn(E.auth,v);yield _o(!1,E,_.providerId),yield Cp(k,E.auth);const O=yield xt(E);return k._openRedirect(E.auth,_,"linkViaRedirect",O)})).apply(this,arguments)}function b_(){return(b_=(0,a.Z)(function*(D,_){return yield bn(D)._initializationPromise,$l(D,_,!1)})).apply(this,arguments)}function $l(D,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,a.Z)(function*(D,_,v=!1){const E=bn(D),k=Dn(E,_),Q=yield new Wt(E,k,v).execute();return Q&&!v&&(delete Q.user._redirectEventId,yield E._persistUserIfCurrent(Q.user),yield E._setRedirectUser(null,_)),Q})).apply(this,arguments)}function xt(D){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,a.Z)(function*(D){const _=na(`${D.uid}:::`);return D._redirectEventId=_,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),_})).apply(this,arguments)}class jd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(_,E)&&(v=!0,this.sendToConsumer(_,E),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return da(D);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var E;if(_.error&&!da(_)){const k=(null===(E=_.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";v.onError(ct(this.auth,k))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const E=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&E}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zd(_))}saveEventToCache(_){this.cachedEventUids.add(zd(_)),this.lastProcessedEventTime=Date.now()}}function zd(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(_=>_).join("-")}function da({type:D,error:_}){return"unknown"===D&&"auth/no-auth-event"===(null==_?void 0:_.code)}function w_(D){return Er.apply(this,arguments)}function Er(){return(Er=(0,a.Z)(function*(D,_={}){return Bt(D,"GET","/v1/projects",_)})).apply(this,arguments)}const Tp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gb=/^https?/;function Gs(){return(Gs=(0,a.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:_}=yield w_(D);for(const v of _)try{if(Wn(v))return}catch(E){}it(D,"unauthorized-domain")})).apply(this,arguments)}function Wn(D){const _=Pe(),{protocol:v,hostname:E}=new URL(_);if(D.startsWith("chrome-extension://")){const Q=new URL(D);return""===Q.hostname&&""===E?"chrome-extension:"===v&&D.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Q.hostname===E}if(!Gb.test(v))return!1;if(Tp.test(D))return E===D;const k=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(E)}const Si=new ut(3e4,6e4);function C_(){const D=An().___jsl;if(null==D?void 0:D.H)for(const _ of Object.keys(D.H))if(D.H[_].r=D.H[_].r||[],D.H[_].L=D.H[_].L||[],D.H[_].r=[...D.H[_].L],D.CP)for(let v=0;v<D.CP.length;v++)D.CP[v]=null}let Za=null;function cu(D){return Za=Za||function(D){return new Promise((_,v)=>{var E,k,O;function Q(){C_(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{C_(),v(ct(D,"network-request-failed"))},timeout:Si.get()})}if(null===(k=null===(E=An().gapi)||void 0===E?void 0:E.iframes)||void 0===k?void 0:k.Iframe)_(gapi.iframes.getContext());else{if(!(null===(O=An().gapi)||void 0===O?void 0:O.load)){const _e=Bd("iframefcb");return An()[_e]=()=>{gapi.load?Q():v(ct(D,"network-request-failed"))},mp(`https://apis.google.com/js/api.js?onload=${_e}`)}Q()}}).catch(_=>{throw Za=null,_})}(D),Za}const x_=new ut(5e3,15e3),Wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Zl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yd(D){const _=D.config;we(_.authDomain,D,"auth-domain-config-required");const v=_.emulator?Mn(_,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,E={apiKey:_.apiKey,appName:D.name,v:oe.SDK_VERSION},k=Zl.get(D.config.apiHost);k&&(E.eid=k);const O=D._getFrameworks();return O.length&&(E.fw=O.join(",")),`${v}?${(0,U.xO)(E).slice(1)}`}function Ot(){return(Ot=(0,a.Z)(function*(D){const _=yield cu(D),v=An().gapi;return we(v,D,"internal-error"),_.open({where:document.body,url:Yd(D),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wa,dontclear:!0},E=>new Promise(function(){var k=(0,a.Z)(function*(O,Q){yield E.restyle({setHideOnLeave:!1});const _e=ct(D,"network-request-failed"),Oe=An().setTimeout(()=>{Q(_e)},x_.get());function $e(){An().clearTimeout(Oe),O(E)}E.ping($e).then($e,()=>{Q(_e)})});return function(O,Q){return k.apply(this,arguments)}}()))})).apply(this,arguments)}const uu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Kl{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function hu(D,_,v,E,k,O){we(D.config.authDomain,D,"auth-domain-config-required"),we(D.config.apiKey,D,"invalid-api-key");const Q={apiKey:D.config.apiKey,appName:D.name,authType:v,redirectUrl:E,v:oe.SDK_VERSION,eventId:k};if(_ instanceof Ps){_.setDefaultLanguage(D.languageCode),Q.providerId=_.providerId||"",(0,U.xb)(_.getCustomParameters())||(Q.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Oe,$e]of Object.entries(O||{}))Q[Oe]=$e}if(_ instanceof Wc){const Oe=_.getScopes().filter($e=>""!==$e);Oe.length>0&&(Q.scopes=Oe.join(","))}D.tenantId&&(Q.tid=D.tenantId);const _e=Q;for(const Oe of Object.keys(_e))void 0===_e[Oe]&&delete _e[Oe];return`${function({config:D}){return D.emulator?Mn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,U.xO)(_e).slice(1)}`}const Qa="webStorageSupport";class Do extends class{constructor(_){this.factorId=_}_process(_,v,E){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,E);case"signin":return this._finalizeSignIn(_,v.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Do(_)}_finalizeEnroll(_,v,E){return function(D,_){return Bt(D,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:D.tenantId},_))}(_,{idToken:v,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(D,_){return Bt(D,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:D.tenantId},_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class zb{constructor(){}static assertion(_){return Do._fromCredential(_)}}var D;class qb{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(E=>{var k;_((null===(k=E)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ha(){return window}function gu(){return(gu=(0,a.Z)(function*(D,_,v){var E;const{BuildInfo:k}=ha();ce(_.sessionId,"AuthEvent did not contain a session ID");const O=yield T_(_.sessionId),Q={};return Pi()?Q.ibi=k.packageName:Rl()?Q.apn=k.packageName:it(D,"operation-not-supported-in-this-environment"),k.displayName&&(Q.appDisplayName=k.displayName),Q.sessionId=O,hu(D,v,_.type,void 0,null!==(E=_.eventId)&&void 0!==E?E:void 0,Q)})).apply(this,arguments)}function Ja(){return(Ja=(0,a.Z)(function*(D){const{BuildInfo:_}=ha(),v={};Pi()?v.iosBundleId=_.packageName:Rl()?v.androidPackageName=_.packageName:it(D,"operation-not-supported-in-this-environment"),yield w_(D,v)})).apply(this,arguments)}function Pp(){return(Pp=(0,a.Z)(function*(D,_,v){const{cordova:E}=ha();let k=()=>{};try{yield new Promise((O,Q)=>{let _e=null;function Oe(){var st;O();const Kn=null===(st=E.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Kn&&Kn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function $e(){_e||(_e=window.setTimeout(()=>{Q(ct(D,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}_.addPassiveListener(Oe),document.addEventListener("resume",$e,!1),Rl()&&document.addEventListener("visibilitychange",vt,!1),k=()=>{_.removePassiveListener(Oe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",vt,!1),_e&&window.clearTimeout(_e)}})}finally{k()}})).apply(this,arguments)}function T_(D){return I_.apply(this,arguments)}function I_(){return(I_=(0,a.Z)(function*(D){const _=Wd(D),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Wd(D){if(ce(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(D);const _=new ArrayBuffer(D.length),v=new Uint8Array(_);for(let E=0;E<D.length;E++)v[E]=D.charCodeAt(E);return v}D="Browser",(0,oe._registerComponent)(new q.wA("auth",(_,{options:v})=>{const E=_.getProvider("app").getImmediate(),{apiKey:k,authDomain:O}=E.options;return(Q=>{we(k&&!k.includes(":"),"invalid-api-key",{appName:Q.name}),we(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Q.name});const _e={apiKey:k,authDomain:O,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sn(D)},Oe=new br(Q,_e);return function(D,_){const v=(null==_?void 0:_.persistence)||[],E=(Array.isArray(v)?v:[v]).map(fe);(null==_?void 0:_.errorMap)&&D._updateErrorMap(_.errorMap),D._initializeWithPersistence(E,null==_?void 0:_.popupRedirectResolver)}(Oe,v),Oe})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,E)=>{_.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new q.wA("auth-internal",_=>{const v=bn(_.getProvider("auth").getImmediate());return new qb(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)("@firebase/auth","0.17.2",void 0);class Kd extends jd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,a.Z)(function*(){yield _.initPromise})()}}function mu(D){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,a.Z)(function*(D){const _=yield k_()._get(R_(D));return _&&(yield k_()._remove(R_(D))),_})).apply(this,arguments)}function Zb(){const D=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const E=Math.floor(Math.random()*_.length);D.push(_.charAt(E))}return D.join("")}function k_(){return fe(fp)}function R_(D){return Yn("authEvent",D.config.apiKey,D.name)}function Hs(D){if(!(null==D?void 0:D.includes("?")))return{};const[_,...v]=D.split("?");return(0,U.zd)(v.join("?"))}function F_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ct("no-auth-event")}}function fa(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function Jd(D=(0,U.z$)()){return!("file:"!==fa()&&"ionic:"!==fa()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xd(){try{const D=self.localStorage,_=na();if(D)return D.setItem(_,"1"),D.removeItem(_),!function(D=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(D=(0,U.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,U.hl)()}catch(D){return eh()&&(0,U.hl)()}return!1}function eh(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function th(){return("http:"===fa()||"https:"===fa()||(0,U.ru)()||Jd())&&!((0,U.b$)()||(0,U.UG)())&&Xd()&&!eh()}function B_(){return Jd()&&"undefined"!=typeof document}function js(){return(js=(0,a.Z)(function*(){return!!B_()&&new Promise(D=>{const _=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),D(!0)})})})).apply(this,arguments)}const Mr={LOCAL:"local",NONE:"none",SESSION:"session"},zs=we,Jb="persistence";function Ai(D){return bu.apply(this,arguments)}function bu(){return(bu=(0,a.Z)(function*(D){yield D._initializationPromise;const _=tl(),v=Yn(Jb,D.config.apiKey,D.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(v,D._getPersistence())})).apply(this,arguments)}function tl(){return"undefined"!=typeof window?window:null}const Ti=we;class Sr{constructor(){this.browserResolver=fe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=$l}_openPopup(_,v,E,k){var O=this;return(0,a.Z)(function*(){var Q;ce(null===(Q=O.eventManagers[_._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const _e=hu(_,v,E,Pe(),k);return function(D,_,v,E=500,k=600){const O=Math.max((window.screen.availHeight-k)/2,0).toString(),Q=Math.max((window.screen.availWidth-E)/2,0).toString();let _e="";const Oe=Object.assign(Object.assign({},uu),{width:E.toString(),height:k.toString(),top:O,left:Q}),$e=(0,U.z$)().toLowerCase();v&&(_e=zf($e)?"_blank":v),kl($e)&&(_=_||"http://localhost",Oe.scrollbars="yes");const vt=Object.entries(Oe).reduce((Kn,[ur,wu])=>`${Kn}${ur}=${wu},`,"");if(function(D=(0,U.z$)()){var _;return Pi(D)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}($e)&&"_self"!==_e)return function(D,_){const v=document.createElement("a");v.href=D,v.target=_;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(E)}(_||"",_e),new Kl(null);const st=window.open(_||"",_e,vt);we(st,D,"popup-blocked");try{st.focus()}catch(Kn){}return new Kl(st)}(_,_e,na())})()}_openRedirect(_,v,E,k){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(_),D=hu(_,v,E,Pe(),k),An().location.href=D,new Promise(()=>{});var D})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:k,promise:O}=this.eventManagers[v];return k?Promise.resolve(k):(ce(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(_);return this.eventManagers[v]={promise:E},E}initAndGetManager(_){var v=this;return(0,a.Z)(function*(){const E=yield function(D){return Ot.apply(this,arguments)}(_),k=new jd(_);return E.register("authEvent",O=>(we(null==O?void 0:O.authEvent,_,"invalid-auth-event"),{status:k.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:k},v.iframes[_._key()]=E,k})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Qa,{type:Qa},k=>{var O;const Q=null===(O=null==k?void 0:k[0])||void 0===O?void 0:O[Qa];void 0!==Q&&v(!!Q),it(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(D){return Gs.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ge()||bd()||Pi()}}),this.cordovaResolver=fe(class{constructor(){this._redirectPersistence=Bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$l}_initialize(_){var v=this;return(0,a.Z)(function*(){const E=_._key();let k=v.eventManagers.get(E);return k||(k=new Kd(_),v.eventManagers.set(E,k),v.attachCallbackListeners(_,k)),k})()}_openPopup(_){it(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,E,k){var O=this;return(0,a.Z)(function*(){!function(D){var _,v,E,k,O,Q,_e,Oe,$e,vt;const st=ha();we("function"==typeof(null===(_=null==st?void 0:st.universalLinks)||void 0===_?void 0:_.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(v=null==st?void 0:st.BuildInfo)||void 0===v?void 0:v.packageName),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(O=null===(k=null===(E=null==st?void 0:st.cordova)||void 0===E?void 0:E.plugins)||void 0===k?void 0:k.browsertab)||void 0===O?void 0:O.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Oe=null===(_e=null===(Q=null==st?void 0:st.cordova)||void 0===Q?void 0:Q.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Oe?void 0:Oe.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(vt=null===($e=null==st?void 0:st.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===vt?void 0:vt.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const Q=yield O._initialize(_);yield Q.initialized(),Q.resetRedirect(),la.clear(),yield O._originValidation(_);const _e=function(D,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:Zb(),postBody:null,tenantId:D.tenantId,error:ct(D,"no-auth-event")}}(_,E,k);yield function(D,_){return k_()._set(R_(D),_)}(_,_e);const Oe=yield function(D,_,v){return gu.apply(this,arguments)}(_,_e,v),$e=yield function(D){const{cordova:_}=ha();return new Promise(v=>{_.plugins.browsertab.isAvailable(E=>{let k=null;E?_.plugins.browsertab.openUrl(D):k=_.InAppBrowser.open(D,function(D=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),v(k)})})}(Oe);return function(D,_,v){return Pp.apply(this,arguments)}(_,Q,$e)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(D){return Ja.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:E,handleOpenURL:k,BuildInfo:O}=ha(),Q=setTimeout((0,a.Z)(function*(){yield mu(_),v.onEvent(F_())}),500),_e=function(){var vt=(0,a.Z)(function*(st){clearTimeout(Q);const Kn=yield mu(_);let ur=null;Kn&&(null==st?void 0:st.url)&&(ur=function(D,_){var v,E;const k=function(D){const _=Hs(D),v=_.link?decodeURIComponent(_.link):void 0,E=Hs(v).link,k=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Hs(k).link||k||E||v||D}(_);if(k.includes("/__/auth/callback")){const O=Hs(k),Q=O.firebaseError?function(D){try{return JSON.parse(D)}catch(_){return null}}(decodeURIComponent(O.firebaseError)):null,_e=null===(E=null===(v=null==Q?void 0:Q.code)||void 0===v?void 0:v.split("auth/"))||void 0===E?void 0:E[1],Oe=_e?ct(_e):null;return Oe?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:k,postBody:null}}return null}(Kn,st.url)),v.onEvent(ur||F_())});return function(Kn){return vt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,_e);const Oe=k,$e=`${O.packageName.toLowerCase()}://`;ha().handleOpenURL=function(){var vt=(0,a.Z)(function*(st){if(st.toLowerCase().startsWith($e)&&_e({url:st}),"function"==typeof Oe)try{Oe(st)}catch(Kn){console.error(Kn)}});return function(st){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Bs,this._completeRedirectFn=$l}_initialize(_){var v=this;return(0,a.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,E,k){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(_,v,E,k)})()}_openRedirect(_,v,E,k){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(_,v,E,k)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return B_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ti(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,a.Z)(function*(){if(_.underlyingResolver)return;const v=yield function(){return js.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function nh(D){return D.unwrap()}function Gp(D){return Hp(D)}function Ar(D,_){var v;const E=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new ew(D,function(D,_){var v;const E=(0,U.m9)(D),k=_;return we(_.operationType,E,"argument-error"),we(null===(v=k.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,E,"argument-error"),jl._fromError(E,k)}(D,_));else if(E){const k=Hp(_),O=_;k&&(O.credential=k,O.tenantId=E.tenantId||void 0,O.email=E.email||void 0,O.phoneNumber=E.phoneNumber||void 0)}}function Hp(D){const{_tokenResponse:_}=D instanceof U.ZR?D.customData:D;if(!_)return null;if(!(D instanceof U.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return sa.credentialFromResult(D);const v=_.providerId;if(!v||"password"===v)return null;let E;switch(v){case"google.com":E=Xo;break;case"facebook.com":E=qf;break;case"github.com":E=Qm;break;case"twitter.com":E=Zf;break;default:const{oauthIdToken:k,oauthAccessToken:O,oauthTokenSecret:Q,pendingToken:_e,nonce:Oe}=_;return O||Q||k||_e?_e?v.startsWith("saml.")?ea._create(v,_e):Fs._fromParams({providerId:v,signInMethod:v,pendingToken:_e,idToken:k,accessToken:O}):new Fa(v).credential({idToken:k,accessToken:O,rawNonce:Oe}):null}return D instanceof U.ZR?E.credentialFromError(D):E.credentialFromResult(D)}function Li(D,_){return ec.apply(this,arguments)}function ec(){return(ec=(0,a.Z)(function*(D,_){let v;try{v=yield _}catch(O){throw O instanceof U.ZR&&Ar(D,O),O}const{operationType:E,user:k}=v;return{operationType:E,credential:Gp(v),additionalUserInfo:Rb(v),user:Mo.getOrCreate(k)}})).apply(this,arguments)}function nl(D,_){return jp.apply(this,arguments)}function jp(){return(jp=(0,a.Z)(function*(D,_){const v=yield _;return{verificationId:v.verificationId,confirm:E=>Li(D,v.confirm(E))}})).apply(this,arguments)}class ew{constructor(_,v){this.resolver=v,this.auth=function(D){return D.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Li(nh(this.auth),this.resolver.resolveSignIn(_))}}class Mo{constructor(_){this._delegate=_,this.multiFactor=function(D){const _=(0,U.m9)(D);return Ls.has(_)||Ls.set(_,cp._fromUser(_)),Ls.get(_)}(_)}static getOrCreate(_){return Mo.USER_MAP.has(_)||Mo.USER_MAP.set(_,new Mo(_)),Mo.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,a.Z)(function*(){return Li(v.auth,Ed(v._delegate,_))})()}linkWithPhoneNumber(_,v){var E=this;return(0,a.Z)(function*(){return nl(E.auth,function(D,_,v){return p_.apply(this,arguments)}(E._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,a.Z)(function*(){return Li(v.auth,function(D,_,v){return Gd.apply(this,arguments)}(v._delegate,_,Sr))})()}linkWithRedirect(_){var v=this;return(0,a.Z)(function*(){return yield Ai(bn(v.auth)),function(D,_,v){return function(D,_,v){return Mp.apply(this,arguments)}(D,_,v)}(v._delegate,_,Sr)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,a.Z)(function*(){return Li(v.auth,cr(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return nl(this.auth,function(D,_,v){return Nt.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return Li(this.auth,function(D,_,v){return m_.apply(this,arguments)}(this._delegate,_,Sr))}reauthenticateWithRedirect(_){var v=this;return(0,a.Z)(function*(){return yield Ai(bn(v.auth)),function(D,_,v){return function(D,_,v){return ca.apply(this,arguments)}(D,_,v)}(v._delegate,_,Sr)})()}sendEmailVerification(_){return function(D,_){return Dr.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,a.Z)(function*(){return yield function(D,_){return Wf.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function(D,_){return op((0,U.m9)(D),_,null)}(this._delegate,_)}updatePassword(_){return function(D,_){return op((0,U.m9)(D),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(D,_){return Bn.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(D,_){return eu.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function(D,_,v){return Id.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mo.USER_MAP=new WeakMap;const tc=we;let il=(()=>{class D{constructor(v,E){if(this.app=v,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=v.options;tc(k,"invalid-api-key",{appName:v.name});let O=[zn];if("undefined"!=typeof window){O=function(D,_){const v=tl();if(!(null==v?void 0:v.sessionStorage))return[];const E=Yn(Jb,D,_);switch(v.sessionStorage.getItem(E)){case Mr.NONE:return[zn];case Mr.LOCAL:return[ia,Bs];case Mr.SESSION:return[Bs];default:return[]}}(k,v.name);for(const _e of[ia,fp,Bs])O.includes(_e)||O.push(_e)}tc(k,"invalid-api-key",{appName:v.name});const Q="undefined"!=typeof window?Sr:void 0;this._delegate=E.initialize({options:{persistence:O,popupRedirectResolver:Q}}),this._delegate._updateErrorMap(ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,E){!function(D,_,v){const E=bn(D);we(E._canInitEmulator,E,"emulator-config-failed"),we(/^https?:\/\//.test(_),E,"invalid-emulator-scheme");const k=!!(null==v?void 0:v.disableWarnings),O=Sn(_),{host:Q,port:_e}=function(D){const _=Sn(D),v=/(\/\/)?([^?#/]+)/.exec(D.substr(_.length));if(!v)return{host:"",port:null};const E=v[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(E);if(k){const O=k[1];return{host:O,port:Ra(E.substr(O.length+1))}}{const[O,Q]=E.split(":");return{host:O,port:Ra(Q)}}}(_);E.config.emulator={url:`${O}//${Q}${null===_e?"":`:${_e}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Q,port:_e,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:k})}),function(D){function _(){const v=document.createElement("p"),E=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!D&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(k)}(this._delegate,v,E)}applyActionCode(v){return function(D,_){return Na.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Me(this._delegate,v)}confirmPasswordReset(v,E){return function(D,_,v){return ep.apply(this,arguments)}(this._delegate,v,E)}createUserWithEmailAndPassword(v,E){var k=this;return(0,a.Z)(function*(){return Li(k._delegate,function(D,_,v){return yo.apply(this,arguments)}(k._delegate,v,E))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(D,_){return ip.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(D,_){const v=Cd.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,a.Z)(function*(){tc(th(),v._delegate,"operation-not-supported-in-this-environment");const E=yield function(D,_){return b_.apply(this,arguments)}(v._delegate,Sr);return E?Li(v._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(D,_){bn(D)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,E,k){const{next:O,error:Q,complete:_e}=ih(v,E,k);return this._delegate.onAuthStateChanged(O,Q,_e)}onIdTokenChanged(v,E,k){const{next:O,error:Q,complete:_e}=ih(v,E,k);return this._delegate.onIdTokenChanged(O,Q,_e)}sendSignInLinkToEmail(v,E){return function(D,_,v){return Ul.apply(this,arguments)}(this._delegate,v,E)}sendPasswordResetEmail(v,E){return function(D,_,v){return Xf.apply(this,arguments)}(this._delegate,v,E||void 0)}setPersistence(v){var E=this;return(0,a.Z)(function*(){let k;switch(function(D,_){zs(Object.values(Mr).includes(_),D,"invalid-persistence-type"),(0,U.b$)()?zs(_!==Mr.SESSION,D,"unsupported-persistence-type"):(0,U.UG)()?zs(_===Mr.NONE,D,"unsupported-persistence-type"):eh()?zs(_===Mr.NONE||_===Mr.LOCAL&&(0,U.hl)(),D,"unsupported-persistence-type"):zs(_===Mr.NONE||Xd(),D,"unsupported-persistence-type")}(E._delegate,v),v){case Mr.SESSION:k=Bs;break;case Mr.LOCAL:k=(yield fe(ia)._isAvailable())?ia:fp;break;case Mr.NONE:k=zn;break;default:return it("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Li(this._delegate,function(D){return Kc.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Li(this._delegate,Zi(this._delegate,v))}signInWithCustomToken(v){return Li(this._delegate,function(D,_){return Md.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,E){return Li(this._delegate,function(D,_,v){return Zi((0,U.m9)(D),Dd.credential(_,v))}(this._delegate,v,E))}signInWithEmailLink(v,E){return Li(this._delegate,function(D,_,v){return Gl.apply(this,arguments)}(this._delegate,v,E))}signInWithPhoneNumber(v,E){return nl(this._delegate,function(D,_,v){return Jt.apply(this,arguments)}(this._delegate,v,E))}signInWithPopup(v){var E=this;return(0,a.Z)(function*(){return tc(th(),E._delegate,"operation-not-supported-in-this-environment"),Li(E._delegate,function(D,_,v){return Ud.apply(this,arguments)}(E._delegate,v,Sr))})()}signInWithRedirect(v){var E=this;return(0,a.Z)(function*(){return tc(th(),E._delegate,"operation-not-supported-in-this-environment"),yield Ai(E._delegate),function(D,_,v){return function(D,_,v){return __.apply(this,arguments)}(D,_,v)}(E._delegate,v,Sr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(D,_){return _n.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Mr,D})();function ih(D,_,v){let E=D;"function"!=typeof D&&({next:E,error:_,complete:v}=D);const k=E;return{next:Q=>k(Q&&Mo.getOrCreate(Q)),error:_,complete:v}}class rh{constructor(){this.providerId="phone",this._delegate=new sa(nh(ae.Z.auth()))}static credential(_,v){return sa.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}rh.PHONE_SIGN_IN_METHOD=sa.PHONE_SIGN_IN_METHOD,rh.PROVIDER_ID=sa.PROVIDER_ID;const sh=we;class zp{constructor(_,v,E=ae.Z.app()){var k;sh(null===(k=E.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new _p(_,v,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(D){D.INTERNAL.registerComponent(new q.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),E=_.getProvider("auth");return new il(v,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Dd,FacebookAuthProvider:qf,GithubAuthProvider:Qm,GoogleAuthProvider:Xo,OAuthProvider:Fa,PhoneAuthProvider:rh,PhoneMultiFactorGenerator:zb,RecaptchaVerifier:zp,TwitterAuthProvider:Zf,Auth:il,AuthCredential:zr,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.1.2")}(ae.Z)},3098:(Ye,xe,N)=>{"use strict";N.d(xe,{P:()=>le});var a=N(9193),ae=N(5917),U=N(205);class le{constructor(q,W,Y){this.kind=q,this.value=W,this.error=Y,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,W,Y){switch(this.kind){case"N":return q&&q(this.value);case"E":return W&&W(this.error);case"C":return Y&&Y()}}accept(q,W,Y){return q&&"function"==typeof q.next?this.observe(q):this.do(q,W,Y)}toObservable(){switch(this.kind){case"N":return(0,ae.of)(this.value);case"E":return(0,U._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new le("N",q):le.undefinedValueNotification}static createError(q){return new le("E",void 0,q)}static createComplete(){return le.completeNotification}}le.completeNotification=new le("C"),le.undefinedValueNotification=new le("N",void 0)},7574:(Ye,xe,N)=>{"use strict";N.d(xe,{y:()=>$});var a=N(7393),U=N(9181),oe=N(6490),J=N(6554),q=N(4487);var B=N(2494);let $=(()=>{class K{constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const he=new K;return he.source=this,he.operator=ye,he}subscribe(ye,he,Te){const{operator:ve}=this,Ie=function(K,X,ye){if(K){if(K instanceof a.L)return K;if(K[U.b])return K[U.b]()}return K||X||ye?new a.L(K,X,ye):new a.L(oe.c)}(ye,he,Te);if(Ie.add(ve?ve.call(Ie,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),B.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(ye){try{return this._subscribe(ye)}catch(he){B.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=he),function(K){for(;K;){const{closed:X,destination:ye,isStopped:he}=K;if(X||he)return!1;K=ye&&ye instanceof a.L?ye:null}return!0}(ye)?ye.error(he):console.warn(he)}}forEach(ye,he){return new(he=V(he))((Te,ve)=>{let Ie;Ie=this.subscribe(gt=>{try{ye(gt)}catch(it){ve(it),Ie&&Ie.unsubscribe()}},ve,Te)})}_subscribe(ye){const{source:he}=this;return he&&he.subscribe(ye)}[J.L](){return this}pipe(...ye){return 0===ye.length?this:function(K){return 0===K.length?q.y:1===K.length?K[0]:function(ye){return K.reduce((he,Te)=>Te(he),ye)}}(ye)(this)}toPromise(ye){return new(ye=V(ye))((he,Te)=>{let ve;this.subscribe(Ie=>ve=Ie,Ie=>Te(Ie),()=>he(ve))})}}return K.create=X=>new K(X),K})();function V(K){if(K||(K=B.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Ye,xe,N)=>{"use strict";N.d(xe,{c:()=>U});var a=N(2494),ae=N(4449);const U={closed:!0,next(oe){},error(oe){if(a.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,ae.z)(oe)},complete(){}}},9765:(Ye,xe,N)=>{"use strict";N.d(xe,{Yc:()=>q,xQ:()=>W});var a=N(7574),ae=N(7393),U=N(5319),oe=N(7971),le=N(8858),J=N(9181);class q extends ae.L{constructor($){super($),this.destination=$}}let W=(()=>{class B extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new q(this)}lift(V){const K=new Y(this,this);return K.operator=V,K}next(V){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:K}=this,X=K.length,ye=K.slice();for(let he=0;he<X;he++)ye[he].next(V)}}error(V){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:K}=this,X=K.length,ye=K.slice();for(let he=0;he<X;he++)ye[he].error(V);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:V}=this,K=V.length,X=V.slice();for(let ye=0;ye<K;ye++)X[ye].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new oe.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new oe.N;return this.hasError?(V.error(this.thrownError),U.w.EMPTY):this.isStopped?(V.complete(),U.w.EMPTY):(this.observers.push(V),new le.W(this,V))}asObservable(){const V=new a.y;return V.source=this,V}}return B.create=($,V)=>new Y($,V),B})();class Y extends W{constructor($,V){super(),this.destination=$,this.source=V}next($){const{destination:V}=this;V&&V.next&&V.next($)}error($){const{destination:V}=this;V&&V.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:V}=this;return V?this.source.subscribe($):U.w.EMPTY}}},8858:(Ye,xe,N)=>{"use strict";N.d(xe,{W:()=>ae});var a=N(5319);class ae extends a.w{constructor(oe,le){super(),this.subject=oe,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,le=oe.observers;if(this.subject=null,!le||0===le.length||oe.isStopped||oe.closed)return;const J=le.indexOf(this.subscriber);-1!==J&&le.splice(J,1)}}},7393:(Ye,xe,N)=>{"use strict";N.d(xe,{L:()=>q});var a=N(9105),ae=N(6490),U=N(5319),oe=N(9181),le=N(2494),J=N(4449);class q extends U.w{constructor(B,$,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ae.c;break;case 1:if(!B){this.destination=ae.c;break}if("object"==typeof B){B instanceof q?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,B,$,V)}}[oe.b](){return this}static create(B,$,V){const K=new q(B,$,V);return K.syncErrorThrowable=!1,K}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class W extends q{constructor(B,$,V,K){super(),this._parentSubscriber=B;let X,ye=this;(0,a.m)($)?X=$:$&&(X=$.next,V=$.error,K=$.complete,$!==ae.c&&(ye=Object.create($),(0,a.m)(ye.unsubscribe)&&this.add(ye.unsubscribe.bind(ye)),ye.unsubscribe=this.unsubscribe.bind(this))),this._context=ye,this._next=X,this._error=V,this._complete=K}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;le.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:V}=le.v;if(this._error)V&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if($.syncErrorThrowable)V?($.syncErrorValue=B,$.syncErrorThrown=!0):(0,J.z)(B),this.unsubscribe();else{if(this.unsubscribe(),V)throw B;(0,J.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const $=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,$){try{B.call(this._context,$)}catch(V){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw V;(0,J.z)(V)}}__tryOrSetError(B,$,V){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,V)}catch(K){return le.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=K,B.syncErrorThrown=!0,!0):((0,J.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(Ye,xe,N)=>{"use strict";N.d(xe,{w:()=>J});var a=N(9796),ae=N(1555),U=N(9105);const le=(()=>{function W(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((B,$)=>`${$+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return W.prototype=Object.create(Error.prototype),W})();class J{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:$,_unsubscribe:V,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof J)B.remove(this);else if(null!==B)for(let X=0;X<B.length;++X)B[X].remove(this);if((0,U.m)(V)){$&&(this._unsubscribe=void 0);try{V.call(this)}catch(X){Y=X instanceof le?q(X.errors):[X]}}if((0,a.k)(K)){let X=-1,ye=K.length;for(;++X<ye;){const he=K[X];if((0,ae.K)(he))try{he.unsubscribe()}catch(Te){Y=Y||[],Te instanceof le?Y=Y.concat(q(Te.errors)):Y.push(Te)}}}if(Y)throw new le(Y)}add(Y){let B=Y;if(!Y)return J.EMPTY;switch(typeof Y){case"function":B=new J(Y);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof J)){const K=B;B=new J,B._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:$}=B;if(null===$)B._parentOrParents=this;else if($ instanceof J){if($===this)return B;B._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return B;$.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[B]:V.push(B),B}remove(Y){const B=this._subscriptions;if(B){const $=B.indexOf(Y);-1!==$&&B.splice($,1)}}}var W;function q(W){return W.reduce((Y,B)=>Y.concat(B instanceof le?B.errors:B),[])}J.EMPTY=((W=new J).closed=!0,W)},2494:(Ye,xe,N)=>{"use strict";N.d(xe,{v:()=>ae});let a=!1;const ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=U},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(Ye,xe,N)=>{"use strict";N.d(xe,{IY:()=>oe,Ds:()=>J,ft:()=>W});var a=N(7393),ae=N(7574),U=N(7444);class oe extends a.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends a.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function W(Y,B){if(B.closed)return;if(Y instanceof ae.y)return Y.subscribe(B);let $;try{$=(0,U.s)(Y)(B)}catch(V){B.error(V)}return $}},2441:(Ye,xe,N)=>{"use strict";N.d(xe,{c:()=>le,N:()=>J});var a=N(9765),ae=N(7574),U=N(5319),oe=N(1307);class le extends ae.y{constructor($,V){super(),this.source=$,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new U.w,$.add(this.source.subscribe(new q(this.getSubject(),this))),$.closed&&(this._connection=null,$=U.w.EMPTY)),$}refCount(){return(0,oe.x)()(this)}}const J=(()=>{const B=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class q extends a.Yc{constructor($,V){super($),this.connectable=V}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const V=$._connection;$._refCount=0,$._subject=null,$._connection=null,V&&V.unsubscribe()}}}},9193:(Ye,xe,N)=>{"use strict";N.d(xe,{E:()=>ae,c:()=>U});var a=N(7574);const ae=new a.y(le=>le.complete());function U(le){return le?function(le){return new a.y(J=>le.schedule(()=>J.complete()))}(le):ae}},4402:(Ye,xe,N)=>{"use strict";N.d(xe,{D:()=>ye});var a=N(7574),ae=N(7444),U=N(5319),oe=N(6554),q=N(4087),W=N(377),$=N(4072),V=N(9489);function ye(he,Te){return Te?function(he,Te){if(null!=he){if(function(he){return he&&"function"==typeof he[oe.L]}(he))return function(he,Te){return new a.y(ve=>{const Ie=new U.w;return Ie.add(Te.schedule(()=>{const gt=he[oe.L]();Ie.add(gt.subscribe({next(it){Ie.add(Te.schedule(()=>ve.next(it)))},error(it){Ie.add(Te.schedule(()=>ve.error(it)))},complete(){Ie.add(Te.schedule(()=>ve.complete()))}}))})),Ie})}(he,Te);if((0,$.t)(he))return function(he,Te){return new a.y(ve=>{const Ie=new U.w;return Ie.add(Te.schedule(()=>he.then(gt=>{Ie.add(Te.schedule(()=>{ve.next(gt),Ie.add(Te.schedule(()=>ve.complete()))}))},gt=>{Ie.add(Te.schedule(()=>ve.error(gt)))}))),Ie})}(he,Te);if((0,V.z)(he))return(0,q.r)(he,Te);if(function(he){return he&&"function"==typeof he[W.hZ]}(he)||"string"==typeof he)return function(he,Te){if(!he)throw new Error("Iterable cannot be null");return new a.y(ve=>{const Ie=new U.w;let gt;return Ie.add(()=>{gt&&"function"==typeof gt.return&&gt.return()}),Ie.add(Te.schedule(()=>{gt=he[W.hZ](),Ie.add(Te.schedule(function(){if(ve.closed)return;let it,ct;try{const Lt=gt.next();it=Lt.value,ct=Lt.done}catch(Lt){return void ve.error(Lt)}ct?ve.complete():(ve.next(it),this.schedule())}))})),Ie})}(he,Te)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,Te):he instanceof a.y?he:new a.y((0,ae.s)(he))}},6693:(Ye,xe,N)=>{"use strict";N.d(xe,{n:()=>oe});var a=N(7574),ae=N(5015),U=N(4087);function oe(le,J){return J?(0,U.r)(le,J):new a.y((0,ae.V)(le))}},6682:(Ye,xe,N)=>{"use strict";N.d(xe,{T:()=>le});var a=N(7574),ae=N(4869),U=N(3282),oe=N(6693);function le(...J){let q=Number.POSITIVE_INFINITY,W=null,Y=J[J.length-1];return(0,ae.K)(Y)?(W=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(q=J.pop())):"number"==typeof Y&&(q=J.pop()),null===W&&1===J.length&&J[0]instanceof a.y?J[0]:(0,U.J)(q)((0,oe.n)(J,W))}},5917:(Ye,xe,N)=>{"use strict";N.d(xe,{of:()=>oe});var a=N(4869),ae=N(6693),U=N(4087);function oe(...le){let J=le[le.length-1];return(0,a.K)(J)?(le.pop(),(0,U.r)(le,J)):(0,ae.n)(le)}},205:(Ye,xe,N)=>{"use strict";N.d(xe,{_:()=>ae});var a=N(7574);function ae(oe,le){return new a.y(le?J=>le.schedule(U,0,{error:oe,subscriber:J}):J=>J.error(oe))}function U({error:oe,subscriber:le}){le.error(oe)}},8002:(Ye,xe,N)=>{"use strict";N.d(xe,{U:()=>ae});var a=N(7393);function ae(le,J){return function(W){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new U(le,J))}}class U{constructor(J,q){this.project=J,this.thisArg=q}call(J,q){return q.subscribe(new oe(J,this.project,this.thisArg))}}class oe extends a.L{constructor(J,q,W){super(J),this.project=q,this.count=0,this.thisArg=W||this}_next(J){let q;try{q=this.project.call(this.thisArg,J,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(q)}}},3282:(Ye,xe,N)=>{"use strict";N.d(xe,{J:()=>U});var a=N(9773),ae=N(4487);function U(oe=Number.POSITIVE_INFINITY){return(0,a.zg)(ae.y,oe)}},9773:(Ye,xe,N)=>{"use strict";N.d(xe,{zg:()=>oe});var a=N(8002),ae=N(4402),U=N(5345);function oe(W,Y,B=Number.POSITIVE_INFINITY){return"function"==typeof Y?$=>$.pipe(oe((V,K)=>(0,ae.D)(W(V,K)).pipe((0,a.U)((X,ye)=>Y(V,X,K,ye))),B)):("number"==typeof Y&&(B=Y),$=>$.lift(new le(W,B)))}class le{constructor(Y,B=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=B}call(Y,B){return B.subscribe(new J(Y,this.project,this.concurrent))}}class J extends U.Ds{constructor(Y,B,$=Number.POSITIVE_INFINITY){super(Y),this.project=B,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let B;const $=this.index++;try{B=this.project(Y,$)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(B)}_innerSub(Y){const B=new U.IY(this),$=this.destination;$.add(B);const V=(0,U.ft)(Y,B);V!==B&&$.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ye,xe,N)=>{"use strict";N.d(xe,{QV:()=>U,ht:()=>le});var a=N(7393),ae=N(3098);function U(q,W=0){return function(B){return B.lift(new oe(q,W))}}class oe{constructor(W,Y=0){this.scheduler=W,this.delay=Y}call(W,Y){return Y.subscribe(new le(W,this.scheduler,this.delay))}}class le extends a.L{constructor(W,Y,B=0){super(W),this.scheduler=Y,this.delay=B}static dispatch(W){const{notification:Y,destination:B}=W;Y.observe(B),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(le.dispatch,this.delay,new J(W,this.destination)))}_next(W){this.scheduleMessage(ae.P.createNext(W))}_error(W){this.scheduleMessage(ae.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(ae.P.createComplete()),this.unsubscribe()}}class J{constructor(W,Y){this.notification=W,this.destination=Y}}},1307:(Ye,xe,N)=>{"use strict";N.d(xe,{x:()=>ae});var a=N(7393);function ae(){return function(J){return J.lift(new U(J))}}class U{constructor(J){this.connectable=J}call(J,q){const{connectable:W}=this;W._refCount++;const Y=new oe(J,W),B=q.subscribe(Y);return Y.closed||(Y.connection=W.connect()),B}}class oe extends a.L{constructor(J,q){super(J),this.connectable=q}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const q=J._refCount;if(q<=0)return void(this.connection=null);if(J._refCount=q-1,q>1)return void(this.connection=null);const{connection:W}=this,Y=J._connection;this.connection=null,Y&&(!W||Y===W)&&Y.unsubscribe()}}},8819:(Ye,xe,N)=>{"use strict";N.d(xe,{B:()=>q});var a=N(2441);var oe=N(1307),le=N(9765);function J(){return new le.xQ}function q(){return W=>(0,oe.x)()(function(W,Y){return function($){let V;V="function"==typeof W?W:function(){return W};const K=Object.create($,a.N);return K.source=$,K.subjectFactory=V,K}}(J)(W))}},9673:(Ye,xe,N)=>{"use strict";N.d(xe,{R:()=>le});var a=N(7574),ae=N(4581),U=N(6561);class oe extends a.y{constructor(W,Y=0,B=ae.e){super(),this.source=W,this.delayTime=Y,this.scheduler=B,(!(0,U.k)(Y)||Y<0)&&(this.delayTime=0),(!B||"function"!=typeof B.schedule)&&(this.scheduler=ae.e)}static create(W,Y=0,B=ae.e){return new oe(W,Y,B)}static dispatch(W){const{source:Y,subscriber:B}=W;return this.add(Y.subscribe(B))}_subscribe(W){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function le(q,W=0){return function(B){return B.lift(new J(q,W))}}class J{constructor(W,Y){this.scheduler=W,this.delay=Y}call(W,Y){return new oe(Y,this.delay,this.scheduler).subscribe(W)}}},3342:(Ye,xe,N)=>{"use strict";N.d(xe,{b:()=>oe});var a=N(7393);function ae(){}var U=N(9105);function oe(q,W,Y){return function($){return $.lift(new le(q,W,Y))}}class le{constructor(W,Y,B){this.nextOrObserver=W,this.error=Y,this.complete=B}call(W,Y){return Y.subscribe(new J(W,this.nextOrObserver,this.error,this.complete))}}class J extends a.L{constructor(W,Y,B,$){super(W),this._tapNext=ae,this._tapError=ae,this._tapComplete=ae,this._tapError=B||ae,this._tapComplete=$||ae,(0,U.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||ae,this._tapError=Y.error||ae,this._tapComplete=Y.complete||ae)}_next(W){try{this._tapNext.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Ye,xe,N)=>{"use strict";N.d(xe,{r:()=>U});var a=N(7574),ae=N(5319);function U(oe,le){return new a.y(J=>{const q=new ae.w;let W=0;return q.add(le.schedule(function(){W!==oe.length?(J.next(oe[W++]),J.closed||q.add(this.schedule())):J.complete()})),q})}},6465:(Ye,xe,N)=>{"use strict";N.d(xe,{o:()=>U});var a=N(5319);class ae extends a.w{constructor(le,J){super()}schedule(le,J=0){return this}}class U extends ae{constructor(le,J){super(le,J),this.scheduler=le,this.work=J,this.pending=!1}schedule(le,J=0){if(this.closed)return this;this.state=le;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(W,this.id,J),this}requestAsyncId(le,J,q=0){return setInterval(le.flush.bind(le,this),q)}recycleAsyncId(le,J,q=0){if(null!==q&&this.delay===q&&!1===this.pending)return J;clearInterval(J)}execute(le,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(le,J);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,J){let W,q=!1;try{this.work(le)}catch(Y){q=!0,W=!!Y&&Y||new Error(Y)}if(q)return this.unsubscribe(),W}_unsubscribe(){const le=this.id,J=this.scheduler,q=J.actions,W=q.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&q.splice(W,1),null!=le&&(this.id=this.recycleAsyncId(J,le,null)),this.delay=null}}},6102:(Ye,xe,N)=>{"use strict";N.d(xe,{v:()=>ae});let a=(()=>{class U{constructor(le,J=U.now){this.SchedulerAction=le,this.now=J}schedule(le,J=0,q){return new this.SchedulerAction(this,le).schedule(q,J)}}return U.now=()=>Date.now(),U})();class ae extends a{constructor(oe,le=a.now){super(oe,()=>ae.delegate&&ae.delegate!==this?ae.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,le=0,J){return ae.delegate&&ae.delegate!==this?ae.delegate.schedule(oe,le,J):super.schedule(oe,le,J)}flush(oe){const{actions:le}=this;if(this.active)return void le.push(oe);let J;this.active=!0;do{if(J=oe.execute(oe.state,oe.delay))break}while(oe=le.shift());if(this.active=!1,J){for(;oe=le.shift();)oe.unsubscribe();throw J}}}},4581:(Ye,xe,N)=>{"use strict";N.d(xe,{e:()=>V,E:()=>$});let a=1;const ae=Promise.resolve(),U={};function oe(K){return K in U&&(delete U[K],!0)}const le={setImmediate(K){const X=a++;return U[X]=!0,ae.then(()=>oe(X)&&K()),X},clearImmediate(K){oe(K)}};var q=N(6465),Y=N(6102);const $=new class extends Y.v{flush(X){this.active=!0,this.scheduled=void 0;const{actions:ye}=this;let he,Te=-1,ve=ye.length;X=X||ye.shift();do{if(he=X.execute(X.state,X.delay))break}while(++Te<ve&&(X=ye.shift()));if(this.active=!1,he){for(;++Te<ve&&(X=ye.shift());)X.unsubscribe();throw he}}}(class extends q.o{constructor(X,ye){super(X,ye),this.scheduler=X,this.work=ye}requestAsyncId(X,ye,he=0){return null!==he&&he>0?super.requestAsyncId(X,ye,he):(X.actions.push(this),X.scheduled||(X.scheduled=le.setImmediate(X.flush.bind(X,null))))}recycleAsyncId(X,ye,he=0){if(null!==he&&he>0||null===he&&this.delay>0)return super.recycleAsyncId(X,ye,he);0===X.actions.length&&(le.clearImmediate(ye),X.scheduled=void 0)}}),V=$},3637:(Ye,xe,N)=>{"use strict";N.d(xe,{z:()=>U,P:()=>oe});var a=N(6465);const U=new(N(6102).v)(a.o),oe=U},7771:(Ye,xe,N)=>{"use strict";N.d(xe,{c:()=>J,N:()=>le});var a=N(6465),U=N(6102);const le=new class extends U.v{}(class extends a.o{constructor(W,Y){super(W,Y),this.scheduler=W,this.work=Y}schedule(W,Y=0){return Y>0?super.schedule(W,Y):(this.delay=Y,this.state=W,this.scheduler.flush(this),this)}execute(W,Y){return Y>0||this.closed?super.execute(W,Y):this._execute(W,Y)}requestAsyncId(W,Y,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(W,Y,B):W.flush(this)}}),J=le},377:(Ye,xe,N)=>{"use strict";N.d(xe,{hZ:()=>ae});const ae="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,xe,N)=>{"use strict";N.d(xe,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,xe,N)=>{"use strict";N.d(xe,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,xe,N)=>{"use strict";N.d(xe,{N:()=>ae});const ae=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Ye,xe,N)=>{"use strict";function a(ae){setTimeout(()=>{throw ae},0)}N.d(xe,{z:()=>a})},4487:(Ye,xe,N)=>{"use strict";function a(ae){return ae}N.d(xe,{y:()=>a})},9796:(Ye,xe,N)=>{"use strict";N.d(xe,{k:()=>a});const a=Array.isArray||(ae=>ae&&"number"==typeof ae.length)},9489:(Ye,xe,N)=>{"use strict";N.d(xe,{z:()=>a});const a=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},9105:(Ye,xe,N)=>{"use strict";function a(ae){return"function"==typeof ae}N.d(xe,{m:()=>a})},6561:(Ye,xe,N)=>{"use strict";N.d(xe,{k:()=>ae});var a=N(9796);function ae(U){return!(0,a.k)(U)&&U-parseFloat(U)+1>=0}},1555:(Ye,xe,N)=>{"use strict";function a(ae){return null!==ae&&"object"==typeof ae}N.d(xe,{K:()=>a})},4072:(Ye,xe,N)=>{"use strict";function a(ae){return!!ae&&"function"!=typeof ae.subscribe&&"function"==typeof ae.then}N.d(xe,{t:()=>a})},4869:(Ye,xe,N)=>{"use strict";function a(ae){return ae&&"function"==typeof ae.schedule}N.d(xe,{K:()=>a})},7444:(Ye,xe,N)=>{"use strict";N.d(xe,{s:()=>$});var a=N(5015),ae=N(4449),oe=N(377),J=N(6554),W=N(9489),Y=N(4072),B=N(1555);const $=V=>{if(V&&"function"==typeof V[J.L])return(V=>K=>{const X=V[J.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(K)})(V);if((0,W.z)(V))return(0,a.V)(V);if((0,Y.t)(V))return(V=>K=>(V.then(X=>{K.closed||(K.next(X),K.complete())},X=>K.error(X)).then(null,ae.z),K))(V);if(V&&"function"==typeof V[oe.hZ])return(V=>K=>{const X=V[oe.hZ]();for(;;){let ye;try{ye=X.next()}catch(he){return K.error(he),K}if(ye.done){K.complete();break}if(K.next(ye.value),K.closed)break}return"function"==typeof X.return&&K.add(()=>{X.return&&X.return()}),K})(V);{const X=`You provided ${(0,B.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},5015:(Ye,xe,N)=>{"use strict";N.d(xe,{V:()=>a});const a=ae=>U=>{for(let oe=0,le=ae.length;oe<le&&!U.closed;oe++)U.next(ae[oe]);U.complete()}},4042:(Ye,xe,N)=>{"use strict";var a=N(7716);let ae=null;function U(){return ae}const q=new a.OlP("DocumentToken");let W=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:Y,token:r,providedIn:"platform"}),r})();function Y(){return(0,a.LFG)($)}const B=new a.OlP("Location Initialized");let $=(()=>{class r extends W{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,o){V()?this._history.pushState(n,s,o):this.location.hash=o}replaceState(n,s,o){V()?this._history.replaceState(n,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:K,token:r,providedIn:"platform"}),r})();function V(){return!!window.history.pushState}function K(){return new $((0,a.LFG)(q))}function X(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function ye(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function he(r){return r&&"?"!==r[0]?"?"+r:r}let Te=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:ve,token:r,providedIn:"root"}),r})();function ve(r){const i=(0,a.LFG)(q).location;return new gt((0,a.LFG)(W),i&&i.origin||"")}const Ie=new a.OlP("appBaseHref");let gt=(()=>{class r extends Te{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return X(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+he(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${s}${o}`:s}pushState(n,s,o,u){const f=this.prepareExternalUrl(o+he(u));this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,u){const f=this.prepareExternalUrl(o+he(u));this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(W),a.LFG(Ie,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),it=(()=>{class r extends Te{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=X(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,o,u){let f=this.prepareExternalUrl(o+he(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,u){let f=this.prepareExternalUrl(o+he(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(W),a.LFG(Ie,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),ct=(()=>{class r{constructor(n,s){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ye(cn(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+he(s))}normalize(n){return r.stripTrailingSlash(function(r,i){return r&&i.startsWith(r)?i.substring(r.length):i}(this._baseHref,cn(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",o=null){this._platformStrategy.pushState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+he(s)),o)}replaceState(n,s="",o=null){this._platformStrategy.replaceState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+he(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(o=>o(n,s))}subscribe(n,s,o){return this._subject.subscribe({next:n,error:s,complete:o})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Te),a.LFG(W))},r.normalizeQueryParams=he,r.joinWithSlash=X,r.stripTrailingSlash=ye,r.\u0275prov=(0,a.Yz7)({factory:Lt,token:r,providedIn:"root"}),r})();function Lt(){return new ct((0,a.LFG)(Te),(0,a.LFG)(W))}function cn(r){return r.replace(/\/index.html$/,"")}var ce=(()=>((ce=ce||{})[ce.Zero=0]="Zero",ce[ce.One=1]="One",ce[ce.Two=2]="Two",ce[ce.Few=3]="Few",ce[ce.Many=4]="Many",ce[ce.Other=5]="Other",ce))();const fo=a.kL8;class zr{}let Yc=(()=>{class r extends zr{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(fo(s||this.locale)(n)){case ce.Zero:return"zero";case ce.One:return"one";case ce.Two:return"two";case ce.Few:return"few";case ce.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.soG))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();let wr=(()=>{class r{constructor(n,s,o,u){this._iterableDiffers=n,this._keyValueDiffers=s,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),n.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!0)):Object.keys(n).forEach(s=>this._toggleClass(s,!!n[s])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!1)):Object.keys(n).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(n,s){(n=n.trim())&&n.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class fs{constructor(i,n,s,o){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ht=(()=>{class r{constructor(n,s,o){this._viewContainer=n,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((o,u,f)=>{if(null==o.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new fs(null,this._ngForOf,-1,-1),null===f?void 0:f),w=new qc(o,g);s.push(w)}else if(null==f)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,f);const w=new qc(o,g);s.push(w)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,u=this._viewContainer.length;o<u;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=u,f.context.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class qc{constructor(i,n){this.record=i,this.view=n}}let gi=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new $c,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Fl("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Fl("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class $c{constructor(){this.$implicit=null,this.ngIf=null}}function Fl(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,a.AaK)(i)}'.`)}class Jo{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Yr=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),Ln=(()=>{class r{constructor(n,s,o){this.ngSwitch=o,o._addCase(),this._view=new Jo(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Yr,9))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),gs=(()=>{class r{constructor(n,s,o){this._ngEl=n,this._differs=s,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[o,u]=n.split(".");null!=(s=null!=s&&u?`${s}${u}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,o,s):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})();class $m{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class Db{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const Fs=new Db,Bx=new $m;let Oa=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,a.QGY)(n))return Fs;if((0,a.F4k)(n))return Bx;throw function(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,a.AaK)(r)}'`)}(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.sBO,16))},r.\u0275pipe=a.Yjl({name:"async",type:r,pure:!1}),r})(),Ni=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[{provide:zr,useClass:Yc}]}),r})();function mo(r){return"browser"===r}function Ns(r){return"server"===r}let Kc=(()=>{class r{}return r.\u0275prov=(0,a.Yz7)({token:r,providedIn:"root",factory:()=>new Qc((0,a.LFG)(q),window)}),r})();class Qc{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(i)||u.querySelector(`[name="${i}"]`);if(f)return f}o=s.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=i)}}scrollToElement(i){const n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(s-u[0],o-u[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=Jc(this.window.history)||Jc(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function Jc(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class xd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new xd,ae||(ae=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(_o=_o||document.querySelector("base"),_o?_o.getAttribute("href"):null);return null==n?null:function(r){Cn=Cn||document.createElement("a"),Cn.setAttribute("href",r);const i=Cn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){_o=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[o,u]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(o.trim()===i)return decodeURIComponent(u)}return null}(document.cookie,i)}}let Cn,_o=null;const e_=new a.OlP("TRANSITION_ID"),Zi=[{provide:a.ip1,useFactory:function(r,i,n){return()=>{n.get(a.CZH).donePromise.then(()=>{const s=U(),o=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<o.length;u++)s.remove(o[u])})}},deps:[e_,q,a.zs3],multi:!0}];class Xc{static init(){(0,a.VLi)(new Xc)}addToWindow(i){a.dqk.getAngularTestability=(s,o=!0)=>{const u=i.findTestabilityInTree(s,o);if(null==u)throw new Error("Could not find testability for element.");return u},a.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(s=>{const o=a.dqk.getAllAngularTestabilities();let u=o.length,f=!1;const g=function(w){f=f||w,u--,0==u&&s(f)};o.forEach(function(w){w.whenStable(g)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const o=i.getTestability(n);return null!=o?o:s?U().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let Ed=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Na=new a.OlP("EventManagerPlugins");let Me=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,o){return this._findPluginFor(s).addEventListener(n,s,o)}addGlobalEventListener(n,s,o){return this._findPluginFor(s).addGlobalEventListener(n,s,o)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const o=this._plugins;for(let u=0;u<o.length;u++){const f=o[u];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Na),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class Pt{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const o=U().getGlobalEventTarget(this._doc,i);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,s)}}let tp=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),_n=(()=>{class r extends tp{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,o){n.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,o.push(s.appendChild(f))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(np),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(n,o,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(np))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function np(r){U().remove(r)}const yo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$r=/%COMP%/g;function qn(r,i,n){for(let s=0;s<i.length;s++){let o=i[s];Array.isArray(o)?qn(r,o,n):(o=o.replace($r,r),n.push(o))}return n}function _s(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let vo=(()=>{class r{constructor(n,s,o){this.eventManager=n,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Dr(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case a.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new rp(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(n),o}case 1:case a.ifc.ShadowDom:return new sp(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const o=qn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Me),a.LFG(_n),a.LFG(a.AFp))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class Dr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(yo[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,o){if(o){n=o+":"+n;const u=yo[o];u?i.setAttributeNS(u,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const o=yo[s];o?i.removeAttributeNS(o,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,o){o&(a.JOm.DashCase|a.JOm.Important)?i.style.setProperty(n,s,o&a.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&a.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,_s(s)):this.eventManager.addEventListener(i,n,_s(s))}}class rp extends Dr{constructor(i,n,s,o){super(i),this.component=s;const u=qn(o+"-"+s.id,s.styles,[]);n.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace($r,o+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace($r,r)}(o+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class sp extends Dr{constructor(i,n,s,o){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=qn(o.id,o.styles,[]);for(let f=0;f<u.length;f++){const g=document.createElement("style");g.textContent=u[f],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let eu=(()=>{class r extends Pt{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,o){return n.addEventListener(s,o,!1),()=>this.removeEventListener(n,s,o)}removeEventListener(n,s,o){return n.removeEventListener(s,o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const nu=["alt","control","meta","shift"],Rb={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ob={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Wx=(()=>{class r extends Pt{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,o){const u=r.parseEventName(s),f=r.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,u.domEventName,f))}static parseEventName(n){const s=n.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const u=r._normalizeKey(s.pop());let f="";if(nu.forEach(w=>{const x=s.indexOf(w);x>-1&&(s.splice(x,1),f+=w+".")}),f+=u,0!=s.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=f,g}static getEventFullKey(n){let s="",o=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&Wi.hasOwnProperty(i)&&(i=Wi[i]))}return Rb[i]||i}(n);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),nu.forEach(u=>{u!=o&&Ob[u](n)&&(s+=u+".")}),s+=o,s}static eventCallback(n,s,o){return u=>{r.getEventFullKey(u)===n&&o.runGuarded(()=>s(u))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),xr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:function(){return(0,a.LFG)(zl)},token:r,providedIn:"root"}),r})(),zl=(()=>{class r extends xr{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case a.q3G.NONE:return s;case a.q3G.HTML:return(0,a.qzn)(s,"HTML")?(0,a.z3N)(s):(0,a.EiD)(this._doc,String(s)).toString();case a.q3G.STYLE:return(0,a.qzn)(s,"Style")?(0,a.z3N)(s):s;case a.q3G.SCRIPT:if((0,a.qzn)(s,"Script"))return(0,a.z3N)(s);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(s),(0,a.qzn)(s,"URL")?(0,a.z3N)(s):(0,a.mCW)(String(s));case a.q3G.RESOURCE_URL:if((0,a.qzn)(s,"ResourceURL"))return(0,a.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,a.JVY)(n)}bypassSecurityTrustStyle(n){return(0,a.L6k)(n)}bypassSecurityTrustScript(n){return(0,a.eBb)(n)}bypassSecurityTrustUrl(n){return(0,a.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,a.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return function(r){return new zl(r.get(q))}((0,a.LFG)(a.gxx))},token:r,providedIn:"root"}),r})();const iu=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){xd.makeCurrent(),Xc.init()},multi:!0},{provide:q,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),dp=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:Na,useClass:eu,multi:!0,deps:[q,a.R0b,a.Lbi]},{provide:Na,useClass:Wx,multi:!0,deps:[q]},[],{provide:vo,useClass:vo,deps:[Me,_n,a.AFp]},{provide:a.FYo,useExisting:vo},{provide:tp,useExisting:_n},{provide:_n,useClass:_n,deps:[q]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Me,useClass:Me,deps:[Na,a.R0b]},{provide:class{},useClass:Ed,deps:[]},[]];let hp=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:a.AFp,useValue:n.appId},{provide:e_,useExisting:a.AFp},Zi]}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(r,12))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:dp,imports:[Ni,a.hGG]}),r})();"undefined"!=typeof window&&window;var Zt=N(4402),je=N(5917),ke=N(9765),Ld=N(7971);class Ki extends ke.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ld.N;return this._value}next(i){super.next(this._value=i)}}var Va=N(4869),Yl=N(9796),Mi=N(7393);class Nb extends Mi.L{notifyNext(i,n,s,o,u){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class Kx extends Mi.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ia=N(7444),on=N(7574);function Lb(r,i,n,s,o=new Kx(r,n,s)){if(!o.closed)return i instanceof on.y?i.subscribe(o):(0,ia.s)(i)(o)}var d_=N(6693);const ou={};function Ua(...r){let i,n;return(0,Va.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Yl.k)(r[0])&&(r=r[0]),(0,d_.n)(r,n).lift(new mp(i))}class mp{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new Bd(i,this.resultSelector))}}class Bd extends Nb{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(ou),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(Lb(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const o=this.values,f=this.toRespond?o[s]===ou?--this.toRespond:this.toRespond:0;o[s]=n,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}const wo=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();var Zr=N(3282);function ra(...r){return(0,Zr.J)(1)((0,je.of)(...r))}var Wr=N(9193);function Kr(r){return new on.y(i=>{let n;try{n=r()}catch(o){return void i.error(o)}return(n?(0,Zt.D)(n):(0,Wr.c)()).subscribe(i)})}var Qx=N(2441),rt=N(8002),Qr=N(5345);function Tn(r,i){return"function"==typeof i?n=>n.pipe(Tn((s,o)=>(0,Zt.D)(r(s,o)).pipe((0,rt.U)((u,f)=>i(s,u,o,f))))):n=>n.lift(new Bb(r))}class Bb{constructor(i){this.project=i}call(i,n){return n.subscribe(new xn(i,this.project))}}class xn extends Qr.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(o){return void this.destination.error(o)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new Qr.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,Qr.ft)(i,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}const _p=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();function hn(r){return i=>0===r?(0,Wr.c)():i.lift(new f_(r))}class f_{constructor(i){if(this.total=i,this.total<0)throw new _p}call(i,n){return n.subscribe(new Xx(i,this.total))}}class Xx extends Mi.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function Jt(...r){const i=r[r.length-1];return(0,Va.K)(i)?(r.pop(),n=>ra(r,n,i)):n=>ra(r,n)}function Vd(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new p_(r,i,n))}}class p_{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new eE(i,this.accumulator,this.seed,this.hasSeed))}}class eE extends Mi.L{constructor(i,n,s,o){super(i),this.accumulator=n,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function Nt(r,i){return function(s){return s.lift(new yp(r,i))}}class yp{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new Ga(i,this.predicate,this.thisArg))}}class Ga extends Mi.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}function Ha(r){return function(n){const s=new Bn(r),o=n.lift(s);return s.caught=o}}class Bn{constructor(i){this.selector=i}call(i,n){return n.subscribe(new sa(i,this.selector,this.caught))}}class sa extends Qr.Ds{constructor(i,n,s){super(i),this.selector=n,this.caught=s}error(i){if(!this.isStopped){let n;try{n=this.selector(i,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const s=new Qr.IY(this);this.add(s);const o=(0,Qr.ft)(n,s);o!==s&&this.add(o)}}}var Dn=N(9773);function ja(r,i){return(0,Dn.zg)(r,i,1)}function vp(r){return function(n){return 0===r?(0,Wr.c)():n.lift(new Jr(r))}}class Jr{constructor(i){if(this.total=i,this.total<0)throw new _p}call(i,n){return n.subscribe(new Us(i,this.total))}}class Us extends Mi.L{constructor(i,n){super(i),this.total=n,this.ring=new Array,this.count=0}_next(i){const n=this.ring,s=this.total,o=this.count++;n.length<s?n.push(i):n[o%s]=i}_complete(){const i=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let u=0;u<s;u++){const f=n++%s;i.next(o[f])}}i.complete()}}function za(r=g_){return i=>i.lift(new oa(r))}class oa{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new aa(i,this.errorFactory))}}class aa extends Mi.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function g_(){return new wo}function Ud(r=null){return i=>i.lift(new Vb(r))}class Vb{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new m_(i,this.defaultValue))}}class m_ extends Mi.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ub=N(4487);function In(r,i){const n=arguments.length>=2;return s=>s.pipe(r?Nt((o,u)=>r(o,u,s)):Ub.y,hn(1),n?Ud(i):za(()=>new wo))}var Zn=N(3342),la=N(1307),Wt=N(5319);function bp(r){return i=>i.lift(new wp(r))}class wp{constructor(i){this.callback=i}call(i,n){return n.subscribe(new Cp(i,this.callback))}}class Cp extends Mi.L{constructor(i,n){super(i),this.add(new Wt.w(n))}}class ys{constructor(i,n){this.id=i,this.url=n}}class Dp extends ys{constructor(i,n,s="imperative",o=null){super(i,n),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ya extends ys{constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qa extends ys{constructor(i,n,s){super(i,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xp extends ys{constructor(i,n,s){super(i,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hd extends ys{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class __ extends ys{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class au extends ys{constructor(i,n,s,o,u){super(i,n),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ep extends ys{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ca extends ys{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y_{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class v_{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mp{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sp{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b_{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $l{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ua{constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class Ap{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function fn(r){return new Ap(r)}const jd="ngNavigationCancelingError";function zd(r){const i=Error("NavigationCancelingError: "+r);return i[jd]=!0,i}function lu(r,i,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||s.length<r.length))return null;const o={};for(let u=0;u<s.length;u++){const f=s[u],g=r[u];if(f.startsWith(":"))o[f.substring(1)]=g;else if(f!==g.path)return null}return{consumed:r.slice(0,s.length),posParams:o}}function Er(r,i){const n=r?Object.keys(r):void 0,s=i?Object.keys(i):void 0;if(!n||!s||n.length!=s.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!Tp(r[o],i[o]))return!1;return!0}function Tp(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),s=[...i].sort();return n.every((o,u)=>s[u]===o)}return r===i}function Gb(r){return Array.prototype.concat.apply([],r)}function $a(r){return r.length>0?r[r.length-1]:null}function Wn(r,i){for(const n in r)r.hasOwnProperty(n)&&i(r[n],n)}function Si(r){return(0,a.CqO)(r)?r:(0,a.QGY)(r)?(0,Zt.D)(Promise.resolve(r)):(0,je.of)(r)}const D_={exact:function E_(r,i,n){if(!Ka(r.segments,i.segments)||!Yd(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!r.children[s]||!E_(r.children[s],i.children[s],n))return!1;return!0},subset:Wa},Za={exact:function(r,i){return Er(r,i)},subset:function(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>Tp(r[n],i[n]))},ignored:()=>!0};function cu(r,i,n){return D_[n.paths](r.root,i.root,n.matrixParams)&&Za[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function Wa(r,i,n){return Zl(r,i,i.segments,n)}function Zl(r,i,n,s){if(r.segments.length>n.length){const o=r.segments.slice(0,n.length);return!(!Ka(o,n)||i.hasChildren()||!Yd(o,n,s))}if(r.segments.length===n.length){if(!Ka(r.segments,n)||!Yd(r.segments,n,s))return!1;for(const o in i.children)if(!r.children[o]||!Wa(r.children[o],i.children[o],s))return!1;return!0}{const o=n.slice(0,r.segments.length),u=n.slice(r.segments.length);return!!(Ka(r.segments,o)&&Yd(r.segments,o,s)&&r.children[xt])&&Zl(r.children[xt],i,u,s)}}function Yd(r,i,n){return i.every((s,o)=>Za[n](r[o].parameters,s.parameters))}class Wl{constructor(i,n,s){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return kp.serialize(this)}}class Ot{constructor(i,n){this.segments=i,this.children=n,this.parent=null,Wn(n,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Co(this)}}class uu{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=fn(this.parameters)),this._parameterMap}toString(){return Rp(this)}}function Ka(r,i){return r.length===i.length&&r.every((n,s)=>n.path===i[s].path)}class Ip{}class Kl{parse(i){const n=new ha(i);return new Wl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){var r;return`${`/${du(i.root,!0)}`}${function(r){const i=Object.keys(r).map(n=>{const s=r[n];return Array.isArray(s)?s.map(o=>`${hu(n)}=${hu(o)}`).join("&"):`${hu(n)}=${hu(s)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${r=i.fragment,encodeURI(r)}`:""}`}}const kp=new Kl;function Co(r){return r.segments.map(i=>Rp(i)).join("/")}function du(r,i){if(!r.hasChildren())return Co(r);if(i){const n=r.children[xt]?du(r.children[xt],!1):"",s=[];return Wn(r.children,(o,u)=>{u!==xt&&s.push(`${u}:${du(o,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(r,i){let n=[];return Wn(r.children,(s,o)=>{o===xt&&(n=n.concat(i(s,o)))}),Wn(r.children,(s,o)=>{o!==xt&&(n=n.concat(i(s,o)))}),n}(r,(s,o)=>o===xt?[du(r.children[xt],!1)]:[`${o}:${du(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[xt]?`${Co(r)}/${n[0]}`:`${Co(r)}/(${n.join("//")})`}}function M_(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hu(r){return M_(r).replace(/%3B/gi,";")}function Qa(r){return M_(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fu(r){return decodeURIComponent(r)}function $d(r){return fu(r.replace(/\+/g,"%20"))}function Rp(r){return`${Qa(r.path)}${function(r){return Object.keys(r).map(i=>`;${Qa(i)}=${Qa(r[i])}`).join("")}(r.parameters)}`}const Yb=/^[^\/()?;=#]+/;function Zd(r){const i=r.match(Yb);return i?i[0]:""}const qb=/^[^=?&#]+/,xo=/^[^&#]+/;class ha{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[xt]=new Ot(i,n)),s}parseSegment(){const i=Zd(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new uu(fu(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=Zd(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const o=Zd(this.remaining);o&&(s=o,this.capture(s))}i[fu(n)]=fu(s)}parseQueryParam(i){const n=function(r){const i=r.match(qb);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const f=function(r){const i=r.match(xo);return i?i[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const o=$d(n),u=$d(s);if(i.hasOwnProperty(o)){let f=i[o];Array.isArray(f)||(f=[f],i[o]=f),f.push(u)}else i[o]=u}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Zd(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;s.indexOf(":")>-1?(u=s.substr(0,s.indexOf(":")),this.capture(u),this.capture(":")):i&&(u=xt);const f=this.parseChildren();n[u]=1===Object.keys(f).length?f[xt]:new Ot([],f),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class S_{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=Op(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){const n=Op(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=gu(i,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return gu(i,this._root).map(n=>n.value)}}function Op(r,i){if(r===i.value)return i;for(const n of i.children){const s=Op(r,n);if(s)return s}return null}function gu(r,i){if(r===i.value)return[i];for(const n of i.children){const s=gu(r,n);if(s.length)return s.unshift(i),s}return[]}class Eo{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ja(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class Fp extends S_{constructor(i,n){super(i),this.snapshot=n,Kd(this,i)}toString(){return this.snapshot.toString()}}function A_(r,i){const n=function(r,i){const f=new Wd([],{},{},"",{},xt,i,null,r.root,-1,{});return new Ql("",new Eo(f,[]))}(r,i),s=new Ki([new uu("",{})]),o=new Ki({}),u=new Ki({}),f=new Ki({}),g=new Ki(""),w=new Xa(s,o,f,g,u,xt,i,n.root);return w.snapshot=n.root,new Fp(new Eo(w,[]),n)}class Xa{constructor(i,n,s,o,u,f,g,w){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=g,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(i=>fn(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(i=>fn(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function T_(r,i="emptyOnly"){const n=r.pathFromRoot;let s=0;if("always"!==i)for(s=n.length-1;s>=1;){const o=n[s],u=n[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(u.component)break;s--}}return function(r){return r.reduce((i,n)=>({params:Object.assign(Object.assign({},i.params),n.params),data:Object.assign(Object.assign({},i.data),n.data),resolve:Object.assign(Object.assign({},i.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class Wd{constructor(i,n,s,o,u,f,g,w,x,S,I){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=g,this.routeConfig=w,this._urlSegment=x,this._lastPathIndex=S,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ql extends S_{constructor(i,n){super(n),this.url=i,Kd(this,n)}toString(){return vs(this._root)}}function Kd(r,i){i.value._routerState=r,i.children.forEach(n=>Kd(r,n))}function vs(r){const i=r.children.length>0?` { ${r.children.map(vs).join(", ")} } `:"";return`${r.value}${i}`}function el(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,Er(i.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),i.fragment!==n.fragment&&r.fragment.next(n.fragment),Er(i.params,n.params)||r.params.next(n.params),function(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!Er(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.url.next(n.url),Er(i.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function mu(r,i){return Er(r.params,i.params)&&function(r,i){return Ka(r,i)&&r.every((n,s)=>Er(n.parameters,i[s].parameters))}(r.url,i.url)&&!(!r.parent!=!i.parent)&&(!r.parent||mu(r.parent,i.parent))}function _u(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const o=function(r,i,n){return i.children.map(s=>{for(const o of n.children)if(r.shouldReuseRoute(s.value,o.value.snapshot))return _u(r,s,o);return _u(r,s)})}(r,i,n);return new Eo(s,o)}{if(r.shouldAttach(i.value)){const u=r.retrieve(i.value);if(null!==u){const f=u.route;return Zb(i,f),f}}const s=function(r){return new Xa(new Ki(r.url),new Ki(r.params),new Ki(r.queryParams),new Ki(r.fragment),new Ki(r.data),r.outlet,r.component,r)}(i.value),o=i.children.map(u=>_u(r,u));return new Eo(s,o)}}function Zb(r,i){if(r.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=r.value;for(let n=0;n<r.children.length;++n)Zb(r.children[n],i.children[n])}function Jl(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Hs(r){return"object"==typeof r&&null!=r&&r.outlets}function O_(r,i,n,s,o){let u={};return s&&Wn(s,(f,g)=>{u[g]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),new Wl(n.root===r?i:Wb(n.root,r,i),u,o)}function Wb(r,i,n){const s={};return Wn(r.children,(o,u)=>{s[u]=o===i?n:Wb(o,i,n)}),new Ot(r.segments,s)}class Lp{constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&Jl(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(Hs);if(o&&o!==$a(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bp{constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}}function fa(r,i,n){if(r||(r=new Ot([],{})),0===r.segments.length&&r.hasChildren())return yu(r,i,n);const s=function(r,i,n){let s=0,o=i;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<r.segments.length;){if(s>=n.length)return u;const f=r.segments[o],g=n[s];if(Hs(g))break;const w=`${g}`,x=s<n.length-1?n[s+1]:null;if(o>0&&void 0===w)break;if(w&&x&&"object"==typeof x&&void 0===x.outlets){if(!L_(w,x,f))return u;s+=2}else{if(!L_(w,{},f))return u;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(r,i,n),o=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const u=new Ot(r.segments.slice(0,s.pathIndex),{});return u.children[xt]=new Ot(r.segments.slice(s.pathIndex),r.children),yu(u,0,o)}return s.match&&0===o.length?new Ot(r.segments,{}):s.match&&!r.hasChildren()?Vp(r,i,n):s.match?yu(r,0,o):Vp(r,i,n)}function yu(r,i,n){if(0===n.length)return new Ot(r.segments,{});{const s=function(r){return Hs(r[0])?r[0].outlets:{[xt]:r}}(n),o={};return Wn(s,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[f]=fa(r.children[f],i,u))}),Wn(r.children,(u,f)=>{void 0===s[f]&&(o[f]=u)}),new Ot(r.segments,o)}}function Vp(r,i,n){const s=r.segments.slice(0,i);let o=0;for(;o<n.length;){const u=n[o];if(Hs(u)){const w=kn(u.outlets);return new Ot(s,w)}if(0===o&&Jl(n[0])){s.push(new uu(r.segments[i].path,N_(n[0]))),o++;continue}const f=Hs(u)?u.outlets[xt]:`${u}`,g=o<n.length-1?n[o+1]:null;f&&g&&Jl(g)?(s.push(new uu(f,N_(g))),o+=2):(s.push(new uu(f,{})),o++)}return new Ot(s,{})}function kn(r){const i={};return Wn(r,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[s]=Vp(new Ot([],{}),0,n))}),i}function N_(r){const i={};return Wn(r,(n,s)=>i[s]=`${n}`),i}function L_(r,i,n){return r==n.path&&Er(i,n.parameters)}class eh{constructor(i,n,s,o){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=o}activate(i){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),el(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){const o=Ja(n);i.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],s),delete o[f]}),Wn(o,(u,f)=>{this.deactivateRouteAndItsChildren(u,s)})}deactivateRoutes(i,n,s){const o=i.value,u=n?n.value:null;if(o===u)if(o.component){const f=s.getContext(o.outlet);f&&this.deactivateChildRoutes(i,n,f.children)}else this.deactivateChildRoutes(i,n,s);else u&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const s=n.getContext(i.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:u})}}deactivateRouteAndOutlet(i,n){const s=n.getContext(i.value.outlet),o=s&&i.value.component?s.children:n,u=Ja(i);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,n,s){const o=Ja(n);i.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],s),this.forwardEvent(new $l(u.value.snapshot))}),i.children.length&&this.forwardEvent(new Sp(i.value.snapshot))}activateRoutes(i,n,s){const o=i.value,u=n?n.value:null;if(el(o),o===u)if(o.component){const f=s.getOrCreateContext(o.outlet);this.activateChildRoutes(i,n,f.children)}else this.activateChildRoutes(i,n,s);else if(o.component){const f=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(g.contexts),f.attachRef=g.componentRef,f.route=g.route.value,f.outlet&&f.outlet.attach(g.componentRef,g.route.value),th(g.route)}else{const g=function(r){for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(o.snapshot),w=g?g.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=w,f.outlet&&f.outlet.activateWith(o,w),this.activateChildRoutes(i,null,f.children)}}else this.activateChildRoutes(i,null,s)}}function th(r){el(r.value),r.children.forEach(th)}class Up{constructor(i,n){this.routes=i,this.module=n}}function js(r){return"function"==typeof r}function zs(r){return r instanceof Wl}const Xl=Symbol("INITIAL_VALUE");function tl(){return Tn(r=>Ua(r.map(i=>i.pipe(hn(1),Jt(Xl)))).pipe(Vd((i,n)=>{let s=!1;return n.reduce((o,u,f)=>o!==Xl?o:(u===Xl&&(s=!0),s||!1!==u&&f!==n.length-1&&!zs(u)?o:u),i)},Xl),Nt(i=>i!==Xl),(0,rt.U)(i=>zs(i)?i:!0===i),hn(1)))}let Ti=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&a._UZ(0,"router-outlet")},directives:function(){return[lh]},encapsulation:2}),r})();function Sr(r,i=""){for(let n=0;n<r.length;n++){const s=r[n];nh(s,Xb(i,s))}}function nh(r,i){r.children&&Sr(r.children,i)}function Xb(r,i){return i?r||i.path?r&&!i.path?`${r}/`:!r&&i.path?i.path:`${r}/${i.path}`:"":r}function Gp(r){const i=r.children&&r.children.map(Gp),n=i?Object.assign(Object.assign({},r),{children:i}):Object.assign({},r);return!n.component&&(i||n.loadChildren)&&n.outlet&&n.outlet!==xt&&(n.component=Ti),n}function Ar(r){return r.outlet||xt}function Hp(r,i){const n=r.filter(s=>Ar(s)===i);return n.push(...r.filter(s=>Ar(s)!==i)),n}const Li={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ec(r,i,n){var s;if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?Object.assign({},Li):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(i.matcher||lu)(n,r,i);if(!u)return Object.assign({},Li);const f={};Wn(u.posParams,(w,x)=>{f[x]=w.path});const g=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:g,positionalParamSegments:null!==(s=u.posParams)&&void 0!==s?s:{}}}function nl(r,i,n,s,o="corrected"){if(n.length>0&&function(r,i,n){return n.some(s=>il(r,i,s)&&Ar(s)!==xt)}(r,n,s)){const f=new Ot(i,function(r,i,n,s){const o={};o[xt]=s,s._sourceSegment=r,s._segmentIndexShift=i.length;for(const u of n)if(""===u.path&&Ar(u)!==xt){const f=new Ot([],{});f._sourceSegment=r,f._segmentIndexShift=i.length,o[Ar(u)]=f}return o}(r,i,s,new Ot(n,r.children)));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:[]}}if(0===n.length&&function(r,i,n){return n.some(s=>il(r,i,s))}(r,n,s)){const f=new Ot(r.segments,function(r,i,n,s,o,u){const f={};for(const g of s)if(il(r,n,g)&&!o[Ar(g)]){const w=new Ot([],{});w._sourceSegment=r,w._segmentIndexShift="legacy"===u?r.segments.length:i.length,f[Ar(g)]=w}return Object.assign(Object.assign({},o),f)}(r,i,n,s,r.children,o));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:n}}const u=new Ot(r.segments,r.children);return u._sourceSegment=r,u._segmentIndexShift=i.length,{segmentGroup:u,slicedSegments:n}}function il(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}function ih(r,i,n,s){return!!(Ar(r)===s||s!==xt&&il(i,n,r))&&("**"===r.path||ec(i,r,n).matched)}function rh(r,i,n){return 0===i.length&&!r.children[n]}class sh{constructor(i){this.segmentGroup=i||null}}class zp{constructor(i){this.urlTree=i}}function rl(r){return new on.y(i=>i.error(new sh(r)))}function V_(r){return new on.y(i=>i.error(new zp(r)))}function D(r){return new on.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class E{constructor(i,n,s,o,u){this.configLoader=n,this.urlSerializer=s,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=i.get(a.h0i)}apply(){const i=nl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ot(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,n,xt).pipe((0,rt.U)(u=>this.createUrlTree(O(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ha(u=>{if(u instanceof zp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof sh?this.noMatchError(u):u}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,xt).pipe((0,rt.U)(o=>this.createUrlTree(O(o),i.queryParams,i.fragment))).pipe(Ha(o=>{throw o instanceof sh?this.noMatchError(o):o}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,n,s){const o=i.segments.length>0?new Ot([],{[xt]:i}):i;return new Wl(o,n,s)}expandSegmentGroup(i,n,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe((0,rt.U)(u=>new Ot([],u))):this.expandSegment(i,s,n,s.segments,o,!0)}expandChildren(i,n,s){const o=[];for(const u of Object.keys(s.children))"primary"===u?o.unshift(u):o.push(u);return(0,Zt.D)(o).pipe(ja(u=>{const f=s.children[u],g=Hp(n,u);return this.expandSegmentGroup(i,g,f,u).pipe((0,rt.U)(w=>({segment:w,outlet:u})))}),Vd((u,f)=>(u[f.outlet]=f.segment,u),{}),function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?Nt((o,u)=>r(o,u,s)):Ub.y,vp(1),n?Ud(i):za(()=>new wo))}())}expandSegment(i,n,s,o,u,f){return(0,Zt.D)(s).pipe(ja(g=>this.expandSegmentAgainstRoute(i,n,s,g,o,u,f).pipe(Ha(x=>{if(x instanceof sh)return(0,je.of)(null);throw x}))),In(g=>!!g),Ha((g,w)=>{if(g instanceof wo||"EmptyError"===g.name){if(rh(n,o,u))return(0,je.of)(new Ot([],{}));throw new sh(n)}throw g}))}expandSegmentAgainstRoute(i,n,s,o,u,f,g){return ih(o,n,u,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,n,o,u,f):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f):rl(n):rl(n)}expandSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,o){const u=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?V_(u):this.lineralizeSegments(s,u).pipe((0,Dn.zg)(f=>{const g=new Ot(f,{});return this.expandSegment(i,g,n,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f){const{matched:g,consumedSegments:w,lastChild:x,positionalParamSegments:S}=ec(n,o,u);if(!g)return rl(n);const I=this.applyRedirectCommands(w,o.redirectTo,S);return o.redirectTo.startsWith("/")?V_(I):this.lineralizeSegments(o,I).pipe((0,Dn.zg)(F=>this.expandSegment(i,n,s,F.concat(u.slice(x)),f,!1)))}matchSegmentAgainstRoute(i,n,s,o,u){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,je.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,rt.U)(F=>(s._loadedConfig=F,new Ot(o,{})))):(0,je.of)(new Ot(o,{}));const{matched:f,consumedSegments:g,lastChild:w}=ec(n,s,o);if(!f)return rl(n);const x=o.slice(w);return this.getChildConfig(i,s,o).pipe((0,Dn.zg)(I=>{const F=I.module,L=I.routes,{segmentGroup:j,slicedSegments:te}=nl(n,g,x,L),ge=new Ot(j.segments,j.children);if(0===te.length&&ge.hasChildren())return this.expandChildren(F,L,ge).pipe((0,rt.U)(ze=>new Ot(g,ze)));if(0===L.length&&0===te.length)return(0,je.of)(new Ot(g,{}));const Ee=Ar(s)===u;return this.expandSegment(F,ge,L,te,Ee?xt:u,!0).pipe((0,rt.U)(Be=>new Ot(g.concat(Be.segments),Be.children)))}))}getChildConfig(i,n,s){return n.children?(0,je.of)(new Up(n.children,i)):n.loadChildren?void 0!==n._loadedConfig?(0,je.of)(n._loadedConfig):this.runCanLoadGuards(i.injector,n,s).pipe((0,Dn.zg)(o=>{return o?this.configLoader.load(i.injector,n).pipe((0,rt.U)(u=>(n._loadedConfig=u,u))):(r=n,new on.y(i=>i.error(zd(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,je.of)(new Up([],i))}runCanLoadGuards(i,n,s){const o=n.canLoad;if(!o||0===o.length)return(0,je.of)(!0);const u=o.map(f=>{const g=i.get(f);let w;if((r=g)&&js(r.canLoad))w=g.canLoad(n,s);else{if(!js(g))throw new Error("Invalid CanLoad guard");w=g(n,s)}var r;return Si(w)});return(0,je.of)(u).pipe(tl(),(0,Zn.b)(f=>{if(!zs(f))return;const g=zd(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw g.url=f,g}),(0,rt.U)(f=>!0===f))}lineralizeSegments(i,n){let s=[],o=n.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,je.of)(s);if(o.numberOfChildren>1||!o.children[xt])return D(i.redirectTo);o=o.children[xt]}}applyRedirectCommands(i,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),i,s)}applyRedirectCreatreUrlTree(i,n,s,o){const u=this.createSegmentGroup(i,n.root,s,o);return new Wl(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const s={};return Wn(i,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);s[u]=n[g]}else s[u]=o}),s}createSegmentGroup(i,n,s,o){const u=this.createSegments(i,n.segments,s,o);let f={};return Wn(n.children,(g,w)=>{f[w]=this.createSegmentGroup(i,g,s,o)}),new Ot(u,f)}createSegments(i,n,s,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(i,u,o):this.findOrReturn(u,s))}findPosParam(i,n,s){const o=s[n.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${i}'. Cannot find '${n.path}'.`);return o}findOrReturn(i,n){let s=0;for(const o of n){if(o.path===i.path)return n.splice(s),o;s++}return i}}function O(r){const i={};for(const s of Object.keys(r.children)){const u=O(r.children[s]);(u.segments.length>0||u.hasChildren())&&(i[s]=u)}return function(r){if(1===r.numberOfChildren&&r.children[xt]){const i=r.children[xt];return new Ot(r.segments.concat(i.segments),i.children)}return r}(new Ot(r.segments,i))}class _e{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Oe{constructor(i,n){this.component=i,this.route=n}}function $e(r,i,n){const s=r._root;return ur(s,i?i._root:null,n,[s.value])}function st(r,i,n){const s=function(r){if(!r)return null;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(i);return(s?s.module.injector:n).get(r)}function ur(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ja(i);return r.children.forEach(f=>{(function(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=r.value,f=i?i.value:null,g=n?n.getContext(r.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const w=function(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!Ka(r.url,i.url);case"pathParamsOrQueryParamsChange":return!Ka(r.url,i.url)||!Er(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mu(r,i)||!Er(r.queryParams,i.queryParams);case"paramsChange":default:return!mu(r,i)}}(f,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new _e(s)):(u.data=f.data,u._resolvedData=f._resolvedData),ur(r,i,u.component?g?g.children:null:n,s,o),w&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Oe(g.outlet.component,f))}else f&&sl(i,g,o),o.canActivateChecks.push(new _e(s)),ur(r,null,u.component?g?g.children:null:n,s,o)})(f,u[f.value.outlet],n,s.concat([f.value]),o),delete u[f.value.outlet]}),Wn(u,(f,g)=>sl(f,n.getContext(g),o)),o}function sl(r,i,n){const s=Ja(r),o=r.value;Wn(s,(u,f)=>{sl(u,o.component?i?i.children.getContext(f):null:i,n)}),n.canDeactivateChecks.push(new Oe(o.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,o))}class Cu{}function ah(r){return new on.y(i=>i.error(r))}class nE{constructor(i,n,s,o,u,f){this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const i=nl(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,i,xt);if(null===n)return null;const s=new Wd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Eo(s,n),u=new Ql(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(i){const n=i.value,s=T_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),i.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,n):this.processSegment(i,n,n.segments,s)}processChildren(i,n){const s=[];for(const u of Object.keys(n.children)){const f=n.children[u],g=Hp(i,u),w=this.processSegmentGroup(g,f,u);if(null===w)return null;s.push(...w)}const o=H_(s);return o.sort((i,n)=>i.value.outlet===xt?-1:n.value.outlet===xt?1:i.value.outlet.localeCompare(n.value.outlet)),o}processSegment(i,n,s,o){for(const u of i){const f=this.processSegmentAgainstRoute(u,n,s,o);if(null!==f)return f}return rh(n,s,o)?[]:null}processSegmentAgainstRoute(i,n,s,o){if(i.redirectTo||!ih(i,n,s,o))return null;let u,f=[],g=[];if("**"===i.path){const L=s.length>0?$a(s).parameters:{};u=new Wd(s,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Du(i),Ar(i),i.component,i,rw(n),rk(n)+s.length,j_(i))}else{const L=ec(n,i,s);if(!L.matched)return null;f=L.consumedSegments,g=s.slice(L.lastChild),u=new Wd(f,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Du(i),Ar(i),i.component,i,rw(n),rk(n)+f.length,j_(i))}const w=(r=i).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:x,slicedSegments:S}=nl(n,f,g,w.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);var r;if(0===S.length&&x.hasChildren()){const L=this.processChildren(w,x);return null===L?null:[new Eo(u,L)]}if(0===w.length&&0===S.length)return[new Eo(u,[])];const I=Ar(i)===o,F=this.processSegment(w,x,S,I?xt:o);return null===F?null:[new Eo(u,F)]}}function rE(r){const i=r.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function H_(r){const i=[],n=new Set;for(const s of r){if(!rE(s)){i.push(s);continue}const o=i.find(u=>s.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...s.children),n.add(o)):i.push(s)}for(const s of n){const o=H_(s.children);i.push(new Eo(s.value,o))}return i.filter(s=>!n.has(s))}function rw(r){let i=r;for(;i._sourceSegment;)i=i._sourceSegment;return i}function rk(r){let i=r,n=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,n+=i._segmentIndexShift?i._segmentIndexShift:0;return n-1}function Du(r){return r.data||{}}function j_(r){return r.resolve||{}}function ow(r){return Tn(i=>{const n=r(i);return n?(0,Zt.D)(n).pipe((0,rt.U)(()=>i)):(0,je.of)(i)})}class uk extends class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}{}const z_=new a.OlP("ROUTES");class Y_{constructor(i,n,s,o){this.loader=i,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=o}load(i,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactory(n.loadChildren).pipe((0,rt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(n);const f=u.create(i);return new Up(Gb(f.injector.get(z_,void 0,a.XFs.Self|a.XFs.Optional)).map(Gp),f)}),Ha(u=>{throw n._loader$=void 0,u}));return n._loader$=new Qx.c(o,()=>new ke.xQ).pipe((0,la.x)()),n._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Zt.D)(this.loader.load(i)):Si(i()).pipe((0,Dn.zg)(n=>n instanceof a.YKP?(0,je.of)(n):(0,Zt.D)(this.compiler.compileModuleAsync(n))))}}class aE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nc,this.attachRef=null}}class nc{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new aE,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}class hk{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}function lE(r){throw r}function cE(r,i,n){return i.parse("/")}function ic(r,i){return(0,je.of)(null)}const uE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bi=(()=>{class r{constructor(n,s,o,u,f,g,w,x){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=o,this.location=u,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke.xQ,this.errorHandler=lE,this.malformedUriErrorHandler=cE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ic,afterPreactivation:ic},this.urlHandlingStrategy=new hk,this.routeReuseStrategy=new uk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(a.h0i),this.console=f.get(a.c2e);const F=f.get(a.R0b);this.isNgZoneEnabled=F instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=new Wl(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Y_(g,w,L=>this.triggerEvent(new y_(L)),L=>this.triggerEvent(new v_(L))),this.routerState=A_(this.currentUrlTree,this.rootComponentType),this.transitions=new Ki({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(Nt(o=>0!==o.id),(0,rt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tn(o=>{let u=!1,f=!1;return(0,je.of)(o).pipe((0,Zn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tn(g=>{const w=!this.navigated||g.extractedUrl.toString()!==this.browserUrlTree.toString(),x=("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl);if($_(g.source)&&(this.browserUrlTree=g.rawUrl),x)return(0,je.of)(g).pipe(Tn(S=>{const I=this.transitions.getValue();return s.next(new Dp(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),I!==this.transitions.getValue()?Wr.E:Promise.resolve(S)}),function(r,i,n,s){return Tn(o=>function(r,i,n,s,o){return new E(r,i,n,s,o).apply()}(r,i,n,o.extractedUrl,s).pipe((0,rt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zn.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(r,i,n,s,o){return(0,Dn.zg)(u=>function(r,i,n,s,o="emptyOnly",u="legacy"){try{const f=new nE(r,i,n,s,o,u).recognize();return null===f?ah(new Cu):(0,je.of)(f)}catch(f){return ah(f)}}(r,i,u.urlAfterRedirects,n(u.urlAfterRedirects),s,o).pipe((0,rt.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zn.b)(S=>{"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(S.urlAfterRedirects,S),this.browserUrlTree=S.urlAfterRedirects);const I=new Hd(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);s.next(I)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:F,source:L,restoredState:j,extras:te}=g,ge=new Dp(I,this.serializeUrl(F),L,j);s.next(ge);const Ee=A_(F,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},g),{targetSnapshot:Ee,urlAfterRedirects:F,extras:Object.assign(Object.assign({},te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),Wr.E}),ow(g=>{const{targetSnapshot:w,id:x,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:F,replaceUrl:L}}=g;return this.hooks.beforePreactivation(w,{navigationId:x,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!F,replaceUrl:!!L})}),(0,Zn.b)(g=>{const w=new __(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(w)}),(0,rt.U)(g=>Object.assign(Object.assign({},g),{guards:$e(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(r,i){return(0,Dn.zg)(n=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=n;return 0===f.length&&0===u.length?(0,je.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,i,n,s){return(0,Zt.D)(r).pipe((0,Dn.zg)(o=>function(r,i,n,s,o){const u=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,je.of)(!0);const f=u.map(g=>{const w=st(g,i,o);let x;if(function(r){return r&&js(r.canDeactivate)}(w))x=Si(w.canDeactivate(r,i,n,s));else{if(!js(w))throw new Error("Invalid CanDeactivate guard");x=Si(w(r,i,n,s))}return x.pipe(In())});return(0,je.of)(f).pipe(tl())}(o.component,o.route,n,i,s)),In(o=>!0!==o,!0))}(f,s,o,r).pipe((0,Dn.zg)(g=>g&&function(r){return"boolean"==typeof r}(g)?function(r,i,n,s){return(0,Zt.D)(i).pipe(ja(o=>ra(function(r,i){return null!==r&&i&&i(new Mp(r)),(0,je.of)(!0)}(o.route.parent,s),function(r,i){return null!==r&&i&&i(new b_(r)),(0,je.of)(!0)}(o.route,s),function(r,i,n){const s=i[i.length-1],u=i.slice(0,i.length-1).reverse().map(f=>function(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(f)).filter(f=>null!==f).map(f=>Kr(()=>{const g=f.guards.map(w=>{const x=st(w,f.node,n);let S;if(function(r){return r&&js(r.canActivateChild)}(x))S=Si(x.canActivateChild(s,r));else{if(!js(x))throw new Error("Invalid CanActivateChild guard");S=Si(x(s,r))}return S.pipe(In())});return(0,je.of)(g).pipe(tl())}));return(0,je.of)(u).pipe(tl())}(r,o.path,n),function(r,i,n){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,je.of)(!0);const o=s.map(u=>Kr(()=>{const f=st(u,i,n);let g;if(function(r){return r&&js(r.canActivate)}(f))g=Si(f.canActivate(i,r));else{if(!js(f))throw new Error("Invalid CanActivate guard");g=Si(f(i,r))}return g.pipe(In())}));return(0,je.of)(o).pipe(tl())}(r,o.route,n))),In(o=>!0!==o,!0))}(s,u,r,i):(0,je.of)(g)),(0,rt.U)(g=>Object.assign(Object.assign({},n),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Zn.b)(g=>{if(zs(g.guardsResult)){const x=zd(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw x.url=g.guardsResult,x}const w=new au(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(w)}),Nt(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),ow(g=>{if(g.guards.canActivateChecks.length)return(0,je.of)(g).pipe((0,Zn.b)(w=>{const x=new Ep(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}),Tn(w=>{let x=!1;return(0,je.of)(w).pipe(function(r,i){return(0,Dn.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=n;if(!o.length)return(0,je.of)(n);let u=0;return(0,Zt.D)(o).pipe(ja(f=>function(r,i,n,s){return function(r,i,n,s){const o=Object.keys(r);if(0===o.length)return(0,je.of)({});const u={};return(0,Zt.D)(o).pipe((0,Dn.zg)(f=>function(r,i,n,s){const o=st(r,i,s);return Si(o.resolve?o.resolve(i,n):o(i,n))}(r[f],i,n,s).pipe((0,Zn.b)(g=>{u[f]=g}))),vp(1),(0,Dn.zg)(()=>Object.keys(u).length===o.length?(0,je.of)(u):Wr.E))}(r._resolve,r,i,s).pipe((0,rt.U)(u=>(r._resolvedData=u,r.data=Object.assign(Object.assign({},r.data),T_(r,n).resolve),null)))}(f.route,s,r,i)),(0,Zn.b)(()=>u++),vp(1),(0,Dn.zg)(f=>u===o.length?(0,je.of)(n):Wr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zn.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Zn.b)(w=>{const x=new ca(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}))}),ow(g=>{const{targetSnapshot:w,id:x,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:F,replaceUrl:L}}=g;return this.hooks.afterPreactivation(w,{navigationId:x,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!F,replaceUrl:!!L})}),(0,rt.U)(g=>{const w=function(r,i,n){const s=_u(r,i._root,n?n._root:void 0);return new Fp(s,i)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:w})}),(0,Zn.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((r,i,n)=>(0,rt.U)(s=>(new eh(i,s.targetRouterState,s.currentRouterState,n).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Zn.b)({next(){u=!0},complete(){u=!0}}),bp(()=>{if(!u&&!f){const g=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,g)):this.cancelNavigationTransition(o,g)}this.currentNavigation=null}),Ha(g=>{if(f=!0,function(r){return r&&r[jd]}(g)){const w=zs(g.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const x=new qa(o.id,this.serializeUrl(o.extractedUrl),g.message);s.next(x),w?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),I={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$_(o.source)};this.scheduleNavigation(S,"imperative",null,I,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new xp(o.id,this.serializeUrl(o.extractedUrl),g);s.next(w);try{o.resolve(this.errorHandler(g))}catch(x){o.reject(x)}}return Wr.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:u,urlTree:f}=s,g={replaceUrl:!0};if(u){const w=Object.assign({},u);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(g.state=w)}this.scheduleNavigation(f,o,u,g)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const o=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!o||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){Sr(n),this.config=n.map(Gp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:g,preserveFragment:w}=s,x=o||this.routerState.root,S=w?this.currentUrlTree.fragment:f;let I=null;switch(g){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}return null!==I&&(I=this.removeEmptyProps(I)),function(r,i,n,s,o){if(0===n.length)return O_(i.root,i.root,i,s,o);const u=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Lp(!0,0,r);let i=0,n=!1;const s=r.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Wn(u.outlets,(w,x)=>{g[x]="string"==typeof w?w.split("/"):w}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((g,w)=>{0==w&&"."===g||(0==w&&""===g?n=!0:".."===g?i++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new Lp(n,i,s)}(n);if(u.toRoot())return O_(i.root,new Ot([],{}),i,s,o);const f=function(r,i,n){if(r.isAbsolute)return new Bp(i.root,!0,0);if(-1===n.snapshot._lastPathIndex){const u=n.snapshot._urlSegment;return new Bp(u,u===i.root,0)}const s=Jl(r.commands[0])?0:1;return function(r,i,n){let s=r,o=i,u=n;for(;u>o;){if(u-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new Bp(s,!1,o-u)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(u,i,r),g=f.processChildren?yu(f.segmentGroup,f.index,u.commands):fa(f.segmentGroup,f.index,u.commands);return O_(f.segmentGroup,g,i,s,o)}(x,this.currentUrlTree,n,I,null!=S?S:null)}navigateByUrl(n,s={skipLocationChange:!1}){const o=zs(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(r){for(let i=0;i<r.length;i++){const n=r[i];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${i}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return s}isActive(n,s){let o;if(o=!0===s?Object.assign({},uE):!1===s?Object.assign({},dE):s,zs(n))return cu(this.currentUrlTree,n,o);const u=this.parseUrl(n);return cu(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((s,o)=>{const u=n[o];return null!=u&&(s[o]=u),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Ya(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,o,u,f){var g,w;if(this.disposed)return Promise.resolve(!1);const x=this.getTransition(),S=$_(s)&&x&&!$_(x.source),L=(this.lastSuccessfulId===x.id||this.currentNavigation?x.rawUrl:x.urlAfterRedirects).toString()===n.toString();if(S&&L)return Promise.resolve(!0);let j,te,ge;f?(j=f.resolve,te=f.reject,ge=f.promise):ge=new Promise((Be,ze)=>{j=Be,te=ze});const Ee=++this.navigationId;let He;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),He=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):He=0,this.setTransition({id:Ee,targetPageId:He,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:u,resolve:j,reject:te,promise:ge,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ge.catch(Be=>Promise.reject(Be))}setBrowserUrl(n,s){const o=this.urlSerializer.serialize(n),u=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(n,s=!1){var o,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const o=new qa(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.DyG),a.LFG(Ip),a.LFG(nc),a.LFG(ct),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function $_(r){return"imperative"!==r}let lh=(()=>{class r{constructor(n,s,o,u,f){this.parentContexts=n,this.location=s,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=u||xt,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const f=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,w=new K_(n,g,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(nc),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},r.\u0275dir=a.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class K_{constructor(i,n,s){this.route=i,this.childContexts=n,this.parent=s}get(i,n){return i===Xa?this.route:i===nc?this.childContexts:this.parent.get(i,n)}}class lw{}class uw{preload(i,n){return(0,je.of)(null)}}let Q_=(()=>{class r{constructor(n,s,o,u,f){this.router=n,this.injector=u,this.preloadingStrategy=f,this.loader=new Y_(s,o,x=>n.triggerEvent(new y_(x)),x=>n.triggerEvent(new v_(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(n=>n instanceof Ya),ja(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(a.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const o=[];for(const u of s)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(n,u)):u.children&&o.push(this.processRoutes(n,u.children));return(0,Zt.D)(o).pipe((0,Zr.J)(),(0,rt.U)(u=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,je.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,Dn.zg)(u=>(s._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Bi),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(lw))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),Eu=(()=>{class r{constructor(n,s,o={}){this.router=n,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Dp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ya&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ua&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new ua(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Bi),a.LFG(Kc),a.LFG(void 0))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const rc=new a.OlP("ROUTER_CONFIGURATION"),fE=new a.OlP("ROUTER_FORROOT_GUARD"),pE=[ct,{provide:Ip,useClass:Kl},{provide:Bi,useFactory:function(r,i,n,s,o,u,f,g={},w,x){const S=new Bi(null,r,i,n,s,o,u,Gb(f));return w&&(S.urlHandlingStrategy=w),x&&(S.routeReuseStrategy=x),function(r,i){r.errorHandler&&(i.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(i.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(i.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(i.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(i.urlUpdateStrategy=r.urlUpdateStrategy)}(g,S),g.enableTracing&&S.events.subscribe(I=>{var F,L;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(L=console.groupEnd)||void 0===L||L.call(console)}),S},deps:[Ip,nc,ct,a.zs3,a.v3s,a.Sil,z_,rc,[class{},new a.FiY],[class{},new a.FiY]]},nc,{provide:Xa,useFactory:function(r){return r.routerState.root},deps:[Bi]},{provide:a.v3s,useClass:a.EAV},Q_,uw,class{preload(i,n){return n().pipe(Ha(()=>(0,je.of)(null)))}},{provide:rc,useValue:{enableTracing:!1}}];function dw(){return new a.PXZ("Router",Bi)}let hw=(()=>{class r{constructor(n,s){}static forRoot(n,s){return{ngModule:r,providers:[pE,fw(n),{provide:fE,useFactory:pk,deps:[[Bi,new a.FiY,new a.tp0]]},{provide:rc,useValue:s||{}},{provide:Te,useFactory:gE,deps:[W,[new a.tBr(Ie),new a.FiY],rc]},{provide:Eu,useFactory:IN,deps:[Bi,Kc,rc]},{provide:lw,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:uw},{provide:a.PXZ,multi:!0,useFactory:dw},[pw,{provide:a.ip1,multi:!0,useFactory:mE,deps:[pw]},{provide:_E,useFactory:_k,deps:[pw]},{provide:a.tb,multi:!0,useExisting:_E}]]}}static forChild(n){return{ngModule:r,providers:[fw(n)]}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(fE,8),a.LFG(Bi,8))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();function IN(r,i,n){return n.scrollOffset&&i.setOffset(n.scrollOffset),new Eu(r,i,n)}function gE(r,i,n={}){return n.useHash?new it(r,i):new gt(r,i)}function pk(r){return"guarded"}function fw(r){return[{provide:a.deG,multi:!0,useValue:r},{provide:z_,multi:!0,useValue:r}]}let pw=(()=>{class r{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ke.xQ}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(g=>s=g),u=this.injector.get(Bi),f=this.injector.get(rc);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),u.initialNavigation()):s(!0),o})}bootstrapListener(n){const s=this.injector.get(rc),o=this.injector.get(Q_),u=this.injector.get(Eu),f=this.injector.get(Bi),g=this.injector.get(a.z2F);n===g.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),u.init(),f.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.zs3))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function mE(r){return r.appInitializer.bind(r)}function _k(r){return r.bootstrapListener.bind(r)}const _E=new a.OlP("Router Initializer");var En=N(6682);const bk={provide:a.tb,useFactory:function(r,i){return()=>{if(mo(i)){const n=Array.from(r.querySelectorAll(`[class*=${yE}]`)),s=/\bflex-layout-.+?\b/g;n.forEach(o=>{o.classList.contains(`${yE}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(s,"")})}}},deps:[q,a.Lbi],multi:!0},yE="flex-layout-";let Ct=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[bk]}),r})();class sc{constructor(i=!1,n="all",s="",o="",u=0){this.matches=i,this.mediaQuery=n,this.mqAlias=s,this.suffix=o,this.priority=u,this.property=""}clone(){return new sc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let gw=(()=>{class r{constructor(){this.stylesheet=new Map}addStyleToElement(n,s,o){const u=this.stylesheet.get(n);u?u.set(s,o):this.stylesheet.set(n,new Map([[s,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(n,s){const o=this.stylesheet.get(n);let u="";if(o){const f=o.get(s);("number"==typeof f||"string"==typeof f)&&(u=f+"")}return u}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const ch={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},oi=new a.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>ch}),oc=new a.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),mw=new a.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function J_(r,i){return r=r?r.clone():new sc,i&&(r.mqAlias=i.alias,r.mediaQuery=i.mediaQuery,r.suffix=i.suffix,r.priority=i.priority),r}const Ao="inline",X_=["row","column","row-reverse","column-reverse"];function RN(r){if(r)switch(r.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":r="wrap-reverse";break;case"no":case"none":case"nowrap":r="nowrap";break;default:r="wrap"}return r}let Qn=(()=>{class r{constructor(n,s,o,u){this.elementRef=n,this.styleBuilder=s,this.styler=o,this.marshal=u,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ke.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,this.marshal.activatedAlias)}ngOnChanges(n){Object.keys(n).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const o=s.split(".").slice(1).join(".");this.setValue(n[s].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(n=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),n)}addStyles(n,s){const o=this.styleBuilder,u=o.shouldCache;let f=this.styleCache.get(n);(!f||!u)&&(f=o.buildStyles(n,s),u&&this.styleCache.set(n,f)),this.mru=Object.assign({},f),this.applyStyleToElement(f),o.sideEffect(n,f,s)}clearStyles(){Object.keys(this.mru).forEach(n=>{this.mru[n]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(n,s=!1){if(n){const[o,u]=this.styler.getFlowDirection(n);if(!u&&s){const f=function(r){let[i,n,s]=function(r){r=r?r.toLowerCase():"";let[i,n,s]=r.split(" ");return X_.find(o=>o===i)||(i=X_[0]),n===Ao&&(n=s!==Ao?s:"",s=Ao),[i,RN(n),!!s]}(r);return function(r,i=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":r,"flex-wrap":i||null}}(i,n,s)}(o);this.styler.applyStyleToElements(f,[n])}return o.trim()}return"row"}hasWrap(n){return this.styler.hasWrap(n)}applyStyleToElement(n,s,o=this.nativeElement){this.styler.applyStyleToElement(o,n,s)}setValue(n,s){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,s)}updateWithValue(n){this.currentValue!==n&&(this.addStyles(n),this.currentValue=n)}}return r.\u0275fac=function(n){a.$Z()},r.\u0275dir=a.lG2({type:r,features:[a.TTD]}),r})();const al=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],qp="(orientation: portrait) and (max-width: 599.98px)",$p="(orientation: landscape) and (max-width: 959.98px)",ey="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",wk="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",wE="(orientation: portrait) and (min-width: 840px)",yw="(orientation: landscape) and (min-width: 1280px)",ac={HANDSET:`${qp}, ${$p}`,TABLET:`${ey} , ${wk}`,WEB:`${wE}, ${yw} `,HANDSET_PORTRAIT:`${qp}`,TABLET_PORTRAIT:`${ey} `,WEB_PORTRAIT:`${wE}`,HANDSET_LANDSCAPE:`${$p}`,TABLET_LANDSCAPE:`${wk}`,WEB_LANDSCAPE:`${yw}`},Ck=[{alias:"handset",priority:2e3,mediaQuery:ac.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:ac.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:ac.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:ac.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:ac.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:ac.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:ac.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:ac.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:ac.WEB_PORTRAIT,overlapping:!0}],CE=/(\.|-|_)/g;function DE(r){let i=r.length>0?r.charAt(0):"",n=r.length>1?r.slice(1):"";return i.toUpperCase()+n}function FN(r,i=[]){const n={};return r.forEach(s=>{n[s.alias]=s}),i.forEach(s=>{n[s.alias]?function(r,...i){if(null==r)throw TypeError("Cannot convert undefined or null to object");for(let n of i)if(null!=n)for(let s in n)n.hasOwnProperty(s)&&(r[s]=n[s])}(n[s.alias],s):n[s.alias]=s}),function(r){return r.forEach(i=>{i.suffix||(i.suffix=function(r){return r.replace(CE,"|").split("|").map(DE).join("")}(i.alias),i.overlapping=!!i.overlapping)}),r}(Object.keys(n).map(s=>n[s]))}const xk=new a.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const r=(0,a.f3M)(mw),i=(0,a.f3M)(oi),n=[].concat.apply([],(r||[]).map(o=>Array.isArray(o)?o:[o]));return FN((i.disableDefaultBps?[]:al).concat(i.addOrientationBps?Ck:[]),n)}});function ty(r,i){return(i&&i.priority||0)-(r&&r.priority||0)}function PN(r,i){return(r.priority||0)-(i.priority||0)}let ny=(()=>{class r{constructor(n){this.findByMap=new Map,this.items=[...n].sort(PN)}findByAlias(n){return n?this.findWithPredicate(n,s=>s.alias==n):null}findByQuery(n){return this.findWithPredicate(n,s=>s.mediaQuery==n)}get overlappings(){return this.items.filter(n=>1==n.overlapping)}get aliases(){return this.items.map(n=>n.alias)}get suffixes(){return this.items.map(n=>n.suffix?n.suffix:"")}findWithPredicate(n,s){let o=this.findByMap.get(n);return o||(o=this.items.find(s)||null,this.findByMap.set(n,o)),o||null}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(xk))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(xk))},token:r,providedIn:"root"}),r})(),bw=(()=>{class r{constructor(n,s,o){this._zone=n,this._platformId=s,this._document=o,this.source=new Ki(new sc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const n=[];return this.registry.forEach((s,o)=>{s.matches&&n.push(o)}),n}isActive(n){const s=this.registry.get(n);return s?s.matches:this.registerQuery(n).some(o=>o.matches)}observe(n,s=!1){if(n&&n.length){const o=this._observable$.pipe(Nt(f=>!s||n.indexOf(f.mediaQuery)>-1)),u=new on.y(f=>{const g=this.registerQuery(n);if(g.length){const w=g.pop();g.forEach(x=>{f.next(x)}),this.source.next(w)}f.complete()});return(0,En.T)(u,o)}return this._observable$}registerQuery(n){const s=Array.isArray(n)?n:[n],o=[];return function(r,i){const n=r.filter(s=>!Ek[s]);if(n.length>0){const s=n.join(", ");try{const o=i.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(i.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${s} {.fx-query-test{ }}\n`)),i.head.appendChild(o),n.forEach(u=>Ek[u]=o)}catch(o){console.error(o)}}}(s,this._document),s.forEach(u=>{const f=w=>{this._zone.run(()=>this.source.next(new sc(w.matches,u)))};let g=this.registry.get(u);g||(g=this.buildMQL(u),g.addListener(f),this.pendingRemoveListenerFns.push(()=>g.removeListener(f)),this.registry.set(u,g)),g.matches&&o.push(new sc(!0,u))}),o}ngOnDestroy(){let n;for(;n=this.pendingRemoveListenerFns.pop();)n()}buildMQL(n){return function(r,i){return i&&window.matchMedia("all").addListener?window.matchMedia(r):{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(n,mo(this._platformId))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(a.Lbi),a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(a.R0b),(0,a.LFG)(a.Lbi),(0,a.LFG)(q))},token:r,providedIn:"root"}),r})();const Ek={},lc="print",Mk={alias:lc,mediaQuery:lc,priority:1e3};let ww=(()=>{class r{constructor(n,s,o){this.breakpoints=n,this.layoutConfig=s,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new Cw,this.deactivations=[]}withPrintQuery(n){return[...n,lc]}isPrintEvent(n){return n.mediaQuery.startsWith(lc)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(n=>this.breakpoints.findByAlias(n)).filter(n=>null!==n)}getEventBreakpoints({mediaQuery:n}){const s=this.breakpoints.findByQuery(n);return(s?[...this.printBreakPoints,s]:this.printBreakPoints).sort(ty)}updateEvent(n){let s=this.breakpoints.findByQuery(n.mediaQuery);return this.isPrintEvent(n)&&(s=this.getEventBreakpoints(n)[0],n.mediaQuery=s?s.mediaQuery:""),J_(n,s)}registerBeforeAfterPrintHooks(n){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const s=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(n,this.getEventBreakpoints(new sc(!0,lc))),n.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(n),n.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(o)}interceptEvents(n){return this.registerBeforeAfterPrintHooks(n),s=>{this.isPrintEvent(s)?s.matches&&!this.isPrinting?(this.startPrinting(n,this.getEventBreakpoints(s)),n.updateStyles()):!s.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(n),n.updateStyles()):this.collectActivations(s)}}blockPropagation(){return n=>!(this.isPrinting||this.isPrintEvent(n))}startPrinting(n,s){this.isPrinting=!0,n.activatedBreakpoints=this.queue.addPrintBreakpoints(s)}stopPrinting(n){n.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(n){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(n.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const s=this.breakpoints.findByQuery(n.mediaQuery);s&&(this.deactivations.push(s),this.deactivations.sort(ty))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("beforeprint",n)),this.afterPrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("afterprint",n)))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(ny),a.LFG(oi),a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(ny),(0,a.LFG)(oi),(0,a.LFG)(q))},token:r,providedIn:"root"}),r})();class Cw{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(i){return i.push(Mk),i.sort(ty),i.forEach(n=>this.addBreakpoint(n)),this.printBreakpoints}addBreakpoint(i){var r;i&&void 0===this.printBreakpoints.find(s=>s.mediaQuery===i.mediaQuery)&&(this.printBreakpoints=(r=i)&&r.mediaQuery.startsWith(lc)?[i,...this.printBreakpoints]:[...this.printBreakpoints,i])}clear(){this.printBreakpoints=[]}}function Ak(r){for(let i in r){let n=r[i]||"";switch(i){case"display":r.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":r["-webkit-"+i]=n;break;case"flex-direction":n=n||"row",r["-webkit-flex-direction"]=n,r["flex-direction"]=n;break;case"order":r.order=r["-webkit-"+i]=isNaN(+n)?"0":n}}return r}let yn=(()=>{class r{constructor(n,s,o,u){this._serverStylesheet=n,this._serverModuleLoaded=s,this._platformId=o,this.layoutConfig=u}applyStyleToElement(n,s,o=null){let u={};"string"==typeof s&&(u[s]=o,s=u),u=this.layoutConfig.disableVendorPrefixes?s:Ak(s),this._applyMultiValueStyleToElement(u,n)}applyStyleToElements(n,s=[]){const o=this.layoutConfig.disableVendorPrefixes?n:Ak(n);s.forEach(u=>{this._applyMultiValueStyleToElement(o,u)})}getFlowDirection(n){const s="flex-direction";let o=this.lookupStyle(n,s);return[o||"row",this.lookupInlineStyle(n,s)||Ns(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(n){return"wrap"===this.lookupStyle(n,"flex-wrap")}lookupAttributeValue(n,s){return n.getAttribute(s)||""}lookupInlineStyle(n,s){return mo(this._platformId)?n.style.getPropertyValue(s):this._getServerStyle(n,s)}lookupStyle(n,s,o=!1){let u="";return n&&((u=this.lookupInlineStyle(n,s))||(mo(this._platformId)?o||(u=getComputedStyle(n).getPropertyValue(s)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(n,s)))),u?u.trim():""}_applyMultiValueStyleToElement(n,s){Object.keys(n).sort().forEach(o=>{const u=n[o],f=Array.isArray(u)?u:[u];f.sort();for(let g of f)g=g?g+"":"",mo(this._platformId)||!this._serverModuleLoaded?mo(this._platformId)?s.style.setProperty(o,g):this._setServerStyle(s,o,g):this._serverStylesheet.addStyleToElement(s,o,g)})}_setServerStyle(n,s,o){s=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const u=this._readStyleAttribute(n);u[s]=o||"",this._writeStyleAttribute(n,u)}_getServerStyle(n,s){return this._readStyleAttribute(n)[s]||""}_readStyleAttribute(n){const s={},o=n.getAttribute("style");if(o){const u=o.split(/;+/g);for(let f=0;f<u.length;f++){const g=u[f].trim();if(g.length>0){const w=g.indexOf(":");if(-1===w)throw new Error(`Invalid CSS style: ${g}`);s[g.substr(0,w).trim()]=g.substr(w+1).trim()}}}return s}_writeStyleAttribute(n,s){let o="";for(const u in s)s[u]&&(o+=u+":"+s[u]+";");n.setAttribute("style",o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(gw),a.LFG(oc),a.LFG(a.Lbi),a.LFG(oi))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(gw),(0,a.LFG)(oc),(0,a.LFG)(a.Lbi),(0,a.LFG)(oi))},token:r,providedIn:"root"}),r})();class ai{constructor(){this.shouldCache=!0}sideEffect(i,n,s){}}function Dw(r,i="1",n="1"){let s=[i,n,r],o=r.indexOf("calc");if(o>0){s[2]=ME(r.substring(o).trim());let u=r.substr(0,o).trim().split(" ");2==u.length&&(s[0]=u[0],s[1]=u[1])}else if(0==o)s[2]=ME(r.trim());else{let u=r.split(" ");s=3===u.length?u:[i,n,r]}return s}function ME(r){return r.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let Vn=(()=>{class r{constructor(n,s,o){this.matchMedia=n,this.breakpoints=s,this.hook=o,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ke.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(n){const s=this.findByQuery(n.mediaQuery);s&&((n=J_(n,s)).matches&&-1===this.activatedBreakpoints.indexOf(s)?(this.activatedBreakpoints.push(s),this.activatedBreakpoints.sort(ty),this.updateStyles()):!n.matches&&-1!==this.activatedBreakpoints.indexOf(s)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(s),1),this.activatedBreakpoints.sort(ty),this.updateStyles()))}init(n,s,o,u,f=[]){uh(this.updateMap,n,s,o),uh(this.clearMap,n,s,u),this.buildElementKeyMap(n,s),this.watchExtraTriggers(n,s,f)}getValue(n,s,o){const u=this.elementMap.get(n);if(u){const f=void 0!==o?u.get(o):this.getActivatedValues(u,s);if(f)return f.get(s)}}hasValue(n,s){const o=this.elementMap.get(n);if(o){const u=this.getActivatedValues(o,s);if(u)return void 0!==u.get(s)||!1}return!1}setValue(n,s,o,u){let f=this.elementMap.get(n);if(f){const w=(f.get(u)||new Map).set(s,o);f.set(u,w),this.elementMap.set(n,f)}else f=(new Map).set(u,(new Map).set(s,o)),this.elementMap.set(n,f);const g=this.getValue(n,s);void 0!==g&&this.updateElement(n,s,g)}trackValue(n,s){return this.subject.asObservable().pipe(Nt(o=>o.element===n&&o.key===s))}updateStyles(){this.elementMap.forEach((n,s)=>{const o=new Set(this.elementKeyMap.get(s));let u=this.getActivatedValues(n);u&&u.forEach((f,g)=>{this.updateElement(s,g,f),o.delete(g)}),o.forEach(f=>{if(u=this.getActivatedValues(n,f),u){const g=u.get(f);this.updateElement(s,f,g)}else this.clearElement(s,f)})})}clearElement(n,s){const o=this.clearMap.get(n);if(o){const u=o.get(s);u&&(u(),this.subject.next({element:n,key:s,value:""}))}}updateElement(n,s,o){const u=this.updateMap.get(n);if(u){const f=u.get(s);f&&(f(o),this.subject.next({element:n,key:s,value:o}))}}releaseElement(n){const s=this.watcherMap.get(n);s&&(s.forEach(u=>u.unsubscribe()),this.watcherMap.delete(n));const o=this.elementMap.get(n);o&&(o.forEach((u,f)=>o.delete(f)),this.elementMap.delete(n))}triggerUpdate(n,s){const o=this.elementMap.get(n);if(o){const u=this.getActivatedValues(o,s);u&&(s?this.updateElement(n,s,u.get(s)):u.forEach((f,g)=>this.updateElement(n,g,f)))}}buildElementKeyMap(n,s){let o=this.elementKeyMap.get(n);o||(o=new Set,this.elementKeyMap.set(n,o)),o.add(s)}watchExtraTriggers(n,s,o){if(o&&o.length){let u=this.watcherMap.get(n);if(u||(u=new Map,this.watcherMap.set(n,u)),!u.get(s)){const g=(0,En.T)(...o).subscribe(()=>{const w=this.getValue(n,s);this.updateElement(n,s,w)});u.set(s,g)}}}findByQuery(n){return this.breakpoints.findByQuery(n)}getActivatedValues(n,s){for(let u=0;u<this.activatedBreakpoints.length;u++){const g=n.get(this.activatedBreakpoints[u].alias);if(g&&(void 0===s||g.has(s)&&null!=g.get(s)))return g}const o=n.get("");return void 0===s||o&&o.has(s)?o:void 0}observeActivations(){const s=this.breakpoints.items.map(o=>o.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(s)).pipe((0,Zn.b)(this.hook.interceptEvents(this)),Nt(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(bw),a.LFG(ny),a.LFG(ww))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(bw),(0,a.LFG)(ny),(0,a.LFG)(ww))},token:r,providedIn:"root"}),r})();function uh(r,i,n,s){if(void 0!==s){let o=r.get(i);o||(o=new Map,r.set(i,o)),o.set(n,s)}}const Au=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(q)}});let Kt=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new a.vpe,n){const o=n.documentElement?n.documentElement.dir:null,u=(n.body?n.body.dir:null)||o;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Au,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Au,8))},token:r,providedIn:"root"}),r})(),To=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();function We(r){return i=>i.lift(new SE(r))}class SE{constructor(i){this.notifier=i}call(i,n){const s=new AE(i),o=(0,Qr.ft)(this.notifier,new Qr.IY(s));return o&&!s.seenValue?(s.add(o),n.subscribe(s)):s}}class AE extends Qr.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Zp="inline",dh=["row","column","row-reverse","column-reverse"];function Wp(r){r=r?r.toLowerCase():"";let[i,n,s]=r.split(" ");return dh.find(o=>o===i)||(i=dh[0]),n===Zp&&(n=s!==Zp?s:"",s=Zp),[i,IE(n),!!s]}function Kp(r){let[i]=Wp(r);return i.indexOf("row")>-1}function IE(r){if(r)switch(r.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":r="wrap-reverse";break;case"no":case"none":case"nowrap":r="nowrap";break;default:r="wrap"}return r}let kE=(()=>{class r extends ai{buildStyles(n){return function(r){let[i,n,s]=Wp(r);return function(r,i=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":r,"flex-wrap":i||null}}(i,n,s)}(n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const RE=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let OE=(()=>{class r extends Qn{constructor(n,s,o,u){super(n,o,s,u),this.DIRECTIVE_KEY="layout",this.styleCache=Tk,this.init()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(yn),a.Y36(kE),a.Y36(Vn))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),es=(()=>{class r extends OE{constructor(){super(...arguments),this.inputs=RE}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[a.qOj]}),r})();const Tk=new Map,ts={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Ik=(()=>{class r extends ai{constructor(n){super(),this._styler=n}buildStyles(n,s){return n.endsWith(ry)?function(r,i){const[n,s]=r.split(" "),u=x=>`-${x}`;let f="0px",g=u(s||n),w="0px";return"rtl"===i?w=u(n):f=u(n),{margin:`0px ${f} ${g} ${w}`}}(n=n.slice(0,n.indexOf(ry)),s.directionality):{}}sideEffect(n,s,o){const u=o.items;if(n.endsWith(ry)){const f=function(r,i){const[n,s]=r.split(" ");let u="0px",g="0px";return"rtl"===i?g=n:u=n,{padding:`0px ${u} ${s||n} ${g}`}}(n=n.slice(0,n.indexOf(ry)),o.directionality);this._styler.applyStyleToElements(f,o.items)}else{const f=u.pop(),g=function(r,i){const n=Mw(i.directionality,i.layout),s=Object.assign({},ts);return s[n]=r,s}(n,o);this._styler.applyStyleToElements(g,u),this._styler.applyStyleToElements(ts,[f])}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(yn))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(yn))},token:r,providedIn:"root"}),r})();const kk=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let zN=(()=>{class r extends Qn{constructor(n,s,o,u,f,g){super(n,f,u,g),this.zone=s,this.directionality=o,this.styleUtils=u,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new ke.xQ;const w=[this.directionality.change,this.observerSubject.asObservable()];this.init(w),this.marshal.trackValue(this.nativeElement,"layout").pipe(We(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const n=this.nativeElement.children,s=[];for(let o=n.length;o--;)s[o]=n[o];return s}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(n){const o=n.value.split(" ");this.layout=o[0],dh.find(u=>u===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(n){const s=this.childrenNodes.filter(o=>1===o.nodeType&&this.willDisplay(o)).sort((o,u)=>{const f=+this.styler.lookupStyle(o,"order"),g=+this.styler.lookupStyle(u,"order");return isNaN(f)||isNaN(g)||f===g?0:f>g?1:-1});if(s.length>0){const o=this.directionality.value,u=this.layout;"row"===u&&"rtl"===o?this.styleCache=YN:"row"===u&&"rtl"!==o?this.styleCache=Ew:"column"===u&&"rtl"===o?this.styleCache=Rk:"column"===u&&"rtl"!==o&&(this.styleCache=FE),this.addStyles(n,{directionality:o,items:s,layout:u})}}clearStyles(){const n=Object.keys(this.mru).length>0,s=n?"padding":Mw(this.directionality.value,this.layout);n&&super.clearStyles(),this.styleUtils.applyStyleToElements({[s]:""},this.childrenNodes)}willDisplay(n){const s=this.marshal.getValue(n,"show-hide");return!0===s||void 0===s&&"none"!==this.styleUtils.lookupStyle(n,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(n=>{n.some(o=>o.addedNodes&&o.addedNodes.length>0||o.removedNodes&&o.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Kt),a.Y36(yn),a.Y36(Ik),a.Y36(Vn))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),bs=(()=>{class r extends zN{constructor(){super(...arguments),this.inputs=kk}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[a.qOj]}),r})();const YN=new Map,Rk=new Map,Ew=new Map,FE=new Map,ry=" grid";function Mw(r,i){switch(i){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===r?"margin-left":"margin-right";case"row-reverse":return"rtl"===r?"margin-right":"margin-left";default:return"rtl"===r?"margin-left":"margin-right"}}function ll(r,...i){if(null==r)throw TypeError("Cannot convert undefined or null to object");for(let n of i)if(null!=n)for(let s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r}let Nk=(()=>{class r extends ai{constructor(n){super(),this.layoutConfig=n}buildStyles(n,s){let[o,u,...f]=n.split(" "),g=f.join(" ");const w=s.direction.indexOf("column")>-1?"column":"row",x=Kp(w)?"max-width":"max-height",S=Kp(w)?"min-width":"min-height",I=String(g).indexOf("calc")>-1,F=I||"auto"===g,L=String(g).indexOf("%")>-1&&!I,j=String(g).indexOf("px")>-1||String(g).indexOf("rem")>-1||String(g).indexOf("em")>-1||String(g).indexOf("vw")>-1||String(g).indexOf("vh")>-1;let te=I||j;o="0"==o?0:o,u="0"==u?0:u;const ge=!o&&!u;let Ee={};const He={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(g||""){case"":const Be=!1!==this.layoutConfig.useColumnBasisZero;g="row"===w?"0%":Be?"0.000000001px":"auto";break;case"initial":case"nogrow":o=0,g="auto";break;case"grow":g="100%";break;case"noshrink":u=0,g="auto";break;case"auto":break;case"none":o=0,u=0,g="auto";break;default:!te&&!L&&!isNaN(g)&&(g+="%"),"0%"===g&&(te=!0),"0px"===g&&(g="0%"),Ee=ll(He,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":te?g:"100%"}:{flex:`${o} ${u} ${te?g:"100%"}`})}return Ee.flex||Ee["flex-grow"]||(Ee=ll(He,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":g}:{flex:`${o} ${u} ${g}`})),"0%"!==g&&"0px"!==g&&"0.000000001px"!==g&&"auto"!==g&&(Ee[S]=ge||te&&o?g:null,Ee[x]=ge||!F&&u?g:null),Ee[S]||Ee[x]?s.hasWrap&&(Ee[I?"flex-basis":"flex"]=Ee[x]?I?Ee[x]:`${o} ${u} ${Ee[x]}`:I?Ee[S]:`${o} ${u} ${Ee[S]}`):Ee=ll(He,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":g}:{flex:`${o} ${u} ${g}`}),ll(Ee,{"box-sizing":"border-box"})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(oi))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(oi))},token:r,providedIn:"root"}),r})();const Lk=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let PE=(()=>{class r extends Qn{constructor(n,s,o,u,f){super(n,u,s,f),this.layoutConfig=o,this.marshal=f,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(n){this.flexShrink=n||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(n){this.flexGrow=n||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(We(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(We(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(n){const o=n.value.split(" ");this.direction=o[0],this.wrap=void 0!==o[1]&&"wrap"===o[1],this.triggerUpdate()}updateWithValue(n){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const o=this.direction,u=o.startsWith("row"),f=this.wrap;u&&f?this.styleCache=Vk:u&&!f?this.styleCache=pa:!u&&f?this.styleCache=Uk:!u&&!f&&(this.styleCache=Sw);const w=Dw(String(n).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(w.join(" "),{direction:o,hasWrap:f})}triggerReflow(){const n=this.activatedValue;if(void 0!==n){const s=Dw(n+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(yn),a.Y36(oi),a.Y36(Nk),a.Y36(Vn))},r.\u0275dir=a.lG2({type:r,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[a.qOj]}),r})(),Tu=(()=>{class r extends PE{constructor(){super(...arguments),this.inputs=Lk}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[a.qOj]}),r})();const pa=new Map,Sw=new Map,Vk=new Map,Uk=new Map,UE={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let GE=(()=>{class r extends ai{buildStyles(n){return UE}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})(),Fw=(()=>{class r extends Qn{constructor(n,s,o,u){super(n,o,s,u),this.styleCache=cl,this.addStyles("")}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(yn),a.Y36(GE),a.Y36(Vn))},r.\u0275dir=a.lG2({type:r,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[a.qOj]}),r})();const cl=new Map;let sy=(()=>{class r extends ai{buildStyles(n,s){const o={},[u,f]=n.split(" ");switch(u){case"center":o["justify-content"]="center";break;case"space-around":o["justify-content"]="space-around";break;case"space-between":o["justify-content"]="space-between";break;case"space-evenly":o["justify-content"]="space-evenly";break;case"end":case"flex-end":o["justify-content"]="flex-end";break;case"start":case"flex-start":default:o["justify-content"]="flex-start"}switch(f){case"start":case"flex-start":o["align-items"]=o["align-content"]="flex-start";break;case"center":o["align-items"]=o["align-content"]="center";break;case"end":case"flex-end":o["align-items"]=o["align-content"]="flex-end";break;case"space-between":o["align-content"]="space-between",o["align-items"]="stretch";break;case"space-around":o["align-content"]="space-around",o["align-items"]="stretch";break;case"baseline":o["align-content"]="stretch",o["align-items"]="baseline";break;case"stretch":default:o["align-items"]=o["align-content"]="stretch"}return ll(o,{display:s.inline?"inline-flex":"flex","flex-direction":s.layout,"box-sizing":"border-box","max-width":"stretch"===f?Kp(s.layout)?null:"100%":null,"max-height":"stretch"===f&&Kp(s.layout)?"100%":null})}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Wk=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let WN=(()=>{class r extends Qn{constructor(n,s,o,u){super(n,o,s,u),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(We(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(n){const s=this.layout||"row",o=this.inline;"row"===s&&o?this.styleCache=Pw:"row"!==s||o?"row-reverse"===s&&o?this.styleCache=Qk:"row-reverse"!==s||o?"column"===s&&o?this.styleCache=jE:"column"!==s||o?"column-reverse"===s&&o?this.styleCache=zE:"column-reverse"===s&&!o&&(this.styleCache=Kk):this.styleCache=Qp:this.styleCache=Jp:this.styleCache=HE,this.addStyles(n,{layout:s,inline:o})}onLayoutChange(n){const s=n.value.split(" ");this.layout=s[0],this.inline=n.value.includes("inline"),dh.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(yn),a.Y36(sy),a.Y36(Vn))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),Ii=(()=>{class r extends WN{constructor(){super(...arguments),this.inputs=Wk}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[a.qOj]}),r})();const HE=new Map,Qp=new Map,Jp=new Map,Kk=new Map,Pw=new Map,jE=new Map,Qk=new Map,zE=new Map;let Xp=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ct,To]]}),r})();var Vi=N(4762),eg=N(3637);N(3098);class cc{constructor(i,n,s){this.name=i,this.drawable=n,this.date=s,this.replies=[],this.grades=[]}}class qE{static format(){const i=new Date;let n=i.getDate().toString(),s=(i.getMonth()+1).toString();const o=i.getFullYear().toString();return n=tR(n),s=tR(s),n+"."+s+"."+o}}function tR(r){return/^\d$/.test(r)&&(r="0"+r),r}var ws=(()=>{return(r=ws||(ws={})).TOSEND="to-send",r.SENT="sent",ws;var r})();function ay(r,i=eg.P){return n=>n.lift(new ul(r,i))}class ul{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new Bw(i,this.dueTime,this.scheduler))}}class Bw extends Mi.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Vw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function Vw(r){r.debouncedNext()}var Jn=N(9126),qs=N(8939),ZE=N(4486),be=N(8239),ku=N(5452),It=N(4685),tg=N(6034),uc=(()=>{return(r=uc||(uc={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",uc;var r})();const WE="firebasestorage.googleapis.com",fh="storageBucket";class Un extends It.ZR{constructor(i,n){super(ly(i),`Firebase Storage: ${n} (${ly(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Un.prototype)}_codeEquals(i){return ly(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ly(r){return"storage/"+r}function cy(){return new Un("unknown","An unknown error occurred, please check the error payload for server response.")}function Gw(){return new Un("canceled","User canceled the upload/download.")}function lR(){return new Un("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cR(){return new Un("no-download-url","The given file does not have any download URLs.")}function Ru(r){return new Un("invalid-argument",r)}function jw(){return new Un("app-deleted","The Firebase app was deleted.")}function uR(r){return new Un("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tr(r,i){return new Un("invalid-format","String does not match format '"+r+"': "+i)}function zw(r){throw new Un("internal-error","Internal error: "+r)}class XN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=uc.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uc.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uc.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,o){if(this.sent_)throw zw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw zw("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class JE{createConnection(){return new XN}}class Qi{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=Qi.makeFromUrl(i,n)}catch(o){return new Qi(i,"")}if(""===s.path)return s;throw new Un("invalid-default-bucket","Invalid default bucket '"+i+"'.")}static makeFromUrl(i,n){let s=null;const o="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+o+"(/(.*))?$","i");function x(ze){ze.path_=decodeURIComponent(ze.path)}const I=n.replace(/[.]/g,"\\."),Be=[{regex:g,indices:{bucket:1,path:3},postModify:function(ze){"/"===ze.path.charAt(ze.path.length-1)&&(ze.path_=ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${n===WE?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let ze=0;ze<Be.length;ze++){const mn=Be[ze],bi=mn.regex.exec(i);if(bi){let Os=bi[mn.indices.path];Os||(Os=""),s=new Qi(bi[mn.indices.bucket],Os),mn.postModify(s);break}}if(null==s)throw new Un("invalid-url","Invalid URL '"+i+"'.");return s}}class XE{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function ph(r){return"string"==typeof r||r instanceof String}function tM(r){return qw()&&r instanceof Blob}function qw(){return"undefined"!=typeof Blob}function $w(r,i,n,s){if(s<i)throw Ru(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw Ru(`Invalid value for '${r}'. Expected ${n} or less.`)}function dc(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function nM(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class fR{constructor(i,n,s,o,u,f,g,w,x,S,I){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=g,this.errorCallback_=w,this.progressCallback_=S,this.timeout_=x,this.pool_=I,this.promise_=new Promise((F,L)=>{this.resolve_=F,this.reject_=L,this.start_()})}start_(){const i=this;function s(o,u){const f=i.resolve_,g=i.reject_,w=u.connection;if(u.wasSuccessCode)try{const x=i.callback_(w,w.getResponseText());void 0!==x?f(x):f()}catch(x){g(x)}else if(null!==w){const x=cy();x.serverResponse=w.getResponseText(),g(i.errorCallback_?i.errorCallback_(w,x):x)}else g(u.canceled?i.appDelete_?jw():Gw():new Un("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new Ou(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,o=null,u=!1,f=0;function g(){return 2===f}let w=!1;function x(...j){w||(w=!0,i.apply(null,j))}function S(j){o=setTimeout(()=>{o=null,r(I,g())},j)}function I(j,...te){if(w)return;if(j)return void x.call(null,j,...te);if(g()||u)return void x.call(null,j,...te);let Ee;s<64&&(s*=2),1===f?(f=2,Ee=0):Ee=1e3*(s+Math.random()),S(Ee)}let F=!1;function L(j){F||(F=!0,!w&&(null!==o?(j||(f=2),clearTimeout(o),S(0)):j||(f=1)))}return S(0),setTimeout(()=>{u=!0,L(!0)},n),L}(function(o,u){if(u)return void o(!1,new Ou(!1,null,!0));const f=i.pool_.createConnection();function g(w){null!==i.progressCallback_&&i.progressCallback_(w.loaded,w.lengthComputable?w.total:-1)}i.pendingConnection_=f,null!==i.progressCallback_&&f.addUploadProgressListener(g),f.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&f.removeUploadProgressListener(g),i.pendingConnection_=null;const w=f.getErrorCode()===uc.NO_ERROR,x=f.getStatus();if(!w||i.isRetryStatusCode_(x)){const I=f.getErrorCode()===uc.ABORT;return void o(!1,new Ou(!1,null,I))}const S=-1!==i.successCodes_.indexOf(x);o(!0,new Ou(S,f))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,o=-1!==[408,429].indexOf(i),u=-1!==this.additionalRetryCodes_.indexOf(i);return n||o||u}}class Ou{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function Zw(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(qw())return new Blob(r);throw new Un("unsupported-environment","This browser doesn't seem to support creating Blobs")}const pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dl{constructor(i,n){this.data=i,this.contentType=n||null}}function mh(r,i){switch(r){case pn.RAW:return new dl(Cs(i));case pn.BASE64:case pn.BASE64URL:return new dl(Fu(r,i));case pn.DATA_URL:return new dl(function(r){const i=new Pu(r);return i.base64?Fu(pn.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw Tr(pn.DATA_URL,"Malformed data URL.")}return Cs(i)}(i.rest)}(i),function(r){return new Pu(r).contentType}(i))}throw cy()}function Cs(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function Fu(r,i){switch(r){case pn.BASE64:{const o=-1!==i.indexOf("-"),u=-1!==i.indexOf("_");if(o||u)throw Tr(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pn.BASE64URL:{const o=-1!==i.indexOf("+"),u=-1!==i.indexOf("/");if(o||u)throw Tr(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(o){throw Tr(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Pu{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw Tr(pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class Ir{constructor(i,n){let s=0,o="";tM(i)?(this.data_=i,s=i.size,o=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(i,n){if(tM(this.data_)){const o=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===o?null:new Ir(o)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new Ir(s,!0)}}static getBlob(...i){if(qw()){const n=i.map(s=>s instanceof Ir?s.data_:s);return new Ir(Zw.apply(null,n))}{const n=i.map(f=>ph(f)?mh(pn.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let g=0;g<f.length;g++)o[u++]=f[g]}),new Ir(o,!0)}}uploadData(){return this.data_}}function hc(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function Kw(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function rM(r,i){return i}class dr{constructor(i,n,s,o){this.server=i,this.local=n||i,this.writable=!!s,this.xform=o||rM}}let rg=null;function Ch(){if(rg)return rg;const r=[];r.push(new dr("bucket")),r.push(new dr("generation")),r.push(new dr("metageneration")),r.push(new dr("name","fullPath",!0));const n=new dr("name");n.xform=function(u,f){return function(r){return!ph(r)||r.length<2?r:Kw(r)}(f)},r.push(n);const o=new dr("size");return o.xform=function(u,f){return void 0!==f?Number(f):f},r.push(o),r.push(new dr("timeCreated")),r.push(new dr("updated")),r.push(new dr("md5Hash",null,!0)),r.push(new dr("cacheControl",null,!0)),r.push(new dr("contentDisposition",null,!0)),r.push(new dr("contentEncoding",null,!0)),r.push(new dr("contentLanguage",null,!0)),r.push(new dr("contentType",null,!0)),r.push(new dr("metadata","customMetadata",!0)),rg=r,rg}function Qw(r,i,n){const s=hc(i);return null===s?null:function(r,i,n){const s={type:"file"},o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,i[f.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const u=new Qi(r.bucket,r.fullPath);return i._makeStorageReference(u)}})}(s,r),s}(r,s,n)}function uy(r,i){const n={},s=i.length;for(let o=0;o<s;o++){const u=i[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}const lM="prefixes";class fc{constructor(i,n,s,o){this.url=i,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ma(r){if(!r)throw cy()}function sg(r,i){return function(s,o){const u=Qw(r,o,i);return ma(null!==u),u}}function Dh(r){return function(n,s){let o;return o=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Un("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Un("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new Un("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new Un("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,o.serverResponse=s.serverResponse,o}}function dy(r){const i=Dh(r);return function(s,o){let u=i(s,o);return 404===s.getStatus()&&(u=function(r){return new Un("object-not-found","Object '"+r+"' does not exist.")}(r.path)),u.serverResponse=o.serverResponse,u}}function vR(r,i,n){const o=dc(i.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,g=new fc(o,"GET",sg(r,n),f);return g.errorHandler=dy(i),g}function bR(r,i,n,s,o){const u={};u.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(u.delimiter=n),s&&(u.pageToken=s),o&&(u.maxResults=o);const g=dc(i.bucketOnlyServerUrl(),r.host,r._protocol),x=r.maxOperationRetryTime,S=new fc(g,"GET",function(r,i){return function(s,o){const u=function(r,i,n){const s=hc(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[lM])for(const o of n[lM]){const u=o.replace(/\/$/,""),f=r._makeStorageReference(new Qi(i,u));s.prefixes.push(f)}if(n.items)for(const o of n.items){const u=r._makeStorageReference(new Qi(i,o.name));s.items.push(u)}return s}(r,i,s)}(r,i,o);return ma(null!==u),u}}(r,i.bucket),x);return S.urlParams=u,S.errorHandler=Dh(i),S}function dM(r,i,n){const o=dc(i.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,g=new fc(o,"GET",function(r,i){return function(s,o){const u=Qw(r,o,i);return ma(null!==u),function(r,i,n,s){const o=hc(i);if(null===o||!ph(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const f=encodeURIComponent;return u.split(",").map(x=>{const I=r.fullPath;return dc("/b/"+f(r.bucket)+"/o/"+f(I),n,s)+nM({alt:"media",token:x})})[0]}(u,o,r.host,r._protocol)}}(r,n),f);return g.errorHandler=dy(i),g}function nL(r,i,n,s){const u=dc(i.fullServerUrl(),r.host,r._protocol),g=uy(n,s),x=r.maxOperationRetryTime,S=new fc(u,"PATCH",sg(r,s),x);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=g,S.errorHandler=dy(i),S}function iL(r,i){const s=dc(i.fullServerUrl(),r.host,r._protocol),g=new fc(s,"DELETE",function(w,x){},r.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=dy(i),g}function hM(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class hy{constructor(i,n,s,o){this.current=i,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Xw(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(o){ma(!1)}return ma(!!n&&-1!==(i||["active"]).indexOf(n)),n}const oL={STATE_CHANGED:"state_changed"},ns={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function nC(r){switch(r){case"running":case"pausing":case"canceling":return ns.RUNNING;case"paused":return ns.PAUSED;case"success":return ns.SUCCESS;case"canceled":return ns.CANCELED;case"error":default:return ns.ERROR}}class pM{constructor(i,n,s){if("function"==typeof i||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const u=i;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function og(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class gM{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=Ch(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,o){const u=i.bucketOnlyServerUrl(),f=hM(i,s,o),g={name:f.fullPath},w=dc(u,r.host,r._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},I=uy(f,n),j=new fc(w,"POST",function(te){let ge;Xw(te);try{ge=te.getResponseHeader("X-Goog-Upload-URL")}catch(Ee){ma(!1)}return ma(ph(ge)),ge},r.maxUploadRetryTime);return j.urlParams=g,j.headers=S,j.body=I,j.errorHandler=Dh(i),j}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const o=function(r,i,n,s){const w=new fc(n,"POST",function(x){const S=Xw(x,["active","final"]);let I=null;try{I=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){ma(!1)}I||ma(!1);const F=Number(I);return ma(!isNaN(F)),new hy(F,s.size(),"final"===S)},r.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=Dh(i),w}(this._ref.storage,this._ref._location,i,this._blob),u=this._ref.storage._makeRequest(o,n,s);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new hy(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let f;try{f=function(r,i,n,s,o,u,f,g){const w=new hy(0,0);if(f?(w.current=f.current,w.total=f.total):(w.current=0,w.total=s.size()),s.size()!==w.total)throw new Un("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const x=w.total-w.current;let S=x;o>0&&(S=Math.min(S,o));const I=w.current,j={"X-Goog-Upload-Command":S===x?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},te=s.slice(I,I+S);if(null===te)throw lR();const Be=new fc(n,"POST",function(ze,mn){const bi=Xw(ze,["active","final"]),sr=w.current+S,Os=s.size();let jo;return jo="final"===bi?sg(i,u)(ze,mn):null,new hy(sr,Os,"final"===bi,jo)},i.maxUploadRetryTime);return Be.headers=j,Be.body=te.uploadData(),Be.progressCallback=g||null,Be.errorHandler=Dh(r),Be}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const g=this._ref.storage._makeRequest(f,o,u);this._request=g,g.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=vR(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,o){const u=i.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Be="";for(let ze=0;ze<2;ze++)Be+=Math.random().toString().slice(2);return Be}();f["Content-Type"]="multipart/related; boundary="+w;const x=hM(i,s,o),S=uy(x,n),L=Ir.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+w+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",s,"\r\n--"+w+"--");if(null===L)throw lR();const j={name:x.fullPath},te=dc(u,r.host,r._protocol),Ee=r.maxUploadRetryTime,He=new fc(te,"POST",sg(r,n),Ee);return He.urlParams=j,He.headers=f,He.body=L.uploadData(),He.errorHandler=Dh(i),He}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=Gw(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=nC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,o){const u=new pM(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(nC(this._state)){case ns.SUCCESS:og(this._resolve.bind(null,this.snapshot))();break;case ns.CANCELED:case ns.ERROR:og(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(nC(this._state)){case ns.RUNNING:case ns.PAUSED:i.next&&og(i.next.bind(i,this.snapshot))();break;case ns.SUCCESS:i.complete&&og(i.complete.bind(i))();break;case ns.CANCELED:case ns.ERROR:i.error&&og(i.error.bind(i,this._error))();break;default:i.error&&og(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class $s{constructor(i,n){this._service=i,this._location=n instanceof Qi?n:Qi.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new $s(i,n)}get root(){const i=new Qi(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kw(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new Qi(this._location.bucket,i);return new $s(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw uR(i)}}function ag(r,i,n){return iC.apply(this,arguments)}function iC(){return(iC=(0,be.Z)(function*(r,i,n){const o=yield rC(r,{pageToken:n});i.prefixes.push(...o.prefixes),i.items.push(...o.items),null!=o.nextPageToken&&(yield ag(r,i,o.nextPageToken))})).apply(this,arguments)}function rC(r,i){return sC.apply(this,arguments)}function sC(){return(sC=(0,be.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&$w("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=bR(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function oC(){return(oC=(0,be.Z)(function*(r){r._throwIfRoot("getMetadata");const i=vR(r.storage,r._location,Ch());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function aC(){return(aC=(0,be.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=nL(r.storage,r._location,i,Ch());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function lC(){return(lC=(0,be.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=dM(r.storage,r._location,Ch());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw cR();return n})})).apply(this,arguments)}function fy(){return(fy=(0,be.Z)(function*(r){r._throwIfRoot("deleteObject");const i=iL(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function py(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new Qi(r._location.bucket,n);return new $s(r.storage,s)}function wM(r,i){if(r instanceof lg){const n=r;if(null==n._bucket)throw new Un("no-default-bucket","No default bucket found. Did you set the '"+fh+"' property when initializing the app?");const s=new $s(n,n._bucket);return null!=i?wM(s,i):s}return void 0!==i?py(r,i):r}function lL(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof lg)return function(r,i){return new $s(r,i)}(r,i);throw Ru("To use ref(service, url), the first argument must be a Storage instance.")}return wM(r,i)}function xh(r,i){const n=null==i?void 0:i[fh];return null==n?null:Qi.makeFromBucketSpec(n,r)}class lg{constructor(i,n,s,o,u,f){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=o,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=WE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?Qi.makeFromBucketSpec(u,this._host):xh(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Qi.makeFromBucketSpec(this._url,i):xh(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){$w("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){$w("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,be.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,be.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new $s(this,i)}_makeRequest(i,n,s){if(this._deleted)return new XE(jw());{const o=function(r,i,n,s,o,u){const f=nM(r.urlParams),g=r.url+f,w=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(w,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(w,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(w,u),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(w,s),new fR(g,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(i){var n=this;return(0,be.Z)(function*(){const[s,o]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,o)})()}}function pC(r,i){return lL(r=(0,It.m9)(r),i)}(0,ku._registerComponent)(new tg.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new lg(n,s,o,new JE,i,ku.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ku.registerVersion)("@firebase/storage","0.8.2");class cg{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class my{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new cg(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new cg(s,this,this._ref))},n)}on(i,n,s,o){let u;return n&&(u="function"==typeof n?f=>n(new cg(f,this,this._ref)):{next:n.next?f=>n.next(new cg(f,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,u,s||void 0,o||void 0)}}class _C{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new hl(i,this._service))}get items(){return this._delegate.items.map(i=>new hl(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class hl{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return py(r,i)}(this._delegate,i);return new hl(n,this.storage)}get root(){return new hl(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new hl(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new my(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new gM(r,new Ir(i),n)}(r=(0,It.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=pn.RAW,s){this._throwIfRoot("putString");const o=mh(n,i),u=Object.assign({},s);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new my(new gM(this._delegate,new Ir(o.data,!0),u),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return ag(r,i).then(()=>i)}(r=(0,It.m9)(r))}(this._delegate).then(i=>new _C(i,this.storage))}list(i){return function(r,i){return rC(r=(0,It.m9)(r),i)}(this._delegate,i||void 0).then(n=>new _C(n,this.storage))}getMetadata(){return function(r){return function(r){return oC.apply(this,arguments)}(r=(0,It.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return aC.apply(this,arguments)}(r=(0,It.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return lC.apply(this,arguments)}(r=(0,It.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return fy.apply(this,arguments)}(r=(0,It.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw uR(i)}}class yC{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(vC(i))throw Ru("ref() expected a child path but got a URL, use refFromURL instead.");return new hl(pC(this._delegate,i),this)}refFromURL(i){if(!vC(i))throw Ru("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qi.makeFromUrl(i,this._delegate.host)}catch(n){throw Ru("refFromUrl() expected a valid full URL but got an invalid one.")}return new hl(pC(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken="string"==typeof o?o:(0,It.Sg)(o,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function vC(r){return/^[A-Za-z]+:\/\//.test(r)}function TM(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new yC(n,s)}!function(r){const i={TaskState:ns,TaskEvent:oL,StringFormat:pn,Storage:yC,Reference:hl};r.INTERNAL.registerComponent(new tg.wA("storage-compat",TM,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(ZE.Z);var Eh=N(7841);function CC(r){const i=function(r){return new on.y(i=>{const n=f=>i.next(f);n(r.snapshot);const u=r.on("state_changed",n);return r.then(f=>{n(f),i.complete()},f=>{n(r.snapshot),(f=>{i.error(f)})(f)}),function(){u()}}).pipe(ay(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,rt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function ug(r){return{getDownloadURL:()=>(0,je.of)(void 0).pipe(Jn.fc,Tn(()=>r.getDownloadURL()),Jn.iC),getMetadata:()=>(0,je.of)(void 0).pipe(Jn.fc,Tn(()=>r.getMetadata()),Jn.iC),delete:()=>(0,Zt.D)(r.delete()),child:i=>ug(r.child(i)),updateMetadata:i=>(0,Zt.D)(r.updateMetadata(i)),put:(i,n)=>CC(r.put(i,n)),putString:(i,n,s)=>CC(r.putString(i,n,s)),listAll:()=>(0,Zt.D)(r.listAll())}}const RM=new a.OlP("angularfire2.storageBucket"),uL=new a.OlP("angularfire2.storage.maxUploadRetryTime"),TR=new a.OlP("angularfire2.storage.maxOperationRetryTime"),IR=new a.OlP("angularfire2.storage.use-emulator");let OM=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S){const I=(0,qs.on)(n,f,s);this.storage=(0,Jn.cc)(`${I.name}.storage.${o}`,"AngularFireStorage",I.name,()=>{const F=f.runOutsideAngular(()=>I.storage(o||void 0)),L=S;return L&&F.useEmulator(...L),w&&F.setMaxUploadRetryTime(w),x&&F.setMaxOperationRetryTime(x),F},[w,x])}ref(n){return ug(this.storage.ref(n))}refFromURL(n){return ug(this.storage.refFromURL(n))}upload(n,s,o){return ug(this.storage.ref(n)).put(s,o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(qs.Dh),a.LFG(qs.xv,8),a.LFG(RM,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Jn.HU),a.LFG(uL,8),a.LFG(TR,8),a.LFG(IR,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();class FM{constructor(i,n,s){this.id=i,this.author=n,this.message=s}}var ko=(()=>{return(r=ko||(ko={})).DISPLAY_NAME="display-name",r.IS_SIGNED_IN="is-signed-in",r.DAY="day",r.SEASON="season",ko;var r})();class Zs{static setDisplayName(i){localStorage.setItem(ko.DISPLAY_NAME,i)}static getDisplayName(){return localStorage.getItem(ko.DISPLAY_NAME)}static setIsSignedIn(i){localStorage.setItem(ko.IS_SIGNED_IN,i)}static getIsSignedIn(){return localStorage.getItem(ko.IS_SIGNED_IN)}static setDay(i){localStorage.setItem(ko.DAY,i)}static getDay(){return localStorage.getItem(ko.DAY)}static setSeason(i){localStorage.setItem(ko.SEASON,i)}static getSeason(){return localStorage.getItem(ko.SEASON)}}class RR{constructor(i,n,s){this.id=i,this.author=n,this.value=s}}function dg(){return r=>r.lift(new PM)}class PM{call(i,n){return n.subscribe(new Mh(i))}}class Mh extends Mi.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}function Nu(r,i){return n=>n.lift(new OR(r,i))}class OR{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new NM(i,this.compare,this.keySelector))}}class NM extends Mi.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:o}=this;n=o?o(i):i}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,n)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}N(6780);var pc=N(300),LM=function(r,i){return(LM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])})(r,i)};function _y(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var qe,_a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xC=xC||{},dt=_a||self;function is(){}function Ds(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function Sh(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var EC="closure_uid_"+(1e9*Math.random()>>>0),FR=0;function PR(r,i,n){return r.call.apply(r.bind,arguments)}function NR(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),r.apply(i,o)}}return function(){return r.apply(i,arguments)}}function ki(r,i,n){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PR:NR).apply(null,arguments)}function gc(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ji(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,o,u){for(var f=Array(arguments.length-2),g=2;g<arguments.length;g++)f[g-2]=arguments[g];return i.prototype[o].apply(s,f)}}function fl(){this.s=this.s,this.o=this.o}var VM={};fl.prototype.s=!1,fl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,EC)&&r[EC]||(r[EC]=++FR)}(this);delete VM[r]}},fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var MC=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},hg=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,o="string"==typeof r?r.split(""):r,u=0;u<s;u++)u in o&&i.call(n,o[u],u,r)};function SC(r){return Array.prototype.concat.apply([],arguments)}function yy(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function Ah(r){return/^[\s\xa0]*$/.test(r)}var fr,fg=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function hr(r,i){return-1!=r.indexOf(i)}function vy(r,i){return r<i?-1:r>i?1:0}e:{var AC=dt.navigator;if(AC){var TC=AC.userAgent;if(TC){fr=TC;break e}}fr=""}function by(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function IC(r){var i={};for(var n in r)i[n]=r[n];return i}var kC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function RC(r,i){for(var n,s,o=1;o<arguments.length;o++){for(n in s=arguments[o])r[n]=s[n];for(var u=0;u<kC.length;u++)n=kC[u],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function OC(r){return OC[" "](r),r}OC[" "]=is;var wy,r,UR=hr(fr,"Opera"),Th=hr(fr,"Trident")||hr(fr,"MSIE"),UM=hr(fr,"Edge"),FC=UM||Th,GM=hr(fr,"Gecko")&&!(hr(fr.toLowerCase(),"webkit")&&!hr(fr,"Edge"))&&!(hr(fr,"Trident")||hr(fr,"MSIE"))&&!hr(fr,"Edge"),GR=hr(fr.toLowerCase(),"webkit")&&!hr(fr,"Edge");function HM(){var r=dt.document;return r?r.documentMode:void 0}e:{var PC="",NC=(r=fr,GM?/rv:([^\);]+)(\)|;)/.exec(r):UM?/Edge\/([\d\.]+)/.exec(r):Th?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):GR?/WebKit\/(\S+)/.exec(r):UR?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(NC&&(PC=NC?NC[1]:""),Th){var LC=HM();if(null!=LC&&LC>parseFloat(PC)){wy=String(LC);break e}}wy=PC}var HR={};function jR(){return i=HR,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=fg(String(wy)).split("."),n=fg("9").split("."),s=Math.max(i.length,n.length),o=0;0==r&&o<s;o++){var u=i[o]||"",f=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;r=vy(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||vy(0==u[2].length,0==f[2].length)||vy(u[2],f[2]),u=u[3],f=f[3]}while(0==r)}return 0<=r}();var i}var zM=dt.document&&Th&&(HM()||parseInt(wy,10))||void 0,YM=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{dt.addEventListener("test",is,i),dt.removeEventListener("test",is,i)}catch(n){}return r}();function Xi(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function Ih(r,i){if(Xi.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(GM){e:{try{OC(i.nodeName);var o=!0;break e}catch(u){}o=!1}o||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:qM[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ih.Z.h.call(this)}}Xi.prototype.h=function(){this.defaultPrevented=!0},Ji(Ih,Xi);var qM={2:"touch",3:"pen",4:"mouse"};Ih.prototype.h=function(){Ih.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var kh="closure_listenable_"+(1e6*Math.random()|0),$M=0;function ZM(r,i,n,s,o){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=o,this.key=++$M,this.ca=this.fa=!1}function pg(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Rh(r){this.src=r,this.g={},this.h=0}function gg(r,i){var n=i.type;if(n in r.g){var u,s=r.g[n],o=MC(s,i);(u=0<=o)&&Array.prototype.splice.call(s,o,1),u&&(pg(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function pl(r,i,n,s){for(var o=0;o<r.length;++o){var u=r[o];if(!u.ca&&u.listener==i&&u.capture==!!n&&u.ia==s)return o}return-1}Rh.prototype.add=function(r,i,n,s,o){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var f=pl(r,i,s,o);return-1<f?(i=r[f],n||(i.fa=!1)):((i=new ZM(i,this.src,u,!!s,o)).fa=n,r.push(i)),i};var VC="closure_lm_"+(1e6*Math.random()|0),UC={};function Lu(r,i,n,s,o){if(s&&s.once)return YR(r,i,n,s,o);if(Array.isArray(i)){for(var u=0;u<i.length;u++)Lu(r,i[u],n,s,o);return null}return n=YC(n),r&&r[kh]?r.N(i,n,Sh(s)?!!s.capture:!!s,o):zR(r,i,n,!1,s,o)}function zR(r,i,n,s,o,u){if(!i)throw Error("Invalid event type");var f=Sh(o)?!!o.capture:!!o,g=jC(r);if(g||(r[VC]=g=new Rh(r)),(n=g.add(i,n,s,f,u)).proxy)return n;if(s=function(){var i=pt;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)YM||(o=f),void 0===o&&(o=!1),r.addEventListener(i.toString(),s,o);else if(r.attachEvent)r.attachEvent(qR(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function YR(r,i,n,s,o){if(Array.isArray(i)){for(var u=0;u<i.length;u++)YR(r,i[u],n,s,o);return null}return n=YC(n),r&&r[kh]?r.O(i,n,Sh(s)?!!s.capture:!!s,o):zR(r,i,n,!0,s,o)}function HC(r,i,n,s,o){if(Array.isArray(i))for(var u=0;u<i.length;u++)HC(r,i[u],n,s,o);else s=Sh(s)?!!s.capture:!!s,n=YC(n),r&&r[kh]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=pl(u=r.g[i],n,s,o))&&(pg(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete r.g[i],r.h--))):r&&(r=jC(r))&&(i=r.g[i.toString()],r=-1,i&&(r=pl(i,n,s,o)),(n=-1<r?i[r]:null)&&Cy(n))}function Cy(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[kh])gg(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(qR(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=jC(i))?(gg(n,r),0==n.h&&(n.src=null,i[VC]=null)):pg(r)}}}function qR(r){return r in UC?UC[r]:UC[r]="on"+r}function pt(r,i){if(r.ca)r=!0;else{i=new Ih(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&Cy(r),r=n.call(s,i)}return r}function jC(r){return(r=r[VC])instanceof Rh?r:null}var zC="__closure_events_fn_"+(1e9*Math.random()>>>0);function YC(r){return"function"==typeof r?r:(r[zC]||(r[zC]=function(i){return r.handleEvent(i)}),r[zC])}function li(){fl.call(this),this.i=new Rh(this),this.P=this,this.I=null}function er(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new Xi(i,r);else if(i instanceof Xi)i.target=i.target||r;else{var o=i;RC(i=new Xi(s,r),o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var f=i.g=n[u];o=Bu(f,s,!0,i)&&o}if(o=Bu(f=i.g=r,s,!0,i)&&o,o=Bu(f,s,!1,i)&&o,n)for(u=0;u<n.length;u++)o=Bu(f=i.g=n[u],s,!1,i)&&o}function Bu(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var o=!0,u=0;u<i.length;++u){var f=i[u];if(f&&!f.ca&&f.capture==n){var g=f.listener,w=f.ia||f.src;f.fa&&gg(r.i,f),o=!1!==g.call(w,s)&&o}}return o&&!s.defaultPrevented}Ji(li,fl),li.prototype[kh]=!0,li.prototype.removeEventListener=function(r,i,n,s){HC(this,r,i,n,s)},li.prototype.M=function(){if(li.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)pg(n[s]);delete r.g[i],r.h--}}this.I=null},li.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},li.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var Oh=dt.JSON.stringify;function Xn(){var r=KM,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var xy,fL=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=qC.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),qC=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new $C},function(r){return r.reset()}),$C=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function $R(r){dt.setTimeout(function(){throw r},0)}function Dy(r,i){xy||function(){var r=dt.Promise.resolve(void 0);xy=function(){r.then(ZR)}}(),Ey||(xy(),Ey=!0),KM.add(r,i)}var Ey=!1,KM=new fL;function ZR(){for(var r;r=Xn();){try{r.h.call(r.g)}catch(n){$R(n)}var i=qC;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}Ey=!1}function My(r,i){li.call(this),this.h=r||1,this.g=i||dt,this.j=ki(this.kb,this),this.l=Date.now()}function Vu(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function ZC(r,i,n){if("function"==typeof r)n&&(r=ki(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ki(r.handleEvent,r)}return 2147483647<Number(i)?-1:dt.setTimeout(r,i||0)}function QM(r){r.g=ZC(function(){r.g=null,r.i&&(r.i=!1,QM(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}Ji(My,li),(qe=My.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),er(this,"tick"),this.da&&(Vu(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){My.Z.M.call(this),Vu(this),delete this.g};var WR=function(r){function i(n,s){var o=r.call(this)||this;return o.m=n,o.j=s,o.h=null,o.i=!1,o.g=null,o}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}LM(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:QM(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(fl);function mc(r){fl.call(this),this.h=r,this.g={}}Ji(mc,fl);var WC=[];function KC(r,i,n,s){Array.isArray(n)||(n&&(WC[0]=n.toString()),n=WC);for(var o=0;o<n.length;o++){var u=Lu(i,n[o],s||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function QC(r){by(r.g,function(i,n){this.g.hasOwnProperty(n)&&Cy(i)},r),r.g={}}function Sy(){this.g=!0}function Fh(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<o.length;f++)o[f]=""}}}return Oh(n)}catch(g){return i}}(r,n)+(s?" "+s:"")})}mc.prototype.M=function(){mc.Z.M.call(this),QC(this)},mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sy.prototype.Aa=function(){this.g=!1},Sy.prototype.info=function(){};var _c={},JC=null;function yg(){return JC=JC||new li}function JM(r){Xi.call(this,_c.Ma,r)}function Ph(r){var i=yg();er(i,new JM(i,r))}function XM(r,i){Xi.call(this,_c.STAT_EVENT,r),this.stat=i}function kr(r){var i=yg();er(i,new XM(i,r))}function JR(r,i){Xi.call(this,_c.Na,r),this.size=i}function Ay(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return dt.setTimeout(function(){r()},i)}_c.Ma="serverreachability",Ji(JM,Xi),_c.STAT_EVENT="statevent",Ji(XM,Xi),_c.Na="timingevent",Ji(JR,Xi);var XC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},XR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ty(){}function eS(){}Ty.prototype.h=null;var e0,bg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Iy(){Xi.call(this,"d")}function Uu(){Xi.call(this,"c")}function ky(){}function wg(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new mc(this),this.P=eO,this.W=new My(r=FC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tS}function tS(){this.i=null,this.g="",this.h=!1}Ji(Iy,Xi),Ji(Uu,Xi),Ji(ky,Ty),ky.prototype.g=function(){return new XMLHttpRequest},ky.prototype.i=function(){return{}},e0=new ky;var eO=45e3,Ry={},Oy={};function t0(r,i,n){r.K=1,r.v=Vy(ml(i)),r.s=n,r.U=!0,Gu(r,null)}function Gu(r,i){r.F=Date.now(),Nh(r),r.A=ml(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),lS(n.h,"t",s),r.C=0,n=r.l.H,r.h=new tS,r.g=CS(r.l,n?i:null,!r.s),0<r.O&&(r.L=new WR(ki(r.Ia,r,r.g),r.O)),KC(r.V,r.g,"readystatechange",r.gb),i=r.H?IC(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),Ph(1),function(r,i,n,s,o,u){r.info(function(){if(r.g)if(u)for(var f="",g=u.split("&"),w=0;w<g.length;w++){var x=g[w].split("=");if(1<x.length){var S=x[0];x=x[1];var I=S.split("_");f=2<=I.length&&"type"==I[1]?f+(S+"=")+x+"&":f+(S+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+i+"\n"+n+"\n"+f})}(r.j,r.u,r.A,r.m,r.X,r.s)}function nS(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function n0(r,i,n){for(var o,s=!0;!r.I&&r.C<n.length;){if((o=tO(r,n))==Oy){4==i&&(r.o=4,kr(14),s=!1),Fh(r.j,r.m,null,"[Incomplete Response]");break}if(o==Ry){r.o=4,kr(15),Fh(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Fh(r.j,r.m,o,null),r0(r,o)}nS(r)&&o!=Oy&&o!=Ry&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,kr(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mS(i),i.L=!0,kr(11))):(Fh(r.j,r.m,n,"[Invalid Chunked Response]"),gl(r),Dg(r))}function tO(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?Oy:(n=Number(i.substring(n,s)),isNaN(n)?Ry:(s+=1)+n>i.length?Oy:(i=i.substr(s,n),r.C=s+n,i))}function Nh(r){r.Y=Date.now()+r.P,iS(r,r.P)}function iS(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ay(ki(r.eb,r),i)}function Cg(r){r.B&&(dt.clearTimeout(r.B),r.B=null)}function Dg(r){0==r.l.G||r.I||yS(r.l,r)}function gl(r){Cg(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,Vu(r.W),QC(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function r0(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||hS(n.i,r)))if(n.I=r.N,!r.J&&hS(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(ge){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(n.u)n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ay(ki(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;Qy(n),Wy(n)}y0(n),kr(18)}if(1>=c0(n.i)&&n.ka){try{n.ka()}catch(ge){}n.ka=void 0}}else zu(n,11)}else if((r.J||n.g==r)&&Qy(n),!Ah(i))for(o=n.Ca.g.parse(i),i=0;i<o.length;i++){var u=o[i];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];var f=u[3];null!=f&&(n.ma=f,n.h.info("VER="+n.ma));var g=u[4];null!=g&&(n.za=g,n.h.info("SVER="+n.za));var w=u[5];null!=w&&"number"==typeof w&&0<w&&(n.K=s=1.5*w,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var x=r.g;if(x){var S=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var I=s.i;!I.g&&(hr(S,"spdy")||hr(S,"quic")||hr(S,"h2"))&&(I.j=I.l,I.g=new Set,I.h&&(u0(I,I.h),I.h=null))}if(s.D){var F=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(s.sa=F,Rn(s.F,s.D,F))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var L=r;if((s=n).oa=wS(s,s.H?s.la:null,s.W),L.J){bc(s.i,L);var j=L,te=s.K;te&&j.setTimeout(te),j.B&&(Cg(j),Nh(j)),s.g=L}else gS(s);0<n.l.length&&Ky(n)}else"stop"!=u[0]&&"close"!=u[0]||zu(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?zu(n,7):m0(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Ph(4)}catch(ge){}}function Fy(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(Ds(r)||"string"==typeof r)hg(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(Ds(r)||"string"==typeof r){n=[];for(var s=r.length,o=0;o<s;o++)n.push(o)}else for(o in n=[],s=0,r)n[s++]=o;o=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Ds(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var u=0;u<o;u++)i.call(void 0,s[u],n&&n[u],r)}}function Lh(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Lh)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function s0(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];Hu(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var o={};for(n=i=0;i<r.g.length;)Hu(o,s=r.g[i])||(r.g[n++]=s,o[s]=1),i++;r.g.length=n}}function Hu(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(qe=wg.prototype).setTimeout=function(r){this.P=r},qe.gb=function(r){r=r.target;var i=this.L;i&&3==yl(r)?i.l():this.Ia(r)},qe.Ia=function(r){try{if(r==this.g)e:{var i=yl(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||FC||this.g&&(this.h.h||this.g.ga()||fS(this.g)))){this.I||4!=i||7==n||Ph(8==n||0>=s?3:2),Cg(this);var o=this.g.ba();this.N=o;t:if(nS(this)){var u=fS(this.g);r="";var f=u.length,g=4==yl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gl(this),Dg(this);var w="";break t}this.h.i=new dt.TextDecoder}for(n=0;n<f;n++)this.h.h=!0,r+=this.h.i.decode(u[n],{stream:g&&n==f-1});u.splice(0,f),this.h.g+=r,this.C=0,w=this.h.g}else w=this.g.ga();if(this.i=200==o,function(r,i,n,s,o,u,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+i+"\n"+n+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.X,i,o),this.i){if(this.$&&!this.J){t:{if(this.g){var x,S=this.g;if((x=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ah(x)){var I=x;break t}}I=null}if(!(o=I)){this.i=!1,this.o=3,kr(12),gl(this),Dg(this);break e}Fh(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,r0(this,o)}this.U?(n0(this,i,w),FC&&this.i&&3==i&&(KC(this.V,this.W,"tick",this.fb),this.W.start())):(Fh(this.j,this.m,w,null),r0(this,w)),4==i&&gl(this),this.i&&!this.I&&(4==i?yS(this.l,this):(this.i=!1,Nh(this)))}else 400==o&&0<w.indexOf("Unknown SID")?(this.o=3,kr(12)):(this.o=0,kr(13)),gl(this),Dg(this)}}}catch(F){}},qe.fb=function(){if(this.g){var r=yl(this.g),i=this.g.ga();this.C<i.length&&(Cg(this),n0(this,r,i),this.i&&4!=r&&Nh(this))}},qe.cancel=function(){this.I=!0,gl(this)},qe.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Ph(3),kr(17)),gl(this),this.o=2,Dg(this)):iS(this,this.Y-r)},(qe=Lh.prototype).R=function(){s0(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},qe.T=function(){return s0(this),this.g.concat()},qe.get=function(r,i){return Hu(this.h,r)?this.h[r]:i},qe.set=function(r,i){Hu(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},qe.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var o=n[s],u=this.get(o);r.call(i,u,o,this)}};var Py=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yc(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof yc){this.g=void 0!==i?i:r.g,Ny(this,r.j),this.s=r.s,Ly(this,r.i),By(this,r.m),this.l=r.l,i=r.h;var n=new ju;n.i=i.i,i.g&&(n.g=new Lh(i.g),n.h=i.h),sS(this,n),this.o=r.o}else r&&(n=String(r).match(Py))?(this.g=!!i,Ny(this,n[1]||"",!0),this.s=Bh(n[2]||""),Ly(this,n[3]||"",!0),By(this,n[4]),this.l=Bh(n[5]||"",!0),sS(this,n[6]||"",!0),this.o=Bh(n[7]||"")):(this.g=!!i,this.h=new ju(null,this.g))}function ml(r){return new yc(r)}function Ny(r,i,n){r.j=n?Bh(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function Ly(r,i,n){r.i=n?Bh(i,!0):i}function By(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function sS(r,i,n){i instanceof ju?(r.h=i,function(r,i){i&&!r.j&&(_l(r),r.i=null,r.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(Uy(this,s),lS(this,o,n))},r)),r.j=i}(r.h,r.g)):(n||(i=xg(i,aO)),r.h=new ju(i,r.g))}function Rn(r,i,n){r.h.set(i,n)}function Vy(r){return Rn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Bh(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function xg(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,rO),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function rO(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}yc.prototype.toString=function(){var r=[],i=this.j;i&&r.push(xg(i,o0,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(xg(i,o0,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(xg(n,"/"==n.charAt(0)?oO:sO,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",xg(n,a0)),r.join("")};var o0=/[#\/\?@]/g,sO=/[#\?:]/g,oO=/[#\?]/g,aO=/[#\?@]/g,a0=/#/g;function ju(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function _l(r){r.g||(r.g=new Lh,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),o=null;if(0<=s){var u=r[n].substring(0,s);o=r[n].substring(s+1)}else u=r[n];i(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function Uy(r,i){_l(r),i=vc(r,i),Hu(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,Hu((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&s0(r)))}function aS(r,i){return _l(r),i=vc(r,i),Hu(r.g.h,i)}function lS(r,i,n){Uy(r,i),0<n.length&&(r.i=null,r.g.set(vc(r,i),yy(n)),r.h+=n.length)}function vc(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}(qe=ju.prototype).add=function(r,i){_l(this),this.i=null,r=vc(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},qe.forEach=function(r,i){_l(this),this.g.forEach(function(n,s){hg(n,function(o){r.call(i,o,s,this)},this)},this)},qe.T=function(){_l(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var o=r[s],u=0;u<o.length;u++)n.push(i[s]);return n},qe.R=function(r){_l(this);var i=[];if("string"==typeof r)aS(this,r)&&(i=SC(i,this.g.get(vc(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=SC(i,r[n])}return i},qe.set=function(r,i){return _l(this),this.i=null,aS(this,r=vc(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},qe.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],o=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var f=o;""!==s[u]&&(f+="="+encodeURIComponent(String(s[u]))),r.push(f)}}return this.i=r.join("&")};var cS=function(i,n){this.h=i,this.g=n};function uS(r){this.l=r||dS,r=dt.PerformanceNavigationTiming?0<(r=dt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(dt.g&&dt.g.Ea&&dt.g.Ea()&&dt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dS=10;function l0(r){return!!r.h||!!r.g&&r.g.size>=r.j}function c0(r){return r.h?1:r.g?r.g.size:0}function hS(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function u0(r,i){r.g?r.g.add(i):r.h=i}function bc(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function cO(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var o=_y(r.g.values()),u=o.next();!u.done;u=o.next())s=s.concat(u.value.D)}catch(g){i={error:g}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}return yy(r.i)}function Eg(){}function Gy(){this.g=new Eg}function uO(r,i,n){var s=n||"";try{Fy(r,function(o,u){var f=o;Sh(o)&&(f=Oh(o)),i.push(s+u+"="+encodeURIComponent(f))})}catch(o){throw i.push(s+"type="+encodeURIComponent("_badmap")),o}}function Hy(r,i,n,s,o){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,o(s)}catch(u){}}function jy(r){this.l=r.$b||null,this.j=r.ib||!1}function zy(r,i){li.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=Ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uS.prototype.cancel=function(){var r,i;if(this.i=cO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=_y(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},Eg.prototype.stringify=function(r){return dt.JSON.stringify(r,void 0)},Eg.prototype.parse=function(r){return dt.JSON.parse(r,void 0)},Ji(jy,Ty),jy.prototype.g=function(){return new zy(this.l,this.j)},jy.prototype.i=function(r){return function(){return r}}({}),Ji(zy,li);var Ws=0;function d0(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Yy(r){r.readyState=4,r.l=null,r.j=null,r.A=null,wc(r)}function wc(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(qe=zy.prototype).open=function(r,i){if(this.readyState!=Ws)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,wc(this)},qe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||dt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yy(this)),this.readyState=Ws},qe.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==dt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;d0(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?Yy(this):wc(this),3==this.readyState&&d0(this)}},qe.Ua=function(r){this.g&&(this.response=this.responseText=r,Yy(this))},qe.Ta=function(r){this.g&&(this.response=r,Yy(this))},qe.ha=function(){this.g&&Yy(this)},qe.setRequestHeader=function(r,i){this.v.append(r,i)},qe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(zy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var dO=dt.JSON.parse;function mi(r){li.call(this),this.headers=new Lh,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hO,this.K=this.L=!1}Ji(mi,li);var hO="",fO=/^https?$/i,pO=["POST","PUT"];function h0(r){return"content-type"==r.toLowerCase()}function f0(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,qy(r),$y(r)}function qy(r){r.D||(r.D=!0,er(r,"complete"),er(r,"error"))}function p0(r){if(r.h&&void 0!==xC&&(!r.C[1]||4!=yl(r)||2!=r.ba()))if(r.v&&4==yl(r))ZC(r.Fa,0,r);else if(er(r,"readystatechange"),4==yl(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var o;if(o=0===i){var u=String(r.H).match(Py)[1]||null;if(!u&&dt.self&&dt.self.location){var f=dt.self.location.protocol;u=f.substr(0,f.length-1)}o=!fO.test(u?u.toLowerCase():"")}s=o}if(s)er(r,"complete"),er(r,"success");else{r.m=6;try{var g=2<yl(r)?r.g.statusText:""}catch(w){g=""}r.j=g+" ["+r.ba()+"]",qy(r)}}finally{$y(r)}}}function $y(r,i){if(r.g){mO(r);var n=r.g,s=r.C[0]?is:null;r.g=null,r.C=null,i||er(r,"ready");try{n.onreadystatechange=s}catch(o){}}}function mO(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(dt.clearTimeout(r.A),r.A=null)}function yl(r){return r.g?r.g.readyState:0}function fS(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case hO:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Zy(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return by(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Rn(r,i,n))}function Uh(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function g0(r){this.za=0,this.l=[],this.h=new Sy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Uh("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Uh("baseRetryDelayMs",5e3,r),this.$a=Uh("retryDelaySeedMs",1e4,r),this.Ya=Uh("forwardChannelMaxRetries",2,r),this.ra=Uh("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new uS(r&&r.concurrentRequestLimit),this.Ca=new Gy,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function m0(r){if(_0(r),3==r.G){var i=r.V++,n=ml(r.F);Rn(n,"SID",r.J),Rn(n,"RID",i),Rn(n,"TYPE","terminate"),Cc(r,n),(i=new wg(r,r.h,i,void 0)).K=2,i.v=Vy(ml(n)),n=!1,dt.navigator&&dt.navigator.sendBeacon&&(n=dt.navigator.sendBeacon(i.v.toString(),"")),!n&&dt.Image&&((new Image).src=i.v,n=!0),n||(i.g=CS(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Nh(i)}bS(r)}function Wy(r){r.g&&(mS(r),r.g.cancel(),r.g=null)}function _0(r){Wy(r),r.u&&(dt.clearTimeout(r.u),r.u=null),Qy(r),r.i.cancel(),r.m&&("number"==typeof r.m&&dt.clearTimeout(r.m),r.m=null)}function Gh(r,i){r.l.push(new cS(r.Za++,i)),3==r.G&&Ky(r)}function Ky(r){l0(r.i)||r.m||(r.m=!0,Dy(r.Ha,r),r.C=0)}function Mg(r,i){var n;n=i?i.m:r.V++;var s=ml(r.F);Rn(s,"SID",r.J),Rn(s,"RID",n),Rn(s,"AID",r.U),Cc(r,s),r.o&&r.s&&Zy(s,r.o,r.s),n=new wg(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=Hh(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),u0(r.i,n),t0(n,s,i)}function Cc(r,i){r.j&&Fy({},function(n,s){Rn(i,s,n)})}function Hh(r,i,n){n=Math.min(r.l.length,n);var s=r.j?ki(r.j.Oa,r.j,r):null;e:for(var o=r.l,u=-1;;){var f=["count="+n];-1==u?0<n?f.push("ofs="+(u=o[0].h)):u=0:f.push("ofs="+u);for(var g=!0,w=0;w<n;w++){var x=o[w].h,S=o[w].g;if(0>(x-=u))u=Math.max(0,o[w].h-100),g=!1;else try{uO(S,f,"req"+x+"_")}catch(I){s&&s(S)}}if(g){s=f.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function gS(r){r.g||r.u||(r.Y=1,Dy(r.Ga,r),r.A=0)}function y0(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Ay(ki(r.Ga,r),vS(r,r.A)),r.A++,0))}function mS(r){null!=r.B&&(dt.clearTimeout(r.B),r.B=null)}function _S(r){r.g=new wg(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=ml(r.oa);Rn(i,"RID","rpc"),Rn(i,"SID",r.J),Rn(i,"CI",r.N?"0":"1"),Rn(i,"AID",r.U),Cc(r,i),Rn(i,"TYPE","xmlhttp"),r.o&&r.s&&Zy(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=Vy(ml(i)),n.s=null,n.U=!0,Gu(n,r)}function Qy(r){null!=r.v&&(dt.clearTimeout(r.v),r.v=null)}function yS(r,i){var n=null;if(r.g==i){Qy(r),mS(r),r.g=null;var s=2}else{if(!hS(r.i,i))return;n=i.D,bc(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var o=r.C;er(s=yg(),new JR(s,n,i,o)),Ky(r)}else gS(r);else if(3==(o=i.o)||0==o&&0<r.I||!(1==s&&function(r,i){return!(c0(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Ay(ki(r.Ha,r,i),vS(r,r.C)),r.C++,0)))}(r,i)||2==s&&y0(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),o){case 1:zu(r,5);break;case 4:zu(r,10);break;case 3:zu(r,6);break;default:zu(r,2)}}function vS(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function zu(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=ki(r.jb,r);n||(n=new yc("//www.google.com/images/cleardot.gif"),dt.location&&"http"==dt.location.protocol||Ny(n,"https"),Vy(n)),function(r,i){var n=new Sy;if(dt.Image){var s=new Image;s.onload=gc(Hy,n,s,"TestLoadImage: loaded",!0,i),s.onerror=gc(Hy,n,s,"TestLoadImage: error",!1,i),s.onabort=gc(Hy,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=gc(Hy,n,s,"TestLoadImage: timeout",!1,i),dt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else kr(2);r.G=0,r.j&&r.j.va(i),bS(r),_0(r)}function bS(r){r.G=0,r.I=-1,r.j&&((0!=cO(r.i).length||0!=r.l.length)&&(r.i.i.length=0,yy(r.l),r.l.length=0),r.j.ua())}function wS(r,i,n){var s=function(r){return r instanceof yc?ml(r):new yc(r,void 0)}(n);if(""!=s.i)i&&Ly(s,i+"."+s.i),By(s,s.m);else{var o=dt.location;s=function(r,i,n,s){var o=new yc(null,void 0);return r&&Ny(o,r),i&&Ly(o,i),n&&By(o,n),s&&(o.l=s),o}(o.protocol,i?i+"."+o.hostname:o.hostname,+o.port,n)}return r.aa&&by(r.aa,function(u,f){Rn(s,f,u)}),n=r.sa,(i=r.D)&&n&&Rn(s,i,n),Rn(s,"VER",r.ma),Cc(r,s),s}function CS(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new mi(n&&r.Ba&&!r.qa?new jy({ib:!0}):r.qa)).L=r.H,i}function DS(){}function v0(){if(Th&&!(10<=Number(zM)))throw Error("Environmental error: no available transport.")}function xs(r,i){li.call(this),this.g=new g0(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!Ah(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Ah(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new zh(this)}function jh(r){Iy.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function xS(){Uu.call(this),this.status=1}function zh(r){this.g=r}(qe=mi.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():e0.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:e0),this.g.onreadystatechange=ki(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(u){return void f0(this,u)}r=n||"";var o=new Lh(this.headers);s&&Fy(s,function(u,f){o.set(f,u)}),s=function(r){e:{for(var i=h0,n=r.length,s="string"==typeof r?r.split(""):r,o=0;o<n;o++)if(o in s&&i.call(void 0,s[o],o,r)){i=o;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(o.T()),n=dt.FormData&&r instanceof dt.FormData,!(0<=MC(pO,i))||s||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,f){this.g.setRequestHeader(f,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mO(this),0<this.B&&((this.K=function(r){return Th&&jR()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.pa,this)):this.A=ZC(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){f0(this,u)}},qe.pa=function(){void 0!==xC&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,er(this,"timeout"),this.abort(8))},qe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,er(this,"complete"),er(this,"abort"),$y(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$y(this,!0)),mi.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?p0(this):this.cb())},qe.cb=function(){p0(this)},qe.ba=function(){try{return 2<yl(this)?this.g.status:-1}catch(r){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},qe.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),dO(i)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=g0.prototype).ma=8,qe.G=1,qe.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},qe.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new wg(this,this.h,r,void 0),n=this.s;if(this.P&&(n?RC(n=IC(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,o=0;o<this.l.length;o++){var u=this.l[o];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(s+=u)){s=o;break e}if(4096===s||o===this.l.length-1){s=o+1;break e}}s=1e3}else s=1e3;s=Hh(this,i,s),Rn(o=ml(this.F),"RID",r),Rn(o,"CVER",22),this.D&&Rn(o,"X-HTTP-Session-Id",this.D),Cc(this,o),this.o&&n&&Zy(o,this.o,n),u0(this.i,i),this.Ra&&Rn(o,"TYPE","init"),this.ja?(Rn(o,"$req",s),Rn(o,"SID","null"),i.$=!0,t0(i,o,null)):t0(i,o,s),this.G=2}}else 3==this.G&&(r?Mg(this,r):0==this.l.length||l0(this.i)||Mg(this))},qe.Ga=function(){if(this.u=null,_S(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Ay(ki(this.bb,this),r)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,kr(10),Wy(this),_S(this))},qe.ab=function(){null!=this.v&&(this.v=null,Wy(this),y0(this),kr(19))},qe.jb=function(r){r?(this.h.info("Successfully pinged google.com"),kr(2)):(this.h.info("Failed to ping google.com"),kr(1))},(qe=DS.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},v0.prototype.g=function(r,i){return new xs(r,i)},Ji(xs,li),xs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),Dy(ki(r.hb,r,i))),kr(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=wS(r,null,r.W),Ky(r)},xs.prototype.close=function(){m0(this.g)},xs.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,Gh(this.g,i)}else this.v?((i={}).__data__=Oh(r),Gh(this.g,i)):Gh(this.g,r)},xs.prototype.M=function(){this.g.j=null,delete this.j,m0(this.g),delete this.g,xs.Z.M.call(this)},Ji(jh,Iy),Ji(xS,Uu),Ji(zh,DS),zh.prototype.xa=function(){er(this.g,"a")},zh.prototype.wa=function(r){er(this.g,new jh(r))},zh.prototype.va=function(r){er(this.g,new xS(r))},zh.prototype.ua=function(){er(this.g,"b")},v0.prototype.createWebChannel=v0.prototype.g,xs.prototype.send=xs.prototype.u,xs.prototype.open=xs.prototype.m,xs.prototype.close=xs.prototype.close,XC.NO_ERROR=0,XC.TIMEOUT=8,XC.HTTP_ERROR=6,XR.COMPLETE="complete",eS.EventType=bg,bg.OPEN="a",bg.CLOSE="b",bg.ERROR="c",bg.MESSAGE="d",li.prototype.listen=li.prototype.N,mi.prototype.listenOnce=mi.prototype.O,mi.prototype.getLastError=mi.prototype.La,mi.prototype.getLastErrorCode=mi.prototype.Da,mi.prototype.getStatus=mi.prototype.ba,mi.prototype.getResponseJson=mi.prototype.Qa,mi.prototype.getResponseText=mi.prototype.ga,mi.prototype.send=mi.prototype.ea;var ya=XC,b0=XR,MS=_c,SS_PROXY=10,SS_NOPROXY=11,AS=jy,Dc=eS,TS=mi;class Gi{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");let xc="9.0.2";const vl=new pc.Yd("@firebase/firestore");function Jy(){return vl.logLevel}function Ne(r,...i){if(vl.logLevel<=pc.in.DEBUG){const n=i.map(Xy);vl.debug(`Firestore (${xc}): ${r}`,...n)}}function ci(r,...i){if(vl.logLevel<=pc.in.ERROR){const n=i.map(Xy);vl.error(`Firestore (${xc}): ${r}`,...n)}}function Ag(r,...i){if(vl.logLevel<=pc.in.WARN){const n=i.map(Xy);vl.warn(`Firestore (${xc}): ${r}`,...n)}}function Xy(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function Ke(r="Unexpected state"){const i=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+r;throw ci(i),new Error(i)}function mt(r,i){r||Ke()}function Ve(r,i){return r}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gn{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class Yh{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class mL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(Gi.UNAUTHENTICATED))}shutdown(){}}class St{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Ks{constructor(i){this.t=i,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let o=this.i;const u=x=>this.i!==o?(o=this.i,n(x)):Promise.resolve();let f=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Gn,i.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const x=f;i.enqueueRetryable((0,be.Z)(function*(){yield x.promise,yield u(s.currentUser)}))},w=x=>{Ne("FirebaseCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(x=>w(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?w(x):(Ne("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Gn)}},0),g()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(Ne("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(mt("string"==typeof s.accessToken),new Yh(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return mt(null===i||"string"==typeof i),new Gi(i)}}class w0{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=Gi.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class Yu{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new w0(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(Gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qs{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function IS(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}Qs.T=-1;class C0{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const o=IS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=i.charAt(o[u]%i.length))}return s}}function zt(r,i){return r<i?-1:r>i?1:0}function qh(r,i,n){return r.length===i.length&&r.every((s,o)=>n(s,i[o]))}function kS(r){return r+"\0"}class ln{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return ln.fromMillis(Date.now())}static fromDate(i){return ln.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new ln(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?zt(this.nanoseconds,i.nanoseconds):zt(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ze{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ze(i)}static min(){return new Ze(new ln(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Js(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function Ec(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function RS(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class $h{constructor(i,n,s){void 0===n?n=0:n>i.length&&Ke(),void 0===s?s=i.length-n:s>i.length-n&&Ke(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===$h.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof $h?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let o=0;o<s;o++){const u=i.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class Qt extends $h{construct(i,n,s){return new Qt(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const Zh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends $h{construct(i,n,s){return new ui(i,n,s)}static isValidIdentifier(i){return Zh.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(i){const n=[];let s="",o=0;const u=()=>{if(0===s.length)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<i.length;){const g=i[o];if("\\"===g){if(o+1===i.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const w=i[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=w,o+=2}else"`"===g?(f=!f,o++):"."!==g||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new ui(n)}static emptyPath(){return new ui([])}}class Wh{constructor(i){this.fields=i,i.sort(ui.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return qh(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class Hi{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new Hi(n)}static fromUint8Array(i){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(i);return new Hi(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return zt(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const OS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(r){if(mt(!!r),"string"==typeof r){let i=0;const n=OS.exec(r);if(mt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),i=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:On(r.seconds),nanos:On(r.nanos)}}function On(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Mc(r){return"string"==typeof r?Hi.fromBase64String(r):Hi.fromUint8Array(r)}function ev(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $u(r){const i=r.mapValue.fields.__previous_value__;return ev(i)?$u(i):i}function Tg(r){const i=va(r.mapValue.fields.__local_write_time__.timestampValue);return new ln(i.seconds,i.nanos)}function ba(r){return null==r}function Ig(r){return 0===r&&1/r==-1/0}function D0(r){return"number"==typeof r&&Number.isInteger(r)&&!Ig(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Xe{constructor(i){this.path=i}static fromPath(i){return new Xe(Qt.fromString(i))}static fromName(i){return new Xe(Qt.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===Qt.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return Qt.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Xe(new Qt(i.slice()))}}function wa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ev(r)?4:10:Ke()}function Ca(r,i){const n=wa(r);if(n!==wa(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return Tg(r).isEqual(Tg(i));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=va(s.timestampValue),f=va(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return o=i,Mc(r.bytesValue).isEqual(Mc(o.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,o){return On(s.geoPointValue.latitude)===On(o.geoPointValue.latitude)&&On(s.geoPointValue.longitude)===On(o.geoPointValue.longitude)}(r,i);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return On(s.integerValue)===On(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=On(s.doubleValue),f=On(o.doubleValue);return u===f?Ig(u)===Ig(f):isNaN(u)&&isNaN(f)}return!1}(r,i);case 9:return qh(r.arrayValue.values||[],i.arrayValue.values||[],Ca);case 10:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(Js(u)!==Js(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===f[g]||!Ca(u[g],f[g])))return!1;return!0}(r,i);default:return Ke()}var o}function Zu(r,i){return void 0!==(r.values||[]).find(n=>Ca(n,i))}function Sc(r,i){const n=wa(r),s=wa(i);if(n!==s)return zt(n,s);switch(n){case 0:return 0;case 1:return zt(r.booleanValue,i.booleanValue);case 2:return function(o,u){const f=On(o.integerValue||o.doubleValue),g=On(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,i);case 3:return bO(r.timestampValue,i.timestampValue);case 4:return bO(Tg(r),Tg(i));case 5:return zt(r.stringValue,i.stringValue);case 6:return function(o,u){const f=Mc(o),g=Mc(u);return f.compareTo(g)}(r.bytesValue,i.bytesValue);case 7:return function(o,u){const f=o.split("/"),g=u.split("/");for(let w=0;w<f.length&&w<g.length;w++){const x=zt(f[w],g[w]);if(0!==x)return x}return zt(f.length,g.length)}(r.referenceValue,i.referenceValue);case 8:return function(o,u){const f=zt(On(o.latitude),On(u.latitude));return 0!==f?f:zt(On(o.longitude),On(u.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(o,u){const f=o.values||[],g=u.values||[];for(let w=0;w<f.length&&w<g.length;++w){const x=Sc(f[w],g[w]);if(x)return x}return zt(f.length,g.length)}(r.arrayValue,i.arrayValue);case 10:return function(o,u){const f=o.fields||{},g=Object.keys(f),w=u.fields||{},x=Object.keys(w);g.sort(),x.sort();for(let S=0;S<g.length&&S<x.length;++S){const I=zt(g[S],x[S]);if(0!==I)return I;const F=Sc(f[g[S]],w[x[S]]);if(0!==F)return F}return zt(g.length,x.length)}(r.mapValue,i.mapValue);default:throw Ke()}}function bO(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return zt(r,i);const n=va(r),s=va(i),o=zt(n.seconds,s.seconds);return 0!==o?o:zt(n.nanos,s.nanos)}function FS(r){return wt(r)}function wt(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const o=va(s);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Mc(r.bytesValue).toBase64():"referenceValue"in r?Xe.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let o="[",u=!0;for(const f of s.values||[])u?u=!1:o+=",",o+=wt(f);return o+"]"}(r.arrayValue):"mapValue"in r?function(s){const o=Object.keys(s.fields||{}).sort();let u="{",f=!0;for(const g of o)f?f=!1:u+=",",u+=`${g}:${wt(s.fields[g])}`;return u+"}"}(r.mapValue):Ke();var i}function x0(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function Wu(r){return!!r&&"integerValue"in r}function E0(r){return!!r&&"arrayValue"in r}function PS(r){return!!r&&"nullValue"in r}function NS(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function M0(r){return!!r&&"mapValue"in r}function tv(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return Ec(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=tv(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=tv(r.arrayValue.values[n]);return i}return Object.assign({},r)}class pr{constructor(i){this.value=i}static empty(){return new pr({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!M0(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=tv(n)}setAll(i){let n=ui.emptyPath(),s={},o=[];i.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const w=this.getFieldsMap(n);this.applyChanges(w,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=tv(f):o.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(i){const n=this.field(i.popLast());M0(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return Ca(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let o=n.mapValue.fields[i.get(s)];M0(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(i,n,s){Ec(n,(o,u)=>i[o]=u);for(const o of s)delete i[o]}clone(){return new pr(tv(this.value))}}function tr(r){const i=[];return Ec(r.fields,(n,s)=>{const o=new ui([n]);if(M0(s)){const u=tr(s.mapValue).fields;if(0===u.length)i.push(o);else for(const f of u)i.push(o.child(f))}else i.push(o)}),new Wh(i)}class Fn{constructor(i,n,s,o,u){this.key=i,this.documentType=n,this.version=s,this.data=o,this.documentState=u}static newInvalidDocument(i){return new Fn(i,0,Ze.min(),pr.empty(),0)}static newFoundDocument(i,n,s){return new Fn(i,1,n,s,0)}static newNoDocument(i,n){return new Fn(i,2,n,pr.empty(),0)}static newUnknownDocument(i,n){return new Fn(i,3,n,pr.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Fn&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new Fn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wO{constructor(i,n=null,s=[],o=[],u=null,f=null,g=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.A=null}}function nv(r,i=null,n=[],s=[],o=null,u=null,f=null){return new wO(r,i,n,s,o,u,f)}function kg(r){const i=Ve(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+FS(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(o=s).field.canonicalString()+o.dir;var o}).join(","),ba(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=sv(i.startAt)),i.endAt&&(n+="|ub:",n+=sv(i.endAt)),i.A=n}return i.A}function iv(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let o=0;o<r.orderBy.length;o++)if(!AO(r.orderBy[o],i.orderBy[o]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let o=0;o<r.filters.length;o++)if((n=r.filters[o]).op!==(s=i.filters[o]).op||!n.field.isEqual(s.field)||!Ca(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!Qh(r.startAt,i.startAt)&&Qh(r.endAt,i.endAt)}function rv(r){return Xe.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Rr extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new S0(i,n,s):"array-contains"===n?new T0(i,s):"in"===n?new MO(i,s):"not-in"===n?new _L(i,s):"array-contains-any"===n?new SO(i,s):new Rr(i,n,s)}static R(i,n,s){return"in"===n?new xO(i,s):new EO(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(Sc(n,this.value)):null!==n&&wa(this.value)===wa(n)&&this.P(Sc(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Ke()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class S0 extends Rr{constructor(i,n,s){super(i,n,s),this.key=Xe.fromName(s.referenceValue)}matches(i){const n=Xe.comparator(i.key,this.key);return this.P(n)}}class xO extends Rr{constructor(i,n){super(i,"in",n),this.keys=A0(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class EO extends Rr{constructor(i,n){super(i,"not-in",n),this.keys=A0(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function A0(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Xe.fromName(s.referenceValue))}class T0 extends Rr{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return E0(n)&&Zu(n.arrayValue,this.value)}}class MO extends Rr{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&Zu(this.value.arrayValue,n)}}class _L extends Rr{constructor(i,n){super(i,"not-in",n)}matches(i){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!Zu(this.value.arrayValue,n)}}class SO extends Rr{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!E0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zu(this.value.arrayValue,s))}}class Rg{constructor(i,n){this.position=i,this.before=n}}function sv(r){return`${r.before?"b":"a"}:${r.position.map(i=>FS(i)).join(",")}`}class Kh{constructor(i,n="asc"){this.field=i,this.dir=n}}function AO(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function LS(r,i,n){let s=0;for(let o=0;o<r.position.length;o++){const u=i[o],f=r.position[o];if(s=u.field.isKeyField()?Xe.comparator(Xe.fromName(f.referenceValue),n.key):Sc(f,n.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function Qh(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ca(r.position[n],i.position[n]))return!1;return!0}class bl{constructor(i,n=null,s=[],o=[],u=null,f="F",g=null,w=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=w,this.V=null,this.S=null}}function BS(r,i,n,s,o,u,f,g){return new bl(r,i,n,s,o,u,f,g)}function Ku(r){return new bl(r)}function Ac(r){return!ba(r.limit)&&"F"===r.limitType}function I0(r){return!ba(r.limit)&&"L"===r.limitType}function ov(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function k0(r){for(const i of r.filters)if(i.v())return i.field;return null}function R0(r){return null!==r.collectionGroup}function Jh(r){const i=Ve(r);if(null===i.V){i.V=[];const n=k0(i),s=ov(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new Kh(n)),i.V.push(new Kh(ui.keyField(),"asc"));else{let o=!1;for(const u of i.explicitOrderBy)i.V.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new Kh(ui.keyField(),u))}}}return i.V}function Xs(r){const i=Ve(r);if(!i.S)if("F"===i.limitType)i.S=nv(i.path,i.collectionGroup,Jh(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const u of Jh(i))n.push(new Kh(u.field,"desc"===u.dir?"asc":"desc"));const s=i.endAt?new Rg(i.endAt.position,!i.endAt.before):null,o=i.startAt?new Rg(i.startAt.position,!i.startAt.before):null;i.S=nv(i.path,i.collectionGroup,n,i.filters,i.limit,s,o)}return i.S}function VS(r,i,n){return new bl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function Xh(r,i){return iv(Xs(r),Xs(i))&&r.limitType===i.limitType}function US(r){return`${kg(Xs(r))}|lt:${r.limitType}`}function O0(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${FS(s.value)}`;var s}).join(", ")}]`),ba(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+sv(r.startAt)),r.endAt&&(i+=", endAt: "+sv(r.endAt)),`Target(${i})`}(Xs(r))}; limitType=${r.limitType})`}function av(r,i){return i.isFoundDocument()&&function(n,s){const o=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Xe.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,i)&&function(n,s){for(const o of n.explicitOrderBy)if(!o.field.isKeyField()&&null===s.data.field(o.field))return!1;return!0}(r,i)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!LS(n.startAt,Jh(n),s)||n.endAt&&LS(n.endAt,Jh(n),s)));var n,s}function TO(r){return(i,n)=>{let s=!1;for(const o of Jh(r)){const u=yL(o,i,n);if(0!==u)return u;s=s||o.field.isKeyField()}return 0}}function yL(r,i,n){const s=r.field.isKeyField()?Xe.comparator(i.key,n.key):function(o,u,f){const g=u.data.field(o),w=f.data.field(o);return null!==g&&null!==w?Sc(g,w):Ke()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ke()}}function lv(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ig(i)?"-0":i}}function GS(r){return{integerValue:""+r}}function HS(r,i){return D0(i)?GS(i):lv(r,i)}class cv{constructor(){this._=void 0}}function IO(r,i,n){return r instanceof Qu?function(s,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,i):r instanceof wl?zS(r,i):r instanceof eo?nr(r,i):function(s,o){const u=jS(s,o),f=to(u)+to(s.C);return Wu(u)&&Wu(s.C)?GS(f):lv(s.N,f)}(r,i)}function kO(r,i,n){return r instanceof wl?zS(r,i):r instanceof eo?nr(r,i):n}function jS(r,i){return r instanceof Ju?Wu(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class Qu extends cv{}class wl extends cv{constructor(i){super(),this.elements=i}}function zS(r,i){const n=uv(i);for(const s of r.elements)n.some(o=>Ca(o,s))||n.push(s);return{arrayValue:{values:n}}}class eo extends cv{constructor(i){super(),this.elements=i}}function nr(r,i){let n=uv(i);for(const s of r.elements)n=n.filter(o=>!Ca(o,s));return{arrayValue:{values:n}}}class Ju extends cv{constructor(i,n){super(),this.N=i,this.C=n}}function to(r){return On(r.integerValue||r.doubleValue)}function uv(r){return E0(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Og{constructor(i,n){this.field=i,this.transform=n}}class qS{constructor(i,n){this.version=i,this.transformResults=n}}class di{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new di}static exists(i){return new di(void 0,i)}static updateTime(i){return new di(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function dv(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class hv{}function RO(r,i,n){r instanceof Fg?function(s,o,u){const f=s.value.clone(),g=F0(s.fieldTransforms,o,u.transformResults);f.setAll(g),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,i,n):r instanceof Es?function(s,o,u){if(!dv(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=F0(s.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(PO(s)),g.setAll(f),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function fv(r,i,n){var o;r instanceof Fg?function(s,o,u){if(!dv(s.precondition,o))return;const f=s.value.clone(),g=ZS(s.fieldTransforms,u,o);f.setAll(g),o.convertToFoundDocument($S(o),f).setHasLocalMutations()}(r,i,n):r instanceof Es?function(s,o,u){if(!dv(s.precondition,o))return;const f=ZS(s.fieldTransforms,u,o),g=o.data;g.setAll(PO(s)),g.setAll(f),o.convertToFoundDocument($S(o),g).setHasLocalMutations()}(r,i,n):dv(r.precondition,o=i)&&o.convertToNoDocument(Ze.min())}function OO(r,i){let n=null;for(const s of r.fieldTransforms){const o=i.data.field(s.field),u=jS(s.transform,o||null);null!=u&&(null==n&&(n=pr.empty()),n.set(s.field,u))}return n||null}function FO(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&qh(n,s,(o,u)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof wl&&s instanceof wl||n instanceof eo&&s instanceof eo?qh(n.elements,s.elements,Ca):n instanceof Ju&&s instanceof Ju?Ca(n.C,s.C):n instanceof Qu&&s instanceof Qu);var n,s}(o,u))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function $S(r){return r.isFoundDocument()?r.version:Ze.min()}class Fg extends hv{constructor(i,n,s,o=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}}class Es extends hv{constructor(i,n,s,o,u=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}}function PO(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function F0(r,i,n){const s=new Map;mt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=i.data.field(u.field);s.set(u.field,kO(f,g,n[o]))}return s}function ZS(r,i,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,IO(u,f,i))}return s}class pv extends hv{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class gv extends hv{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class NO{constructor(i){this.count=i}}var ei,Yt;function P0(r){switch(r){case se.OK:return Ke();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ke()}}function N0(r){if(void 0===r)return ci("GRPC error has no .code"),se.UNKNOWN;switch(r){case ei.OK:return se.OK;case ei.CANCELLED:return se.CANCELLED;case ei.UNKNOWN:return se.UNKNOWN;case ei.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case ei.INTERNAL:return se.INTERNAL;case ei.UNAVAILABLE:return se.UNAVAILABLE;case ei.UNAUTHENTICATED:return se.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case ei.NOT_FOUND:return se.NOT_FOUND;case ei.ALREADY_EXISTS:return se.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return se.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case ei.ABORTED:return se.ABORTED;case ei.OUT_OF_RANGE:return se.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return se.UNIMPLEMENTED;case ei.DATA_LOSS:return se.DATA_LOSS;default:return Ke()}}(Yt=ei||(ei={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class Ri{constructor(i,n){this.comparator=i,this.root=n||ir.EMPTY}insert(i,n){return new Ri(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(i){return new Ri(this.comparator,this.root.remove(i,this.comparator).copy(null,null,ir.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(i,s.key);if(0===o)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new mv(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new mv(this.root,i,this.comparator,!1)}getReverseIterator(){return new mv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new mv(this.root,i,this.comparator,!0)}}class mv{constructor(i,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!i.isEmpty();)if(u=n?s(i.key,n):1,o&&(u*=-1),u<0)i=this.isReverse?i.left:i.right;else{if(0===u){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class ir{constructor(i,n,s,o,u){this.key=i,this.value=n,this.color=null!=s?s:ir.RED,this.left=null!=o?o:ir.EMPTY,this.right=null!=u?u:ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,o,u){return new ir(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let o=this;const u=s(i,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(i,n,s),null):0===u?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(i,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,o=this;if(n(i,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(i,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(i,o.key)){if(o.right.isEmpty())return ir.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(i,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ke();const i=this.left.check();if(i!==this.right.check())throw Ke();return i+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke()}get value(){throw Ke()}get color(){throw Ke()}get left(){throw Ke()}get right(){throw Ke()}copy(r,i,n,s,o){return this}insert(r,i,n){return new ir(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ti{constructor(i){this.comparator=i,this.data=new Ri(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,i[1])>=0)return;n(o.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new WS(this.data.getIterator())}getIteratorFrom(i){return new WS(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof ti)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new ti(this.comparator);return n.data=i,n}}class WS{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const LO=new Ri(Xe.comparator);function no(){return LO}const Pg=new Ri(Xe.comparator);function _v(){return Pg}const KS=new Ri(Xe.comparator);function L0(){return KS}const QS=new ti(Xe.comparator);function rn(...r){let i=QS;for(const n of r)i=i.add(n);return i}const JS=new ti(zt);function yv(){return JS}class ef{constructor(i,n,s,o,u){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,Ng.createSynthesizedTargetChangeForCurrentChange(i,n)),new ef(Ze.min(),s,yv(),no(),rn())}}class Ng{constructor(i,n,s,o,u){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(i,n){return new Ng(Hi.EMPTY_BYTE_STRING,n,rn(),rn(),rn())}}class vv{constructor(i,n,s,o){this.k=i,this.removedTargetIds=n,this.key=s,this.$=o}}class XS{constructor(i,n){this.targetId=i,this.O=n}}class eA{constructor(i,n,s=Hi.EMPTY_BYTE_STRING,o=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=o}}class tf{constructor(){this.F=0,this.M=bv(),this.L=Hi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=rn(),n=rn(),s=rn();return this.M.forEach((o,u)=>{switch(u){case 0:i=i.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ke()}}),new Ng(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=bv()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Lg{constructor(i){this.tt=i,this.et=new Map,this.nt=no(),this.st=tA(),this.it=new ti(zt)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:Ke()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,o)=>{this.ht(o)&&n(o)})}ft(i){const n=i.targetId,s=i.O.count,o=this.dt(n);if(o){const u=o.target;if(rv(u))if(0===s){const f=new Xe(u.path);this.at(n,f,Fn.newNoDocument(f,Ze.min()))}else mt(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((u,f)=>{const g=this.dt(f);if(g){if(u.current&&rv(g.target)){const w=new Xe(g.target.path);null!==this.nt.get(w)||this.gt(f,w)||this.at(f,w,Fn.newNoDocument(w,i))}u.K&&(n.set(f,u.W()),u.G())}});let s=rn();this.st.forEach((u,f)=>{let g=!0;f.forEachWhile(w=>{const x=this.dt(w);return!x||2===x.purpose||(g=!1,!1)}),g&&(s=s.add(u))});const o=new ef(i,n,this.it,this.nt,s);return this.nt=no(),this.st=tA(),this.it=new ti(zt),o}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const o=this.ut(i);this.gt(i,n)?o.H(n,1):o.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new tf,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new ti(zt),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||Ne("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new tf),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function tA(){return new Ri(Xe.comparator)}function bv(){return new Ri(Xe.comparator)}const Da={asc:"ASCENDING",desc:"DESCENDING"},BO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Bg{constructor(i,n){this.databaseId=i,this.D=n}}function Vg(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function nA(r,i){return r.D?i.toBase64():i.toUint8Array()}function vL(r,i){return Vg(r,i.toTimestamp())}function _i(r){return mt(!!r),Ze.fromTimestamp(function(i){const n=va(i);return new ln(n.seconds,n.nanos)}(r))}function Ug(r,i){return(n=r,new Qt(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function B0(r){const i=Qt.fromString(r);return mt(uA(i)),i}function Xu(r,i){return Ug(r.databaseId,i.path)}function io(r,i){const n=B0(i);if(n.get(1)!==r.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Xe(rA(n))}function V0(r,i){return Ug(r.databaseId,i)}function iA(r){const i=B0(r);return 4===i.length?Qt.emptyPath():rA(i)}function Gg(r){return new Qt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rA(r){return mt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function U0(r,i,n){return{name:Xu(r,i),fields:n.value.mapValue.fields}}function wv(r,i,n){const s=io(r,i.name),o=_i(i.updateTime),u=new pr({mapValue:{fields:i.fields}}),f=Fn.newFoundDocument(s,o,u);return n&&f.setHasCommittedMutations(),n?f.setHasCommittedMutations():f}function Hg(r,i){let n;if(i instanceof Fg)n={update:U0(r,i.key,i.value)};else if(i instanceof pv)n={delete:Xu(r,i.key)};else if(i instanceof Es)n={update:U0(r,i.key,i.data),updateMask:z0(i.fieldMask)};else{if(!(i instanceof gv))return Ke();n={verify:Xu(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(o,u){const f=u.transform;if(f instanceof Qu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof wl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof eo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ju)return{fieldPath:u.field.canonicalString(),increment:f.C};throw Ke()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(o=i.precondition).updateTime?{updateTime:vL(r,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Ke()),n;var o}function G0(r,i){const n=i.currentDocument?void 0!==(o=i.currentDocument).updateTime?di.updateTime(_i(o.updateTime)):void 0!==o.exists?di.exists(o.exists):di.none():di.none(),s=i.updateTransforms?i.updateTransforms.map(o=>function(u,f){let g=null;"setToServerValue"in f?(mt("REQUEST_TIME"===f.setToServerValue),g=new Qu):"appendMissingElements"in f?g=new wl(f.appendMissingElements.values||[]):"removeAllFromArray"in f?g=new eo(f.removeAllFromArray.values||[]):"increment"in f?g=new Ju(u,f.increment):Ke();const w=ui.fromServerFormat(f.fieldPath);return new Og(w,g)}(r,o)):[];var o;if(i.update){const o=io(r,i.update.name),u=new pr({mapValue:{fields:i.update.fields}});if(i.updateMask){const f=new Wh((i.updateMask.fieldPaths||[]).map(x=>ui.fromServerFormat(x)));return new Es(o,u,f,n,s)}return new Fg(o,u,n,s)}if(i.delete){const o=io(r,i.delete);return new pv(o,n)}if(i.verify){const o=io(r,i.verify);return new gv(o,n)}return Ke()}function H0(r,i){return{documents:[V0(r,i.path)]}}function j0(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=V0(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=V0(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(g){if(0===g.length)return;const w=g.map(x=>function(S){if("=="===S.op){if(NS(S.value))return{unaryFilter:{field:rf(S.field),op:"IS_NAN"}};if(PS(S.value))return{unaryFilter:{field:rf(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(NS(S.value))return{unaryFilter:{field:rf(S.field),op:"IS_NOT_NAN"}};if(PS(S.value))return{unaryFilter:{field:rf(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rf(S.field),op:GO(S.op),value:S.value}}}(x));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(i.filters);o&&(n.structuredQuery.where=o);const u=function(g){if(0!==g.length)return g.map(w=>{return{field:rf((x=w).field),direction:nf(x.dir)};var x})}(i.orderBy);u&&(n.structuredQuery.orderBy=u);const f=(w=i.limit,r.D||ba(w)?w:{value:w});var w;return null!==f&&(n.structuredQuery.limit=f),i.startAt&&(n.structuredQuery.startAt=UO(i.startAt)),i.endAt&&(n.structuredQuery.endAt=UO(i.endAt)),n}function aA(r){let i=iA(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){mt(1===s);const S=n.from[0];S.allDescendants?o=S.collectionId:i=i.child(S.collectionId)}let u=[];n.where&&(u=cA(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(S=>{return new Kh(jg((I=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let g=null;n.limit&&(g=function(S){let I;return I="object"==typeof S?S.value:S,ba(I)?null:I}(n.limit));let w=null;n.startAt&&(w=gr(n.startAt));let x=null;return n.endAt&&(x=gr(n.endAt)),BS(i,o,f,u,g,"F",w,x)}function cA(r){return r?void 0!==r.unaryFilter?[HO(r)]:void 0!==r.fieldFilter?[zg(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>cA(i)).reduce((i,n)=>i.concat(n)):Ke():[]}function UO(r){return{before:r.before,values:r.position}}function gr(r){return new Rg(r.values||[],!!r.before)}function nf(r){return Da[r]}function GO(r){return BO[r]}function rf(r){return{fieldPath:r.canonicalString()}}function jg(r){return ui.fromServerFormat(r.fieldPath)}function zg(r){return Rr.create(jg(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ke()}}(r.fieldFilter.op),r.fieldFilter.value)}function HO(r){switch(r.unaryFilter.op){case"IS_NAN":const i=jg(r.unaryFilter.field);return Rr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=jg(r.unaryFilter.field);return Rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=jg(r.unaryFilter.field);return Rr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jg(r.unaryFilter.field);return Rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ke()}}function z0(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function uA(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function ro(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=dA(i)),i=jO(r.get(n),i);return dA(i)}function jO(r,i){let n=i;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function dA(r){return r+"\x01\x01"}function Ro(r){const i=r.length;if(mt(i>=2),2===i)return mt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Qt.emptyPath();const n=i-2,s=[];let o="";for(let u=0;u<i;){const f=r.indexOf("\x01",u);switch((f<0||f>n)&&Ke(),r.charAt(f+1)){case"\x01":const g=r.substring(u,f);let w;0===o.length?w=g:(o+=g,w=o,o=""),s.push(w);break;case"\x10":o+=r.substring(u,f),o+="\0";break;case"\x11":o+=r.substring(u,f+1);break;default:Ke()}u=f+2}return new Qt(s)}class hA{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class rs{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}rs.store="owner",rs.key="owner";class Oo{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}Oo.store="mutationQueues",Oo.keyPath="userId";class vn{constructor(i,n,s,o,u){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=o,this.mutations=u}}vn.store="mutations",vn.keyPath="batchId",vn.userMutationsIndex="userMutationsIndex",vn.userMutationsKeyPath=["userId","batchId"];class Or{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,ro(n)]}static key(i,n,s){return[i,ro(n),s]}}Or.store="documentMutations",Or.PLACEHOLDER=new Or;class fA{constructor(i,n){this.path=i,this.readTime=n}}class zO{constructor(i,n){this.path=i,this.version=n}}class Hn{constructor(i,n,s,o,u,f){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=f}}Hn.store="remoteDocuments",Hn.readTimeIndex="readTimeIndex",Hn.readTimeIndexPath="readTime",Hn.collectionReadTimeIndex="collectionReadTimeIndex",Hn.collectionReadTimeIndexPath=["parentPath","readTime"];class Ms{constructor(i){this.byteSize=i}}Ms.store="remoteDocumentGlobal",Ms.key="remoteDocumentGlobalKey";class Fr{constructor(i,n,s,o,u,f,g){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=f,this.query=g}}Fr.store="targets",Fr.keyPath="targetId",Fr.queryTargetsIndexName="queryTargetsIndex",Fr.queryTargetsKeyPath=["canonicalId","targetId"];class rr{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}rr.store="targetDocuments",rr.keyPath=["targetId","path"],rr.documentTargetsIndex="documentTargetsIndex",rr.documentTargetsKeyPath=["path","targetId"];class Pr{constructor(i,n,s,o){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=o}}Pr.key="targetGlobalKey",Pr.store="targetGlobal";class Cl{constructor(i,n){this.collectionId=i,this.parent=n}}Cl.store="collectionParents",Cl.keyPath=["collectionId","parent"];class Dl{constructor(i,n,s,o){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=o}}Dl.store="clientMetadata",Dl.keyPath="clientId";class sf{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}sf.store="bundles",sf.keyPath="bundleId";class ed{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}ed.store="namedQueries",ed.keyPath="name";const pA=[Oo.store,vn.store,Or.store,Hn.store,Fr.store,rs.store,Pr.store,rr.store,Dl.store,Ms.store,Cl.store,sf.store,ed.store],Y0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Ae{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&Ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Ae((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(i,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Ae.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Ae.reject(n)}static resolve(i){return new Ae((n,s)=>{n(i)})}static reject(i){return new Ae((n,s)=>{s(i)})}static waitFor(i){return new Ae((n,s)=>{let o=0,u=0,f=!1;i.forEach(g=>{++o,g.next(()=>{++u,f&&u===o&&n()},w=>s(w))}),f=!0,u===o&&n()})}static or(i){let n=Ae.resolve(!1);for(const s of i)n=n.next(o=>o?Ae.resolve(o):s());return n}static forEach(i,n){const s=[];return i.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}}class Yg{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new Gn,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new af(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const o=Cv(s.target.error);this.Tt.reject(new af(i,o))}}static open(i,n,s,o){try{return new Yg(n,i.transaction(o,s))}catch(u){throw new af(n,u)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(Ne("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new mA(n)}}class Fo{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===Fo.Rt((0,It.z$)())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Ne("SimpleDb","Removing database:",i),Tc(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Fo.Pt())return!0;const i=(0,It.z$)(),n=Fo.Rt(i),s=0<n&&n<10,o=Fo.vt(i),u=0<o&&o<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||u)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,be.Z)(function*(){return n.db||(Ne("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,o)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=f=>{s(f.target.result)},u.onblocked=()=>{o(new af(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const g=f.target.error;o("VersionError"===g.name?new Se(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Se(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new af(i,g))},u.onupgradeneeded=f=>{Ne("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.At.Ct(f.target.result,u.transaction,f.oldVersion,n.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,o){var u=this;return(0,be.Z)(function*(){const f="readonly"===n;let g=0;for(;;){++g;try{u.db=yield u.Dt(i);const w=Yg.open(u.db,i,f?"readonly":"readwrite",s),x=o(w).catch(S=>(w.abort(S),Ae.reject(S))).toPromise();return x.catch(()=>{}),yield w.It,x}catch(w){const x="FirebaseError"!==w.name&&g<3;if(Ne("SimpleDb","Transaction failed with error:",w.message,"Retrying:",x),u.close(),!x)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YO{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return Tc(this.kt.delete())}}class af extends Se{constructor(i,n){super(se.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function td(r){return"IndexedDbTransactionError"===r.name}class mA{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(Ne("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),Tc(s)}add(i){return Ne("SimpleDb","ADD",this.store.name,i,i),Tc(this.store.add(i))}get(i){return Tc(this.store.get(i)).next(n=>(void 0===n&&(n=null),Ne("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return Ne("SimpleDb","DELETE",this.store.name,i),Tc(this.store.delete(i))}count(){return Ne("SimpleDb","COUNT",this.store.name),Tc(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),o=[];return this.Bt(s,(u,f)=>{o.push(f)}).next(()=>o)}Ut(i,n){Ne("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const o=this.cursor(s);return this.Bt(o,(u,f,g)=>g.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const o=this.cursor(s);return this.Bt(o,n)}jt(i){const n=this.cursor({});return new Ae((s,o)=>{n.onerror=u=>{const f=Cv(u.target.error);o(f)},n.onsuccess=u=>{const f=u.target.result;f?i(f.primaryKey,f.value).next(g=>{g?f.continue():s()}):s()}})}Bt(i,n){const s=[];return new Ae((o,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{const g=f.target.result;if(!g)return void o();const w=new YO(g),x=n(g.primaryKey,g.value,w);if(x instanceof Ae){const S=x.catch(I=>(w.done(),Ae.reject(I)));s.push(S)}w.isDone?o():null===w.Ft?g.continue():g.continue(w.Ft)}}).next(()=>Ae.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function Tc(r){return new Ae((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const o=Cv(s.target.error);n(o)}})}let q0=!1;function Cv(r){const i=Fo.Rt((0,It.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return q0||(q0=!0,setTimeout(()=>{throw s},0)),s}}return r}class _A extends gA{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function ss(r,i){const n=Ve(r);return Fo.St(n.Qt,i)}class $0{constructor(i,n,s,o){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(i.key)&&RO(u,i,s[o])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&fv(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&fv(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),o=s;this.applyToLocalView(o),s.isValidDocument()||o.convertToNoDocument(Ze.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),rn())}isEqual(i){return this.batchId===i.batchId&&qh(this.mutations,i.mutations,(n,s)=>FO(n,s))&&qh(this.baseMutations,i.baseMutations,(n,s)=>FO(n,s))}}class Dv{constructor(i,n,s,o){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(i,n,s){mt(i.mutations.length===s.length);let o=L0();const u=i.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Dv(i,n,s,o)}}class nd{constructor(i,n,s,o,u=Ze.min(),f=Ze.min(),g=Hi.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g}withSequenceNumber(i){return new nd(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class qO{constructor(i){this.Wt=i}}function yA(r,i){if(i.document)return wv(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=Xe.fromSegments(i.noDocument.path),s=$g(i.noDocument.readTime),o=Fn.newNoDocument(n,s);return i.hasCommittedMutations?o.setHasCommittedMutations():o}if(i.unknownDocument){const n=Xe.fromSegments(i.unknownDocument.path),s=$g(i.unknownDocument.version);return Fn.newUnknownDocument(n,s)}return Ke()}function $O(r,i,n){const s=vA(n),o=i.key.path.popLast().toArray();if(i.isFoundDocument()){const u={name:Xu(g=r.Wt,(w=i).key),fields:w.data.value.mapValue.fields,updateTime:Vg(g,w.version.toTimestamp())};return new Hn(null,null,u,i.hasCommittedMutations,s,o)}var g,w;if(i.isNoDocument()){const u=i.key.path.toArray(),f=qg(i.version),g=i.hasCommittedMutations;return new Hn(null,new fA(u,f),null,g,s,o)}if(i.isUnknownDocument()){const u=i.key.path.toArray(),f=qg(i.version);return new Hn(new zO(u,f),null,null,!0,s,o)}return Ke()}function vA(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function ZO(r){const i=new ln(r[0],r[1]);return Ze.fromTimestamp(i)}function qg(r){const i=r.toTimestamp();return new hA(i.seconds,i.nanoseconds)}function $g(r){const i=new ln(r.seconds,r.nanoseconds);return Ze.fromTimestamp(i)}function Zg(r,i){const n=(i.baseMutations||[]).map(u=>G0(r.Wt,u));for(let u=0;u<i.mutations.length-1;++u){const f=i.mutations[u];u+1<i.mutations.length&&void 0!==i.mutations[u+1].transform&&(f.updateTransforms=i.mutations[u+1].transform.fieldTransforms,i.mutations.splice(u+1,1),++u)}const s=i.mutations.map(u=>G0(r.Wt,u)),o=ln.fromMillis(i.localWriteTimeMs);return new $0(i.batchId,o,n,s)}function xv(r){const i=$g(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?$g(r.lastLimboFreeSnapshotVersion):Ze.min();let s;var o;return void 0!==r.query.documents?(mt(1===(o=r.query).documents.length),s=Xs(Ku(iA(o.documents[0])))):s=Xs(aA(r.query)),new nd(s,r.targetId,0,r.lastListenSequenceNumber,i,n,Hi.fromBase64String(r.resumeToken))}function WO(r,i){const n=qg(i.snapshotVersion),s=qg(i.lastLimboFreeSnapshotVersion);let o;o=rv(i.target)?H0(r.Wt,i.target):j0(r.Wt,i.target);const u=i.resumeToken.toBase64();return new Fr(i.targetId,kg(i.target),n,u,i.sequenceNumber,s,o)}function bA(r){const i=aA({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?VS(i,i.limit,"L"):i}class bL{getBundleMetadata(i,n){return KO(i).get(n).next(s=>{if(s)return{id:(o=s).bundleId,createTime:$g(o.createTime),version:o.version};var o})}saveBundleMetadata(i,n){return KO(i).put({bundleId:(s=n).id,createTime:qg(_i(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return QO(i).get(n).next(s=>{if(s)return{name:(o=s).name,query:bA(o.bundledQuery),readTime:$g(o.readTime)};var o})}saveNamedQuery(i,n){return QO(i).put({name:(s=n).name,readTime:qg(_i(s.readTime)),bundledQuery:s.bundledQuery});var s}}function KO(r){return ss(r,sf.store)}function QO(r){return ss(r,ed.store)}class wL{constructor(){this.Gt=new wA}addToCollectionParentIndex(i,n){return this.Gt.add(n),Ae.resolve()}getCollectionParents(i,n){return Ae.resolve(this.Gt.getEntries(n))}}class wA{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n]||new ti(Qt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(i){return(this.index[i]||new ti(Qt.comparator)).toArray()}}class JO{constructor(){this.zt=new wA}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),o=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const u={collectionId:s,parent:ro(o)};return CA(i).put(u)}return Ae.resolve()}getCollectionParents(i,n){const s=[],o=IDBKeyRange.bound([n,""],[kS(n),""],!1,!0);return CA(i).Lt(o).next(u=>{for(const f of u){if(f.collectionId!==n)break;s.push(Ro(f.parent))}return s})}}function CA(r){return ss(r,Cl.store)}const DA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ss{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new Ss(i,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function XO(r,i,n){const s=r.store(vn.store),o=r.store(Or.store),u=[],f=IDBKeyRange.only(n.batchId);let g=0;const w=s.Kt({range:f},(S,I,F)=>(g++,F.delete()));u.push(w.next(()=>{mt(1===g)}));const x=[];for(const S of n.mutations){const I=Or.key(i,S.key.path,n.batchId);u.push(o.delete(I)),x.push(S.key)}return Ae.waitFor(u).next(()=>x)}function Z0(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw Ke();i=r.noDocument}return JSON.stringify(i).length}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class W0{constructor(i,n,s,o){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=o,this.Jt={}}static Yt(i,n,s,o){mt(""!==i.uid);const u=i.isAuthenticated()?i.uid:"";return new W0(u,n,s,o)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ic(i).Kt({index:vn.userMutationsIndex,range:s},(o,u,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(i,n,s,o){const u=Wg(i),f=Ic(i);return f.add({}).next(g=>{mt("number"==typeof g);const w=new $0(g,n,s,o),x=function(F,L,j){const te=j.baseMutations.map(Ee=>Hg(F.Wt,Ee)),ge=j.mutations.map(Ee=>Hg(F.Wt,Ee));return new vn(L,j.batchId,j.localWriteTime.toMillis(),te,ge)}(this.N,this.userId,w),S=[];let I=new ti((F,L)=>zt(F.canonicalString(),L.canonicalString()));for(const F of o){const L=Or.key(this.userId,F.key.path,g);I=I.add(F.key.path.popLast()),S.push(f.put(x)),S.push(u.put(L,Or.PLACEHOLDER))}return I.forEach(F=>{S.push(this.Ht.addToCollectionParentIndex(i,F))}),i.addOnCommittedListener(()=>{this.Jt[g]=w.keys()}),Ae.waitFor(S).next(()=>w)})}lookupMutationBatch(i,n){return Ic(i).get(n).next(s=>s?(mt(s.userId===this.userId),Zg(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Ae.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const o=s.keys();return this.Jt[n]=o,o}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,o=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Ic(i).Kt({index:vn.userMutationsIndex,range:o},(f,g,w)=>{g.userId===this.userId&&(mt(g.batchId>=s),u=Zg(this.N,g)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ic(i).Kt({index:vn.userMutationsIndex,range:n,reverse:!0},(o,u,f)=>{s=u.batchId,f.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ic(i).Lt(vn.userMutationsIndex,n).next(s=>s.map(o=>Zg(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=Or.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(s),u=[];return Wg(i).Kt({range:o},(f,g,w)=>{const[x,S,I]=f,F=Ro(S);if(x===this.userId&&n.path.isEqual(F))return Ic(i).get(I).next(L=>{if(!L)throw Ke();mt(L.userId===this.userId),u.push(Zg(this.N,L))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new ti(zt);const o=[];return n.forEach(u=>{const f=Or.prefixForPath(this.userId,u.path),g=IDBKeyRange.lowerBound(f),w=Wg(i).Kt({range:g},(x,S,I)=>{const[F,L,j]=x,te=Ro(L);F===this.userId&&u.path.isEqual(te)?s=s.add(j):I.done()});o.push(w)}),Ae.waitFor(o).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1,u=Or.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(u);let g=new ti(zt);return Wg(i).Kt({range:f},(w,x,S)=>{const[I,F,L]=w,j=Ro(F);I===this.userId&&s.isPrefixOf(j)?j.length===o&&(g=g.add(L)):S.done()}).next(()=>this.Zt(i,g))}Zt(i,n){const s=[],o=[];return n.forEach(u=>{o.push(Ic(i).get(u).next(f=>{if(null===f)throw Ke();mt(f.userId===this.userId),s.push(Zg(this.N,f))}))}),Ae.waitFor(o).next(()=>s)}removeMutationBatch(i,n){return XO(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Ae.forEach(s,o=>this.referenceDelegate.markPotentiallyOrphaned(i,o))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Ae.resolve();const s=IDBKeyRange.lowerBound(Or.prefixForUser(this.userId)),o=[];return Wg(i).Kt({range:s},(u,f,g)=>{if(u[0]===this.userId){const w=Ro(u[1]);o.push(w)}else g.done()}).next(()=>{mt(0===o.length)})})}containsKey(i,n){return xA(i,this.userId,n)}ee(i){return eF(i).get(this.userId).next(n=>n||new Oo(this.userId,-1,""))}}function xA(r,i,n){const s=Or.prefixForPath(i,n.path),o=s[1],u=IDBKeyRange.lowerBound(s);let f=!1;return Wg(r).Kt({range:u,qt:!0},(g,w,x)=>{const[S,I,F]=g;S===i&&I===o&&(f=!0),x.done()}).next(()=>f)}function Ic(r){return ss(r,vn.store)}function Wg(r){return ss(r,Or.store)}function eF(r){return ss(r,Oo.store)}class lf{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new lf(0)}static ie(){return new lf(-1)}}class CL{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new lf(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>Ze.fromTimestamp(new ln(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(o=>(o.highestListenSequenceNumber=n,s&&(o.lastRemoteSnapshotVersion=s.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.oe(i,o)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>cf(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(mt(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let o=0;const u=[];return cf(i).Kt((f,g)=>{const w=xv(g);w.sequenceNumber<=n&&null===s.get(w.targetId)&&(o++,u.push(this.removeTargetData(i,w)))}).next(()=>Ae.waitFor(u)).next(()=>o)}forEachTarget(i,n){return cf(i).Kt((s,o)=>{const u=xv(o);n(u)})}re(i){return tF(i).get(Pr.key).next(n=>(mt(null!==n),n))}oe(i,n){return tF(i).put(Pr.key,n)}ae(i,n){return cf(i).put(WO(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=kg(n),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return cf(i).Kt({range:o,index:Fr.queryTargetsIndexName},(f,g,w)=>{const x=xv(g);iv(n,x.target)&&(u=x,w.done())}).next(()=>u)}addMatchingKeys(i,n,s){const o=[],u=kc(i);return n.forEach(f=>{const g=ro(f.path);o.push(u.put(new rr(s,g))),o.push(this.referenceDelegate.addReference(i,s,f))}),Ae.waitFor(o)}removeMatchingKeys(i,n,s){const o=kc(i);return Ae.forEach(n,u=>{const f=ro(u.path);return Ae.waitFor([o.delete([s,f]),this.referenceDelegate.removeReference(i,s,u)])})}removeMatchingKeysForTargetId(i,n){const s=kc(i),o=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(o)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),o=kc(i);let u=rn();return o.Kt({range:s,qt:!0},(f,g,w)=>{const x=Ro(f[1]),S=new Xe(x);u=u.add(S)}).next(()=>u)}containsKey(i,n){const s=ro(n.path),o=IDBKeyRange.bound([s],[kS(s)],!1,!0);let u=0;return kc(i).Kt({index:rr.documentTargetsIndex,qt:!0,range:o},([f,g],w,x)=>{0!==f&&(u++,x.done())}).next(()=>u>0)}Et(i,n){return cf(i).get(n).next(s=>s?xv(s):null)}}function cf(r){return ss(r,Fr.store)}function tF(r){return ss(r,Pr.store)}function kc(r){return ss(r,rr.store)}function xl(r){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,be.Z)(function*(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==Y0)throw r;Ne("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function K0([r,i],[n,s]){const o=zt(r,n);return 0===o?zt(i,s):o}class nF{constructor(i){this.ue=i,this.buffer=new ti(K0),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();K0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iF{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;Ne("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(o){td(o)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield xl(o)}yield n._e(i)}))}}class Q0{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Ae.resolve(Qs.T);const s=new nF(n);return this.me.forEachTarget(i,o=>s.fe(o.sequenceNumber)).next(()=>this.me.ye(i,o=>s.fe(o))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(DA)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DA):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,o,u,f,g,w,x;const S=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(i,o))).next(I=>(s=I,g=Date.now(),this.removeTargets(i,s,n))).next(I=>(u=I,w=Date.now(),this.removeOrphanedDocuments(i,s))).next(I=>(x=Date.now(),Jy()<=pc.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-S}ms\n\tDetermined least recently used ${o} in `+(g-f)+`ms\n\tRemoved ${u} targets in `+(w-g)+`ms\n\tRemoved ${I} documents in `+(x-w)+`ms\nTotal Duration: ${x-S}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}class EA{constructor(i,n){this.db=i,this.garbageCollector=new Q0(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(o=>s+o))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,o)=>n(o))}addReference(i,n,s){return Kg(i,s)}removeReference(i,n,s){return Kg(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return Kg(i,n)}Ie(i,n){return function(s,o){let u=!1;return eF(s).jt(f=>xA(s,f,o).next(g=>(g&&(u=!0),Ae.resolve(!g)))).next(()=>u)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Te(i,(f,g)=>{if(g<=n){const w=this.Ie(i,f).next(x=>{if(!x)return u++,s.getEntry(i,f).next(()=>(s.removeEntry(f),kc(i).delete([0,ro(f.path)])))});o.push(w)}}).next(()=>Ae.waitFor(o)).next(()=>s.apply(i)).next(()=>u)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return Kg(i,n)}Te(i,n){const s=kc(i);let o,u=Qs.T;return s.Kt({index:rr.documentTargetsIndex},([f,g],{path:w,sequenceNumber:x})=>{0===f?(u!==Qs.T&&n(new Xe(Ro(o)),u),u=x,o=w):u=Qs.T}).next(()=>{u!==Qs.T&&n(new Xe(Ro(o)),u)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Kg(r,i){return kc(r).put((s=r.currentSequenceNumber,new rr(0,ro(i.path),s)));var s}class id{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[o,u]of s)if(this.equalsFn(o,i))return u}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),o=this.inner[s];if(void 0!==o){for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],i))return void(o[u]=[i,n]);o.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],i))return 1===s.length?delete this.inner[n]:s.splice(o,1),!0;return!1}forEach(i){Ec(this.inner,(n,s)=>{for(const[o,u]of s)i(o,u)})}isEmpty(){return RS(this.inner)}}class rF{constructor(){this.changes=new id(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:Ze.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:Fn.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Ae.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class MA{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return rd(i).put(X0(n),s)}removeEntry(i,n){const s=rd(i),o=X0(n);return s.delete(o)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return rd(i).get(X0(n)).next(s=>this.Re(n,s))}be(i,n){return rd(i).get(X0(n)).next(s=>({document:this.Re(n,s),size:Z0(s)}))}getEntries(i,n){let s=no();return this.Pe(i,n,(o,u)=>{const f=this.Re(o,u);s=s.insert(o,f)}).next(()=>s)}ve(i,n){let s=no(),o=new Ri(Xe.comparator);return this.Pe(i,n,(u,f)=>{const g=this.Re(u,f);s=s.insert(u,g),o=o.insert(u,Z0(f))}).next(()=>({documents:s,Ve:o}))}Pe(i,n,s){if(n.isEmpty())return Ae.resolve();const o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator();let f=u.getNext();return rd(i).Kt({range:o},(g,w,x)=>{const S=Xe.fromSegments(g);for(;f&&Xe.comparator(f,S)<0;)s(f,null),f=u.getNext();f&&f.isEqual(S)&&(s(f,w),f=u.hasNext()?u.getNext():null),f?x.Mt(f.path.toArray()):x.done()}).next(()=>{for(;f;)s(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(i,n,s){let o=no();const u=n.path.length+1,f={};if(s.isEqual(Ze.min())){const g=n.path.toArray();f.range=IDBKeyRange.lowerBound(g)}else{const g=n.path.toArray(),w=vA(s);f.range=IDBKeyRange.lowerBound([g,w],!0),f.index=Hn.collectionReadTimeIndex}return rd(i).Kt(f,(g,w,x)=>{if(g.length!==u)return;const S=yA(this.N,w);n.path.isPrefixOf(S.key.path)?av(n,S)&&(o=o.insert(S.key,S)):x.done()}).next(()=>o)}newChangeBuffer(i){return new Ev(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return J0(i).get(Ms.key).next(n=>(mt(!!n),n))}Ae(i,n){return J0(i).put(Ms.key,n)}Re(i,n){if(n){const s=yA(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(Ze.min()))return s}return Fn.newInvalidDocument(i)}}class Ev extends rF{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new id(s=>s.toString(),(s,o)=>s.isEqual(o))}applyChanges(i){const n=[];let s=0,o=new ti((u,f)=>zt(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const g=this.De.get(u);if(f.document.isValidDocument()){const w=$O(this.Se.N,f.document,this.getReadTime(u));o=o.add(u.path.popLast()),s+=Z0(w)-g,n.push(this.Se.addEntry(i,u,w))}else if(s-=g,this.trackRemovals){const w=$O(this.Se.N,Fn.newNoDocument(u,Ze.min()),this.getReadTime(u));n.push(this.Se.addEntry(i,u,w))}else n.push(this.Se.removeEntry(i,u))}),o.forEach(u=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,u))}),n.push(this.Se.updateMetadata(i,s)),Ae.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:o})=>(o.forEach((u,f)=>{this.De.set(u,f)}),s))}}function J0(r){return ss(r,Ms.store)}function rd(r){return ss(r,Hn.store)}function X0(r){return r.path.toArray()}class DL{constructor(i){this.N=i}Ct(i,n,s,o){mt(s<o&&s>=0&&o<=11);const u=new Yg("createOrUpgrade",n);var g;s<1&&o>=1&&(i.createObjectStore(rs.store),(g=i).createObjectStore(Oo.store,{keyPath:Oo.keyPath}),g.createObjectStore(vn.store,{keyPath:vn.keyPath,autoIncrement:!0}).createIndex(vn.userMutationsIndex,vn.userMutationsKeyPath,{unique:!0}),g.createObjectStore(Or.store),SA(i),function(g){g.createObjectStore(Hn.store)}(i));let f=Ae.resolve();return s<3&&o>=3&&(0!==s&&(function(g){g.deleteObjectStore(rr.store),g.deleteObjectStore(Fr.store),g.deleteObjectStore(Pr.store)}(i),SA(i)),f=f.next(()=>function(g){const w=g.store(Pr.store),x=new Pr(0,0,Ze.min().toTimestamp(),0);return w.put(Pr.key,x)}(u))),s<4&&o>=4&&(0!==s&&(f=f.next(()=>function(g,w){return w.store(vn.store).Lt().next(x=>{g.deleteObjectStore(vn.store),g.createObjectStore(vn.store,{keyPath:vn.keyPath,autoIncrement:!0}).createIndex(vn.userMutationsIndex,vn.userMutationsKeyPath,{unique:!0});const S=w.store(vn.store),I=x.map(F=>S.put(F));return Ae.waitFor(I)})}(i,u))),f=f.next(()=>{!function(g){g.createObjectStore(Dl.store,{keyPath:Dl.keyPath})}(i)})),s<5&&o>=5&&(f=f.next(()=>this.Ce(u))),s<6&&o>=6&&(f=f.next(()=>(function(g){g.createObjectStore(Ms.store)}(i),this.Ne(u)))),s<7&&o>=7&&(f=f.next(()=>this.xe(u))),s<8&&o>=8&&(f=f.next(()=>this.ke(i,u))),s<9&&o>=9&&(f=f.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(i),function(g){const w=g.objectStore(Hn.store);w.createIndex(Hn.readTimeIndex,Hn.readTimeIndexPath,{unique:!1}),w.createIndex(Hn.collectionReadTimeIndex,Hn.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&o>=10&&(f=f.next(()=>this.$e(u))),s<11&&o>=11&&(f=f.next(()=>{(function(g){g.createObjectStore(sf.store,{keyPath:sf.keyPath})})(i),function(g){g.createObjectStore(ed.store,{keyPath:ed.keyPath})}(i)})),f}Ne(i){let n=0;return i.store(Hn.store).Kt((s,o)=>{n+=Z0(o)}).next(()=>{const s=new Ms(n);return i.store(Ms.store).put(Ms.key,s)})}Ce(i){const n=i.store(Oo.store),s=i.store(vn.store);return n.Lt().next(o=>Ae.forEach(o,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.Lt(vn.userMutationsIndex,f).next(g=>Ae.forEach(g,w=>{mt(w.userId===u.userId);const x=Zg(this.N,w);return XO(i,u.userId,x).next(()=>{})}))}))}xe(i){const n=i.store(rr.store),s=i.store(Hn.store);return i.store(Pr.store).get(Pr.key).next(o=>{const u=[];return s.Kt((f,g)=>{const w=new Qt(f),x=[0,ro(w)];u.push(n.get(x).next(S=>S?Ae.resolve():n.put(new rr(0,ro(w),o.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(u))})}ke(i,n){i.createObjectStore(Cl.store,{keyPath:Cl.keyPath});const s=n.store(Cl.store),o=new wA,u=f=>{if(o.add(f)){const g=f.lastSegment(),w=f.popLast();return s.put({collectionId:g,parent:ro(w)})}};return n.store(Hn.store).Kt({qt:!0},(f,g)=>{const w=new Qt(f);return u(w.popLast())}).next(()=>n.store(Or.store).Kt({qt:!0},([f,g,w],x)=>{const S=Ro(g);return u(S.popLast())}))}$e(i){const n=i.store(Fr.store);return n.Kt((s,o)=>{const u=xv(o),f=WO(this.N,u);return n.put(f)})}}function SA(r){r.createObjectStore(rr.store,{keyPath:rr.keyPath}).createIndex(rr.documentTargetsIndex,rr.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(Fr.store,{keyPath:Fr.keyPath}).createIndex(Fr.queryTargetsIndexName,Fr.queryTargetsKeyPath,{unique:!0}),r.createObjectStore(Pr.store)}const AA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uf{constructor(i,n,s,o,u,f,g,w,x,S){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=u,this.window=f,this.document=g,this.Fe=x,this.Me=S,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=I=>Promise.resolve(),!uf.bt())throw new Se(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EA(this,o),this.We=n+"main",this.N=new qO(w),this.Ge=new Fo(this.We,11,new DL(this.N)),this.ze=new CL(this.referenceDelegate,this.N),this.Ht=new JO,this.He=new MA(this.N,this.Ht),this.Je=new bL,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===S&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(se.FAILED_PRECONDITION,AA);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new Qs(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,be.Z)(function*(o){if(n.started)return i(o)});return function(o){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,be.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,be.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>eD(i).put(new Dl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(td(i))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return Qg(i).get(rs.key).next(n=>Ae.resolve(this.cn(n)))}un(i){return eD(i).delete(this.clientId)}hn(){var i=this;return(0,be.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const o=ss(s,Dl.store);return o.Lt().next(u=>{const f=i.fn(u,18e5),g=u.filter(w=>-1===f.indexOf(w));return Ae.forEach(g,w=>o.delete(w.clientId)).next(()=>g)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Ae.resolve(!0):Qg(i).get(rs.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Se(se.FAILED_PRECONDITION,AA);return!1}}return!(!this.networkEnabled||!this.inForeground)||eD(i).Lt().next(s=>void 0===this.fn(s,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&g)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Ne("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,be.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[rs.store,Dl.store],n=>{const s=new _A(n,Qs.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>eD(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return W0.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let u;return Ne("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",pA,f=>(u=new _A(f,this.Le?this.Le.next():Qs.T),"readwrite-primary"===n?this.sn(u).next(g=>!!g||this.rn(u)).next(g=>{if(!g)throw ci(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Se(se.FAILED_PRECONDITION,Y0);return s(u)}).next(g=>this.an(u).next(()=>g)):this.En(u).next(()=>s(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}En(i){return Qg(i).get(rs.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Se(se.FAILED_PRECONDITION,AA)})}an(i){const n=new rs(this.clientId,this.allowTabSynchronization,Date.now());return Qg(i).put(rs.key,n)}static bt(){return Fo.bt()}on(i){const n=Qg(i);return n.get(rs.key).next(s=>this.cn(s)?(Ne("IndexedDbPersistence","Releasing primary lease."),n.delete(rs.key)):Ae.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(ci(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,It.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return Ne("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ci("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){ci("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Qg(r){return ss(r,rs.store)}function eD(r){return ss(r,Dl.store)}function TA(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class tD{constructor(i,n){this.progress=i,this.Tn=n}}class IA{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(o=>{for(const u of s)u.applyToLocalView(o);return o})}bn(i,n){i.forEach((s,o)=>{for(const u of n)u.applyToLocalView(o)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return Xe.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(i,n.path):R0(n)?this.Sn(i,n,s):this.Dn(i,n,s);var o}Vn(i,n){return this.An(i,new Xe(n)).next(s=>{let o=_v();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}Sn(i,n,s){const o=n.collectionGroup;let u=_v();return this.Ht.getCollectionParents(i,o).next(f=>Ae.forEach(f,g=>{const w=(x=n,S=g.child(o),new bl(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,S;return this.Dn(i,w,s).next(x=>{x.forEach((S,I)=>{u=u.insert(S,I)})})}).next(()=>u))}Dn(i,n,s){let o,u;return this.He.getDocumentsMatchingQuery(i,n,s).next(f=>(o=f,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(f=>(u=f,this.Cn(i,u,o).next(g=>{o=g;for(const w of u)for(const x of w.mutations){const S=x.key;let I=o.get(S);null==I&&(I=Fn.newInvalidDocument(S),o=o.insert(S,I)),fv(x,I,w.localWriteTime),I.isFoundDocument()||(o=o.remove(S))}}))).next(()=>(o.forEach((f,g)=>{av(n,g)||(o=o.remove(f))}),o))}Cn(i,n,s){let o=rn();for(const f of n)for(const g of f.mutations)g instanceof Es&&null===s.get(g.key)&&(o=o.add(g.key));let u=s;return this.He.getEntries(i,o).next(f=>(f.forEach((g,w)=>{w.isFoundDocument()&&(u=u.insert(g,w))}),u))}}class kA{constructor(i,n,s,o){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=o}static kn(i,n){let s=rn(),o=rn();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kA(i,n.fromCache,s,o)}}class sF{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,o){return 0===(u=n).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ze.min())?this.Fn(i,n):this.On.Pn(i,o).next(u=>{const f=this.Mn(n,u);return(Ac(n)||I0(n))&&this.Ln(n.limitType,f,o,s)?this.Fn(i,n):(Jy()<=pc.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),O0(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(g=>(f.forEach(w=>{g=g.insert(w.key,w)}),g)))});var u}Mn(i,n){let s=new ti(TO(i));return n.forEach((o,u)=>{av(i,u)&&(s=s.add(u))}),s}Ln(i,n,s,o){if(s.size!==n.size)return!0;const u="F"===i?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Fn(i,n){return Jy()<=pc.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",O0(n)),this.On.getDocumentsMatchingQuery(i,n,Ze.min())}}class oF{constructor(i,n,s,o){this.persistence=i,this.Bn=n,this.N=o,this.Un=new Ri(zt),this.qn=new id(u=>kg(u),iv),this.Kn=Ze.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new IA(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function aF(r,i,n,s){return new oF(r,i,n,s)}function nD(r,i){return iD.apply(this,arguments)}function iD(){return(iD=(0,be.Z)(function*(r,i){const n=Ve(r);let s=n.In,o=n.Qn;const u=yield n.persistence.runTransaction("Handle user change","readonly",f=>{let g;return n.In.getAllMutationBatches(f).next(w=>(g=w,s=n.persistence.getMutationQueue(i),o=new IA(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(w=>{const x=[],S=[];let I=rn();for(const F of g){x.push(F.batchId);for(const L of F.mutations)I=I.add(L.key)}for(const F of w){S.push(F.batchId);for(const L of F.mutations)I=I.add(L.key)}return o.Pn(f,I).next(F=>({Wn:F,removedBatchIds:x,addedBatchIds:S}))})});return n.In=s,n.Qn=o,n.Bn.$n(n.Qn),u})).apply(this,arguments)}function xL(r,i){const n=Ve(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=i.batch.keys(),u=n.jn.newChangeBuffer({trackRemovals:!0});return function(f,g,w,x){const S=w.batch,I=S.keys();let F=Ae.resolve();return I.forEach(L=>{F=F.next(()=>x.getEntry(g,L)).next(j=>{const te=w.docVersions.get(L);mt(null!==te),j.version.compareTo(te)<0&&(S.applyToRemoteDocument(j,w),j.isValidDocument()&&x.addEntry(j,w.commitVersion))})}),F.next(()=>f.In.removeMutationBatch(g,S))}(n,s,i,u).next(()=>u.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,o))})}function lF(r){const i=Ve(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function cF(r,i){const n=Ve(r),s=i.snapshotVersion;let o=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.jn.newChangeBuffer({trackRemovals:!0});o=n.Un;const g=[];i.targetChanges.forEach((x,S)=>{const I=o.get(S);if(!I)return;g.push(n.ze.removeMatchingKeys(u,x.removedDocuments,S).next(()=>n.ze.addMatchingKeys(u,x.addedDocuments,S)));const F=x.resumeToken;if(F.approximateByteSize()>0){const L=I.withResumeToken(F,s).withSequenceNumber(u.currentSequenceNumber);o=o.insert(S,L),j=I,ge=x,mt((te=L).resumeToken.approximateByteSize()>0),(0===j.resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&g.push(n.ze.updateTargetData(u,L))}var j,te,ge});let w=no();if(i.documentUpdates.forEach((x,S)=>{i.resolvedLimboDocuments.has(x)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))}),g.push(df(u,f,i.documentUpdates,s,void 0).next(x=>{w=x})),!s.isEqual(Ze.min())){const x=n.ze.getLastRemoteSnapshotVersion(u).next(S=>n.ze.setTargetsMetadata(u,u.currentSequenceNumber,s));g.push(x)}return Ae.waitFor(g).next(()=>f.apply(u)).next(()=>n.Qn.vn(u,w)).next(()=>w)}).then(u=>(n.Un=o,u))}function df(r,i,n,s,o){let u=rn();return n.forEach(f=>u=u.add(f)),i.getEntries(r,u).next(f=>{let g=no();return n.forEach((w,x)=>{const S=f.get(w),I=(null==o?void 0:o.get(w))||s;x.isNoDocument()&&x.version.isEqual(Ze.min())?(i.removeEntry(w,I),g=g.insert(w,x)):!S.isValidDocument()||x.version.compareTo(S.version)>0||0===x.version.compareTo(S.version)&&S.hasPendingWrites?(i.addEntry(x,I),g=g.insert(w,x)):Ne("LocalStore","Ignoring outdated watch update for ",w,". Current version:",S.version," Watch version:",x.version)}),g})}function uF(r,i){const n=Ve(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function hf(r,i){const n=Ve(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ze.getTargetData(s,i).next(u=>u?(o=u,Ae.resolve(o)):n.ze.allocateTargetId(s).next(f=>(o=new nd(i,f,0,s.currentSequenceNumber),n.ze.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Un.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function ff(r,i,n){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,be.Z)(function*(r,i,n){const s=Ve(r),o=s.Un.get(i),u=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!td(f))throw f;Ne("LocalStore",`Failed to update sequence numbers for target ${i}: ${f}`)}s.Un=s.Un.remove(i),s.qn.delete(o.target)})).apply(this,arguments)}function Mv(r,i,n){const s=Ve(r);let o=Ze.min(),u=rn();return s.persistence.runTransaction("Execute query","readonly",f=>function(g,w,x){const S=Ve(g),I=S.qn.get(x);return void 0!==I?Ae.resolve(S.Un.get(I)):S.ze.getTargetData(w,x)}(s,f,Xs(i)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,g.targetId).next(w=>{u=w})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,i,n?o:Ze.min(),n?u:rn())).next(g=>({documents:g,Gn:u})))}function os(r,i){const n=Ve(r),s=Ve(n.ze),o=n.Un.get(i);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",u=>s.Et(u,i).next(f=>f?f.target:null))}function RA(r){const i=Ve(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,o,u){const f=Ve(s);let g=no(),w=vA(u);const x=rd(o),S=IDBKeyRange.lowerBound(w,!0);return x.Kt({index:Hn.readTimeIndex,range:S},(I,F)=>{const L=yA(f.N,F);g=g.insert(L.key,L),w=F.readTime}).next(()=>({Tn:g,readTime:ZO(w)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function sD(){return(sD=(0,be.Z)(function*(r){const i=Ve(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const o=rd(s);let u=Ze.min();return o.Kt({index:Hn.readTimeIndex,reverse:!0},(f,g,w)=>{g.readTime&&(u=ZO(g.readTime)),w.done()}).next(()=>u)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function Xg(){return(Xg=(0,be.Z)(function*(r,i,n,s){const o=Ve(r);let u=rn(),f=no(),g=L0();for(const S of n){const I=i.zn(S.metadata.name);S.document&&(u=u.add(I)),f=f.insert(I,i.Hn(S)),g=g.insert(I,i.Jn(S.metadata.readTime))}const w=o.jn.newChangeBuffer({trackRemovals:!0}),x=yield hf(o,(S=s,Xs(Ku(Qt.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>df(S,w,f,Ze.min(),g).next(I=>(w.apply(S),I)).next(I=>o.ze.removeMatchingKeysForTargetId(S,x.targetId).next(()=>o.ze.addMatchingKeys(S,u,x.targetId)).next(()=>o.Qn.vn(S,I)).next(()=>I)))})).apply(this,arguments)}function OA(r,i){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,be.Z)(function*(r,i,n=rn()){const s=yield hf(r,Xs(bA(i.bundledQuery))),o=Ve(r);return o.persistence.runTransaction("Save named query","readwrite",u=>{const f=_i(i.readTime);if(s.snapshotVersion.compareTo(f)>=0)return o.Je.saveNamedQuery(u,i);const g=s.withResumeToken(Hi.EMPTY_BYTE_STRING,f);return o.Un=o.Un.insert(g.targetId,g),o.ze.updateTargetData(u,g).next(()=>o.ze.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>o.ze.addMatchingKeys(u,n,s.targetId)).next(()=>o.Je.saveNamedQuery(u,i))})})).apply(this,arguments)}class hF{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Ae.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:_i(s.createTime)}),Ae.resolve()}getNamedQuery(i,n){return Ae.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:bA(s.bundledQuery),readTime:_i(s.readTime)}),Ae.resolve();var s}}class Av{constructor(){this.Zn=new ti(Oi.ts),this.es=new ti(Oi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new Oi(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new Oi(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new Xe(new Qt([])),s=new Oi(n,i),o=new Oi(n,i+1),u=[];return this.es.forEachInRange([s,o],f=>{this.rs(f),u.push(f.key)}),u}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new Xe(new Qt([])),s=new Oi(n,i),o=new Oi(n,i+1);let u=rn();return this.es.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(i){const n=new Oi(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class Oi{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return Xe.comparator(i.key,n.key)||zt(i.ls,n.ls)}static ns(i,n){return zt(i.ls,n.ls)||Xe.comparator(i.key,n.key)}}class fF{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new ti(Oi.ts)}checkEmpty(i){return Ae.resolve(0===this.In.length)}addMutationBatch(i,n,s,o){const u=this.fs;this.fs++;const f=new $0(u,n,s,o);this.In.push(f);for(const g of o)this.ds=this.ds.add(new Oi(g.key,u)),this.Ht.addToCollectionParentIndex(i,g.key.path.popLast());return Ae.resolve(f)}lookupMutationBatch(i,n){return Ae.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const o=this._s(n+1),u=o<0?0:o;return Ae.resolve(this.In.length>u?this.In[u]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new Oi(n,0),o=new Oi(n,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([s,o],f=>{const g=this.ws(f.ls);u.push(g)}),Ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new ti(zt);return n.forEach(o=>{const u=new Oi(o,0),f=new Oi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,f],g=>{s=s.add(g.ls)})}),Ae.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1;let u=s;Xe.isDocumentKey(u)||(u=u.child(""));const f=new Oi(new Xe(u),0);let g=new ti(zt);return this.ds.forEachWhile(w=>{const x=w.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(g=g.add(w.ls)),!0)},f),Ae.resolve(this.gs(g))}gs(i){const n=[];return i.forEach(s=>{const o=this.ws(s);null!==o&&n.push(o)}),n}removeMutationBatch(i,n){mt(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Ae.forEach(n.mutations,o=>{const u=new Oi(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(i,o.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new Oi(n,0),o=this.ds.firstAfterOrEqual(s);return Ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(i){return Ae.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class pF{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new Ri(Xe.comparator),this.size=0}addEntry(i,n,s){const o=n.key,u=this.docs.get(o),f=u?u.size:0,g=this.ps(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:g,readTime:s}),this.size+=g-f,this.Ht.addToCollectionParentIndex(i,o.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Ae.resolve(s?s.document.clone():Fn.newInvalidDocument(n))}getEntries(i,n){let s=no();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.clone():Fn.newInvalidDocument(o))}),Ae.resolve(s)}getDocumentsMatchingQuery(i,n,s){let o=no();const u=new Xe(n.path.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:g,value:{document:w,readTime:x}}=f.getNext();if(!n.path.isPrefixOf(g.path))break;x.compareTo(s)<=0||av(n,w)&&(o=o.insert(w.key,w.clone()))}return Ae.resolve(o)}Es(i,n){return Ae.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new oD(this)}getSize(i){return Ae.resolve(this.size)}}class oD extends rF{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,o)=>{o.document.isValidDocument()?n.push(this.Se.addEntry(i,o.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ae.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class FA{constructor(i){this.persistence=i,this.Ts=new id(n=>kg(n),iv),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Is=0,this.As=new Av,this.targetCount=0,this.Rs=lf.se()}forEachTarget(i,n){return this.Ts.forEach((s,o)=>n(o)),Ae.resolve()}getLastRemoteSnapshotVersion(i){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Ae.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Ae.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new lf(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Ae.resolve()}updateTargetData(i,n){return this.ae(n),Ae.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(i,n,s){let o=0;const u=[];return this.Ts.forEach((f,g)=>{g.sequenceNumber<=n&&null===s.get(g.targetId)&&(this.Ts.delete(f),u.push(this.removeMatchingKeysForTargetId(i,g.targetId)),o++)}),Ae.waitFor(u).next(()=>o)}getTargetCount(i){return Ae.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Ae.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Ae.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(i,f))}),Ae.waitFor(u)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Ae.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Ae.resolve(s)}containsKey(i,n){return Ae.resolve(this.As.containsKey(n))}}class PA{constructor(i,n){this.bs={},this.Le=new Qs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new FA(this),this.Ht=new wL,this.He=new pF(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new qO(n),this.Je=new hF(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new fF(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){Ne("MemoryPersistence","Starting transaction:",i);const o=new aD(this.Le.next());return this.referenceDelegate.vs(),s(o).next(u=>this.referenceDelegate.Vs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ss(i,n){return Ae.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class aD extends gA{constructor(i){super(),this.currentSequenceNumber=i}}class lD{constructor(i){this.persistence=i,this.Ds=new Av,this.Cs=null}static Ns(i){return new lD(i)}get xs(){if(this.Cs)return this.Cs;throw Ke()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Ae.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Ae.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Ae.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(o=>this.xs.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(o=>{o.forEach(u=>this.xs.add(u.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,s=>{const o=Xe.fromPath(s);return this.ks(i,o).next(u=>{u||n.removeEntry(o)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function so(r,i){return`firestore_clients_${r}_${i}`}function NA(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function LA(r,i){return`firestore_targets_${r}_${i}`}class Tv{constructor(i,n,s,o){this.user=i,this.batchId=n,this.state=s,this.error=o}static $s(i,n,s){const o=JSON.parse(s);let u,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new Se(o.error.code,o.error.message))),f?new Tv(i,n,o.state,u):(ci("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Iv{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let o,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(o=new Se(s.error.code,s.error.message))),u?new Iv(i,s.state,o):(ci("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class kv{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let o="object"==typeof s&&s.activeTargetIds instanceof Array,u=yv();for(let f=0;o&&f<s.activeTargetIds.length;++f)o=D0(s.activeTargetIds[f]),u=u.add(s.activeTargetIds[f]);return o?new kv(i,u):(ci("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class cD{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new cD(n.clientId,n.onlineState):(ci("SharedClientState",`Failed to parse online state: ${i}`),null)}}class uD{constructor(){this.activeTargetIds=yv()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class BA{constructor(i,n,s,o,u){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Ri(zt),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.js=so(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new uD),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,be.Z)(function*(){const n=yield i.syncEngine.pn();for(const o of n){if(o===i.Ls)continue;const u=i.getItem(so(i.persistenceKey,o));if(u){const f=kv.$s(o,u);f&&(i.qs=i.qs.insert(f.clientId,f))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const o=i.Xs(s);o&&i.Zs(o)}for(const o of i.Ks)i.Us(o);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,o)=>{o.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(LA(this.persistenceKey,i));if(s){const o=Iv.$s(i,s);o&&(n=o.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(LA(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(o=>{this.ni(o)}),this.currentUser=i,s.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return Ne("SharedClientState","READ",i,n),n}setItem(i,n){Ne("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){Ne("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(Ne("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const o=n.ai(s.key);return n.ci(o,null)}{const o=n.ui(s.key,s.newValue);if(o)return n.ci(o.clientId,o)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const o=n.hi(s.key,s.newValue);if(o)return n.li(o)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const o=n.fi(s.key,s.newValue);if(o)return n.di(o)}}else if(s.key===n.Hs){if(null!==s.newValue){const o=n.Xs(s.newValue);if(o)return n.Zs(o)}}else if(s.key===n.Qs){const o=function(u){let f=Qs.T;if(null!=u)try{const g=JSON.parse(u);mt("number"==typeof g),f=g}catch(g){ci("SharedClientState","Failed to read sequence number from WebStorage",g)}return f}(s.newValue);o!==Qs.T&&n.sequenceNumberHandler(o)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const o=new Tv(this.currentUser,i,n,s),u=NA(this.persistenceKey,this.currentUser,i);this.setItem(u,o.Os())}ni(i){const n=NA(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const o=LA(this.persistenceKey,i),u=new Iv(i,n,s);this.setItem(o,u.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return kv.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),o=Number(s[1]);return Tv.$s(new Gi(void 0!==s[2]?s[2]:null),o,n)}fi(i,n){const s=this.zs.exec(i),o=Number(s[1]);return Iv.$s(o,n)}Xs(i){return cD.$s(i)}li(i){var n=this;return(0,be.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),o=this.ti(this.qs),u=this.ti(s),f=[],g=[];return u.forEach(w=>{o.has(w)||f.push(w)}),o.forEach(w=>{u.has(w)||g.push(w)}),this.syncEngine.gi(f,g).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=yv();return i.forEach((s,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class VA{constructor(){this.yi=new uD,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new uD,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class UA{Ei(i){}shutdown(){}}class GA{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class HA{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class mF extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,o){const u=this.Bi(i,n);Ne("RestConnection","Sending: ",u,s);const f={};return this.Ui(f,o),this.qi(i,u,f,s).then(g=>(Ne("RestConnection","Received: ",g),g),g=>{throw Ag("RestConnection",`${i} failed with error: `,g,"url: ",u,"request:",s),g})}Ki(i,n,s,o){return this.Li(i,n,s,o)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+xc,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${gF[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,o){return new Promise((u,f)=>{const g=new TS;g.listenOnce(b0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ya.NO_ERROR:const x=g.getResponseJson();Ne("Connection","XHR received:",JSON.stringify(x)),u(x);break;case ya.TIMEOUT:Ne("Connection",'RPC "'+i+'" timed out'),f(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case ya.HTTP_ERROR:const S=g.getStatus();if(Ne("Connection",'RPC "'+i+'" failed with status:',S,"response text:",g.getResponseText()),S>0){const I=g.getResponseJson().error;if(I&&I.status&&I.message){const F=function(L){const j=L.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(j)>=0?j:se.UNKNOWN}(I.status);f(new Se(F,I.message))}else f(new Se(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Se(se.UNAVAILABLE,"Connection failed."));break;default:Ke()}}finally{Ne("Connection",'RPC "'+i+'" completed.')}});const w=JSON.stringify(o);g.send(n,"POST",w,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=new v0,u=yg(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new AS({})),this.Ui(f.initMessageHeaders,n),(0,It.uI)()||(0,It.b$)()||(0,It.d)()||(0,It.w1)()||(0,It.Mn)()||(0,It.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=s.join("");Ne("Connection","Creating WebChannel: "+g,f);const w=o.createWebChannel(g,f);let x=!1,S=!1;const I=new HA({vi:L=>{S?Ne("Connection","Not sending because WebChannel is closed:",L):(x||(Ne("Connection","Opening WebChannel transport."),w.open(),x=!0),Ne("Connection","WebChannel sending:",L),w.send(L))},Vi:()=>w.close()}),F=(L,j,te)=>{L.listen(j,ge=>{try{te(ge)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return F(w,Dc.EventType.OPEN,()=>{S||Ne("Connection","WebChannel transport opened.")}),F(w,Dc.EventType.CLOSE,()=>{S||(S=!0,Ne("Connection","WebChannel transport closed"),I.$i())}),F(w,Dc.EventType.ERROR,L=>{S||(S=!0,Ag("Connection","WebChannel transport errored:",L),I.$i(new Se(se.UNAVAILABLE,"The operation could not be completed")))}),F(w,Dc.EventType.MESSAGE,L=>{var j;if(!S){const te=L.data[0];mt(!!te);const ge=te,Ee=ge.error||(null===(j=ge[0])||void 0===j?void 0:j.error);if(Ee){Ne("Connection","WebChannel received error:",Ee);const He=Ee.status;let Be=function(mn){const bi=ei[mn];if(void 0!==bi)return N0(bi)}(He),ze=Ee.message;void 0===Be&&(Be=se.INTERNAL,ze="Unknown error status: "+He+" with message "+Ee.message),S=!0,I.$i(new Se(Be,ze)),w.close()}else Ne("Connection","WebChannel received:",te),I.Oi(te)}}),F(u,MS.STAT_EVENT,L=>{L.stat===SS_PROXY?Ne("Connection","Detected buffering proxy"):L.stat===SS_NOPROXY&&Ne("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.ki()},0),I}}function _F(){return"undefined"!=typeof window?window:null}function em(){return"undefined"!=typeof document?document:null}function pf(r){return new Bg(r,!0)}class dD{constructor(i,n,s=1e3,o=1.5,u=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=o,this.Gi=u,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),o=Math.max(0,n-s);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class jA{constructor(i,n,s,o,u,f){this.Oe=i,this.er=s,this.nr=o,this.credentialsProvider=u,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new dD(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,be.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,be.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===se.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const o=new Se(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(o)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){i.state=0,i.start()}))}pr(i){return Ne("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zA extends jA{constructor(i,n,s,o,u){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,u),this.N=o}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(w=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:Ke(),o=i.targetChange.targetIds||[],u=function(w,x){return w.D?(mt(void 0===x||"string"==typeof x),Hi.fromBase64String(x||"")):(mt(void 0===x||x instanceof Uint8Array),Hi.fromUint8Array(x||new Uint8Array))}(r,i.targetChange.resumeToken),f=i.targetChange.cause,g=f&&function(w){const x=void 0===w.code?se.UNKNOWN:N0(w.code);return new Se(x,w.message||"")}(f);n=new eA(s,o,u,g||null)}else if("documentChange"in i){const s=i.documentChange,o=io(r,s.document.name),u=_i(s.document.updateTime),f=new pr({mapValue:{fields:s.document.fields}}),g=Fn.newFoundDocument(o,u,f);n=new vv(s.targetIds||[],s.removedTargetIds||[],g.key,g)}else if("documentDelete"in i){const s=i.documentDelete,o=io(r,s.document),u=s.readTime?_i(s.readTime):Ze.min(),f=Fn.newNoDocument(o,u);n=new vv([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in i){const s=i.documentRemove,o=io(r,s.document);n=new vv([],s.removedTargetIds||[],o,null)}else{if(!("filter"in i))return Ke();{const s=i.filter,u=new NO(s.count||0);n=new XS(s.targetId,u)}}var w;return n}(this.N,i),s=function(o){if(!("targetChange"in o))return Ze.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ze.min():u.readTime?_i(u.readTime):Ze.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=Gg(this.N),n.addTarget=function(o,u){let f;const g=u.target;return f=rv(g)?{documents:H0(o,g)}:{query:j0(o,g)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?f.resumeToken=nA(o,u.resumeToken):u.snapshotVersion.compareTo(Ze.min())>0&&(f.readTime=Vg(o,u.snapshotVersion.toTimestamp())),f}(this.N,i);const s=function(r,i){const n=function(s,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ke()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=Gg(this.N),n.removeTarget=i,this.wr(n)}}class tm extends jA{constructor(i,n,s,o,u){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,u),this.N=o,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(mt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(mt(void 0!==i),r.map(n=>function(s,o){let u=_i(s.updateTime?s.updateTime:o);return u.isEqual(Ze.min())&&(u=_i(o)),new qS(u,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=_i(i.commitTime);return this.listener.vr(s,n)}return mt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=Gg(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>Hg(this.N,s))};this.wr(n)}}class hD extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===se.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Se(se.UNKNOWN,o.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===se.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Se(se.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class YA{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ci(n),this.$r=!1):Ne("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class yF{constructor(i,n,s,o,u){var f=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=u,this.Qr.Ei(g=>{s.enqueueAndForget((0,be.Z)(function*(){var w;El(f)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,be.Z)(function*(x){const S=Ve(x);S.Kr.add(4),yield im(S),S.Wr.set("Unknown"),S.Kr.delete(4),yield nm(S)}),function(x){return w.apply(this,arguments)})(f))}))}),this.Wr=new YA(s,o)}}function nm(r){return qA.apply(this,arguments)}function qA(){return(qA=(0,be.Z)(function*(r){if(El(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function im(r){return $A.apply(this,arguments)}function $A(){return($A=(0,be.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function rm(r,i){const n=Ve(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),gD(n)?pD(n):am(n).cr()&&fD(n,i))}function gf(r,i){const n=Ve(r),s=am(n);n.qr.delete(i),s.cr()&&ZA(n,i),0===n.qr.size&&(s.cr()?s.lr():El(n)&&n.Wr.set("Unknown"))}function fD(r,i){r.Gr.Y(i.targetId),am(r).Ir(i)}function ZA(r,i){r.Gr.Y(i),am(r).Ar(i)}function pD(r){r.Gr=new Lg({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),am(r).start(),r.Wr.Or()}function gD(r){return El(r)&&!am(r).ar()&&r.qr.size>0}function El(r){return 0===Ve(r).Kr.size}function vF(r){r.Gr=void 0}function EL(r){return mD.apply(this,arguments)}function mD(){return(mD=(0,be.Z)(function*(r){r.qr.forEach((i,n)=>{fD(r,i)})})).apply(this,arguments)}function _D(r,i){return yi.apply(this,arguments)}function yi(){return(yi=(0,be.Z)(function*(r,i){vF(r),gD(r)?(r.Wr.Lr(i),pD(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function ML(r,i,n){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,be.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof eA&&2===i.state&&i.cause)try{yield(s=(0,be.Z)(function*(o,u){const f=u.cause;for(const g of u.targetIds)o.qr.has(g)&&(yield o.remoteSyncer.rejectListen(g,f),o.qr.delete(g),o.Gr.removeTarget(g))}),function(o,u){return s.apply(this,arguments)})(r,i)}catch(s){Ne("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield sm(r,s)}else if(i instanceof vv?r.Gr.rt(i):i instanceof XS?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(Ze.min()))try{const s=yield lF(r.localStore);n.compareTo(s)>=0&&(yield function(o,u){const f=o.Gr._t(u);return f.targetChanges.forEach((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const x=o.qr.get(w);x&&o.qr.set(w,x.withResumeToken(g.resumeToken,u))}}),f.targetMismatches.forEach(g=>{const w=o.qr.get(g);if(!w)return;o.qr.set(g,w.withResumeToken(Hi.EMPTY_BYTE_STRING,w.snapshotVersion)),ZA(o,g);const x=new nd(w.target,g,1,w.sequenceNumber);fD(o,x)}),o.remoteSyncer.applyRemoteEvent(f)}(r,n))}catch(s){Ne("RemoteStore","Failed to raise snapshot:",s),yield sm(r,s)}var s})).apply(this,arguments)}function sm(r,i,n){return yD.apply(this,arguments)}function yD(){return(yD=(0,be.Z)(function*(r,i,n){if(!td(i))throw i;r.Kr.add(1),yield im(r),r.Wr.set("Offline"),n||(n=()=>lF(r.localStore)),r.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield nm(r)}))})).apply(this,arguments)}function om(r,i){return i().catch(n=>sm(r,n,i))}function mf(r){return vD.apply(this,arguments)}function vD(){return(vD=(0,be.Z)(function*(r){const i=Ve(r),n=Po(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;WA(i);)try{const o=yield uF(i.localStore,s);if(null===o){0===i.Ur.length&&n.lr();break}s=o.batchId,sd(i,o)}catch(o){yield sm(i,o)}bD(i)&&Ov(i)})).apply(this,arguments)}function WA(r){return El(r)&&r.Ur.length<10}function sd(r,i){r.Ur.push(i);const n=Po(r);n.cr()&&n.br&&n.Pr(i.mutations)}function bD(r){return El(r)&&!Po(r).ar()&&r.Ur.length>0}function Ov(r){Po(r).start()}function wD(r){return CD.apply(this,arguments)}function CD(){return(CD=(0,be.Z)(function*(r){Po(r).Sr()})).apply(this,arguments)}function Fv(r){return DD.apply(this,arguments)}function DD(){return(DD=(0,be.Z)(function*(r){const i=Po(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function xD(r,i,n){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,be.Z)(function*(r,i,n){const s=r.Ur.shift(),o=Dv.from(s,i,n);yield om(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield mf(r)})).apply(this,arguments)}function ji(r,i){return KA.apply(this,arguments)}function KA(){return(KA=(0,be.Z)(function*(r,i){var n;i&&Po(r).br&&(yield(n=(0,be.Z)(function*(s,o){if(P0(u=o.code)&&u!==se.ABORTED){const f=s.Ur.shift();Po(s).hr(),yield om(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield mf(s)}var u}),function(s,o){return n.apply(this,arguments)})(r,i)),bD(r)&&Ov(r)})).apply(this,arguments)}function ED(r,i){return MD.apply(this,arguments)}function MD(){return(MD=(0,be.Z)(function*(r,i){const n=Ve(r);i?(n.Kr.delete(2),yield nm(n)):i||(n.Kr.add(2),yield im(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function am(r){return r.zr||(r.zr=function(i,n,s){const o=Ve(i);return o.Cr(),new zA(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:EL.bind(null,r),Ci:_D.bind(null,r),Tr:ML.bind(null,r)}),r.jr.push(function(){var i=(0,be.Z)(function*(n){n?(r.zr.hr(),gD(r)?pD(r):r.Wr.set("Unknown")):(yield r.zr.stop(),vF(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function Po(r){return r.Hr||(r.Hr=function(i,n,s){const o=Ve(i);return o.Cr(),new tm(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:wD.bind(null,r),Ci:ji.bind(null,r),Vr:Fv.bind(null,r),vr:xD.bind(null,r)}),r.jr.push(function(){var i=(0,be.Z)(function*(n){n?(r.Hr.hr(),yield mf(r)):(yield r.Hr.stop(),r.Ur.length>0&&(Ne("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class SD{constructor(i,n,s,o,u){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(i,n,s,o,u){const f=Date.now()+s,g=new SD(i,n,f,o,u);return g.start(s),g}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(r,i){if(ci("AsyncQueue",`${i}: ${r}`),td(r))return new Se(se.UNAVAILABLE,`${i}: ${r}`);throw r}class cm{constructor(i){this.comparator=i?(n,s)=>i(n,s)||Xe.comparator(n.key,s.key):(n,s)=>Xe.comparator(n.key,s.key),this.keyedMap=_v(),this.sortedSet=new Ri(this.comparator)}static emptySet(i){return new cm(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof cm)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new cm;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class bF{constructor(){this.Jr=new Ri(Xe.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):Ke():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class _f{constructor(i,n,s,o,u,f,g,w){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=w}static fromInitialDocuments(i,n,s,o){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new _f(i,n,cm.emptySet(n),u,s,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Xh(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class wF{constructor(){this.Xr=void 0,this.listeners=[]}}class CF{constructor(){this.queries=new id(i=>US(i),Xh),this.onlineState="Unknown",this.Zr=new Set}}function AD(r,i){return TD.apply(this,arguments)}function TD(){return(TD=(0,be.Z)(function*(r,i){const n=Ve(r),s=i.query;let o=!1,u=n.queries.get(s);if(u||(o=!0,u=new wF),o)try{u.Xr=yield n.onListen(s)}catch(f){const g=lm(f,`Initialization of query '${O0(i.query)}' failed`);return void i.onError(g)}n.queries.set(s,u),u.listeners.push(i),i.eo(n.onlineState),u.Xr&&i.no(u.Xr)&&JA(n)})).apply(this,arguments)}function QA(r,i){return ID.apply(this,arguments)}function ID(){return(ID=(0,be.Z)(function*(r,i){const n=Ve(r),s=i.query;let o=!1;const u=n.queries.get(s);if(u){const f=u.listeners.indexOf(i);f>=0&&(u.listeners.splice(f,1),o=0===u.listeners.length)}if(o)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function DF(r,i){const n=Ve(r);let s=!1;for(const o of i){const f=n.queries.get(o.query);if(f){for(const g of f.listeners)g.no(o)&&(s=!0);f.Xr=o}}s&&JA(n)}function xF(r,i,n){const s=Ve(r),o=s.queries.get(i);if(o)for(const u of o.listeners)u.onError(n);s.queries.delete(i)}function JA(r){r.Zr.forEach(i=>{i.next()})}class XA{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const o of i.docChanges)3!==o.type&&s.push(o);i=new _f(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=_f.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class EF{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class eT{constructor(i){this.N=i}zn(i){return io(this.N,i)}Hn(i){return i.metadata.exists?wv(this.N,i.document,!1):Fn.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return _i(i)}}class MF{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=tT(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new eT(this.N);for(const o of i)if(o.metadata.queries){const u=s.zn(o.metadata.name);for(const f of o.metadata.queries){const g=(n.get(f)||rn()).add(u);n.set(f,g)}}return n}complete(){var i=this;return(0,be.Z)(function*(){const n=yield function(r,i,n,s){return Xg.apply(this,arguments)}(i.localStore,new eT(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const o of i.queries)yield OA(i.localStore,o,s.get(o.name));return i.progress.taskState="Success",new tD(Object.assign({},i.progress),n)})()}}function tT(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class nT{constructor(i){this.key=i}}class oo{constructor(i){this.key=i}}class iT{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=rn(),this.mutatedKeys=rn(),this.po=TO(i),this.Eo=new cm(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new bF,o=n?n.Eo:this.Eo;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const w=Ac(this.query)&&o.size===this.query.limit?o.last():null,x=I0(this.query)&&o.size===this.query.limit?o.first():null;if(i.inorderTraversal((S,I)=>{const F=o.get(S),L=av(this.query,I)?I:null,j=!!F&&this.mutatedKeys.has(F.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ge=!1;F&&L?F.data.isEqual(L.data)?j!==te&&(s.track({type:3,doc:L}),ge=!0):this.Ro(F,L)||(s.track({type:2,doc:L}),ge=!0,(w&&this.po(L,w)>0||x&&this.po(L,x)<0)&&(g=!0)):!F&&L?(s.track({type:0,doc:L}),ge=!0):F&&!L&&(s.track({type:1,doc:F}),ge=!0,(w||x)&&(g=!0)),ge&&(L?(f=f.add(L),u=te?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))}),Ac(this.query)||I0(this.query))for(;f.size>this.query.limit;){const S=Ac(this.query)?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),s.track({type:1,doc:S})}return{Eo:f,Ao:s,Ln:g,mutatedKeys:u}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const o=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const u=i.Ao.Yr();u.sort((x,S)=>function(I,F){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke()}};return L(I)-L(F)}(x.type,S.type)||this.po(x.doc,S.doc)),this.bo(s);const f=n?this.Po():[],g=0===this.yo.size&&this.current?1:0,w=g!==this.mo;return this.mo=g,0!==u.length||w?{snapshot:new _f(this.query,i.Eo,o,u,i.mutatedKeys,0===g,w,!1),vo:f}:{vo:f}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new bF,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=rn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new oo(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new nT(s))}),n}So(i){this._o=i.Gn,this.yo=rn();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return _f.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class SF{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class AF{constructor(i){this.key=i,this.Co=!1}}class TF{constructor(i,n,s,o,u,f){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new id(g=>US(g),Xh),this.ko=new Map,this.$o=new Set,this.Oo=new Ri(Xe.comparator),this.Fo=new Map,this.Mo=new Av,this.Lo={},this.Bo=new Map,this.Uo=lf.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function SL(r,i){return kD.apply(this,arguments)}function kD(){return(kD=(0,be.Z)(function*(r,i){const n=Yv(r);let s,o;const u=n.xo.get(i);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),o=u.view.Do();else{const f=yield hf(n.localStore,Xs(i)),g=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,o=yield RD(n,i,s,"current"===g),n.isPrimaryClient&&rm(n.remoteStore,f)}return o})).apply(this,arguments)}function RD(r,i,n,s){return OD.apply(this,arguments)}function OD(){return(OD=(0,be.Z)(function*(r,i,n,s){r.Ko=(S,I,F)=>{return(L=(0,be.Z)(function*(j,te,ge,Ee){let He=te.view.Io(ge);He.Ln&&(He=yield Mv(j.localStore,te.query,!1).then(({documents:mn})=>te.view.Io(mn,He)));const Be=Ee&&Ee.targetChanges.get(te.targetId),ze=te.view.applyChanges(He,j.isPrimaryClient,Be);return Lv(j,te.targetId,ze.vo),ze.snapshot}),function(j,te,ge,Ee){return L.apply(this,arguments)})(r,S,I,F);var L};const o=yield Mv(r.localStore,i,!0),u=new iT(i,o.Gn),f=u.Io(o.documents),g=Ng.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),w=u.applyChanges(f,r.isPrimaryClient,g);Lv(r,n,w.vo);const x=new SF(i,n,u);return r.xo.set(i,x),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),w.snapshot})).apply(this,arguments)}function um(r,i){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,be.Z)(function*(r,i){const n=Ve(r),s=n.xo.get(i),o=n.ko.get(s.targetId);if(o.length>1)return n.ko.set(s.targetId,o.filter(u=>!Xh(u,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ff(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),gf(n.remoteStore,s.targetId),od(n,s.targetId)}).catch(xl))):(od(n,s.targetId),yield ff(n.localStore,s.targetId,!0))})).apply(this,arguments)}function FD(){return(FD=(0,be.Z)(function*(r,i,n){const s=vf(r);try{const o=yield function(u,f){const g=Ve(u),w=ln.now(),x=f.reduce((I,F)=>I.add(F.key),rn());let S;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>g.Qn.Pn(I,x).next(F=>{S=F;const L=[];for(const j of f){const te=OO(j,S.get(j.key));null!=te&&L.push(new Es(j.key,te,tr(te.value.mapValue),di.exists(!0)))}return g.In.addMutationBatch(I,w,L,f)})).then(I=>(I.applyToLocalDocumentSet(S),{batchId:I.batchId,changes:S}))}(s.localStore,i);s.sharedClientState.addPendingMutation(o.batchId),function(u,f,g){let w=u.Lo[u.currentUser.toKey()];w||(w=new Ri(zt)),w=w.insert(f,g),u.Lo[u.currentUser.toKey()]=w}(s,o.batchId,n),yield No(s,o.changes),yield mf(s.remoteStore)}catch(o){const u=lm(o,"Failed to persist write");n.reject(u)}})).apply(this,arguments)}function IF(r,i){return rT.apply(this,arguments)}function rT(){return(rT=(0,be.Z)(function*(r,i){const n=Ve(r);try{const s=yield cF(n.localStore,i);i.targetChanges.forEach((o,u)=>{const f=n.Fo.get(u);f&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Co=!0:o.modifiedDocuments.size>0?mt(f.Co):o.removedDocuments.size>0&&(mt(f.Co),f.Co=!1))}),yield No(n,s,i)}catch(s){yield xl(s)}})).apply(this,arguments)}function kF(r,i,n){const s=Ve(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const o=[];s.xo.forEach((u,f)=>{const g=f.view.eo(i);g.snapshot&&o.push(g.snapshot)}),function(u,f){const g=Ve(u);g.onlineState=f;let w=!1;g.queries.forEach((x,S)=>{for(const I of S.listeners)I.eo(f)&&(w=!0)}),w&&JA(g)}(s.eventManager,i),o.length&&s.No.Tr(o),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function PD(r,i,n){return ND.apply(this,arguments)}function ND(){return(ND=(0,be.Z)(function*(r,i,n){const s=Ve(r);s.sharedClientState.updateQueryState(i,"rejected",n);const o=s.Fo.get(i),u=o&&o.key;if(u){let f=new Ri(Xe.comparator);f=f.insert(u,Fn.newNoDocument(u,Ze.min()));const g=rn().add(u),w=new ef(Ze.min(),new Map,new ti(zt),f,g);yield IF(s,w),s.Oo=s.Oo.remove(u),s.Fo.delete(i),Bv(s)}else yield ff(s.localStore,i,!1).then(()=>od(s,i,n)).catch(xl)})).apply(this,arguments)}function RF(r,i){return LD.apply(this,arguments)}function LD(){return(LD=(0,be.Z)(function*(r,i){const n=Ve(r),s=i.batch.batchId;try{const o=yield xL(n.localStore,i);sT(n,s,null),As(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield No(n,o)}catch(o){yield xl(o)}})).apply(this,arguments)}function TL(r,i,n){return BD.apply(this,arguments)}function BD(){return(BD=(0,be.Z)(function*(r,i,n){const s=Ve(r);try{const o=yield function(u,f){const g=Ve(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let x;return g.In.lookupMutationBatch(w,f).next(S=>(mt(null!==S),x=S.keys(),g.In.removeMutationBatch(w,S))).next(()=>g.In.performConsistencyCheck(w)).next(()=>g.Qn.Pn(w,x))})}(s.localStore,i);sT(s,i,n),As(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield No(s,o)}catch(o){yield xl(o)}})).apply(this,arguments)}function VD(){return(VD=(0,be.Z)(function*(r,i){const n=Ve(r);El(n.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const f=Ve(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>f.In.getHighestUnacknowledgedBatchId(g))}(n.localStore);if(-1===s)return void i.resolve();const o=n.Bo.get(s)||[];o.push(i),n.Bo.set(s,o)}catch(s){const o=lm(s,"Initialization of waitForPendingWrites() operation failed");i.reject(o)}})).apply(this,arguments)}function As(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function sT(r,i,n){const s=Ve(r);let o=s.Lo[s.currentUser.toKey()];if(o){const u=o.get(i);u&&(n?u.reject(n):u.resolve(),o=o.remove(i)),s.Lo[s.currentUser.toKey()]=o}}function od(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||oT(r,s)})}function oT(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(gf(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),Bv(r))}function Lv(r,i,n){for(const s of n)s instanceof nT?(r.Mo.addReference(s.key,i),aT(r,s)):s instanceof oo?(Ne("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||oT(r,s.key)):Ke()}function aT(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(Ne("SyncEngine","New document in limbo: "+n),r.$o.add(s),Bv(r))}function Bv(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new Xe(Qt.fromString(i)),s=r.Uo.next();r.Fo.set(s,new AF(n)),r.Oo=r.Oo.insert(n,s),rm(r.remoteStore,new nd(Xs(Ku(n.path)),s,2,Qs.T))}}function No(r,i,n){return dm.apply(this,arguments)}function dm(){return(dm=(0,be.Z)(function*(r,i,n){const s=Ve(r),o=[],u=[],f=[];var g;s.xo.isEmpty()||(s.xo.forEach((g,w)=>{f.push(s.Ko(w,i,n).then(x=>{if(x){s.isPrimaryClient&&s.sharedClientState.updateQueryState(w.targetId,x.fromCache?"not-current":"current"),o.push(x);const S=kA.kn(w.targetId,x);u.push(S)}}))}),yield Promise.all(f),s.No.Tr(o),yield(g=(0,be.Z)(function*(w,x){const S=Ve(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ae.forEach(x,F=>Ae.forEach(F.Nn,L=>S.persistence.referenceDelegate.addReference(I,F.targetId,L)).next(()=>Ae.forEach(F.xn,L=>S.persistence.referenceDelegate.removeReference(I,F.targetId,L)))))}catch(I){if(!td(I))throw I;Ne("LocalStore","Failed to update sequence numbers: "+I)}for(const I of x){const F=I.targetId;if(!I.fromCache){const L=S.Un.get(F),te=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);S.Un=S.Un.insert(F,te)}}}),function(w,x){return g.apply(this,arguments)})(s.localStore,u))})).apply(this,arguments)}function UD(r,i){return yf.apply(this,arguments)}function yf(){return(yf=(0,be.Z)(function*(r,i){const n=Ve(r);if(!n.currentUser.isEqual(i)){Ne("SyncEngine","User change. New user:",i.toKey());const s=yield nD(n.localStore,i);n.currentUser=i,(o=n).Bo.forEach(f=>{f.forEach(g=>{g.reject(new Se(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield No(n,s.Wn)}var o})).apply(this,arguments)}function Vv(r,i){const n=Ve(r),s=n.Fo.get(i);if(s&&s.Co)return rn().add(s.key);{let o=rn();const u=n.ko.get(i);if(!u)return o;for(const f of u){const g=n.xo.get(f);o=o.unionWith(g.view.To)}return o}}function lT(r,i){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,be.Z)(function*(r,i){const n=Ve(r),s=yield Mv(n.localStore,i.query,!0),o=i.view.So(s);return n.isPrimaryClient&&Lv(n,i.targetId,o.vo),o})).apply(this,arguments)}function FF(r){return GD.apply(this,arguments)}function GD(){return(GD=(0,be.Z)(function*(r){const i=Ve(r);return RA(i.localStore).then(n=>No(i,n))})).apply(this,arguments)}function cT(r,i,n,s){return HD.apply(this,arguments)}function HD(){return(HD=(0,be.Z)(function*(r,i,n,s){const o=Ve(r),u=yield function(f,g){const w=Ve(f),x=Ve(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>x.Xt(S,g).next(I=>I?w.Qn.Pn(S,I):Ae.resolve(null)))}(o.localStore,i);var g;null!==u?("pending"===n?yield mf(o.remoteStore):"acknowledged"===n||"rejected"===n?(sT(o,i,s||null),As(o,i),g=i,Ve(Ve(o.localStore).In).te(g)):Ke(),yield No(o,u)):Ne("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function jD(){return(jD=(0,be.Z)(function*(r,i){const n=Ve(r);if(Yv(n),vf(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),o=yield Gv(n,s.toArray());n.qo=!0,yield ED(n.remoteStore,!0);for(const u of o)rm(n.remoteStore,u)}else if(!1===i&&!1!==n.qo){const s=[];let o=Promise.resolve();n.ko.forEach((u,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):o=o.then(()=>(od(n,f),ff(n.localStore,f,!0))),gf(n.remoteStore,f)}),yield o,yield Gv(n,s),function(u){const f=Ve(u);f.Fo.forEach((g,w)=>{gf(f.remoteStore,w)}),f.Mo.us(),f.Fo=new Map,f.Oo=new Ri(Xe.comparator)}(n),n.qo=!1,yield ED(n.remoteStore,!1)}})).apply(this,arguments)}function Gv(r,i,n){return zD.apply(this,arguments)}function zD(){return(zD=(0,be.Z)(function*(r,i,n){const s=Ve(r),o=[],u=[];for(const f of i){let g;const w=s.ko.get(f);if(w&&0!==w.length){g=yield hf(s.localStore,Xs(w[0]));for(const x of w){const S=s.xo.get(x),I=yield lT(s,S);I.snapshot&&u.push(I.snapshot)}}else{const x=yield os(s.localStore,f);g=yield hf(s.localStore,x),yield RD(s,mr(x),f,!1)}o.push(g)}return s.No.Tr(u),o})).apply(this,arguments)}function mr(r){return BS(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function hm(r){const i=Ve(r);return Ve(Ve(i.localStore).persistence).pn()}function Hv(r,i,n,s){return jv.apply(this,arguments)}function jv(){return(jv=(0,be.Z)(function*(r,i,n,s){const o=Ve(r);if(o.qo)Ne("SyncEngine","Ignoring unexpected query state notification.");else if(o.ko.has(i))switch(n){case"current":case"not-current":{const u=yield RA(o.localStore),f=ef.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield No(o,u,f);break}case"rejected":yield ff(o.localStore,i,!0),od(o,i,s);break;default:Ke()}})).apply(this,arguments)}function zv(r,i,n){return fm.apply(this,arguments)}function fm(){return(fm=(0,be.Z)(function*(r,i,n){const s=Yv(r);if(s.qo){for(const o of i){if(s.ko.has(o)){Ne("SyncEngine","Adding an already active target "+o);continue}const u=yield os(s.localStore,o),f=yield hf(s.localStore,u);yield RD(s,mr(u),f.targetId,!1),rm(s.remoteStore,f)}for(const o of n)s.ko.has(o)&&(yield ff(s.localStore,o,!1).then(()=>{gf(s.remoteStore,o),od(s,o)}).catch(xl))}})).apply(this,arguments)}function Yv(r){const i=Ve(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=IF.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vv.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=PD.bind(null,i),i.No.Tr=DF.bind(null,i.eventManager),i.No.jo=xF.bind(null,i.eventManager),i}function vf(r){const i=Ve(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=RF.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=TL.bind(null,i),i}class uT{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,be.Z)(function*(){n.N=pf(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return aF(this.persistence,new sF,i.initialUser,this.N)}Go(i){return new PA(lD.Ns,this.N)}Wo(i){return new VA}terminate(){var i=this;return(0,be.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class dT extends uT{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield n().call(s,i),yield function(r){return sD.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield vf(s.Jo.syncEngine),yield mf(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return aF(this.persistence,new sF,i.initialUser,this.N)}zo(i){return new iF(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=TA(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Ss.withCacheSize(this.cacheSizeBytes):Ss.DEFAULT;return new uf(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,_F(),em(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new VA}}class LF extends dT{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield n().call(s,i);const o=s.Jo.syncEngine;s.sharedClientState instanceof BA&&(s.sharedClientState.syncEngine={_i:cT.bind(null,o),mi:Hv.bind(null,o),gi:zv.bind(null,o),pn:hm.bind(null,o),wi:FF.bind(null,o)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var u=(0,be.Z)(function*(f){yield function(r,i){return jD.apply(this,arguments)}(s.Jo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}Wo(i){const n=_F();if(!BA.bt(n))throw new Se(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=TA(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new BA(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class qv{initialize(i,n){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=o=>kF(s.syncEngine,o,1),s.remoteStore.remoteSyncer.handleCredentialChange=UD.bind(null,s.syncEngine),yield ED(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new CF}createDatastore(i){const n=pf(i.databaseInfo.databaseId),s=new mF(i.databaseInfo);return new hD(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,o=i.asyncQueue,u=g=>kF(this.syncEngine,g,0),f=GA.bt()?new GA:new UA,new yF(n,s,o,u,f);var n,s,o,u,f}createSyncEngine(i,n){return function(s,o,u,f,g,w,x){const S=new TF(s,o,u,f,g,w);return x&&(S.qo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,be.Z)(function*(n){const s=Ve(n);Ne("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield im(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function hT(r,i=10240){let n=0;return{read:()=>(0,be.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class $v{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class BF{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new Gn,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,be.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,be.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,be.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),o=Number(s);isNaN(o)&&i.sa(`length string (${s}) is not valid number`);const u=yield i.ia(o);return new EF(JSON.parse(u),n.length+o)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,be.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,be.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,be.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class Oc{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Se(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(o=(0,be.Z)(function*(u,f){const g=Ve(u),w=Gg(g.N)+"/documents",x={documents:f.map(L=>Xu(g.N,L))},S=yield g.Ki("BatchGetDocuments",w,x),I=new Map;S.forEach(L=>{const j=function(r,i){return"found"in i?function(n,s){mt(!!s.found);const o=io(n,s.found.name),u=_i(s.found.updateTime),f=new pr({mapValue:{fields:s.found.fields}});return Fn.newFoundDocument(o,u,f)}(r,i):"missing"in i?function(n,s){mt(!!s.missing),mt(!!s.readTime);const o=io(n,s.missing),u=_i(s.readTime);return Fn.newNoDocument(o,u)}(r,i):Ke()}(g.N,L);I.set(j.key.toString(),j)});const F=[];return f.forEach(L=>{const j=I.get(L.toString());mt(!!j),F.push(j)}),F}),function(u,f){return o.apply(this,arguments)})(n.datastore,i);var o;return s.forEach(o=>n.recordVersion(o)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new pv(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,be.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,o)=>{const u=Xe.fromPath(o);i.mutations.push(new gv(u,i.precondition(u)))}),yield(s=(0,be.Z)(function*(o,u){const f=Ve(o),g=Gg(f.N)+"/documents",w={writes:u.map(x=>Hg(f.N,x))};yield f.Li("Commit",g,w)}),function(o,u){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw Ke();n=Ze.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Se(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?di.updateTime(n):di.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(Ze.min()))throw new Se(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(n)}return di.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class pm{constructor(i,n,s,o){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=o,this.aa=5,this.rr=new dD(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,be.Z)(function*(){const n=new Oc(i.datastore),s=i.ua(n);s&&s.then(o=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(o)}).catch(u=>{i.ha(u)}))}).catch(o=>{i.ha(o)})}))}ua(i){try{const n=this.updateFunction(i);return!ba(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!P0(n)}return!1}}class YD{constructor(i,n,s){var o=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=Gi.UNAUTHENTICATED,this.clientId=C0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var u=(0,be.Z)(function*(f){Ne("FirestoreClient","Received user=",f.uid),yield o.credentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,be.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const o=lm(s,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function fT(r,i){return qD.apply(this,arguments)}function qD(){return(qD=(0,be.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var o=(0,be.Z)(function*(u){s.isEqual(u)||(yield nD(i.localStore,u),s=u)});return function(u){return o.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function pT(r,i){return gm.apply(this,arguments)}function gm(){return(gm=(0,be.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield $D(r);Ne("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(o=>{return(u=(0,be.Z)(function*(f,g){const w=Ve(f);w.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const x=El(w);w.Kr.add(3),yield im(w),x&&w.Wr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(g),w.Kr.delete(3),yield nm(w)}),function(f,g){return u.apply(this,arguments)})(i.remoteStore,o);var u}),r.onlineComponents=i})).apply(this,arguments)}function $D(r){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,be.Z)(function*(r){return r.offlineComponents||(Ne("FirestoreClient","Using default OfflineComponentProvider"),yield fT(r,new uT)),r.offlineComponents})).apply(this,arguments)}function mm(r){return ZD.apply(this,arguments)}function ZD(){return(ZD=(0,be.Z)(function*(r){return r.onlineComponents||(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield pT(r,new qv)),r.onlineComponents})).apply(this,arguments)}function gT(r){return $D(r).then(i=>i.persistence)}function WD(r){return $D(r).then(i=>i.localStore)}function xa(r){return mm(r).then(i=>i.remoteStore)}function ad(r){return mm(r).then(i=>i.syncEngine)}function Lo(r){return bf.apply(this,arguments)}function bf(){return(bf=(0,be.Z)(function*(r){const i=yield mm(r),n=i.eventManager;return n.onListen=SL.bind(null,i.syncEngine),n.onUnlisten=um.bind(null,i.syncEngine),n})).apply(this,arguments)}function mT(r,i,n={}){const s=new Gn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,f,g,w){const x=new $v({next:I=>{u.enqueueAndForget(()=>QA(o,S));const F=I.docs.has(f);!F&&I.fromCache?w.reject(new Se(se.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&I.fromCache&&g&&"server"===g.source?w.reject(new Se(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(I)},error:I=>w.reject(I)}),S=new XA(Ku(f.path),x,{includeMetadataChanges:!0,uo:!0});return AD(o,S)}(yield Lo(r),r.asyncQueue,i,n,s)})),s.promise}function KD(r,i,n={}){const s=new Gn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,f,g,w){const x=new $v({next:I=>{u.enqueueAndForget(()=>QA(o,S)),I.fromCache&&"server"===g.source?w.reject(new Se(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(I)},error:I=>w.reject(I)}),S=new XA(f,x,{includeMetadataChanges:!0,uo:!0});return AD(o,S)}(yield Lo(r),r.asyncQueue,i,n,s)})),s.promise}class HF{constructor(i,n,s,o,u,f,g,w){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.useFetchStreams=w}}class ld{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof ld&&i.projectId===this.projectId&&i.database===this.database}}const Fc=new Map;function _m(r,i,n){if(!n)throw new Se(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function bT(r,i,n,s){if(!0===i&&!0===s)throw new Se(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wT(r){if(!Xe.isDocumentKey(r))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jF(r){if(Xe.isDocumentKey(r))throw new Se(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JD(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":Ke()}function Xt(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=JD(r);throw new Se(se.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function zF(r,i){if(i<=0)throw new Se(se.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class CT{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,bT("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class ym{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1,i instanceof ld?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(s.options.projectId)}(i))}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new mL;switch(n.type){case"gapi":const s=n.client;return mt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Yu(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Se(se.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=Fc.get(i);n&&(Ne("ComponentProvider","Removing Datastore"),Fc.delete(i),n.terminate())}(this),Promise.resolve()}}class Pn{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Pn(this.firestore,i,this._key)}}class Nr{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Nr(this.firestore,i,this._query)}}class Ml extends Nr{constructor(i,n,s){super(i,n,Ku(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Pn(this.firestore,null,new Xe(i))}withConverter(i){return new Ml(this.firestore,i,this._path)}}function DT(r,i,...n){if(r=(0,It.m9)(r),_m("collection","path",i),r instanceof ym){const s=Qt.fromString(i,...n);return jF(s),new Ml(r,null,s)}{if(!(r instanceof Pn||r instanceof Ml))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qt.fromString(i,...n));return jF(s),new Ml(r.firestore,null,s)}}function XD(r,i,...n){if(r=(0,It.m9)(r),1===arguments.length&&(i=C0.I()),_m("doc","path",i),r instanceof ym){const s=Qt.fromString(i,...n);return wT(s),new Pn(r,null,new Xe(s))}{if(!(r instanceof Pn||r instanceof Ml))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qt.fromString(i,...n));return wT(s),new Pn(r.firestore,r instanceof Ml?r.converter:null,new Xe(s))}}function YF(r,i){return r=(0,It.m9)(r),i=(0,It.m9)(i),(r instanceof Pn||r instanceof Ml)&&(i instanceof Pn||i instanceof Ml)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function qF(r,i){return r=(0,It.m9)(r),i=(0,It.m9)(i),r instanceof Nr&&i instanceof Nr&&r.firestore===i.firestore&&Xh(r._query,i._query)&&r.converter===i.converter}class l{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new dD(this,"async_queue_retry"),this.Ea=()=>{const n=em();n&&Ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=em();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=em();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new Gn;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,be.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!td(n))throw n;Ne("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,ci("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const o=SD.createAndSchedule(this,i,n,s,u=>this.Ra(u));return this._a.push(o),o}Ta(){this.ma&&Ke()}verifyOperationInProgress(){}ba(){var i=this;return(0,be.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function c(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const o of["next","error","complete"])if(o in s&&"function"==typeof s[o])return!0;return!1}(r)}class d{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class p extends ym{constructor(i,n){super(i,n),this.type="firestore",this._queue=new l,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||M(this),this._firestoreClient.terminate()}}function C(r){return r._firestoreClient||M(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function M(r){var i;const n=r._freezeSettings(),s=(u=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new HF(r._databaseId,u,r._persistenceKey,(g=n).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;r._firestoreClient=new YD(r._credentials,r._queue,s)}function R(r,i,n){const s=new Gn;return r.asyncQueue.enqueue((0,be.Z)(function*(){try{yield fT(r,n),yield pT(r,i),s.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===se.FAILED_PRECONDITION||u.code===se.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),s.reject(o)}var u})).then(()=>s.promise)}function nt(r){if(r._initialized||r._terminated)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ot{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class gn{constructor(i){this._byteString=i}static fromBase64String(i){try{return new gn(Hi.fromBase64String(i))}catch(n){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new gn(Hi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class zi{constructor(i){this._methodName=i}}class Pc{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return zt(this._lat,i._lat)||zt(this._long,i._long)}}const Cf=/^__.*__$/;class Df{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new Es(i,this.data,this.fieldMask,n,this.fieldTransforms):new Fg(i,this.data,n,this.fieldTransforms)}}class cd{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new Es(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke()}}class xf{constructor(i,n,s,o,u,f){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=o,void 0===u&&this.Sa(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new xf(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.ka(i),o}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.Sa(),o}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return xT(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(Wv(this.Da)&&Cf.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class ex{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||pf(i)}Ba(i,n,s,o=!1){return new xf({Da:i,methodName:n,La:s,path:ui.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Sl(r){const i=r._freezeSettings(),n=pf(r._databaseId);return new ex(r._databaseId,!!i.ignoreUndefinedProperties,n)}function Ef(r,i,n,s,o,u={}){const f=r.Ba(u.merge||u.mergeFields?2:0,i,n,o);KF("Data must be an object, but it was:",f,s);const g=FL(s,f);let w,x;if(u.merge)w=new Wh(f.fieldMask),x=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const I of u.mergeFields){const F=QF(i,I,n);if(!f.contains(F))throw new Se(se.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);NL(S,F)||S.push(F)}w=new Wh(S),x=f.fieldTransforms.filter(I=>w.covers(I.field))}else w=null,x=f.fieldTransforms;return new Df(new pr(g),w,x)}class tx extends zi{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof tx}}function RL(r,i,n){return new xf({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class $F extends zi{_toFieldTransform(i){return new Og(i.path,new Qu)}isEqual(i){return i instanceof $F}}class lH extends zi{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=RL(this,i,!0),s=this.Ua.map(u=>vm(u,n)),o=new wl(s);return new Og(i.path,o)}isEqual(i){return this===i}}class cH extends zi{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=RL(this,i,!0),s=this.Ua.map(u=>vm(u,n)),o=new eo(s);return new Og(i.path,o)}isEqual(i){return this===i}}class uH extends zi{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new Ju(i.N,HS(i.N,this.qa));return new Og(i.path,n)}isEqual(i){return this===i}}function ZF(r,i,n,s){const o=r.Ba(1,i,n);KF("Data must be an object, but it was:",o,s);const u=[],f=pr.empty();Ec(s,(w,x)=>{const S=JF(i,w,n);x=(0,It.m9)(x);const I=o.$a(S);if(x instanceof tx)u.push(S);else{const F=vm(x,I);null!=F&&(u.push(S),f.set(S,F))}});const g=new Wh(u);return new cd(f,g,o.fieldTransforms)}function WF(r,i,n,s,o,u){const f=r.Ba(1,i,n),g=[QF(i,s,n)],w=[o];if(u.length%2!=0)throw new Se(se.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)g.push(QF(i,u[F])),w.push(u[F+1]);const x=[],S=pr.empty();for(let F=g.length-1;F>=0;--F)if(!NL(x,g[F])){const L=g[F];let j=w[F];j=(0,It.m9)(j);const te=f.$a(L);if(j instanceof tx)x.push(L);else{const ge=vm(j,te);null!=ge&&(x.push(L),S.set(L,ge))}}const I=new Wh(x);return new cd(S,I,f.fieldTransforms)}function OL(r,i,n,s=!1){return vm(n,r.Ba(s?4:3,i))}function vm(r,i){if(PL(r=(0,It.m9)(r)))return KF("Unsupported field value:",i,r),FL(r,i);if(r instanceof zi)return function(n,s){if(!Wv(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const o=[];let u=0;for(const f of n){let g=vm(f,s.Oa(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(r,i)}return function(n,s){if(null===(n=(0,It.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return HS(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=ln.fromDate(n);return{timestampValue:Vg(s.N,o)}}if(n instanceof ln){const o=new ln(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vg(s.N,o)}}if(n instanceof Pc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof gn)return{bytesValue:nA(s.N,n._byteString)};if(n instanceof Pn){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.Fa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ug(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${JD(n)}`)}(r,i)}function FL(r,i){const n={};return RS(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):Ec(r,(s,o)=>{const u=vm(o,i.Na(s));null!=u&&(n[s]=u)}),{mapValue:{fields:n}}}function PL(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ln||r instanceof Pc||r instanceof gn||r instanceof Pn||r instanceof zi)}function KF(r,i,n){if(!PL(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=JD(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function QF(r,i,n){if((i=(0,It.m9)(i))instanceof ot)return i._internalPath;if("string"==typeof i)return JF(r,i);throw xT("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const dH=new RegExp("[~\\*/\\[\\]]");function JF(r,i,n){if(i.search(dH)>=0)throw xT(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ot(...i.split("."))._internalPath}catch(s){throw xT(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xT(r,i,n,s,o){const u=s&&!s.isEmpty(),f=void 0!==o;let g=`Function ${i}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let w="";return(u||f)&&(w+=" (found",u&&(w+=` in field ${s}`),f&&(w+=` in document ${o}`),w+=")"),new Se(se.INVALID_ARGUMENT,g+r+w)}function NL(r,i){return r.some(n=>n.isEqual(i))}class nx{constructor(i,n,s,o,u){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new hH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(ET("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class hH extends nx{data(){return super.data()}}function ET(r,i){return"string"==typeof i?JF(r,i):i instanceof ot?i._internalPath:i._delegate._internalPath}class bm{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class ud extends nx{constructor(i,n,s,o,u,f){super(i,n,s,o,f),this._firestore=i,this._firestoreImpl=i,this.metadata=u}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new ix(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(ET("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ix extends ud{data(i={}){return super.data(i)}}class Mf{constructor(i,n,s,o){this._firestore=i,this._userDataWriter=n,this._snapshot=o,this.metadata=new bm(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new ix(this._firestore,this._userDataWriter,s.key,s,new bm(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new ix(s._firestore,s._userDataWriter,f.doc.key,f.doc,new bm(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const g=new ix(s._firestore,s._userDataWriter,f.doc.key,f.doc,new bm(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,x=-1;return 0!==f.type&&(w=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:fH(f.type),doc:g,oldIndex:w,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fH(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke()}}function LL(r,i){return r instanceof ud&&i instanceof ud?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof Mf&&i instanceof Mf&&r._firestore===i._firestore&&qF(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function BL(r){if(I0(r)&&0===r.explicitOrderBy.length)throw new Se(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rx{}function Sf(r,...i){for(const n of i)r=n._apply(r);return r}class pH extends rx{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=Sl(i.firestore),s=function(o,u,f,g,w,x,S){let I;if(w.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on FieldPath.documentId().`);if("in"===x||"not-in"===x){zL(S,x);const L=[];for(const j of S)L.push(jL(g,o,j));I={arrayValue:{values:L}}}else I=jL(g,o,S)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||zL(S,x),I=OL(f,"where",S,"in"===x||"not-in"===x);const F=Rr.create(w,x,I);return function(L,j){if(j.v()){const ge=k0(L);if(null!==ge&&!ge.isEqual(j.field))throw new Se(se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ge.toString()}' and '${j.field.toString()}'`);const Ee=ov(L);null!==Ee&&YL(0,j.field,Ee)}const te=function(ge,Ee){for(const He of ge.filters)if(Ee.indexOf(He.op)>=0)return He.op;return null}(L,function(ge){switch(ge){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==te)throw new Se(se.INVALID_ARGUMENT,te===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${te.toString()}' filters.`)}(o,F),F}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Nr(i.firestore,i.converter,function(o,u){const f=o.filters.concat([u]);return new bl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(i._query,s))}}class mH extends rx{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,o,u){if(null!==s.startAt)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Kh(o,u);return function(g,w){if(null===ov(g)){const x=k0(g);null!==x&&YL(0,x,w.field)}}(s,f),f}(i._query,this.Ka,this.Wa);return new Nr(i.firestore,i.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new bl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class VL extends rx{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Nr(i.firestore,i.converter,VS(i._query,this.Ga,this.za))}}class UL extends rx{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=HL(i,this.type,this.Ha,this.Ja);return new Nr(i.firestore,i.converter,(o=n,new bl((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)));var s,o}}class GL extends rx{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=HL(i,this.type,this.Ha,this.Ja);return new Nr(i.firestore,i.converter,(o=n,new bl((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)));var s,o}}function HL(r,i,n,s){if(n[0]=(0,It.m9)(n[0]),n[0]instanceof nx)return function(o,u,f,g,w){if(!g)throw new Se(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const x=[];for(const S of Jh(o))if(S.field.isKeyField())x.push(x0(u,g.key));else{const I=g.data.field(S.field);if(ev(I))throw new Se(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const F=S.field.canonicalString();throw new Se(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}x.push(I)}return new Rg(x,w)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const o=Sl(r.firestore);return function(u,f,g,w,x,S){const I=u.explicitOrderBy;if(x.length>I.length)throw new Se(se.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let L=0;L<x.length;L++){const j=x[L];if(I[L].field.isKeyField()){if("string"!=typeof j)throw new Se(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof j}`);if(!R0(u)&&-1!==j.indexOf("/"))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${j}' contains a slash.`);const te=u.path.child(Qt.fromString(j));if(!Xe.isDocumentKey(te))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const ge=new Xe(te);F.push(x0(f,ge))}else{const te=OL(g,w,j);F.push(te)}}return new Rg(F,S)}(r._query,r.firestore._databaseId,o,i,n,s)}}function jL(r,i,n){if("string"==typeof(n=(0,It.m9)(n))){if(""===n)throw new Se(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!R0(i)&&-1!==n.indexOf("/"))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(Qt.fromString(n));if(!Xe.isDocumentKey(s))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return x0(r,new Xe(s))}if(n instanceof Pn)return x0(r,n._key);throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${JD(n)}.`)}function zL(r,i){if(!Array.isArray(r)||0===r.length)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function YL(r,i,n){if(!n.isEqual(i))throw new Se(se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class XF{convertValue(i,n="none"){switch(wa(i)){case 0:return null;case 1:return i.booleanValue;case 2:return On(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(Mc(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw Ke()}}convertObject(i,n){const s={};return Ec(i.fields,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertGeoPoint(i){return new Pc(On(i.latitude),On(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=$u(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tg(i));default:return null}}convertTimestamp(i){const n=va(i);return new ln(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=Qt.fromString(i);mt(uA(s));const o=new ld(s.get(1),s.get(3)),u=new Xe(s.popFirst(5));return o.isEqual(n)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function MT(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class xH extends XF{constructor(i){super(),this.firestore=i}convertBytes(i){return new gn(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}class qL{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Sl(i)}set(i,n,s){this._verifyNotCommitted();const o=Af(i,this._firestore),u=MT(o.converter,n,s),f=Ef(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,s);return this._mutations.push(f.toMutation(o._key,di.none())),this}update(i,n,s,...o){this._verifyNotCommitted();const u=Af(i,this._firestore);let f;return f="string"==typeof(n=(0,It.m9)(n))||n instanceof ot?WF(this._dataReader,"WriteBatch.update",u._key,n,s,o):ZF(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,di.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=Af(i,this._firestore);return this._mutations=this._mutations.concat(new pv(n._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Af(r,i){if((r=(0,It.m9)(r)).firestore!==i)throw new Se(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class wm extends XF{constructor(i){super(),this.firestore=i}convertBytes(i){return new gn(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function $L(r,i,n){r=Xt(r,Pn);const s=Xt(r.firestore,p),o=MT(r.converter,i,n);return Kv(s,[Ef(Sl(s),"setDoc",r._key,o,null!==r.converter,n).toMutation(r._key,di.none())])}function ZL(r,i,n,...s){r=Xt(r,Pn);const o=Xt(r.firestore,p),u=Sl(o);let f;return f="string"==typeof(i=(0,It.m9)(i))||i instanceof ot?WF(u,"updateDoc",r._key,i,n,s):ZF(u,"updateDoc",r._key,i),Kv(o,[f.toMutation(r._key,di.exists(!0))])}function WL(r,...i){var n,s,o;r=(0,It.m9)(r);let u={includeMetadataChanges:!1},f=0;"object"!=typeof i[f]||c(i[f])||(u=i[f],f++);const g={includeMetadataChanges:u.includeMetadataChanges};if(c(i[f])){const I=i[f];i[f]=null===(n=I.next)||void 0===n?void 0:n.bind(I),i[f+1]=null===(s=I.error)||void 0===s?void 0:s.bind(I),i[f+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}let w,x,S;if(r instanceof Pn)x=Xt(r.firestore,p),S=Ku(r._key.path),w={next:I=>{i[f]&&i[f](e1(x,r,I))},error:i[f+1],complete:i[f+2]};else{const I=Xt(r,Nr);x=Xt(I.firestore,p),S=I._query;const F=new wm(x);w={next:L=>{i[f]&&i[f](new Mf(x,F,I,L))},error:i[f+1],complete:i[f+2]},BL(r._query)}return function(I,F,L,j){const te=new $v(j),ge=new XA(F,te,L);return I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return AD(yield Lo(I),ge)})),()=>{te.Xo(),I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return QA(yield Lo(I),ge)}))}}(C(x),S,g,w)}function Kv(r,i){return function(n,s){const o=new Gn;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,i,n){return FD.apply(this,arguments)}(yield ad(n),s,o)})),o.promise}(C(r),i)}function e1(r,i,n){const s=n.docs.get(i._key),o=new wm(r);return new ud(r,o,i._key,s,new bm(n.hasPendingWrites,n.fromCache),i.converter)}class FH extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=Sl(i)}get(i){const n=Af(i,this._firestore),s=new xH(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return Ke();const u=o[0];if(u.isFoundDocument())return new nx(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new nx(this._firestore,s,n._key,null,n.converter);throw Ke()})}set(i,n,s){const o=Af(i,this._firestore),u=MT(o.converter,n,s),f=Ef(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,s);return this._transaction.set(o._key,f),this}update(i,n,s,...o){const u=Af(i,this._firestore);let f;return f="string"==typeof(n=(0,It.m9)(n))||n instanceof ot?WF(this._dataReader,"Transaction.update",u._key,n,s,o):ZF(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(i){const n=Af(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=Af(i,this._firestore),s=new wm(this._firestore);return super.get(i).then(o=>new ud(this._firestore,s,n._key,o._document,new bm(!1,!1),n.converter))}}function t1(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Se("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function KL(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function QL(){if("undefined"==typeof atob)throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){xc=r})(ku.SDK_VERSION),(0,ku._registerComponent)(new tg.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new p(n,new Ks(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,ku.registerVersion)("@firebase/firestore","3.0.2",void 0);class sx{constructor(i){this._delegate=i}static fromBase64String(i){return QL(),new sx(gn.fromBase64String(i))}static fromUint8Array(i){return KL(),new sx(gn.fromUint8Array(i))}toBase64(){return QL(),this._delegate.toBase64()}toUint8Array(){return KL(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function n1(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class YH{enableIndexedDbPersistence(i,n){return function(r,i){nt(r=Xt(r,p));const n=C(r),s=r._freezeSettings(),o=new qv;return R(n,o,new dT(o,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){nt(r=Xt(r,p));const i=C(r),n=r._freezeSettings(),s=new qv;return R(i,s,new LF(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Se(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Gn;return r._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(n=(0,be.Z)(function*(s){if(!Fo.bt())return Promise.resolve();const o=s+"main";yield Fo.delete(o)}),function(s){return n.apply(this,arguments)})(TA(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class JL{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof ld||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&Ag("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var o;const u=(r=Xt(r,ym))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==i&&Ag("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let f,g;if("string"==typeof s.mockUserToken)f=s.mockUserToken,g=Gi.MOCK_USER;else{f=(0,It.Sg)(s.mockUserToken,null===(o=r._app)||void 0===o?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Gi(w)}r._credentials=new St(new Yh(f,g))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const i=yield gT(r),n=yield xa(r);return i.setNetworkEnabled(!0),function(s){const o=Ve(s);return o.Kr.delete(0),nm(o)}(n)}))}(C(r=Xt(r,p)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const i=yield gT(r),n=yield xa(r);return i.setNetworkEnabled(!1),(s=(0,be.Z)(function*(o){const u=Ve(o);u.Kr.add(0),yield im(u),u.Wr.set("Offline")}),function(o){return s.apply(this,arguments)})(n);var s}))}(C(r=Xt(r,p)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,bT("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new Gn;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,i){return VD.apply(this,arguments)}(yield ad(i),n)})),n.promise}(C(r=Xt(r,p)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new $v(i);return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Lo(r),o=n,Ve(s).Zr.add(o),void o.next();var s,o})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Lo(r),o=n,void Ve(s).Zr.delete(o);var s,o}))}}(C(r=Xt(r,p)),c(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new Qv(this,DT(this._delegate,i))}catch(n){throw Ts(n,"collection()","Firestore.collection()")}}doc(i){try{return new Ea(this,XD(this._delegate,i))}catch(n){throw Ts(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Is(this,function(r,i){if(r=Xt(r,ym),_m("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Nr(r,null,(n=i,new bl(Qt.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw Ts(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new Gn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(o=r,mm(o).then(u=>u.datastore));var o;new pm(r.asyncQueue,s,i,n).run()})),n.promise}(C(r),n=>i(new FH(r,n)))}(this._delegate,n=>i(new XL(this,n)))}batch(){return C(this._delegate),new eB(new qL(this._delegate,i=>Kv(this._delegate,i)))}loadBundle(i){return function(r,i){const n=C(r=Xt(r,p)),s=new d;return function(r,i,n,s){const o=function(u,f){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,x){if(w instanceof Uint8Array)return hT(w,x);if(w instanceof ArrayBuffer)return hT(new Uint8Array(w),x);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new BF(w,f);var w}(n,pf(i));r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(r,i,n){const s=Ve(r);var o;(o=(0,be.Z)(function*(u,f,g){try{const w=yield f.getMetadata();if(yield function(F,L){const j=Ve(F),te=_i(L.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",ge=>j.Je.getBundleMetadata(ge,L.id)).then(ge=>!!ge&&ge.createTime.compareTo(te)>=0)}(u.localStore,w))return yield f.close(),void g._completeWith((F=w,{taskState:"Success",documentsLoaded:F.totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}));g._updateProgress(tT(w));const x=new MF(w,u.localStore,f.N);let S=yield f.Qo();for(;S;){const F=yield x.fo(S);F&&g._updateProgress(F),S=yield f.Qo()}const I=yield x.complete();yield No(u,I.Tn,void 0),yield function(F,L){const j=Ve(F);return j.persistence.runTransaction("Save bundle","readwrite",te=>j.Je.saveBundleMetadata(te,L))}(u.localStore,w),g._completeWith(I.progress)}catch(w){Ag("SyncEngine",`Loading bundle failed with ${w}`),g._failWith(w)}var F}),function(u,f,g){return o.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield ad(r),o,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,be.Z)(function*(){return function(n,s){const o=Ve(n);return o.persistence.runTransaction("Get named query","readonly",u=>o.Je.getNamedQuery(u,s))}(yield WD(r),i)}))}(C(r=Xt(r,p)),i).then(n=>n?new Nr(r,null,n.query):null)}(this._delegate,i).then(n=>n?new Is(this,n):null)}}class ST extends XF{constructor(i){super(),this.firestore=i}convertBytes(i){return new sx(new gn(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return Ea.forKey(n,this.firestore,null)}}class XL{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new ST(i)}get(i){const n=Dm(i);return this._delegate.get(n).then(s=>new ox(this._firestore,new ud(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const o=Dm(i);return s?(t1("Transaction.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const u=Dm(i);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...o),this}delete(i){const n=Dm(i);return this._delegate.delete(n),this}}class eB{constructor(i){this._delegate=i}set(i,n,s){const o=Dm(i);return s?(t1("WriteBatch.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const u=Dm(i);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...o),this}delete(i){const n=Dm(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Cm{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new ix(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new ax(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=Cm.INSTANCES;let o=s.get(i);o||(o=new WeakMap,s.set(i,o));let u=o.get(n);return u||(u=new Cm(i,new ST(i),n),o.set(n,u)),u}}Cm.INSTANCES=new WeakMap;class Ea{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new ST(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new Ea(n,new Pn(n._delegate,s,new Xe(i)))}static forKey(i,n,s){return new Ea(n,new Pn(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new Qv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new Qv(this.firestore,DT(this._delegate,i))}catch(n){throw Ts(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,It.m9)(i))instanceof Pn&&YF(this._delegate,i)}set(i,n){n=t1("DocumentReference.set",n);try{return n?$L(this._delegate,i,n):$L(this._delegate,i)}catch(s){throw Ts(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?ZL(this._delegate,i):ZL(this._delegate,i,n,...s)}catch(o){throw Ts(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return Kv(Xt(r.firestore,p),[new pv(r._key,di.none())])}(this._delegate)}onSnapshot(...i){const n=tB(i),s=nB(i,o=>new ox(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return WL(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Xt(r,Pn);const i=Xt(r.firestore,p),n=C(i),s=new wm(i);return function(r,i){const n=new Gn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(o,u,f){try{const g=yield function(w,x){const S=Ve(w);return S.persistence.runTransaction("read document","readonly",I=>S.Qn.An(I,x))}(o,u);g.isFoundDocument()?f.resolve(g):g.isNoDocument()?f.resolve(null):f.reject(new Se(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const w=lm(g,`Failed to get document '${u} from cache`);f.reject(w)}}),function(o,u,f){return s.apply(this,arguments)})(yield WD(r),i,n);var s})),n.promise}(n,r._key).then(o=>new ud(i,s,r._key,o,new bm(null!==o&&o.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Xt(r,Pn);const i=Xt(r.firestore,p);return mT(C(i),r._key,{source:"server"}).then(n=>e1(i,r,n))}(this._delegate):function(r){r=Xt(r,Pn);const i=Xt(r.firestore,p);return mT(C(i),r._key).then(n=>e1(i,r,n))}(this._delegate),n.then(s=>new ox(this.firestore,new ud(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new Ea(this.firestore,this._delegate.withConverter(i?Cm.getInstance(this.firestore,i):null))}}function Ts(r,i,n){return r.message=r.message.replace(i,n),r}function tB(r){for(const i of r)if("object"==typeof i&&!n1(i))return i;return{}}function nB(r,i){var n,s;let o;return o=n1(r[0])?r[0]:n1(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{o.next&&o.next(i(u))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(s=o.complete)||void 0===s?void 0:s.bind(o)}}class ox{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new Ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return LL(this._delegate,i._delegate)}}class ax extends ox{data(i){const n=this._delegate.data(i);return function(r,i){r||Ke()}(void 0!==n),n}}class Is{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new ST(i)}where(i,n,s){try{return new Is(this.firestore,Sf(this._delegate,function(r,i,n){const s=i,o=ET("where",r);return new pH(o,s,n)}(i,n,s)))}catch(o){throw Ts(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new Is(this.firestore,Sf(this._delegate,function(r,i="asc"){const n=i,s=ET("orderBy",r);return new mH(s,n)}(i,n)))}catch(s){throw Ts(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Is(this.firestore,Sf(this._delegate,function(r){return zF("limit",r),new VL("limit",r,"F")}(i)))}catch(n){throw Ts(n,"limit()","Query.limit()")}}limitToLast(i){try{return new Is(this.firestore,Sf(this._delegate,function(r){return zF("limitToLast",r),new VL("limitToLast",r,"L")}(i)))}catch(n){throw Ts(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Is(this.firestore,Sf(this._delegate,function(...r){return new UL("startAt",r,!0)}(...i)))}catch(n){throw Ts(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Is(this.firestore,Sf(this._delegate,function(...r){return new UL("startAfter",r,!1)}(...i)))}catch(n){throw Ts(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Is(this.firestore,Sf(this._delegate,function(...r){return new GL("endBefore",r,!0)}(...i)))}catch(n){throw Ts(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Is(this.firestore,Sf(this._delegate,function(...r){return new GL("endAt",r,!1)}(...i)))}catch(n){throw Ts(n,"endAt()","Query.endAt()")}}isEqual(i){return qF(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Xt(r,Nr);const i=Xt(r.firestore,p),n=C(i),s=new wm(i);return function(r,i){const n=new Gn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(o,u,f){try{const g=yield Mv(o,u,!0),w=new iT(u,g.Gn),x=w.Io(g.documents),S=w.applyChanges(x,!1);f.resolve(S.snapshot)}catch(g){const w=lm(g,`Failed to execute query '${u} against cache`);f.reject(w)}}),function(o,u,f){return s.apply(this,arguments)})(yield WD(r),i,n);var s})),n.promise}(n,r._query).then(o=>new Mf(i,s,r,o))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Xt(r,Nr);const i=Xt(r.firestore,p),n=C(i),s=new wm(i);return KD(n,r._query,{source:"server"}).then(o=>new Mf(i,s,r,o))}(this._delegate):function(r){r=Xt(r,Nr);const i=Xt(r.firestore,p),n=C(i),s=new wm(i);return BL(r._query),KD(n,r._query).then(o=>new Mf(i,s,r,o))}(this._delegate),n.then(s=>new i1(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=tB(i),s=nB(i,o=>new i1(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return WL(this._delegate,n,s)}withConverter(i){return new Is(this.firestore,this._delegate.withConverter(i?Cm.getInstance(this.firestore,i):null))}}class $H{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ax(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class i1{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new ax(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new $H(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new ax(this._firestore,s))})}isEqual(i){return LL(this._delegate,i._delegate)}}class Qv extends Is{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new Ea(this.firestore,i):null}doc(i){try{return new Ea(this.firestore,void 0===i?XD(this._delegate):XD(this._delegate,i))}catch(n){throw Ts(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=Xt(r.firestore,p),s=XD(r),o=MT(r.converter,i);return Kv(n,[Ef(Sl(r.firestore),"addDoc",s._key,o,null!==r.converter,{}).toMutation(s._key,di.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new Ea(this.firestore,n))}isEqual(i){return YF(this._delegate,i._delegate)}withConverter(i){return new Qv(this.firestore,this._delegate.withConverter(i?Cm.getInstance(this.firestore,i):null))}}function Dm(r){return Xt(r,Pn)}class r1{constructor(...i){this._delegate=new ot(...i)}static documentId(){return new r1(ui.keyField().canonicalString())}isEqual(i){return(i=(0,It.m9)(i))instanceof ot&&this._delegate._internalPath.isEqual(i._internalPath)}}class xm{constructor(i){this._delegate=i}static serverTimestamp(){const i=new $F("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new xm(i)}static delete(){const i=new tx("deleteField");return i._methodName="FieldValue.delete",new xm(i)}static arrayUnion(...i){const n=function(...r){return new lH("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new xm(n)}static arrayRemove(...i){const n=function(...r){return new cH("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new xm(n)}static increment(i){const n=function(r){return new uH("increment",r)}(i);return n._methodName="FieldValue.increment",new xm(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const ZH={Firestore:JL,GeoPoint:Pc,Timestamp:ln,Blob:sx,Transaction:XL,WriteBatch:eB,DocumentReference:Ea,DocumentSnapshot:ox,Query:Is,QueryDocumentSnapshot:ax,QuerySnapshot:i1,CollectionReference:Qv,FieldPath:r1,FieldValue:xm,setLogLevel:function(r){!function(r){vl.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function(r){(function(r,i){r.INTERNAL.registerComponent(new tg.wA("firestore-compat",n=>((i,n)=>new JL(i,n,new YH))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ZH)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(ZE.Z);var lx=N(9746),QH=N(7771),JH=N(8858);class XH extends ke.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new e6(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=s.length;let f;if(this.closed)throw new Ld.N;if(this.isStopped||this.hasError?f=Wt.w.EMPTY:(this.observers.push(i),f=new JH.W(this,i)),o&&i.add(i=new lx.ht(i,o)),n)for(let g=0;g<u&&!i.closed;g++)i.next(s[g]);else for(let g=0;g<u&&!i.closed;g++)i.next(s[g].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),f}_getNow(){return(this.scheduler||QH.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,o=this._events,u=o.length;let f=0;for(;f<u&&!(i-o[f].time<s);)f++;return u>n&&(f=Math.max(f,u-n)),f>0&&o.splice(0,f),o}}class e6{constructor(i,n){this.time=i,this.value=n}}function s1(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},o=>o.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let o,f,u=0,g=!1,w=!1;return function(S){let I;u++,!o||g?(g=!1,o=new XH(r,i,s),I=o.subscribe(this),f=S.subscribe({next(F){o.next(F)},error(F){g=!0,o.error(F)},complete(){w=!0,f=void 0,o.complete()}}),w&&(f=void 0)):I=o.subscribe(this),this.add(()=>{u--,I.unsubscribe(),I=void 0,f&&!w&&n&&0===u&&(f.unsubscribe(),f=void 0,o=void 0)})}}(s))}function iB(r,i){return i?Tn(()=>r,i):Tn(()=>r)}var o1=N(9673);const rB=new a.OlP("angularfire2.auth.use-emulator"),sB=new a.OlP("angularfire2.auth.settings"),oB=new a.OlP("angularfire2.auth.tenant-id"),aB=new a.OlP("angularfire2.auth.langugage-code"),lB=new a.OlP("angularfire2.auth.use-device-language"),cB=new a.OlP("angularfire.auth.persistence"),uB=(r,i,n,s,o,u,f,g)=>(0,Jn.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const w=i.runOutsideAngular(()=>r.auth());if(n&&w.useEmulator(...n),s&&(w.tenantId=s),w.languageCode=o,u&&w.useDeviceLanguage(),f)for(const[x,S]of Object.entries(f))w.settings[x]=S;return g&&w.setPersistence(g),w},[n,s,o,u,f,g]);let a1=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S,I,F){const L=new ke.xQ,j=(0,je.of)(void 0).pipe((0,lx.QV)(f.outsideAngular),Tn(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,6780)))),(0,rt.U)(()=>(0,qs.on)(n,u,s)),(0,rt.U)(te=>uB(te,u,g,x,S,I,w,F)),s1({bufferSize:1,refCount:!1}));if(Ns(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{j.pipe(In()).subscribe();const ge=j.pipe(Tn(Be=>Be.getRedirectResult().then(ze=>ze,()=>null)),Jn.iC,s1({bufferSize:1,refCount:!1})),Ee=j.pipe(Tn(Be=>new on.y(ze=>({unsubscribe:u.runOutsideAngular(()=>Be.onAuthStateChanged(mn=>ze.next(mn),mn=>ze.error(mn),()=>ze.complete()))})))),He=j.pipe(Tn(Be=>new on.y(ze=>({unsubscribe:u.runOutsideAngular(()=>Be.onIdTokenChanged(mn=>ze.next(mn),mn=>ze.error(mn),()=>ze.complete()))}))));this.authState=ge.pipe(iB(Ee),(0,o1.R)(f.outsideAngular),(0,lx.QV)(f.insideAngular)),this.user=ge.pipe(iB(He),(0,o1.R)(f.outsideAngular),(0,lx.QV)(f.insideAngular)),this.idToken=this.user.pipe(Tn(Be=>Be?(0,Zt.D)(Be.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(Tn(Be=>Be?(0,Zt.D)(Be.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,En.T)(ge,L,this.authState.pipe(Nt(Be=>!Be))).pipe((0,rt.U)(Be=>(null==Be?void 0:Be.user)?Be:null),(0,o1.R)(f.outsideAngular),(0,lx.QV)(f.insideAngular))}return(0,qs.pX)(this,j,u,{spy:{apply:(te,ge,Ee)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Ee.then(He=>L.next(He))}}})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(qs.Dh),a.LFG(qs.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Jn.HU),a.LFG(rB,8),a.LFG(sB,8),a.LFG(oB,8),a.LFG(aB,8),a.LFG(lB,8),a.LFG(cB,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function dB(r,i){return function(r,i=eg.z){return new on.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function l1(r,i){return dB(r,i).pipe((0,rt.U)(n=>({payload:n,type:"query"})))}function AT(r,i){return l1(r,i).pipe(Jt(void 0),dg(),(0,rt.U)(([n,s])=>{const o=s.payload.docChanges(),u=o.map(f=>({type:f.type,payload:f}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,g)=>{const w=o.find(S=>S.doc.ref.isEqual(f.ref)),x=null==n?void 0:n.payload.docs.find(S=>S.ref.isEqual(f.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(f.metadata)||!w&&x&&JSON.stringify(x.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:f}})}),u}))}function hB(r,i,n){return AT(r,n).pipe(Vd((s,o)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return c1(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return c1(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return c1(r,i.oldIndex,1)}return r}(r,s))}),r}(s,o.map(u=>u.payload),i),[]),Nu(),(0,rt.U)(s=>s.map(o=>({type:o.type,payload:o}))))}function c1(r,i,n,...s){const o=r.slice();return o.splice(i,n,...s),o}function fB(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class pB{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=AT(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,rt.U)(s=>s.filter(o=>i.indexOf(o.type)>-1)))),n.pipe(Jt(void 0),dg(),Nt(([s,o])=>o.length>0||!s),(0,rt.U)(([s,o])=>o),Jn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Vd((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=fB(i);return hB(this.query,n,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return l1(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),Jn.iC)}get(i){return(0,Zt.D)(this.query.get(i)).pipe(Jn.iC)}add(i){return this.ref.add(i)}doc(i){return new gB(this.ref.doc(i),this.afs)}}class gB{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:o,query:u}=yB(s,n);return new pB(o,u,this.afs)}snapshotChanges(){return function(r,i){return dB(r,i).pipe(Jt(void 0),dg(),(0,rt.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,Zt.D)(this.ref.get(i)).pipe(Jn.iC)}}class a6{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?AT(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),Nt(n=>n.length>0),Jn.iC):AT(this.query,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Vd((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=fB(i);return hB(this.query,n,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return l1(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(s=>s.payload.docs.map(o=>i.idField?Object.assign({[i.idField]:o.id},o.data()):o.data())),Jn.iC)}get(i){return(0,Zt.D)(this.query.get(i)).pipe(Jn.iC)}}const mB=new a.OlP("angularfire2.enableFirestorePersistence"),_B=new a.OlP("angularfire2.firestore.persistenceSettings"),l6=new a.OlP("angularfire2.firestore.settings"),c6=new a.OlP("angularfire2.firestore.use-emulator");function yB(r,i=(n=>n)){return{query:i(r),ref:r}}let vB=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S,I,F,L,j,te,ge,Ee){this.schedulers=w;const He=(0,qs.on)(n,g,s),Be=S;I&&uB(He,g,F,j,te,ge,L,Ee),[this.firestore,this.persistenceEnabled$]=(0,Jn.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const ze=g.runOutsideAngular(()=>He.firestore());if(u&&ze.settings(u),Be&&ze.useEmulator(...Be),o&&!Ns(f)){const mn=()=>{try{return(0,Zt.D)(ze.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(bi){return"undefined"!=typeof console&&console.warn(bi),(0,je.of)(!1)}};return[ze,g.runOutsideAngular(mn)]}return[ze,(0,je.of)(!1)]},[u,Be,o])}collection(n,s){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:f}=yB(o,s),g=this.schedulers.ngZone.run(()=>u);return new pB(g,f,this)}collectionGroup(n,s){const o=s||(f=>f),u=this.firestore.collectionGroup(n);return new a6(o(u),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>s);return new gB(o,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(qs.Dh),a.LFG(qs.xv,8),a.LFG(mB,8),a.LFG(l6,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Jn.HU),a.LFG(_B,8),a.LFG(c6,8),a.LFG(a1,8),a.LFG(rB,8),a.LFG(sB,8),a.LFG(oB,8),a.LFG(aB,8),a.LFG(lB,8),a.LFG(cB,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),u6=(()=>{class r{constructor(){Eh.Z.registerVersion("angularfire",Jn.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:mB,useValue:!0},{provide:_B,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[vB]}),r})(),Tf=(()=>{class r{constructor(n){this.angularFirestore=n,this.toSendCollection=n.collection(ws.TOSEND),this.toSend=this.toSendCollection.valueChanges({idField:"id"}),this.sentCollection=n.collection(ws.SENT),this.sent=this.sentCollection.valueChanges({idField:"id"})}addImageToSend(n){return(0,Zt.D)(this.toSendCollection.add(Object.assign({},n)))}deleteImageToSend(n){return(0,Zt.D)(this.toSendCollection.doc(n.id).delete())}addImageSent(n){return(0,Zt.D)(this.sentCollection.add(Object.assign({},n)))}deleteImageSent(n){return(0,Zt.D)(this.sentCollection.doc(n.id).delete())}moveImageFromToSendToSent(n,s,o){return(0,Vi.mG)(this,void 0,void 0,function*(){yield this.deleteImageSent(n).toPromise().then(()=>{n.name=o,n.drawable=s,n.date=qE.format(),this.addImageSent(n).toPromise().then(()=>this.deleteImageToSend(n))}).catch(()=>console.warn("firestore"))})}addReply(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){const o=new FM(this.angularFirestore.createId(),Zs.getDisplayName(),s);return n.replies.push(o),yield this.angularFirestore.doc(ws.SENT+"/"+n.id).update({replies:Eh.Z.firestore.FieldValue.arrayUnion(...n.replies.map(u=>Object.assign({},u)))})})}editReply(n){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ws.SENT+"/"+n.id).update({replies:n.replies})})}deleteReply(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ws.SENT+"/"+n.id).update({replies:Eh.Z.firestore.FieldValue.arrayRemove(s)})})}addGrade(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){const o=new RR(this.angularFirestore.createId(),Zs.getDisplayName(),s);return n.grades.push(o),yield this.angularFirestore.doc(ws.SENT+"/"+n.id).update({grades:Eh.Z.firestore.FieldValue.arrayUnion(...n.grades.map(u=>Object.assign({},u)))})})}editGrade(n){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ws.SENT+"/"+n.id).update({grades:n.grades})})}deleteGrade(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ws.SENT+"/"+n.id).update({replies:Eh.Z.firestore.FieldValue.arrayRemove(s)})})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(vB))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),bB=(()=>{class r{constructor(n,s){this.fireStorage=n,this.fireStoreService=s}uploadFileToSend(n){const s=(new Date).getTime().toString()+"_"+n.name,o=ws.TOSEND+"/"+s;return{name:s,uploadProgress:this.fireStorage.upload(o,n).percentageChanges(),downloadUrl:this.fireStorage.ref(o).getDownloadURL()}}moveFileToSent(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){const o=[];yield this.fireStoreService.sentCollection.get().toPromise().then(S=>{S.forEach(I=>{const F=new cc(I.data().name,I.data().drawable,I.data().date);o.push(F)})});const u=yield fetch(s).then(S=>S.blob()),f=class{static getName(i){let s,o,u,n=!0;for(s=function(){const r=new Date,n=new Date((new Date).getFullYear(),0,0),s=r-n+60*(n.getTimezoneOffset()-r.getTimezoneOffset())*1e3;return Math.floor(s/864e5)}(),o=(new Date).getFullYear()-2016,u="Season "+o+" Day "+s;n;)0===i.length&&(n=!1),i.forEach(f=>{f.name===u&&(s+=1,u="Season "+o+" Day "+s)}),n=!1;return u}}.getName(o),g=n.substr(n.length-4),w=`${ws.SENT}/${f}${g}`;return yield this.fireStorage.upload(w,u).then(()=>this.fireStorage.refFromURL(s).delete()),{drawable:yield this.fireStorage.ref(w).getDownloadURL().toPromise(),newName:f}})}deleteFile(n){this.fireStorage.refFromURL(n).delete()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(OM),a.LFG(Tf))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Fe(r){return null!=r&&"false"!=`${r}`}function hi(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function TT(r){return Array.isArray(r)?r:[r]}function Yi(r){return null==r?"":"string"==typeof r?r:`${r}px`}function dd(r){return r instanceof a.SBq?r.nativeElement:r}var f6=N(9105);function Nc(r,i,n,s){return(0,f6.m)(n)&&(s=n,n=void 0),s?Nc(r,i,n).pipe((0,rt.U)(o=>(0,Yl.k)(o)?s(...o):s(o))):new on.y(o=>{wB(r,i,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,n)})}function wB(r,i,n,s,o){let u;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const f=r;r.addEventListener(i,n,o),u=()=>f.removeEventListener(i,n,o)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const f=r;r.on(i,n),u=()=>f.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const f=r;r.addListener(i,n),u=()=>f.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let f=0,g=r.length;f<g;f++)wB(r[f],i,n,s,o)}s.add(u)}var _6=N(6465),v6=N(6102);const w6=new class extends v6.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,o=-1,u=n.length;i=i||n.shift();do{if(s=i.execute(i.state,i.delay))break}while(++o<u&&(i=n.shift()));if(this.active=!1,s){for(;++o<u&&(i=n.shift());)i.unsubscribe();throw s}}}(class extends _6.o{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,s=0){return null!==s&&s>0?super.requestAsyncId(i,n,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,n,s);0===i.actions.length&&(cancelAnimationFrame(n),i.scheduled=void 0)}});var u1=N(4581);function d1(r){return!!r&&(r instanceof on.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}class D6{constructor(i){this.durationSelector=i}call(i,n){return n.subscribe(new x6(i,this.durationSelector))}}class x6 extends Qr.Ds{constructor(i,n){super(i),this.durationSelector=n,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:o}=this;n=o(i)}catch(o){return this.destination.error(o)}const s=(0,Qr.ft)(n,new Qr.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var CB=N(6561);function E6(r){const{index:i,period:n,subscriber:s}=r;if(s.next(i),!s.closed){if(-1===n)return s.complete();r.index=i+1,this.schedule(r,n)}}function IT(r,i=eg.P){return function(r){return function(n){return n.lift(new D6(r))}}(()=>function(r=0,i,n){let s=-1;return(0,CB.k)(i)?s=Number(i)<1?1:Number(i):(0,Va.K)(i)&&(n=i),(0,Va.K)(n)||(n=eg.P),new on.y(o=>{const u=(0,CB.k)(r)?r:+r-n.now();return n.schedule(E6,u,{index:0,period:s,subscriber:o})})}(r,i))}let h1;try{h1="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){h1=!1}let Xv,Vt=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?mo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!h1)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.Lbi))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.Lbi))},token:r,providedIn:"root"}),r})(),Jv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const xB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function EB(){if(Xv)return Xv;if("object"!=typeof document||!document)return Xv=new Set(xB),Xv;let r=document.createElement("input");return Xv=new Set(xB.filter(i=>(r.setAttribute("type",i),r.type===i))),Xv}let cx,kT,Mm,f1;function Em(r){return function(){if(null==cx&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cx=!0}))}finally{cx=cx||!1}return cx}()?r:!!r.capture}function MB(){if(null==Mm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mm=!1,Mm;if("scrollBehavior"in document.documentElement.style)Mm=!0;else{const r=Element.prototype.scrollTo;Mm=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return Mm}function ux(){if("object"!=typeof document||!document)return 0;if(null==kT){const r=document.createElement("div"),i=r.style;r.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const n=document.createElement("div"),s=n.style;s.width="2px",s.height="1px",r.appendChild(n),document.body.appendChild(r),kT=0,0===r.scrollLeft&&(r.scrollLeft=1,kT=0===r.scrollLeft?1:2),r.parentNode.removeChild(r)}return kT}function dx(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const i=r.shadowRoot.activeElement;if(i===r)break;r=i}return r}function eb(r){return r.composedPath?r.composedPath()[0]:r.target}class I6 extends class{}{constructor(i){super(),this._data=i}connect(){return d1(this._data)?this._data:(0,je.of)(this._data)}disconnect(){}}class p1{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(i,n,s,o,u){i.forEachOperation((f,g,w)=>{let x,S;null==f.previousIndex?(x=this._insertView(()=>s(f,g,w),w,n,o(f)),S=x?1:0):null==w?(this._detachAndCacheView(g,n),S=3):(x=this._moveView(g,w,n,o(f)),S=2),u&&u({context:null==x?void 0:x.context,operation:S,record:f})})}detach(){for(const i of this._viewCache)i.destroy();this._viewCache=[]}_insertView(i,n,s,o){const u=this._insertViewFromCache(n,s);if(u)return void(u.context.$implicit=o);const f=i();return s.createEmbeddedView(f.templateRef,f.context,f.index)}_detachAndCacheView(i,n){const s=n.detach(i);this._maybeCacheView(s,n)}_moveView(i,n,s,o){const u=s.get(i);return s.move(u,n),u.context.$implicit=o,u}_maybeCacheView(i,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(i);else{const s=n.indexOf(i);-1===s?i.destroy():n.remove(s)}}_insertViewFromCache(i,n){const s=this._viewCache.pop();return s&&n.insert(s,i),s||null}}const Sm=new a.OlP("_ViewRepeater"),k6=["contentWrapper"],R6=["*"],AB=new a.OlP("VIRTUAL_SCROLL_STRATEGY");class O6{constructor(i,n,s){this._scrolledIndexChange=new ke.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Nu()),this._viewport=null,this._itemSize=i,this._minBufferPx=n,this._maxBufferPx=s}attach(i){this._viewport=i,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(i,n,s){this._itemSize=i,this._minBufferPx=n,this._maxBufferPx=s,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(i,n){this._viewport&&this._viewport.scrollToOffset(i*this._itemSize,n)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const i=this._viewport.getRenderedRange(),n={start:i.start,end:i.end},s=this._viewport.getViewportSize(),o=this._viewport.getDataLength();let u=this._viewport.measureScrollOffset(),f=this._itemSize>0?u/this._itemSize:0;if(n.end>o){const w=Math.ceil(s/this._itemSize),x=Math.max(0,Math.min(f,o-w));f!=x&&(f=x,u=x*this._itemSize,n.start=Math.floor(f)),n.end=Math.max(0,Math.min(o,n.start+w))}const g=u-n.start*this._itemSize;if(g<this._minBufferPx&&0!=n.start){const w=Math.ceil((this._maxBufferPx-g)/this._itemSize);n.start=Math.max(0,n.start-w),n.end=Math.min(o,Math.ceil(f+(s+this._minBufferPx)/this._itemSize))}else{const w=n.end*this._itemSize-(u+s);if(w<this._minBufferPx&&n.end!=o){const x=Math.ceil((this._maxBufferPx-w)/this._itemSize);x>0&&(n.end=Math.min(o,n.end+x),n.start=Math.max(0,Math.floor(f-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(f))}}function F6(r){return r._scrollStrategy}let PT=(()=>{class r{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new O6(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=hi(n)}get minBufferPx(){return this._minBufferPx}set minBufferPx(n){this._minBufferPx=hi(n)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(n){this._maxBufferPx=hi(n)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[a._Bn([{provide:AB,useFactory:F6,deps:[(0,a.Gpc)(()=>r)]}]),a.TTD]}),r})(),If=(()=>{class r{constructor(n,s,o){this._ngZone=n,this._platform=s,this._scrolled=new ke.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new on.y(s=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(IT(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,je.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const o=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(Nt(u=>!u||o.indexOf(u)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((o,u)=>{this._scrollableContainsElement(u,n)&&s.push(u)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let o=dd(s),u=n.getElementRef().nativeElement;do{if(o==u)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Nc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(Vt),a.LFG(q,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.R0b),a.LFG(Vt),a.LFG(q,8))},token:r,providedIn:"root"}),r})(),tb=(()=>{class r{constructor(n,s,o,u){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=o,this.dir=u,this._destroyed=new ke.xQ,this._elementScrolled=new on.y(f=>this.ngZone.runOutsideAngular(()=>Nc(this.elementRef.nativeElement,"scroll").pipe(We(this._destroyed)).subscribe(f)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const s=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=o?n.end:n.start),null==n.right&&(n.right=o?n.start:n.end),null!=n.bottom&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),o&&0!=ux()?(null!=n.left&&(n.right=s.scrollWidth-s.clientWidth-n.left),2==ux()?n.left=n.right:1==ux()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const s=this.elementRef.nativeElement;MB()?s.scrollTo(n):(null!=n.top&&(s.scrollTop=n.top),null!=n.left&&(s.scrollLeft=n.left))}measureScrollOffset(n){const s="left",o="right",u=this.elementRef.nativeElement;if("top"==n)return u.scrollTop;if("bottom"==n)return u.scrollHeight-u.clientHeight-u.scrollTop;const f=this.dir&&"rtl"==this.dir.value;return"start"==n?n=f?o:s:"end"==n&&(n=f?s:o),f&&2==ux()?n==s?u.scrollWidth-u.clientWidth-u.scrollLeft:u.scrollLeft:f&&1==ux()?n==s?u.scrollLeft+u.scrollWidth-u.clientWidth:-u.scrollLeft:n==s?u.scrollLeft:u.scrollWidth-u.clientWidth-u.scrollLeft}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(If),a.Y36(a.R0b),a.Y36(Kt,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),Bo=(()=>{class r{constructor(n,s,o){this._platform=n,this._change=new ke.xQ,this._changeListener=u=>{this._change.next(u)},this._document=o,s.runOutsideAngular(()=>{if(n.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),o=n.documentElement,u=o.getBoundingClientRect();return{top:-u.top||n.body.scrollTop||s.scrollY||o.scrollTop||0,left:-u.left||n.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(IT(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q,8))},token:r,providedIn:"root"}),r})();const B6="undefined"!=typeof requestAnimationFrame?w6:u1.E;let hx=(()=>{class r extends tb{constructor(n,s,o,u,f,g,w){super(n,g,o,f),this.elementRef=n,this._changeDetectorRef=s,this._scrollStrategy=u,this._detachedSubject=new ke.xQ,this._renderedRangeSubject=new ke.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new on.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(S=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(S))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Wt.w.EMPTY,this._viewportChanges=w.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(n){this._orientation!==n&&(this._orientation=n,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(n){this._appendOnly=Fe(n)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Jt(null),IT(0,B6)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(n){this.ngZone.runOutsideAngular(()=>{this._forOf=n,this._forOf.dataStream.pipe(We(this._detachedSubject)).subscribe(s=>{const o=s.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(n){this._totalContentSize!==n&&(this._totalContentSize=n,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(n){(function(r,i){return r.start==i.start&&r.end==i.end})(this._renderedRange,n)||(this.appendOnly&&(n={start:0,end:Math.max(this._renderedRange.end,n.end)}),this._renderedRangeSubject.next(this._renderedRange=n),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(n,s="to-start"){const u="horizontal"==this.orientation,f=u?"X":"Y";let w=`translate${f}(${Number((u&&this.dir&&"rtl"==this.dir.value?-1:1)*n)}px)`;this._renderedContentOffset=n,"to-end"===s&&(w+=` translate${f}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=w&&(this._renderedContentTransform=w,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(n,s="auto"){const o={behavior:s};"horizontal"===this.orientation?o.start=n:o.top=n,this.scrollTo(o)}scrollToIndex(n,s="auto"){this._scrollStrategy.scrollToIndex(n,s)}measureScrollOffset(n){return super.measureScrollOffset(n||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const n=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?n.offsetWidth:n.offsetHeight}measureRangeSize(n){return this._forOf?this._forOf.measureRangeSize(n,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const n=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?n.clientWidth:n.clientHeight}_markChangeDetectionNeeded(n){n&&this._runAfterChangeDetection.push(n),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const n=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of n)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(AB,8),a.Y36(Kt,8),a.Y36(If),a.Y36(Bo))},r.\u0275cmp=a.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(n,s){if(1&n&&a.Gf(k6,7),2&n){let o;a.iGM(o=a.CRH())&&(s._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(n,s){2&n&&a.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[a._Bn([{provide:tb,useExisting:r}]),a.qOj],ngContentSelectors:R6,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(n,s){1&n&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&n&&(a.xp6(3),a.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),r})();function TB(r,i,n){if(!n.getBoundingClientRect)return 0;const o=n.getBoundingClientRect();return"horizontal"===r?"start"===i?o.left:o.right:"start"===i?o.top:o.bottom}let g1=(()=>{class r{constructor(n,s,o,u,f,g){this._viewContainerRef=n,this._template=s,this._differs=o,this._viewRepeater=u,this._viewport=f,this.viewChange=new ke.xQ,this._dataSourceChanges=new ke.xQ,this.dataStream=this._dataSourceChanges.pipe(Jt(null),dg(),Tn(([w,x])=>this._changeDataSource(w,x)),s1(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new ke.xQ,this.dataStream.subscribe(w=>{this._data=w,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(We(this._destroyed)).subscribe(w=>{this._renderedRange=w,g.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(n){this._cdkVirtualForOf=n,function(r){return r&&"function"==typeof r.connect}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new I6(d1(n)?n:Array.from(n||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(n){this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?(s,o)=>n(s+(this._renderedRange?this._renderedRange.start:0),o):void 0}set cdkVirtualForTemplate(n){n&&(this._needsUpdate=!0,this._template=n)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(n){this._viewRepeater.viewCacheSize=hi(n)}measureRangeSize(n,s){if(n.start>=n.end)return 0;const o=n.start-this._renderedRange.start,u=n.end-n.start;let f,g;for(let w=0;w<u;w++){const x=this._viewContainerRef.get(w+o);if(x&&x.rootNodes.length){f=g=x.rootNodes[0];break}}for(let w=u-1;w>-1;w--){const x=this._viewContainerRef.get(w+o);if(x&&x.rootNodes.length){g=x.rootNodes[x.rootNodes.length-1];break}}return f&&g?TB(s,"end",g)-TB(s,"start",f):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((n,s)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(n,s):s)),this._needsUpdate=!0)}_changeDataSource(n,s){return n&&n.disconnect(this),this._needsUpdate=!0,s?s.connect(this):(0,je.of)()}_updateContext(){const n=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const o=this._viewContainerRef.get(s);o.context.index=this._renderedRange.start+s,o.context.count=n,this._updateComputedContextProperties(o.context),o.detectChanges()}}_applyChanges(n){this._viewRepeater.applyChanges(n,this._viewContainerRef,(u,f,g)=>this._getEmbeddedViewArgs(u,g),u=>u.item),n.forEachIdentityChange(u=>{this._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});const s=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const u=this._viewContainerRef.get(o);u.context.index=this._renderedRange.start+o,u.context.count=s,this._updateComputedContextProperties(u.context)}}_updateComputedContextProperties(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}_getEmbeddedViewArgs(n,s){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:s}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Sm),a.Y36(hx,4),a.Y36(a.R0b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[a._Bn([{provide:Sm,useClass:p1}])]}),r})(),kf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),NT=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[To,Jv,kf],To,kf]}),r})();class m1{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Rf extends m1{constructor(i,n,s,o){super(),this.component=i,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=o}}class Lc extends m1{constructor(i,n,s){super(),this.templateRef=i,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,n=this.context){return this.context=n,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class V6 extends m1{constructor(i){super(),this.element=i instanceof a.SBq?i.nativeElement:i}}class LT{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Rf?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof Lc?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof V6?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class IB extends LT{constructor(i,n,s,o,u){super(),this.outletElement=i,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=o,this.attachDomPortal=f=>{const g=f.element,w=this._document.createComment("dom-portal");g.parentNode.insertBefore(w,g),this.outletElement.appendChild(g),this._attachedPortal=f,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(g,w)})},this._document=u}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let o;return i.viewContainerRef?(o=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=s.create(i.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=i,o}attachTemplatePortal(i){let n=i.viewContainerRef,s=n.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(o=>this.outletElement.appendChild(o)),s.detectChanges(),this.setDisposeFn(()=>{let o=n.indexOf(s);-1!==o&&n.remove(o)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let Ma=(()=>{class r extends LT{constructor(n,s,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");u.setAttachedHost(this),f.parentNode.insertBefore(g,f),this._getRootNode().appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(n){n.setAttachedHost(this);const s=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,u=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),f=s.createComponent(u,s.length,n.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=n,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(n){n.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(q))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),r})(),nb=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const RB=MB();class J6{constructor(i,n){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Yi(-this._previousScrollPosition.left),i.style.top=Yi(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,o=this._document.body.style,u=s.scrollBehavior||"",f=o.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),RB&&(s.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),RB&&(s.scrollBehavior=u,o.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class X6{constructor(i,n,s,o){this._scrollDispatcher=i,this._ngZone=n,this._viewportRuler=s,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class OB{enable(){}disable(){}attach(){}}function w1(r,i){return i.some(n=>r.bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}function FB(r,i){return i.some(n=>r.top<n.top||r.bottom>n.bottom||r.left<n.left||r.right>n.right)}class ej{constructor(i,n,s,o){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=s,this._config=o,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:o}=this._viewportRuler.getViewportSize();w1(n,[{width:s,height:o,bottom:o,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let tj=(()=>{class r{constructor(n,s,o,u){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=o,this.noop=()=>new OB,this.close=f=>new X6(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new J6(this._viewportRuler,this._document),this.reposition=f=>new ej(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=u}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(If),a.LFG(Bo),a.LFG(a.R0b),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(If),a.LFG(Bo),a.LFG(a.R0b),a.LFG(q))},token:r,providedIn:"root"}),r})();class ib{constructor(i){if(this.scrollStrategy=new OB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const n=Object.keys(i);for(const s of n)void 0!==i[s]&&(this[s]=i[s])}}}class nj{constructor(i,n,s,o,u){this.offsetX=s,this.offsetY=o,this.panelClass=u,this.originX=i.originX,this.originY=i.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class ij{constructor(i,n){this.connectionPair=i,this.scrollableViewProperties=n}}let PB=(()=>{class r{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q))},token:r,providedIn:"root"}),r})(),rj=(()=>{class r extends PB{constructor(n){super(n),this._keydownListener=s=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){o[u]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q))},token:r,providedIn:"root"}),r})(),sj=(()=>{class r extends PB{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=o=>{const u=eb(o),f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const w=f[g];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(u))break;w._outsidePointerEvents.next(o)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q),a.LFG(Vt))},token:r,providedIn:"root"}),r})();const Of="undefined"!=typeof window?window:{},NB=void 0!==Of.__karma__&&!!Of.__karma__||void 0!==Of.jasmine&&!!Of.jasmine||void 0!==Of.jest&&!!Of.jest||void 0!==Of.Mocha&&!!Of.Mocha;let fx=(()=>{class r{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||NB){const o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let u=0;u<o.length;u++)o[u].parentNode.removeChild(o[u])}const s=this._document.createElement("div");s.classList.add(n),NB?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q),a.LFG(Vt))},token:r,providedIn:"root"}),r})();class oj{constructor(i,n,s,o,u,f,g,w,x){this._portalOutlet=i,this._host=n,this._pane=s,this._config=o,this._ngZone=u,this._keyboardDispatcher=f,this._document=g,this._location=w,this._outsideClickDispatcher=x,this._backdropElement=null,this._backdropClick=new ke.xQ,this._attachments=new ke.xQ,this._detachments=new ke.xQ,this._locationChanges=Wt.w.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._keydownEvents=new ke.xQ,this._outsidePointerEvents=new ke.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let n=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Yi(this._config.width),i.height=Yi(this._config.height),i.minWidth=Yi(this._config.minWidth),i.minHeight=Yi(this._config.minHeight),i.maxWidth=Yi(this._config.maxWidth),i.maxHeight=Yi(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let n,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(n)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,n,s){const o=i.classList;TT(n).forEach(u=>{u&&(s?o.add(u):o.remove(u))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(We((0,En.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const LB="cdk-overlay-connected-position-bounding-box",aj=/([A-Za-z%]+)$/;class C1{constructor(i,n,s,o,u){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke.xQ,this._resizeSubscription=Wt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(LB),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,n=this._overlayRect,s=this._viewportRect,o=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(i,f),w=this._getOverlayPoint(g,n,f),x=this._getOverlayFit(w,n,s,f);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(x,w,s)?o.push({position:f,origin:g,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<x.visibleArea)&&(u={overlayFit:x,overlayPoint:w,originPoint:g,position:f,overlayRect:n})}if(o.length){let f=null,g=-1;for(const w of o){const x=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);x>g&&(g=x,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&km(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,i);this._applyPosition(i,n)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,n){let s,o;if("center"==n.originX)s=i.left+i.width/2;else{const u=this._isRtl()?i.right:i.left,f=this._isRtl()?i.left:i.right;s="start"==n.originX?u:f}return o="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,{x:s,y:o}}_getOverlayPoint(i,n,s){let o,u;return o="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,u="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:i.x+o,y:i.y+u}}_getOverlayFit(i,n,s,o){const u=VB(n);let{x:f,y:g}=i,w=this._getOffset(o,"x"),x=this._getOffset(o,"y");w&&(f+=w),x&&(g+=x);let F=0-g,L=g+u.height-s.height,j=this._subtractOverflows(u.width,0-f,f+u.width-s.width),te=this._subtractOverflows(u.height,F,L),ge=j*te;return{visibleArea:ge,isCompletelyWithinViewport:u.width*u.height===ge,fitsInViewportVertically:te===u.height,fitsInViewportHorizontally:j==u.width}}_canFitWithFlexibleDimensions(i,n,s){if(this._hasFlexibleDimensions){const o=s.bottom-n.y,u=s.right-n.x,f=BB(this._overlayRef.getConfig().minHeight),g=BB(this._overlayRef.getConfig().minWidth),x=i.fitsInViewportHorizontally||null!=g&&g<=u;return(i.fitsInViewportVertically||null!=f&&f<=o)&&x}return!1}_pushOverlayOnScreen(i,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const o=VB(n),u=this._viewportRect,f=Math.max(i.x+o.width-u.width,0),g=Math.max(i.y+o.height-u.height,0),w=Math.max(u.top-s.top-i.y,0),x=Math.max(u.left-s.left-i.x,0);let S=0,I=0;return S=o.width<=u.width?x||-f:i.x<this._viewportMargin?u.left-s.left-i.x:0,I=o.height<=u.height?w||-g:i.y<this._viewportMargin?u.top-s.top-i.y:0,this._previousPushAmount={x:S,y:I},{x:i.x+S,y:i.y+I}}_applyPosition(i,n){if(this._setTransformOrigin(i),this._setOverlayElementStyles(n,i),this._setBoundingBoxStyles(n,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),o=new ij(i,s);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,o=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let u=0;u<n.length;u++)n[u].style.transformOrigin=`${s} ${o}`}_calculateBoundingBoxRect(i,n){const s=this._viewportRect,o=this._isRtl();let u,f,g,S,I,F;if("top"===n.overlayY)f=i.y,u=s.height-f+this._viewportMargin;else if("bottom"===n.overlayY)g=s.height-i.y+2*this._viewportMargin,u=s.height-g+this._viewportMargin;else{const L=Math.min(s.bottom-i.y+s.top,i.y),j=this._lastBoundingBoxSize.height;u=2*L,f=i.y-L,u>j&&!this._isInitialRender&&!this._growAfterOpen&&(f=i.y-j/2)}if("end"===n.overlayX&&!o||"start"===n.overlayX&&o)F=s.width-i.x+this._viewportMargin,S=i.x-this._viewportMargin;else if("start"===n.overlayX&&!o||"end"===n.overlayX&&o)I=i.x,S=s.right-i.x;else{const L=Math.min(s.right-i.x+s.left,i.x),j=this._lastBoundingBoxSize.width;S=2*L,I=i.x-L,S>j&&!this._isInitialRender&&!this._growAfterOpen&&(I=i.x-j/2)}return{top:f,left:I,bottom:g,right:F,width:S,height:u}}_setBoundingBoxStyles(i,n){const s=this._calculateBoundingBoxRect(i,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;o.height=Yi(s.height),o.top=Yi(s.top),o.bottom=Yi(s.bottom),o.width=Yi(s.width),o.left=Yi(s.left),o.right=Yi(s.right),o.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",o.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",u&&(o.maxHeight=Yi(u)),f&&(o.maxWidth=Yi(f))}this._lastBoundingBoxSize=s,km(this._boundingBox.style,o)}_resetBoundingBoxStyles(){km(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){km(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,n){const s={},o=this._hasExactPosition(),u=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(o){const S=this._viewportRuler.getViewportScrollPosition();km(s,this._getExactOverlayY(n,i,S)),km(s,this._getExactOverlayX(n,i,S))}else s.position="static";let g="",w=this._getOffset(n,"x"),x=this._getOffset(n,"y");w&&(g+=`translateX(${w}px) `),x&&(g+=`translateY(${x}px)`),s.transform=g.trim(),f.maxHeight&&(o?s.maxHeight=Yi(f.maxHeight):u&&(s.maxHeight="")),f.maxWidth&&(o?s.maxWidth=Yi(f.maxWidth):u&&(s.maxWidth="")),km(this._pane.style,s)}_getExactOverlayY(i,n,s){let o={top:"",bottom:""},u=this._getOverlayPoint(n,this._overlayRect,i);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=f,"bottom"===i.overlayY?o.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":o.top=Yi(u.y),o}_getExactOverlayX(i,n,s){let f,o={left:"",right:""},u=this._getOverlayPoint(n,this._overlayRect,i);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s)),f=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===f?o.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":o.left=Yi(u.x),o}_getScrollVisibility(){const i=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:FB(i,s),isOriginOutsideView:w1(i,s),isOverlayClipped:FB(n,s),isOverlayOutsideView:w1(n,s)}}_subtractOverflows(i,...n){return n.reduce((s,o)=>s-Math.max(o,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:i-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,n){return"x"===n?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&TT(i).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof a.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const n=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+n,height:s,width:n}}}function km(r,i){for(let n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);return r}function BB(r){if("number"!=typeof r&&null!=r){const[i,n]=r.split(aj);return n&&"px"!==n?null:parseFloat(i)}return r||null}function VB(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}class lj{constructor(i,n,s,o,u,f,g){this._preferredPositions=[],this._positionStrategy=new C1(s,o,u,f,g).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,n,s,o){const u=new nj(i,n,s,o);return this._preferredPositions.push(u),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const UB="cdk-global-overlay-wrapper";class cj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const n=i.getConfig();this._overlayRef=i,this._width&&!n.width&&i.updateSize({width:this._width}),this._height&&!n.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(UB),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:o,height:u,maxWidth:f,maxHeight:g}=s,w=!("100%"!==o&&"100vw"!==o||f&&"100%"!==f&&"100vw"!==f),x=!("100%"!==u&&"100vh"!==u||g&&"100%"!==g&&"100vh"!==g);i.position=this._cssPosition,i.marginLeft=w?"0":this._leftOffset,i.marginTop=x?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,w?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(UB),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let uj=(()=>{class r{constructor(n,s,o,u){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=u}global(){return new cj}connectedTo(n,s,o){return new lj(s,o,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new C1(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Bo),a.LFG(q),a.LFG(Vt),a.LFG(fx))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Bo),a.LFG(q),a.LFG(Vt),a.LFG(fx))},token:r,providedIn:"root"}),r})(),dj=0,as=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S,I,F){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=o,this._positionBuilder=u,this._keyboardDispatcher=f,this._injector=g,this._ngZone=w,this._document=x,this._directionality=S,this._location=I,this._outsideClickDispatcher=F}create(n){const s=this._createHostElement(),o=this._createPaneElement(s),u=this._createPortalOutlet(o),f=new ib(n);return f.direction=f.direction||this._directionality.value,new oj(u,s,o,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+dj++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new IB(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(tj),a.LFG(fx),a.LFG(a._Vd),a.LFG(uj),a.LFG(rj),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(q),a.LFG(Kt),a.LFG(ct),a.LFG(sj))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const gj={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[as],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let rb=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[as,gj],imports:[[To,nb,NT],NT]}),r})();function jB(r){return i=>i.lift(new mj(r))}class mj{constructor(i){this.total=i}call(i,n){return n.subscribe(new _j(i,this.total))}}class _j extends Mi.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}let D1=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),zB=(()=>{class r{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,s)=>this._cleanupObserver(s))}observe(n){const s=dd(n);return new on.y(o=>{const f=this._observeElement(s).subscribe(o);return()=>{f.unsubscribe(),this._unobserveElement(s)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const s=new ke.xQ,o=this._mutationObserverFactory.create(u=>s.next(u));o&&o.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:o,stream:s,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:s,stream:o}=this._observedElements.get(n);s&&s.disconnect(),o.complete(),this._observedElements.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(D1))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(D1))},token:r,providedIn:"root"}),r})(),px=(()=>{class r{constructor(n,s,o){this._contentObserver=n,this._elementRef=s,this._ngZone=o,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=Fe(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=hi(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(ay(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(zB),a.Y36(a.SBq),a.Y36(a.R0b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),gx=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[D1]}),r})(),QB=(()=>{class r{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(i){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(n));if(s&&(-1===XB(s)||!this.isVisible(s)))return!1;let o=n.nodeName.toLowerCase(),u=XB(n);return n.hasAttribute("contenteditable")?-1!==u:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let i=r.nodeName.toLowerCase(),n="input"===i&&r.type;return"text"===n||"password"===n||"select"===i||"textarea"===i}(n))&&("audio"===o?!!n.hasAttribute("controls")&&-1!==u:"video"===o?-1!==u&&(null!==u||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let i=r.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||JB(r))}(n)&&!this.isDisabled(n)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(n))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt))},token:r,providedIn:"root"}),r})();function JB(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let i=r.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function XB(r){if(!JB(r))return null;const i=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class Rj{constructor(i,n,s,o,u=!1){this._element=i,this._checker=n,this._ngZone=s,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,n=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let n=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<n.length;s++)n[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]):n[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]);return"start"==i?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const s=this._getFirstTabbableElement(n);return null==s||s.focus(i),!!s}return n.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const n=this._getRegionBoundary("start");return n&&n.focus(i),!!n}focusLastTabbableElement(i){const n=this._getRegionBoundary("end");return n&&n.focus(i),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=0;s<n.length;s++){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[s]):null;if(o)return o}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=n.length-1;s>=0;s--){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[s]):null;if(o)return o}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,n){i?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(hn(1)).subscribe(i)}}let E1=(()=>{class r{constructor(n,s,o){this._checker=n,this._ngZone=s,this._document=o}create(n,s=!1){return new Rj(n,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(QB),a.LFG(a.R0b),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(QB),a.LFG(a.R0b),a.LFG(q))},token:r,providedIn:"root"}),r})();function M1(r){return 0===r.offsetX&&0===r.offsetY}function S1(r){const i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const eV=new a.OlP("cdk-input-modality-detector-options"),Bj={ignoreKeys:[18,17,224,91,16]},sb=Em({passive:!0,capture:!0});let nV=(()=>{class r{constructor(n,s,o,u){this._platform=n,this._mostRecentTarget=null,this._modality=new Ki(null),this._lastTouchMs=0,this._onKeydown=f=>{var g,w;(null===(w=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===w?void 0:w.some(x=>x===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=eb(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(M1(f)?"keyboard":"mouse"),this._mostRecentTarget=eb(f))},this._onTouchstart=f=>{S1(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=eb(f))},this._options=Object.assign(Object.assign({},Bj),u),this.modalityDetected=this._modality.pipe(jB(1)),this.modalityChanged=this.modalityDetected.pipe(Nu()),n.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,sb),o.addEventListener("mousedown",this._onMousedown,sb),o.addEventListener("touchstart",this._onTouchstart,sb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,sb),document.removeEventListener("mousedown",this._onMousedown,sb),document.removeEventListener("touchstart",this._onTouchstart,sb))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q),a.LFG(eV,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q),a.LFG(eV,8))},token:r,providedIn:"root"}),r})();const iV=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),rV=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let jT=(()=>{class r{constructor(n,s,o,u){this._ngZone=s,this._defaultOptions=u,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...s){const o=this._defaultOptions;let u,f;return 1===s.length&&"number"==typeof s[0]?f=s[0]:[u,f]=s,this.clear(),clearTimeout(this._previousTimeout),u||(u=o&&o.politeness?o.politeness:"polite"),null==f&&o&&(f=o.duration),this._liveElement.setAttribute("aria-live",u),this._ngZone.runOutsideAngular(()=>new Promise(g=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,g(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const n="cdk-live-announcer-element",s=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let u=0;u<s.length;u++)s[u].parentNode.removeChild(s[u]);return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(iV,8),a.LFG(a.R0b),a.LFG(q),a.LFG(rV,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(iV,8),a.LFG(a.R0b),a.LFG(q),a.LFG(rV,8))},token:r,providedIn:"root"}),r})();const sV=new a.OlP("cdk-focus-monitor-default-options"),zT=Em({passive:!0,capture:!0});let Br=(()=>{class r{constructor(n,s,o,u,f){this._ngZone=n,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke.xQ,this._rootNodeFocusAndBlurListener=g=>{const w=eb(g),x="focus"===g.type?this._onFocus:this._onBlur;for(let S=w;S;S=S.parentElement)x.call(this,g,S)},this._document=u,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(n,s=!1){const o=dd(n);if(!this._platform.isBrowser||1!==o.nodeType)return(0,je.of)(null);const u=function(r){if(function(){if(null==f1){const r="undefined"!=typeof document?document.head:null;f1=!(!r||!r.createShadowRoot&&!r.attachShadow)}return f1}()){const i=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return s&&(f.checkChildren=!0),f.subject;const g={checkChildren:s,subject:new ke.xQ,rootNode:u};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(n){const s=dd(n),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(n,s,o){const u=dd(n);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([g,w])=>this._originChanged(g,s,w)):(this._setOrigin(s),"function"==typeof u.focus&&u.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(n,s,o){o?n.classList.add(s):n.classList.remove(s)}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,s){this._toggleClass(n,"cdk-focused",!!s),this._toggleClass(n,"cdk-touch-focused","touch"===s),this._toggleClass(n,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(n,"cdk-mouse-focused","mouse"===s),this._toggleClass(n,"cdk-program-focused","program"===s)}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,s){const o=this._elementInfo.get(s),u=eb(n);!o||!o.checkChildren&&s!==u||this._originChanged(s,this._getFocusOrigin(u),o)}_onBlur(n,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(n,s){this._ngZone.run(()=>n.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const s=n.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,zT),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,zT)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(We(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(n){const s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,zT),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,zT),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,o){this._setClasses(n,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){const s=[];return this._elementInfo.forEach((o,u)=>{(u===n||o.checkChildren&&u.contains(n))&&s.push([u,o])}),s}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(Vt),a.LFG(nV),a.LFG(q,8),a.LFG(sV,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.R0b),a.LFG(Vt),a.LFG(nV),a.LFG(q,8),a.LFG(sV,8))},token:r,providedIn:"root"}),r})();const oV="cdk-high-contrast-black-on-white",aV="cdk-high-contrast-white-on-black",T1="cdk-high-contrast-active";let lV=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(n):null,u=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(T1),n.remove(oV),n.remove(aV),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(T1),n.add(oV)):2===s&&(n.add(T1),n.add(aV))}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(q))},token:r,providedIn:"root"}),r})(),I1=(()=>{class r{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(lV))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Jv,gx]]}),r})();const cV=new a.GfV("12.2.5");class uV{}const pd="*";function co(r,i){return{type:7,name:r,definitions:i,options:{}}}function fi(r,i=null){return{type:4,styles:i,timings:r}}function dV(r,i=null){return{type:2,steps:r,options:i}}function kt(r){return{type:6,styles:r,offset:null}}function pi(r,i,n){return{type:0,name:r,styles:i,options:n}}function ni(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function hV(r){Promise.resolve(null).then(r)}class ob{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class fV{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,o=0;const u=this.players.length;0==u?hV(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++n==u&&this._onFinish()}),f.onDestroy(()=>{++s==u&&this._onDestroy()}),f.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((f,g)=>Math.max(f,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(o)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function pV(){return"undefined"!=typeof window&&void 0!==window.document}function O1(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ff(r){switch(r.length){case 0:return new ob;case 1:return r[0];default:return new fV(r)}}function gV(r,i,n,s,o={},u={}){const f=[],g=[];let w=-1,x=null;if(s.forEach(S=>{const I=S.offset,F=I==w,L=F&&x||{};Object.keys(S).forEach(j=>{let te=j,ge=S[j];if("offset"!==j)switch(te=i.normalizePropertyName(te,f),ge){case"!":ge=o[j];break;case pd:ge=u[j];break;default:ge=i.normalizeStyleValue(j,te,ge,f)}L[te]=ge}),F||g.push(L),x=L,w=I}),f.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${f.join(S)}`)}return g}function F1(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&P1(n,"start",r)));break;case"done":r.onDone(()=>s(n&&P1(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&P1(n,"destroy",r)))}}function P1(r,i,n){const s=n.totalTime,u=N1(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),f=r._data;return null!=f&&(u._data=f),u}function N1(r,i,n,s,o="",u=0,f){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:o,totalTime:u,disabled:!!f}}function Vo(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function mV(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let L1=(r,i)=>!1,B1=(r,i)=>!1,_V=(r,i,n)=>[];const yV=O1();(yV||"undefined"!=typeof Element)&&(L1=pV()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),B1=(()=>{if(yV||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):B1}})(),_V=(r,i,n)=>{let s=[];if(n){const o=r.querySelectorAll(i);for(let u=0;u<o.length;u++)s.push(o[u])}else{const o=r.querySelector(i);o&&s.push(o)}return s});let Rm=null,vV=!1;function V1(r){Rm||(Rm=("undefined"!=typeof document?document.body:null)||{},vV=!!Rm.style&&"WebkitAppearance"in Rm.style);let i=!0;return Rm.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in Rm.style,!i&&vV&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in Rm.style)),i}const U1=B1,G1=L1,H1=_V;function bV(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let wV=(()=>{class r{validateStyleProperty(n){return V1(n)}matchesElement(n,s){return U1(n,s)}containsElement(n,s){return G1(n,s)}query(n,s,o){return H1(n,s,o)}computeStyle(n,s,o){return o||""}animate(n,s,o,u,f,g=[],w){return new ob(o,u)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class YT{}YT.NOOP=new wV;const j1="ng-enter",qT="ng-leave",$T="ng-trigger",ZT=".ng-trigger",DV="ng-animating",z1=".ng-animating";function Om(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Y1(parseFloat(i[1]),i[2])}function Y1(r,i){switch(i){case"s":return 1e3*r;default:return r}}function WT(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let o,u=0,f="";if("string"==typeof r){const g=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};o=Y1(parseFloat(g[1]),g[2]);const w=g[3];null!=w&&(u=Y1(parseFloat(w),g[4]));const x=g[5];x&&(f=x)}else o=r;if(!n){let g=!1,w=i.length;o<0&&(i.push("Duration values below 0 are not allowed for this animation step."),g=!0),u<0&&(i.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&i.splice(w,0,`The provided timing value "${r}" is invalid.`)}return{duration:o,delay:u,easing:f}}(r,i,n)}function ab(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function Pf(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else ab(r,n);return n}function EV(r,i,n){return n?i+":"+n+";":""}function MV(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=EV(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=EV(0,Qj(n),r.style[n]));r.setAttribute("style",i)}function Vc(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const o=$1(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[o]),r.style[o]=i[s]}),O1()&&MV(r))}function Fm(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=$1(n);r.style[s]=""}),O1()&&MV(r))}function _x(r){return Array.isArray(r)?1==r.length?r[0]:dV(r):r}const q1=new RegExp("{{\\s*(.+?)\\s*}}","g");function SV(r){let i=[];if("string"==typeof r){let n;for(;n=q1.exec(r);)i.push(n[1]);q1.lastIndex=0}return i}function KT(r,i,n){const s=r.toString(),o=s.replace(q1,(u,f)=>{let g=i[f];return i.hasOwnProperty(f)||(n.push(`Please provide a value for the animation param ${f}`),g=""),g.toString()});return o==s?r:o}function QT(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const Kj=/-+([a-z0-9])/g;function $1(r){return r.replace(Kj,(...i)=>i[1].toUpperCase())}function Qj(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function AV(r,i){return 0===r||0===i}function TV(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let u=i[0],f=[];if(s.forEach(g=>{u.hasOwnProperty(g)||f.push(g),u[g]=n[g]}),f.length)for(var o=1;o<i.length;o++){let g=i[o];f.forEach(function(w){g[w]=Z1(r,w)})}}return i}function Uo(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function Z1(r,i){return window.getComputedStyle(r)[i]}function Jj(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const w=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof w)return void i.push(w);r=w}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const o=s[1],u=s[2],f=s[3];i.push(IV(o,f));"<"==u[0]&&!("*"==o&&"*"==f)&&i.push(IV(f,o))}(s,n,i)):n.push(r),n}const XT=new Set(["true","1"]),eI=new Set(["false","0"]);function IV(r,i){const n=XT.has(r)||eI.has(r),s=XT.has(i)||eI.has(i);return(o,u)=>{let f="*"==r||r==o,g="*"==i||i==u;return!f&&n&&"boolean"==typeof o&&(f=o?XT.has(r):eI.has(r)),!g&&s&&"boolean"==typeof u&&(g=u?XT.has(i):eI.has(i)),f&&g}}const tz=new RegExp("s*:selfs*,?","g");function W1(r,i,n){return new nz(r).build(i,n)}class nz{constructor(i){this._driver=i}build(i,n){const s=new sz(n);return this._resetContextStyleTimingState(s),Uo(this,_x(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,o=n.depCount=0;const u=[],f=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(g=>{if(this._resetContextStyleTimingState(n),0==g.type){const w=g,x=w.name;x.toString().split(/\s*,\s*/).forEach(S=>{w.name=S,u.push(this.visitState(w,n))}),w.name=x}else if(1==g.type){const w=this.visitTransition(g,n);s+=w.queryCount,o+=w.depCount,f.push(w)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:u,transitions:f,queryCount:s,depCount:o,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),o=i.options&&i.options.params||null;if(s.containsDynamicStyles){const u=new Set,f=o||{};if(s.styles.forEach(g=>{if(tI(g)){const w=g;Object.keys(w).forEach(x=>{SV(w[x]).forEach(S=>{f.hasOwnProperty(S)||u.add(S)})})}}),u.size){const g=QT(u.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:i.name,style:s,options:o?{params:o}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=Uo(this,_x(i.animation),n);return{type:1,matchers:Jj(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:Pm(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>Uo(this,s,n)),options:Pm(i.options)}}visitGroup(i,n){const s=n.currentTime;let o=0;const u=i.steps.map(f=>{n.currentTime=s;const g=Uo(this,f,n);return o=Math.max(o,n.currentTime),g});return n.currentTime=o,{type:3,steps:u,options:Pm(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return K1(WT(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=K1(0,0,"");return u.dynamic=!0,u.strValue=s,u}return n=n||WT(s,i),K1(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let o,u=i.styles?i.styles:kt({});if(5==u.type)o=this.visitKeyframes(u,n);else{let f=i.styles,g=!1;if(!f){g=!0;const x={};s.easing&&(x.easing=s.easing),f=kt(x)}n.currentTime+=s.duration+s.delay;const w=this.visitStyle(f,n);w.isEmptyStep=g,o=w}return n.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(f=>{"string"==typeof f?f==pd?s.push(f):n.errors.push(`The provided style string value ${f} is not allowed.`):s.push(f)}):s.push(i.styles);let o=!1,u=null;return s.forEach(f=>{if(tI(f)){const g=f,w=g.easing;if(w&&(u=w,delete g.easing),!o)for(let x in g)if(g[x].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:u,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let o=n.currentTime,u=n.currentTime;s&&u>0&&(u-=s.duration+s.delay),i.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void n.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const w=n.collectedStyles[n.currentQuerySelector],x=w[g];let S=!0;x&&(u!=o&&u>=x.startTime&&o<=x.endTime&&(n.errors.push(`The CSS property "${g}" that exists between the times of "${x.startTime}ms" and "${x.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),S=!1),u=x.startTime),S&&(w[g]={startTime:u,endTime:o}),n.options&&function(r,i,n){const s=i.params||{},o=SV(r);o.length&&o.forEach(u=>{s.hasOwnProperty(u)||n.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(f[g],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let u=0;const f=[];let g=!1,w=!1,x=0;const S=i.steps.map(Ee=>{const He=this._makeStyleAst(Ee,n);let Be=null!=He.offset?He.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(tI(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(tI(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(He.styles),ze=0;return null!=Be&&(u++,ze=He.offset=Be),w=w||ze<0||ze>1,g=g||ze<x,x=ze,f.push(ze),He});w&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&n.errors.push("Please ensure that all keyframe offsets are in order");const I=i.steps.length;let F=0;u>0&&u<I?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(F=1/(I-1));const L=I-1,j=n.currentTime,te=n.currentAnimateTimings,ge=te.duration;return S.forEach((Ee,He)=>{const Be=F>0?He==L?1:F*He:f[He],ze=Be*ge;n.currentTime=j+te.delay+ze,te.duration=ze,this._validateStyleAst(Ee,n),Ee.offset=Be,s.styles.push(Ee)}),s}visitReference(i,n){return{type:8,animation:Uo(this,_x(i.animation),n),options:Pm(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:Pm(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:Pm(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,o=i.options||{};n.queryCount++,n.currentQuery=i;const[u,f]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(tz,"")),[r=r.replace(/@\*/g,ZT).replace(/@\w+/g,n=>ZT+"-"+n.substr(1)).replace(/:animating/g,z1),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+u:u,Vo(n.collectedStyles,n.currentQuerySelector,{});const g=Uo(this,_x(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:g,originalSelector:i.selector,options:Pm(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:WT(i.timings,n.errors,!0);return{type:12,animation:Uo(this,_x(i.animation),n),timings:s,options:null}}}class sz{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function tI(r){return!Array.isArray(r)&&"object"==typeof r}function Pm(r){return r?(r=ab(r)).params&&(r.params=function(r){return r?ab(r):null}(r.params)):r={},r}function K1(r,i,n){return{duration:r,delay:i,easing:n}}function Q1(r,i,n,s,o,u,f=null,g=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:o,delay:u,totalTime:o+u,easing:f,subTimeline:g}}class nI{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const uz=new RegExp(":enter","g"),hz=new RegExp(":leave","g");function J1(r,i,n,s,o,u={},f={},g,w,x=[]){return(new fz).buildKeyframes(r,i,n,s,o,u,f,g,w,x)}class fz{buildKeyframes(i,n,s,o,u,f,g,w,x,S=[]){x=x||new nI;const I=new X1(i,n,x,o,u,S,[]);I.options=w,I.currentTimeline.setStyles([f],null,I.errors,w),Uo(this,s,I);const F=I.timelines.filter(L=>L.containsAnimation());if(F.length&&Object.keys(g).length){const L=F[F.length-1];L.allowOnlyTimelineStyles()||L.setStyles([g],null,I.errors,w)}return F.length?F.map(L=>L.buildKeyframes()):[Q1(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const o=n.createSubContext(i.options),u=n.currentTimeline.currentTime,f=this._visitSubInstructions(s,o,o.options);u!=f&&n.transformIntoNewTimeline(f)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let u=n.currentTimeline.currentTime;const f=null!=s.duration?Om(s.duration):null,g=null!=s.delay?Om(s.delay):null;return 0!==f&&i.forEach(w=>{const x=n.appendInstructionToTimeline(w,f,g);u=Math.max(u,x.duration+x.delay)}),u}visitReference(i,n){n.updateOptions(i.options,!0),Uo(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let o=n;const u=i.options;if(u&&(u.params||u.delay)&&(o=n.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=iI);const f=Om(u.delay);o.delayNextStep(f)}i.steps.length&&(i.steps.forEach(f=>Uo(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let o=n.currentTimeline.currentTime;const u=i.options&&i.options.delay?Om(i.options.delay):0;i.steps.forEach(f=>{const g=n.createSubContext(i.options);u&&g.delayNextStep(u),Uo(this,f,g),o=Math.max(o,g.currentTimeline.currentTime),s.push(g.currentTimeline)}),s.forEach(f=>n.currentTimeline.mergeTimelineCollectedStyles(f)),n.transformIntoNewTimeline(o),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return WT(n.params?KT(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),o=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),o.snapshotCurrentStyles());const u=i.style;5==u.type?this.visitKeyframes(u,n):(n.incrementTime(s.duration),this.visitStyle(u,n),o.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,o=n.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const u=o&&o.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(u):s.setStyles(i.styles,u,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,o=n.currentTimeline.duration,u=s.duration,g=n.createSubContext().currentTimeline;g.easing=s.easing,i.styles.forEach(w=>{g.forwardTime((w.offset||0)*u),g.setStyles(w.styles,w.easing,n.errors,n.options),g.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(g),n.transformIntoNewTimeline(o+u),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,o=i.options||{},u=o.delay?Om(o.delay):0;u&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=iI);let f=s;const g=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=g.length;let w=null;g.forEach((x,S)=>{n.currentQueryIndex=S;const I=n.createSubContext(i.options,x);u&&I.delayNextStep(u),x===n.element&&(w=I.currentTimeline),Uo(this,i.animation,I),I.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,I.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(f),w&&(n.currentTimeline.mergeTimelineCollectedStyles(w),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,o=n.currentTimeline,u=i.timings,f=Math.abs(u.duration),g=f*(n.currentQueryTotal-1);let w=f*n.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=g-w;break;case"full":w=s.currentStaggerTime}const S=n.currentTimeline;w&&S.delayNextStep(w);const I=S.currentTime;Uo(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=o.currentTime-I+(o.startTime-s.currentTimeline.startTime)}}const iI={};class X1{constructor(i,n,s,o,u,f,g,w){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=u,this.errors=f,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new rI(this._driver,n,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let o=this.options;null!=s.duration&&(o.duration=Om(s.duration)),null!=s.delay&&(o.delay=Om(s.delay));const u=s.params;if(u){let f=o.params;f||(f=this.options.params={}),Object.keys(u).forEach(g=>{(!n||!f.hasOwnProperty(g))&&(f[g]=KT(u[g],f,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(o=>{s[o]=n[o]})}}return i}createSubContext(i=null,n,s){const o=n||this.element,u=new X1(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(i),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(i){return this.previousNode=iI,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const o={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},u=new pz(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,o,u,f){let g=[];if(o&&g.push(this.element),i.length>0){i=(i=i.replace(uz,"."+this._enterClassName)).replace(hz,"."+this._leaveClassName);let x=this._driver.query(this.element,i,1!=s);0!==s&&(x=s<0?x.slice(x.length+s,x.length):x.slice(0,s)),g.push(...x)}return!u&&0==g.length&&f.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),g}}class rI{constructor(i,n,s,o){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new rI(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||pd,this._currentKeyframe[n]=pd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,o){n&&(this._previousKeyframe.easing=n);const u=o&&o.params||{},f=function(r,i){const n={};let s;return r.forEach(o=>{"*"===o?(s=s||Object.keys(i),s.forEach(u=>{n[u]=pd})):Pf(o,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(f).forEach(g=>{const w=KT(f[g],u,s);this._pendingStyles[g]=w,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:pd),this._updateStyle(g,w)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],o=i._styleSummary[n];(!s||o.time>s.time)&&this._updateStyle(n,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,w)=>{const x=Pf(g,!0);Object.keys(x).forEach(S=>{const I=x[S];"!"==I?i.add(S):I==pd&&n.add(S)}),s||(x.offset=w/this.duration),o.push(x)});const u=i.size?QT(i.values()):[],f=n.size?QT(n.values()):[];if(s){const g=o[0],w=ab(g);g.offset=0,w.offset=1,o=[g,w]}return Q1(this.element,o,u,f,this.duration,this.startTime,this.easing,!1)}}class pz extends rI{constructor(i,n,s,o,u,f,g=!1){super(i,n,f.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&n){const u=[],f=s+n,g=n/f,w=Pf(i[0],!1);w.offset=0,u.push(w);const x=Pf(i[0],!1);x.offset=OV(g),u.push(x);const S=i.length-1;for(let I=1;I<=S;I++){let F=Pf(i[I],!1);F.offset=OV((n+F.offset*s)/f),u.push(F)}s=f,n=0,o="",i=u}return Q1(this.element,i,this.preStyleProps,this.postStyleProps,s,n,o,!0)}}function OV(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class eP{}class mz extends eP{normalizePropertyName(i,n){return $1(i)}normalizeStyleValue(i,n,s,o){let u="";const f=s.toString().trim();if(_z[n]&&0!==s&&"0"!==s)if("number"==typeof s)u="px";else{const g=s.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(`Please provide a CSS unit value for ${i}:${s}`)}return f+u}}const _z=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function FV(r,i,n,s,o,u,f,g,w,x,S,I,F){return{type:0,element:r,triggerName:i,isRemovalTransition:o,fromState:n,fromStyles:u,toState:s,toStyles:f,timelines:g,queriedElements:w,preStyleProps:x,postStyleProps:S,totalTime:I,errors:F}}const tP={};class PV{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,o){return function(r,i,n,s,o){return r.some(u=>u(i,n,s,o))}(this.ast.matchers,i,n,s,o)}buildStyles(i,n,s){const o=this._stateStyles["*"],u=this._stateStyles[i],f=o?o.buildStyles(n,s):{};return u?u.buildStyles(n,s):f}build(i,n,s,o,u,f,g,w,x,S){const I=[],F=this.ast.options&&this.ast.options.params||tP,j=this.buildStyles(s,g&&g.params||tP,I),te=w&&w.params||tP,ge=this.buildStyles(o,te,I),Ee=new Set,He=new Map,Be=new Map,ze="void"===o,mn={params:Object.assign(Object.assign({},F),te)},bi=S?[]:J1(i,n,this.ast.animation,u,f,j,ge,mn,x,I);let sr=0;if(bi.forEach(jo=>{sr=Math.max(jo.duration+jo.delay,sr)}),I.length)return FV(n,this._triggerName,s,o,ze,j,ge,[],[],He,Be,sr,I);bi.forEach(jo=>{const vd=jo.element,iH=Vo(He,vd,{});jo.preStyleProps.forEach(zm=>iH[zm]=!0);const Nx=Vo(Be,vd,{});jo.postStyleProps.forEach(zm=>Nx[zm]=!0),vd!==n&&Ee.add(vd)});const Os=QT(Ee.values());return FV(n,this._triggerName,s,o,ze,j,ge,bi,Os,He,Be,sr)}}class bz{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},o=ab(this.defaultParams);return Object.keys(i).forEach(u=>{const f=i[u];null!=f&&(o[u]=f)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const f=u;Object.keys(f).forEach(g=>{let w=f[g];w.length>1&&(w=KT(w,o,n));const x=this.normalizer.normalizePropertyName(g,n);w=this.normalizer.normalizeStyleValue(g,x,w,n),s[x]=w})}}),s}}class Cz{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(o=>{this.states[o.name]=new bz(o.style,o.options&&o.options.params||{},s)}),NV(this.states,"true","1"),NV(this.states,"false","0"),n.transitions.forEach(o=>{this.transitionFactories.push(new PV(i,o,this.states))}),this.fallbackTransition=function(r,i,n){return new PV(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,g)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,o){return this.transitionFactories.find(f=>f.match(i,n,s,o))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function NV(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const xz=new nI;class Ez{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],o=W1(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=o}_buildPlayer(i,n,s){const o=i.element,u=gV(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(o,u,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const o=[],u=this._animations[i];let f;const g=new Map;if(u?(f=J1(this._driver,n,u,j1,qT,{},{},s,xz,o),f.forEach(S=>{const I=Vo(g,S.element,{});S.postStyleProps.forEach(F=>I[F]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),f=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);g.forEach((S,I)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(I,F,pd)})});const x=Ff(f.map(S=>{const I=g.get(S.element);return this._buildPlayer(S,{},I)}));return this._playersById[i]=x,x.onDestroy(()=>this.destroy(i)),this.players.push(x),x}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,o){const u=N1(n,"","","");return F1(this._getPlayer(i),s,u,o),()=>{}}command(i,n,s,o){if("register"==s)return void this.register(i,o[0]);if("create"==s)return void this.create(i,n,o[0]||{});const u=this._getPlayer(i);switch(s){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const LV="ng-animate-queued",BV="ng-animate-disabled",VV=".ng-animate-disabled",Tz=[],UV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sa="__ng_removed";class nP{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(s?i.value:i),s){const u=ab(i);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(o=>{null==s[o]&&(s[o]=n[o])})}}}const yx="void",iP=new nP(yx);class kz{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Aa(n,this._hostClassName)}listen(i,n,s,o){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const u=Vo(this._elementListeners,i,[]),f={name:n,phase:s,callback:o};u.push(f);const g=Vo(this._engine.statesByElement,i,{});return g.hasOwnProperty(n)||(Aa(i,$T),Aa(i,$T+"-"+n),g[n]=iP),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(f);w>=0&&u.splice(w,1),this._triggers[n]||delete g[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,o=!0){const u=this._getTrigger(n),f=new rP(this.id,n,i);let g=this._engine.statesByElement.get(i);g||(Aa(i,$T),Aa(i,$T+"-"+n),this._engine.statesByElement.set(i,g={}));let w=g[n];const x=new nP(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&w&&x.absorbOptions(w.options),g[n]=x,w||(w=iP),x.value!==yx&&w.value===x.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let o=0;o<n.length;o++){const u=n[o];if(!i.hasOwnProperty(u)||r[u]!==i[u])return!1}return!0}(w.params,x.params)){const te=[],ge=u.matchStyles(w.value,w.params,te),Ee=u.matchStyles(x.value,x.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Fm(i,ge),Vc(i,Ee)})}return}const F=Vo(this._engine.playersByElement,i,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==n&&te.queued&&te.destroy()});let L=u.matchTransition(w.value,x.value,i,x.params),j=!1;if(!L){if(!o)return;L=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:L,fromState:w,toState:x,player:f,isFallbackTransition:j}),j||(Aa(i,LV),f.onStart(()=>{lb(i,LV)})),f.onDone(()=>{let te=this.players.indexOf(f);te>=0&&this.players.splice(te,1);const ge=this._engine.playersByElement.get(i);if(ge){let Ee=ge.indexOf(f);Ee>=0&&ge.splice(Ee,1)}}),this.players.push(f),F.push(f),f}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,ZT,!0);s.forEach(o=>{if(o[Sa])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(f=>f.triggerLeaveAnimation(o,n,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,n,s,o){const u=this._engine.statesByElement.get(i);if(u){const f=[];if(Object.keys(u).forEach(g=>{if(this._triggers[g]){const w=this.trigger(i,g,yx,o);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&Ff(f).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const o=new Set;n.forEach(u=>{const f=u.name;if(o.has(f))return;o.add(f);const w=this._triggers[f].fallbackTransition,x=s[f]||iP,S=new nP(yx),I=new rP(this.id,f,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:f,transition:w,fromState:x,toState:S,player:I,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let o=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(i):[];if(u&&u.length)o=!0;else{let f=i;for(;f=f.parentNode;)if(s.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)s.markElementAsRemoved(this.id,i,!1,n);else{const u=i[Sa];(!u||u===UV)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Aa(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const u=s.element,f=this._elementListeners.get(u);f&&f.forEach(g=>{if(g.name==s.triggerName){const w=N1(u,s.triggerName,s.fromState.value,s.toState.value);w._data=i,F1(s.player,g.phase,w,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):n.push(s)}),this._queue=[],n.sort((s,o)=>{const u=s.transition.ast.depCount,f=o.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class Rz{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new kz(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let u=s;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,n)){this._namespaceList.splice(u+1,0,i),o=!0;break}o||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let o=this._namespaceLookup[i];o&&o.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const o=Object.keys(s);for(let u=0;u<o.length;u++){const f=s[o[u]].namespaceId;if(f){const g=this._fetchNamespace(f);g&&n.add(g)}}}return n}trigger(i,n,s,o){if(sI(n)){const u=this._fetchNamespace(i);if(u)return u.trigger(n,s,o),!0}return!1}insertNode(i,n,s,o){if(!sI(n))return;const u=n[Sa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(n);f>=0&&this.collectedLeaveElements.splice(f,1)}if(i){const f=this._fetchNamespace(i);f&&f.insertNode(n,s)}o&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Aa(i,BV)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),lb(i,BV))}removeNode(i,n,s,o){if(sI(n)){const u=i?this._fetchNamespace(i):null;if(u?u.removeNode(n,o):this.markElementAsRemoved(i,n,!1,o),s){const f=this.namespacesByHostElement.get(n);f&&f.id!==i&&f.removeNode(n,o)}}else this._onRemovalComplete(n,o)}markElementAsRemoved(i,n,s,o){this.collectedLeaveElements.push(n),n[Sa]={namespaceId:i,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,o,u){return sI(n)?this._fetchNamespace(i).listen(n,s,o,u):()=>{}}_buildInstruction(i,n,s,o,u){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,o,i.fromState.options,i.toState.options,n,u)}destroyInnerAnimations(i){let n=this.driver.query(i,ZT,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,z1,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Ff(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Sa];if(n&&n.setForRemoval){if(i[Sa]=UV,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,VV)&&this.markElementAsDisabled(i,!1),this.driver.query(i,VV,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Aa(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?Ff(n).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new nI,o=[],u=new Map,f=[],g=new Map,w=new Map,x=new Map,S=new Set;this.disabledNodes.forEach(et=>{S.add(et);const _t=this.driver.query(et,".ng-animate-queued",!0);for(let At=0;At<_t.length;At++)S.add(_t[At])});const I=this.bodyNode,F=Array.from(this.statesByElement.keys()),L=jV(F,this.collectedEnterElements),j=new Map;let te=0;L.forEach((et,_t)=>{const At=j1+te++;j.set(_t,At),et.forEach(tn=>Aa(tn,At))});const ge=[],Ee=new Set,He=new Set;for(let et=0;et<this.collectedLeaveElements.length;et++){const _t=this.collectedLeaveElements[et],At=_t[Sa];At&&At.setForRemoval&&(ge.push(_t),Ee.add(_t),At.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(tn=>Ee.add(tn)):He.add(_t))}const Be=new Map,ze=jV(F,Array.from(Ee));ze.forEach((et,_t)=>{const At=qT+te++;Be.set(_t,At),et.forEach(tn=>Aa(tn,At))}),i.push(()=>{L.forEach((et,_t)=>{const At=j.get(_t);et.forEach(tn=>lb(tn,At))}),ze.forEach((et,_t)=>{const At=Be.get(_t);et.forEach(tn=>lb(tn,At))}),ge.forEach(et=>{this.processLeaveNode(et)})});const mn=[],bi=[];for(let et=this._namespaceList.length-1;et>=0;et--)this._namespaceList[et].drainQueuedTransitions(n).forEach(At=>{const tn=At.player,yr=At.element;if(mn.push(tn),this.collectedEnterElements.length){const jc=yr[Sa];if(jc&&jc.setForMove)return void tn.destroy()}const Hc=!I||!this.driver.containsElement(I,yr),zo=Be.get(yr),jf=j.get(yr),wi=this._buildInstruction(At,s,jf,zo,Hc);if(wi.errors&&wi.errors.length)bi.push(wi);else{if(Hc)return tn.onStart(()=>Fm(yr,wi.fromStyles)),tn.onDestroy(()=>Vc(yr,wi.toStyles)),void o.push(tn);if(At.isFallbackTransition)return tn.onStart(()=>Fm(yr,wi.fromStyles)),tn.onDestroy(()=>Vc(yr,wi.toStyles)),void o.push(tn);wi.timelines.forEach(jc=>jc.stretchStartingKeyframe=!0),s.append(yr,wi.timelines),f.push({instruction:wi,player:tn,element:yr}),wi.queriedElements.forEach(jc=>Vo(g,jc,[]).push(tn)),wi.preStyleProps.forEach((jc,Lx)=>{const XI=Object.keys(jc);if(XI.length){let Ym=w.get(Lx);Ym||w.set(Lx,Ym=new Set),XI.forEach(SN=>Ym.add(SN))}}),wi.postStyleProps.forEach((jc,Lx)=>{const XI=Object.keys(jc);let Ym=x.get(Lx);Ym||x.set(Lx,Ym=new Set),XI.forEach(SN=>Ym.add(SN))})}});if(bi.length){const et=[];bi.forEach(_t=>{et.push(`@${_t.triggerName} has failed due to:\n`),_t.errors.forEach(At=>et.push(`- ${At}\n`))}),mn.forEach(_t=>_t.destroy()),this.reportError(et)}const sr=new Map,Os=new Map;f.forEach(et=>{const _t=et.element;s.has(_t)&&(Os.set(_t,_t),this._beforeAnimationBuild(et.player.namespaceId,et.instruction,sr))}),o.forEach(et=>{const _t=et.element;this._getPreviousPlayers(_t,!1,et.namespaceId,et.triggerName,null).forEach(tn=>{Vo(sr,_t,[]).push(tn),tn.destroy()})});const jo=ge.filter(et=>YV(et,w,x)),vd=new Map;HV(vd,this.driver,He,x,pd).forEach(et=>{YV(et,w,x)&&jo.push(et)});const Nx=new Map;L.forEach((et,_t)=>{HV(Nx,this.driver,new Set(et),w,"!")}),jo.forEach(et=>{const _t=vd.get(et),At=Nx.get(et);vd.set(et,Object.assign(Object.assign({},_t),At))});const zm=[],rH=[],sH={};f.forEach(et=>{const{element:_t,player:At,instruction:tn}=et;if(s.has(_t)){if(S.has(_t))return At.onDestroy(()=>Vc(_t,tn.toStyles)),At.disabled=!0,At.overrideTotalTime(tn.totalTime),void o.push(At);let yr=sH;if(Os.size>1){let zo=_t;const jf=[];for(;zo=zo.parentNode;){const wi=Os.get(zo);if(wi){yr=wi;break}jf.push(zo)}jf.forEach(wi=>Os.set(wi,yr))}const Hc=this._buildAnimation(At.namespaceId,tn,sr,u,Nx,vd);if(At.setRealPlayer(Hc),yr===sH)zm.push(At);else{const zo=this.playersByElement.get(yr);zo&&zo.length&&(At.parentPlayer=Ff(zo)),o.push(At)}}else Fm(_t,tn.fromStyles),At.onDestroy(()=>Vc(_t,tn.toStyles)),rH.push(At),S.has(_t)&&o.push(At)}),rH.forEach(et=>{const _t=u.get(et.element);if(_t&&_t.length){const At=Ff(_t);et.setRealPlayer(At)}}),o.forEach(et=>{et.parentPlayer?et.syncPlayerEvents(et.parentPlayer):et.destroy()});for(let et=0;et<ge.length;et++){const _t=ge[et],At=_t[Sa];if(lb(_t,qT),At&&At.hasAnimation)continue;let tn=[];if(g.size){let Hc=g.get(_t);Hc&&Hc.length&&tn.push(...Hc);let zo=this.driver.query(_t,z1,!0);for(let jf=0;jf<zo.length;jf++){let wi=g.get(zo[jf]);wi&&wi.length&&tn.push(...wi)}}const yr=tn.filter(Hc=>!Hc.destroyed);yr.length?Nz(this,_t,yr):this.processLeaveNode(_t)}return ge.length=0,zm.forEach(et=>{this.players.push(et),et.onDone(()=>{et.destroy();const _t=this.players.indexOf(et);this.players.splice(_t,1)}),et.play()}),zm}elementContainsData(i,n){let s=!1;const o=n[Sa];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,o,u){let f=[];if(n){const g=this.playersByQueriedElement.get(i);g&&(f=g)}else{const g=this.playersByElement.get(i);if(g){const w=!u||u==yx;g.forEach(x=>{x.queued||!w&&x.triggerName!=o||f.push(x)})}}return(s||o)&&(f=f.filter(g=>!(s&&s!=g.namespaceId||o&&o!=g.triggerName))),f}_beforeAnimationBuild(i,n,s){const u=n.element,f=n.isRemovalTransition?void 0:i,g=n.isRemovalTransition?void 0:n.triggerName;for(const w of n.timelines){const x=w.element,S=x!==u,I=Vo(s,x,[]);this._getPreviousPlayers(x,S,f,g,n.toState).forEach(L=>{const j=L.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),L.destroy(),I.push(L)})}Fm(u,n.fromStyles)}_buildAnimation(i,n,s,o,u,f){const g=n.triggerName,w=n.element,x=[],S=new Set,I=new Set,F=n.timelines.map(j=>{const te=j.element;S.add(te);const ge=te[Sa];if(ge&&ge.removedBeforeQueried)return new ob(j.duration,j.delay);const Ee=te!==w,He=function(r){const i=[];return zV(r,i),i}((s.get(te)||Tz).map(sr=>sr.getRealPlayer())).filter(sr=>!!sr.element&&sr.element===te),Be=u.get(te),ze=f.get(te),mn=gV(0,this._normalizer,0,j.keyframes,Be,ze),bi=this._buildPlayer(j,mn,He);if(j.subTimeline&&o&&I.add(te),Ee){const sr=new rP(i,g,te);sr.setRealPlayer(bi),x.push(sr)}return bi});x.forEach(j=>{Vo(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,j.element,j))}),S.forEach(j=>Aa(j,DV));const L=Ff(F);return L.onDestroy(()=>{S.forEach(j=>lb(j,DV)),Vc(w,n.toStyles)}),I.forEach(j=>{Vo(o,j,[]).push(L)}),L}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new ob(i.duration,i.delay)}}class rP{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new ob,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>F1(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){Vo(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function sI(r){return r&&1===r.nodeType}function GV(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function HV(r,i,n,s,o){const u=[];n.forEach(w=>u.push(GV(w)));const f=[];s.forEach((w,x)=>{const S={};w.forEach(I=>{const F=S[I]=i.computeStyle(x,I,o);(!F||0==F.length)&&(x[Sa]=Iz,f.push(x))}),r.set(x,S)});let g=0;return n.forEach(w=>GV(w,u[g++])),f}function jV(r,i){const n=new Map;if(r.forEach(g=>n.set(g,[])),0==i.length)return n;const o=new Set(i),u=new Map;function f(g){if(!g)return 1;let w=u.get(g);if(w)return w;const x=g.parentNode;return w=n.has(x)?x:o.has(x)?1:f(x),u.set(g,w),w}return i.forEach(g=>{const w=f(g);1!==w&&n.get(w).push(g)}),n}const oI="$$classes";function Aa(r,i){if(r.classList)r.classList.add(i);else{let n=r[oI];n||(n=r[oI]={}),n[i]=!0}}function lb(r,i){if(r.classList)r.classList.remove(i);else{let n=r[oI];n&&delete n[i]}}function Nz(r,i,n){Ff(n).onDone(()=>r.processLeaveNode(i))}function zV(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof fV?zV(s.players,i):i.push(s)}}function YV(r,i,n){const s=n.get(r);if(!s)return!1;let o=i.get(r);return o?s.forEach(u=>o.add(u)):i.set(r,s),n.delete(r),!0}class aI{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new Rz(i,n,s),this._timelineEngine=new Ez(i,n,s),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(i,n,s,o,u){const f=i+"-"+o;let g=this._triggerCache[f];if(!g){const w=[],x=W1(this._driver,u,w);if(w.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);g=function(r,i,n){return new Cz(r,i,n)}(o,x,this._normalizer),this._triggerCache[f]=g}this._transitionEngine.registerTrigger(n,o,g)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,o){this._transitionEngine.insertNode(i,n,s,o)}onRemove(i,n,s,o){this._transitionEngine.removeNode(i,n,o||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,o){if("@"==s.charAt(0)){const[u,f]=mV(s);this._timelineEngine.command(u,n,f,o)}else this._transitionEngine.trigger(i,n,s,o)}listen(i,n,s,o,u){if("@"==s.charAt(0)){const[f,g]=mV(s);return this._timelineEngine.listen(f,n,g,u)}return this._transitionEngine.listen(i,n,s,o,u)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function qV(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=sP(i[0]),i.length>1&&(s=sP(i[i.length-1]))):i&&(n=sP(i)),n||s?new cb(r,n,s):null}class cb{constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let o=cb.initialStylesByElement.get(i);o||cb.initialStylesByElement.set(i,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Vc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vc(this._element,this._initialStyles),this._endStyles&&(Vc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(cb.initialStylesByElement.delete(this._element),this._startStyles&&(Fm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fm(this._element,this._endStyles),this._endStyles=null),Vc(this._element,this._initialStyles),this._state=3)}}function sP(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const o=n[s];Vz(o)&&(i=i||{},i[o]=r[o])}return i}function Vz(r){return"display"===r||"position"===r}cb.initialStylesByElement=new WeakMap;const $V="animation",ZV="animationend";class Hz{constructor(i,n,s,o,u,f,g){this._element=i,this._name=n,this._duration=s,this._delay=o,this._easing=u,this._fillMode=f,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(r,i){const n=aP(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),lI(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),QV(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){WV(this._element,this._name,"paused")}resume(){WV(this._element,this._name,"running")}setPosition(i){const n=KV(this._element,this._name);this._position=i*this._duration,lI(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),QV(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=aP(r,"").split(","),o=oP(s,i);o>=0&&(s.splice(o,1),lI(r,"",s.join(",")))}(this._element,this._name))}}function WV(r,i,n){lI(r,"PlayState",n,KV(r,i))}function KV(r,i){const n=aP(r,"");return n.indexOf(",")>0?oP(n.split(","),i):oP([n],i)}function oP(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function QV(r,i,n){n?r.removeEventListener(ZV,i):r.addEventListener(ZV,i)}function lI(r,i,n,s){const o=$V+i;if(null!=s){const u=r.style[o];if(u.length){const f=u.split(",");f[s]=n,n=f.join(",")}}r.style[o]=n}function aP(r,i){return r.style[$V+i]||""}class JV{constructor(i,n,s,o,u,f,g,w){this.element=i,this.keyframes=n,this.animationName=s,this._duration=o,this._delay=u,this._finalStyles=g,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=o+u,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Hz(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:Z1(this.element,s))})}this.currentSnapshot=i}}class Zz extends ob{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=bV(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class e2{constructor(){this._count=0}validateStyleProperty(i){return V1(i)}matchesElement(i,n){return U1(i,n)}containsElement(i,n){return G1(i,n)}query(i,n,s){return H1(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(g=>bV(g));let o=`@keyframes ${n} {\n`,u="";s.forEach(g=>{u=" ";const w=parseFloat(g.offset);o+=`${u}${100*w}% {\n`,u+=" ",Object.keys(g).forEach(x=>{const S=g[x];switch(x){case"offset":return;case"easing":return void(S&&(o+=`${u}animation-timing-function: ${S};\n`));default:return void(o+=`${u}${x}: ${S};\n`)}}),o+=`${u}}\n`}),o+="}\n";const f=document.createElement("style");return f.textContent=o,f}animate(i,n,s,o,u,f=[],g){const w=f.filter(ge=>ge instanceof JV),x={};AV(s,o)&&w.forEach(ge=>{let Ee=ge.currentSnapshot;Object.keys(Ee).forEach(He=>x[He]=Ee[He])});const S=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(i[o]=s[o])})}),i}(n=TV(i,n,x));if(0==s)return new Zz(i,S);const I="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(i,I,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(F);const j=qV(i,n),te=new JV(i,n,I,s,o,u,S,j);return te.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(F)),te}}class n2{constructor(i,n,s,o){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:Z1(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class Xz{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(r2().toString()),this._cssKeyframesDriver=new e2}validateStyleProperty(i){return V1(i)}matchesElement(i,n){return U1(i,n)}containsElement(i,n){return G1(i,n)}query(i,n,s){return H1(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,o,u,f=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,o,u,f);const S={duration:s,delay:o,fill:0==o?"both":"forwards"};u&&(S.easing=u);const I={},F=f.filter(j=>j instanceof n2);AV(s,o)&&F.forEach(j=>{let te=j.currentSnapshot;Object.keys(te).forEach(ge=>I[ge]=te[ge])});const L=qV(i,n=TV(i,n=n.map(j=>Pf(j,!1)),I));return new n2(i,n,S,L)}}function r2(){return pV()&&Element.prototype.animate||{}}let tY=(()=>{class r extends uV{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?dV(n):n;return s2(this._renderer,null,s,"register",[o]),new nY(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.FYo),a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class nY extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new iY(this._id,i,n||{},this._renderer)}}class iY{constructor(i,n,s,o){this.id=i,this.element=n,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return s2(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function s2(r,i,n,s,o){return r.setProperty(i,`@@${n}:${s}`,o)}const o2="@.disabled";let rY=(()=>{class r{constructor(n,s,o){this.delegate=n,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(u,f)=>{f&&f.parentNode(u)&&f.removeChild(u.parentNode,u)}}createRenderer(n,s){const u=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let S=this._rendererCache.get(u);return S||(S=new a2("",u,this.engine),this._rendererCache.set(u,S)),S}const f=s.id,g=s.id+"-"+this._currentId;this._currentId++,this.engine.register(g,n);const w=S=>{Array.isArray(S)?S.forEach(w):this.engine.registerTrigger(f,g,n,S.name,S)};return s.data.animation.forEach(w),new sY(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,o){n>=0&&n<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,g]=u;f(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.FYo),a.LFG(aI),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class a2{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,o=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,o)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,o){this.delegate.setAttribute(i,n,s,o)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,o){this.delegate.setStyle(i,n,s,o)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==o2?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class sY extends a2{constructor(i,n,s,o){super(n,s,o),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==o2?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const o=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let u=n.substr(1),f="";return"@"!=u.charAt(0)&&([u,f]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(u)),this.engine.listen(this.namespaceId,o,u,f,g=>{this.factory.scheduleListenerCallback(g._data||-1,s,g)})}return this.delegate.listen(i,n,s)}}let lY=(()=>{class r extends aI{constructor(n,s,o){super(n.body,s,o)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(YT),a.LFG(eP))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Nn=new a.OlP("AnimationModuleType"),l2=[{provide:uV,useClass:tY},{provide:eP,useFactory:function(){return new mz}},{provide:aI,useClass:lY},{provide:a.FYo,useFactory:function(r,i,n){return new rY(r,i,n)},deps:[vo,aI,a.R0b]}],c2=[{provide:YT,useFactory:function(){return"function"==typeof r2()?new Xz:new e2}},{provide:Nn,useValue:"BrowserAnimations"},...l2],u2=[{provide:YT,useClass:wV},{provide:Nn,useValue:"NoopAnimations"},...l2];let hY=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?u2:c2}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:c2,imports:[hp]}),r})();const d2=new a.GfV("12.2.5"),vY=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Lm,bt=(()=>{class r{constructor(n,s,o){this._hasDoneGlobalChecks=!1,this._document=o,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,a.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&d2.full!==cV.full&&console.warn("The Angular Material version ("+d2.full+") does not match the Angular CDK version ("+cV.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(lV),a.LFG(vY,8),a.LFG(q))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[To],To]}),r})();function Al(r){return class extends r{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=Fe(i)}}}function Uc(r,i){return class extends r{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const s=n||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Go(r){return class extends r{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=Fe(i)}}}function uI(r){return class extends r{constructor(...i){super(...i),this.stateChanges=new ke.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==i&&(this.errorState=u,this.stateChanges.next())}}}try{Lm="undefined"!=typeof Intl}catch(r){Lm=!1}let Nf=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),hI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();class kY{constructor(i,n,s){this._renderer=i,this.element=n,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const h2={enterDuration:225,exitDuration:150},uP=Em({passive:!0}),f2=["mousedown","touchstart"],p2=["mouseup","mouseleave","touchend","touchcancel"];class dP{constructor(i,n,s,o){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=dd(s))}fadeInRipple(i,n,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},h2),s.animation);s.centered&&(i=o.left+o.width/2,n=o.top+o.height/2);const f=s.radius||function(r,i,n){const s=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),o=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(s*s+o*o)}(i,n,o),g=i-o.left,w=n-o.top,x=u.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=g-f+"px",S.style.top=w-f+"px",S.style.height=2*f+"px",S.style.width=2*f+"px",null!=s.color&&(S.style.backgroundColor=s.color),S.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(S),function(r){window.getComputedStyle(r).getPropertyValue("opacity")}(S),S.style.transform="scale(1)";const I=new kY(this,S,s);return I.state=0,this._activeRipples.add(I),s.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const F=I===this._mostRecentTransientRipple;I.state=1,!s.persistent&&(!F||!this._isPointerDown)&&I.fadeOut()},x),I}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const s=i.element,o=Object.assign(Object.assign({},h2),i.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=dd(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(f2))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(p2),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=M1(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!S1(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let s=0;s<n.length;s++)this.fadeInRipple(n[s].clientX,n[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,uP)})})}_removeTriggerEvents(){this._triggerElement&&(f2.forEach(i=>{this._triggerElement.removeEventListener(i,this,uP)}),this._pointerUpEventsRegistered&&p2.forEach(i=>{this._triggerElement.removeEventListener(i,this,uP)}))}}const fI=new a.OlP("mat-ripple-global-options");let uo=(()=>{class r{constructor(n,s,o,u,f){this._elementRef=n,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new dP(this,s,n,o)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,s=0,o){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Vt),a.Y36(fI,8),a.Y36(Nn,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&a.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r})(),Lf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt,Jv],bt]}),r})(),hP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt]]}),r})(),v2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Lf,Ni,bt,hP]]}),r})();const b2=["mat-button",""],w2=["*"],HY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],jY=Uc(Al(Go(class{constructor(r){this._elementRef=r}})));let ks=(()=>{class r extends jY{constructor(n,s,o){super(n),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of HY)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,s){n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Br),a.Y36(Nn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,s){if(1&n&&a.Gf(uo,5),2&n){let o;a.iGM(o=a.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,s){2&n&&(a.uIk("disabled",s.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:b2,ngContentSelectors:w2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,s){1&n&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&n&&(a.xp6(2),a.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),a.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[uo],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),pI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Lf,bt],bt]}),r})();const D2=new Set;let ub,x2=(()=>{class r{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):YY}matchMedia(n){return this._platform.WEBKIT&&function(r){if(!D2.has(r))try{ub||(ub=document.createElement("style"),ub.setAttribute("type","text/css"),document.head.appendChild(ub)),ub.sheet&&(ub.sheet.insertRule(`@media ${r} {.fx-query-test{ }}`,0),D2.add(r))}catch(i){console.error(i)}}(n),this._matchMedia(n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt))},token:r,providedIn:"root"}),r})();function YY(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let gP=(()=>{class r{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new ke.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return E2(TT(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let u=Ua(E2(TT(n)).map(f=>this._registerQuery(f).observable));return u=ra(u.pipe(hn(1)),u.pipe(jB(1),ay(0))),u.pipe((0,rt.U)(f=>{const g={matches:!1,breakpoints:{}};return f.forEach(({matches:w,query:x})=>{g.matches=g.matches||w,g.breakpoints[x]=w}),g}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const s=this._mediaMatcher.matchMedia(n),u={observable:new on.y(f=>{const g=w=>this._zone.run(()=>f.next(w));return s.addListener(g),()=>{s.removeListener(g)}}).pipe(Jt(s),(0,rt.U)(({matches:f})=>({query:n,matches:f})),We(this._destroySubject)),mql:s};return this._queries.set(n,u),u}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(x2),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(x2),a.LFG(a.R0b))},token:r,providedIn:"root"}),r})();function E2(r){return r.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}function qY(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div",1),a.TgZ(1,"button",2),a.NdJ("click",function(){return a.CHM(n),a.oxw().action()}),a._uU(2),a.qZA(),a.qZA()}if(2&r){const n=a.oxw();a.xp6(2),a.Oqu(n.data.action)}}function $Y(r,i){}const S2=new a.OlP("MatSnackBarData");class gI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ZY=Math.pow(2,31)-1;class mP{constructor(i,n){this._overlayRef=n,this._afterDismissed=new ke.xQ,this._afterOpened=new ke.xQ,this._onAction=new ke.xQ,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,ZY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let WY=(()=>{class r{constructor(n,s){this.snackBarRef=n,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(mP),a.Y36(S2))},r.\u0275cmp=a.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a.YNc(2,qY,3,1,"div",0)),2&n&&(a.xp6(1),a.Oqu(s.data.message),a.xp6(1),a.Q6J("ngIf",s.hasAction))},directives:[gi,ks],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),r})();const KY={snackBarState:co("state",[pi("void, hidden",kt({transform:"scale(0.8)",opacity:0})),pi("visible",kt({transform:"scale(1)",opacity:1})),ni("* => visible",fi("150ms cubic-bezier(0, 0, 0.2, 1)")),ni("* => void, * => hidden",fi("75ms cubic-bezier(0.4, 0.0, 1, 1)",kt({opacity:0})))])};let QY=(()=>{class r extends LT{constructor(n,s,o,u,f){super(),this._ngZone=n,this._elementRef=s,this._changeDetectorRef=o,this._platform=u,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ke.xQ,this._onExit=new ke.xQ,this._onEnter=new ke.xQ,this._animationState="void",this.attachDomPortal=g=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(g)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(n)}onAnimationEnd(n){const{fromState:s,toState:o}=n;if(("void"===o&&"void"!==s||"hidden"===o)&&this._completeExit(),"visible"===o){const u=this._onEnter;this._ngZone.run(()=>{u.next(),u.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(hn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const n=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(o=>n.classList.add(o)):n.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&n.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&n.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&s){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),s.appendChild(n),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Vt),a.Y36(gI))},r.\u0275cmp=a.Xpm({type:r,selectors:[["snack-bar-container"]],viewQuery:function(n,s){if(1&n&&a.Gf(Ma,7),2&n){let o;a.iGM(o=a.CRH())&&(s._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(n,s){1&n&&a.WFA("@state.done",function(u){return s.onAnimationEnd(u)}),2&n&&a.d8E("@state",s._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.YNc(1,$Y,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&n&&(a.xp6(2),a.uIk("aria-live",s._live)("role",s._role))},directives:[Ma],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[KY.snackBarState]}}),r})(),A2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[rb,nb,Ni,pI,bt],bt]}),r})();const T2=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new gI}});let XY=(()=>{class r{constructor(n,s,o,u,f,g){this._overlay=n,this._live=s,this._injector=o,this._breakpointObserver=u,this._parentSnackBar=f,this._defaultConfig=g,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=WY,this.snackBarContainerComponent=QY,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}openFromComponent(n,s){return this._attach(n,s)}openFromTemplate(n,s){return this._attach(n,s)}open(n,s="",o){const u=Object.assign(Object.assign({},this._defaultConfig),o);return u.data={message:n,action:s},u.announcementMessage===n&&(u.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,u)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,s){const u=a.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:gI,useValue:s}]}),f=new Rf(this.snackBarContainerComponent,s.viewContainerRef,u),g=n.attach(f);return g.instance.snackBarConfig=s,g.instance}_attach(n,s){const o=Object.assign(Object.assign(Object.assign({},new gI),this._defaultConfig),s),u=this._createOverlay(o),f=this._attachSnackBarContainer(u,o),g=new mP(f,u);if(n instanceof a.Rgc){const w=new Lc(n,null,{$implicit:o.data,snackBarRef:g});g.instance=f.attachTemplatePortal(w)}else{const w=this._createInjector(o,g),x=new Rf(n,void 0,w),S=f.attachComponentPortal(x);g.instance=S.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(We(u.detachments())).subscribe(w=>{const x=u.overlayElement.classList;w.matches?x.add(this.handsetCssClass):x.remove(this.handsetCssClass)}),o.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(g,o),this._openedSnackBarRef=g,this._openedSnackBarRef}_animateSnackBar(n,s){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),s.duration&&s.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(s.duration))}_createOverlay(n){const s=new ib;s.direction=n.direction;let o=this._overlay.position().global();const u="rtl"===n.direction,f="left"===n.horizontalPosition||"start"===n.horizontalPosition&&!u||"end"===n.horizontalPosition&&u,g=!f&&"center"!==n.horizontalPosition;return f?o.left("0"):g?o.right("0"):o.centerHorizontally(),"top"===n.verticalPosition?o.top("0"):o.bottom("0"),s.positionStrategy=o,this._overlay.create(s)}_createInjector(n,s){return a.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:mP,useValue:s},{provide:S2,useValue:n.data}]})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(as),a.LFG(jT),a.LFG(a.zs3),a.LFG(gP),a.LFG(r,12),a.LFG(T2))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(as),a.LFG(jT),a.LFG(a.gxx),a.LFG(gP),a.LFG(r,12),a.LFG(T2))},token:r,providedIn:A2}),r})(),bx=(()=>{class r{constructor(n){this.snackBar=n}open(n,s){this.snackBar.open(n,s,{duration:2e3})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(XY))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),wx=(()=>{class r{constructor(n,s,o){this.fireStorageService=n,this.fireStoreService=s,this.snackBar=o}upload(n){let s,o;const u=this.fireStorageService.uploadFileToSend(n);return u.uploadProgress.toPromise().then(f=>(0,Vi.mG)(this,void 0,void 0,function*(){yield u.downloadUrl.toPromise().then(g=>o=g),100===f&&(s=new cc(u.name,o,qE.format()),this.fireStoreService.addImageToSend(s))})),u.uploadProgress}deleteFromToSend(n){this.fireStoreService.deleteImageToSend(n),this.fireStorageService.deleteFile(n.drawable)}deleteFromSent(n){this.fireStoreService.deleteImageSent(n),this.fireStorageService.deleteFile(n.drawable)}draw(){return(0,Vi.mG)(this,void 0,void 0,function*(){0===(yield this.fireStoreService.toSendCollection.get().toPromise().then(s=>s.size))?this.snackBar.open("Nothing to draw :c","Close"):(this.snackBar.open("Drawing...","Close"),yield this.fireStoreService.toSend.pipe(In()).subscribe(s=>(0,Vi.mG)(this,void 0,void 0,function*(){let o,u;const f=class{static randomize(i){return i[function(r,i){return r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r}(0,i.length)]}}.randomize(s);yield this.fireStorageService.moveFileToSent(f.name,f.drawable).then(g=>{o=g.drawable,u=g.newName,this.fireStoreService.moveImageFromToSendToSent(f,o,u),this.snackBar.open("Successfully drawn!","Close")}).catch(()=>this.snackBar.open("Failed to draw :C","Close"))})))})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(bB),a.LFG(Tf),a.LFG(bx))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function eq(r,i){}class _P{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const tq={dialogContainer:co("dialogContainer",[pi("void, exit",kt({opacity:0,transform:"scale(0.7)"})),pi("enter",kt({transform:"none"})),ni("* => enter",fi("150ms cubic-bezier(0, 0, 0.2, 1)",kt({transform:"none",opacity:1}))),ni("* => void, * => exit",fi("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",kt({opacity:0})))])};let nq=(()=>{class r extends LT{constructor(n,s,o,u,f,g){super(),this._elementRef=n,this._focusTrapFactory=s,this._changeDetectorRef=o,this._config=f,this._focusMonitor=g,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(w)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=u}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(n)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const n=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=dx(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=dx())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=dx();return n===s||n.contains(s)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(E1),a.Y36(a.sBO),a.Y36(q,8),a.Y36(_P),a.Y36(Br))},r.\u0275dir=a.lG2({type:r,viewQuery:function(n,s){if(1&n&&a.Gf(Ma,7),2&n){let o;a.iGM(o=a.CRH())&&(s._portalOutlet=o.first)}},features:[a.qOj]}),r})(),iq=(()=>{class r extends nq{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:n,totalTime:s}){"enter"===n?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===n&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:n,totalTime:s}){"enter"===n?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===n||"void"===n)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(n,s){1&n&&a.WFA("@dialogContainer.start",function(u){return s._onAnimationStart(u)})("@dialogContainer.done",function(u){return s._onAnimationDone(u)}),2&n&&(a.Ikx("id",s._id),a.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),a.d8E("@dialogContainer",s._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){1&n&&a.YNc(0,eq,0,0,"ng-template",0)},directives:[Ma],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[tq.dialogContainer]}}),r})(),rq=0;class mI{constructor(i,n,s="mat-dialog-"+rq++){this._overlayRef=i,this._containerInstance=n,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ke.xQ,this._afterClosed=new ke.xQ,this._beforeClosed=new ke.xQ,this._state=0,n._id=s,n._animationStateChanged.pipe(Nt(o=>"opened"===o.state),hn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Nt(o=>"closed"===o.state),hn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(Nt(o=>27===o.keyCode&&!this.disableClose&&!function(r,...i){return i.length?i.some(n=>r[n]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}(o))).subscribe(o=>{o.preventDefault(),yP(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():yP(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Nt(n=>"closing"===n.state),hn(1)).subscribe(n=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let n=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?n.left(i.left):n.right(i.right):n.centerHorizontally(),i&&(i.top||i.bottom)?i.top?n.top(i.top):n.bottom(i.bottom):n.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",n=""){return this._overlayRef.updateSize({width:i,height:n}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function yP(r,i,n){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=i),r.close(n)}const sq=new a.OlP("MatDialogData"),oq=new a.OlP("mat-dialog-default-options"),I2=new a.OlP("mat-dialog-scroll-strategy"),lq={provide:I2,deps:[as],useFactory:function(r){return()=>r.scrollStrategies.block()}};let cq=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S){this._overlay=n,this._injector=s,this._defaultOptions=o,this._parentDialog=u,this._overlayContainer=f,this._dialogRefConstructor=w,this._dialogContainerType=x,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke.xQ,this._afterOpenedAtThisLevel=new ke.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Kr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Jt(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(n,s){(s=function(r,i){return Object.assign(Object.assign({},i),r)}(s,this._defaultOptions||new _P)).id&&this.getDialogById(s.id);const o=this._createOverlay(s),u=this._attachDialogContainer(o,s),f=this._attachDialogContent(n,u,o,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),u._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(n){const s=this._getOverlayConfig(n);return this._overlay.create(s)}_getOverlayConfig(n){const s=new ib({positionStrategy:this._overlay.position().global(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachDialogContainer(n,s){const u=a.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:_P,useValue:s}]}),f=new Rf(this._dialogContainerType,s.viewContainerRef,u,s.componentFactoryResolver);return n.attach(f).instance}_attachDialogContent(n,s,o,u){const f=new this._dialogRefConstructor(o,s,u.id);if(n instanceof a.Rgc)s.attachTemplatePortal(new Lc(n,null,{$implicit:u.data,dialogRef:f}));else{const g=this._createInjector(u,f,s),w=s.attachComponentPortal(new Rf(n,u.viewContainerRef,g));f.componentInstance=w.instance}return f.updateSize(u.width,u.height).updatePosition(u.position),f}_createInjector(n,s,o){const u=n&&n.viewContainerRef&&n.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:n.data},{provide:this._dialogRefConstructor,useValue:s}];return n.direction&&(!u||!u.get(Kt,null,a.XFs.Optional))&&f.push({provide:Kt,useValue:{value:n.direction,change:(0,je.of)()}}),a.zs3.create({parent:u||this._injector,providers:f})}_removeOpenDialog(n){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let o=s.length-1;o>-1;o--){let u=s[o];u!==n&&"SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName&&!u.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}}}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(as),a.Y36(a.zs3),a.Y36(void 0),a.Y36(void 0),a.Y36(fx),a.Y36(void 0),a.Y36(a.DyG),a.Y36(a.DyG),a.Y36(a.OlP))},r.\u0275dir=a.lG2({type:r}),r})(),db=(()=>{class r extends cq{constructor(n,s,o,u,f,g,w){super(n,s,u,g,w,f,mI,iq,sq)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(as),a.LFG(a.zs3),a.LFG(ct,8),a.LFG(oq,8),a.LFG(I2),a.LFG(r,12),a.LFG(fx))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),hq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[db,lq],imports:[[rb,nb,bt],bt]}),r})(),fq=(()=>{class r{constructor(){this.fileOver=!1,this.fileDropped=new a.vpe}onDragOver(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!0}onDragLeave(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1}ondrop(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1;const s=n.dataTransfer.files;s.length>0&&this.fileDropped.emit(s)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","appDragAndDrop",""]],hostVars:2,hostBindings:function(n,s){1&n&&a.NdJ("dragover",function(u){return s.onDragOver(u)})("dragleave",function(u){return s.onDragLeave(u)})("drop",function(u){return s.ondrop(u)}),2&n&&a.ekj("fileover",s.fileOver)},outputs:{fileDropped:"fileDropped"}}),r})(),vq=(()=>{class r extends Qn{constructor(n,s,o,u,f,g,w){super(n,null,s,o),this.ngClassInstance=w,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new wr(u,f,n,g)),this.init(),this.setValue("","")}set klass(n){this.ngClassInstance.klass=n,this.setValue(n,"")}updateWithValue(n){this.ngClassInstance.ngClass=n,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(yn),a.Y36(Vn),a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.Qsj),a.Y36(wr,10))},r.\u0275dir=a.lG2({type:r,inputs:{klass:["class","klass"]},features:[a.qOj]}),r})();const bq=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let R2=(()=>{class r extends vq{constructor(){super(...arguments),this.inputs=bq}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[a.qOj]}),r})(),wq=(()=>{class r extends ai{buildStyles(n,s){return{display:"true"===n?s.display||(s.isServer?"initial":""):"none"}}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})(),Cq=(()=>{class r extends Qn{constructor(n,s,o,u,f,g,w){super(n,s,o,u),this.layoutConfig=f,this.platformId=g,this.serverModuleLoaded=w,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const n=Array.from(this.nativeElement.children);for(let o=0;o<n.length;o++)if(this.marshal.hasValue(n[o],"flex")){this.hasFlexChild=!0;break}vP.has(this.nativeElement)?this.display=vP.get(this.nativeElement):(this.display=this.getDisplayStyle(),vP.set(this.nativeElement,this.display)),this.init();const s=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===s||""===s?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(n){Object.keys(n).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const o=s.split("."),u=o.slice(1).join("."),f=n[s].currentValue;let g=""===f||0!==f&&Fe(f);"fxHide"===o[0]&&(g=!g),this.setValue(g,u)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(n=>{this.marshal.trackValue(this.nativeElement,n).pipe(We(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(n=!0){if(""===n)return;const s=Ns(this.platformId);this.addStyles(n?"true":"false",{display:this.display,isServer:s}),s&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(wq),a.Y36(yn),a.Y36(Vn),a.Y36(oi),a.Y36(a.Lbi),a.Y36(oc))},r.\u0275dir=a.lG2({type:r,features:[a.qOj,a.TTD]}),r})();const vP=new WeakMap,Dq=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let bP=(()=>{class r extends Cq{constructor(){super(...arguments),this.inputs=Dq}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[a.qOj]}),r})();class xq{constructor(i,n,s=!0){this.key=i,this.value=n,this.key=s?i.replace(/['"]/g,"").trim():i.trim(),this.value=s?n.replace(/['"]/g,"").trim():n.trim(),this.value=this.value.replace(/;/,"")}}function O2(r){let i=typeof r;return"object"===i?r.constructor===Array?"array":r.constructor===Set?"set":"object":i}function P2(r){const[i,...n]=r.split(":");return new xq(i,n.join(":"))}function N2(r,i){return i.key&&(r[i.key]=i.value),r}let Sq=(()=>{class r extends Qn{constructor(n,s,o,u,f,g,w,x,S){super(n,null,s,o),this.sanitizer=u,this.ngStyleInstance=w,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new gs(n,f,g)),this.init();const I=this.nativeElement.getAttribute("style")||"";this.fallbackStyles=this.buildStyleMap(I),this.isServer=x&&Ns(S)}updateWithValue(n){const s=this.buildStyleMap(n);this.ngStyleInstance.ngStyle=Object.assign(Object.assign({},this.fallbackStyles),s),this.isServer&&this.applyStyleToElement(s),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(n){const s=o=>this.sanitizer.sanitize(a.q3G.STYLE,o)||"";if(n)switch(O2(n)){case"string":return L2(function(r,i=";"){return String(r).trim().split(i).map(n=>n.trim()).filter(n=>""!==n)}(n),s);case"array":return L2(n,s);case"set":default:return function(r,i){let n=[];return"set"===O2(r)?r.forEach(s=>n.push(s)):Object.keys(r).forEach(s=>{n.push(`${s}:${r[s]}`)}),function(r,i){return r.map(P2).filter(s=>!!s).map(s=>(i&&(s.value=i(s.value)),s)).reduce(N2,{})}(n,i)}(n,s)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(yn),a.Y36(Vn),a.Y36(xr),a.Y36(a.aQg),a.Y36(a.Qsj),a.Y36(gs,10),a.Y36(oc),a.Y36(a.Lbi))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();const Aq=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let Bm=(()=>{class r extends Sq{constructor(){super(...arguments),this.inputs=Aq}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[a.qOj]}),r})();function L2(r,i){return r.map(P2).filter(s=>!!s).map(s=>(i&&(s.value=i(s.value)),s)).reduce(N2,{})}let B2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ct]]}),r})();var Tq=N(205),Iq=N(1555);function V2(...r){if(1===r.length){const i=r[0];if((0,Yl.k)(i))return _I(i,null);if((0,Iq.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return _I(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return _I(r=1===r.length&&(0,Yl.k)(r[0])?r[0]:r,null).pipe((0,rt.U)(n=>i(...n)))}return _I(r,null)}function _I(r,i){return new on.y(n=>{const s=r.length;if(0===s)return void n.complete();const o=new Array(s);let u=0,f=0;for(let g=0;g<s;g++){const w=(0,Zt.D)(r[g]);let x=!1;n.add(w.subscribe({next:S=>{x||(x=!0,f++),o[g]=S},error:S=>n.error(S),complete:()=>{u++,(u===s||!x)&&(f===s&&n.next(i?i.reduce((S,I,F)=>(S[I]=o[F],S),{}):o),n.complete())}}))}})}var kq=N(8819);class U2{}class gd{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const o=n.slice(0,s),u=o.toLowerCase(),f=n.slice(s+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const o=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(n,o))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof gd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new gd;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof gd?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const o=("a"===i.op?this.headers.get(n):void 0)||[];o.push(...s),this.headers.set(n,o);break;case"d":const u=i.value;if(u){let f=this.headers.get(n);if(!f)return;f=f.filter(g=>-1===u.indexOf(g)),0===f.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class Rq{encodeKey(i){return H2(i)}encodeValue(i){return H2(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const Fq=/%(\d[a-f0-9])/gi,Pq={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function H2(r){return encodeURIComponent(r).replace(Fq,(i,n)=>{var s;return null!==(s=Pq[n])&&void 0!==s?s:i})}function j2(r){return`${r}`}class Bf{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Rq,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[f,g]=-1==u?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,u)),i.decodeValue(o.slice(u+1))],w=n.get(f)||[];w.push(g),n.set(f,w)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const o=i[s];Array.isArray(o)?o.forEach(u=>{n.push({param:s,value:u,op:"a"})}):n.push({param:s,value:o,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new Bf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(j2(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const o=s.indexOf(j2(i.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Nq{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function z2(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function Y2(r){return"undefined"!=typeof Blob&&r instanceof Blob}function q2(r){return"undefined"!=typeof FormData&&r instanceof FormData}class Cx{constructor(i,n,s,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,u=o):u=s,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new gd),this.context||(this.context=new Nq),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=n;else{const g=n.indexOf("?");this.urlWithParams=n+(-1===g?"?":g<n.length-1?"&":"")+f}}else this.params=new Bf,this.urlWithParams=n}serializeBody(){return null===this.body?null:z2(this.body)||Y2(this.body)||q2(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||q2(this.body)?null:Y2(this.body)?this.body.type||null:z2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,o=i.url||this.url,u=i.responseType||this.responseType,f=void 0!==i.body?i.body:this.body,g=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,w=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let x=i.headers||this.headers,S=i.params||this.params;const I=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(x=Object.keys(i.setHeaders).reduce((F,L)=>F.set(L,i.setHeaders[L]),x)),i.setParams&&(S=Object.keys(i.setParams).reduce((F,L)=>F.set(L,i.setParams[L]),S)),new Cx(s,o,f,{params:S,headers:x,context:I,reportProgress:w,responseType:u,withCredentials:g})}}var qi=(()=>((qi=qi||{})[qi.Sent=0]="Sent",qi[qi.UploadProgress=1]="UploadProgress",qi[qi.ResponseHeader=2]="ResponseHeader",qi[qi.DownloadProgress=3]="DownloadProgress",qi[qi.Response=4]="Response",qi[qi.User=5]="User",qi))();class yI extends class{constructor(i,n=200,s="OK"){this.headers=i.headers||new gd,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=qi.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new yI({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function DP(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let vI=(()=>{class r{constructor(n){this.handler=n}request(n,s,o={}){let u;if(n instanceof Cx)u=n;else{let w,x;w=o.headers instanceof gd?o.headers:new gd(o.headers),o.params&&(x=o.params instanceof Bf?o.params:new Bf({fromObject:o.params})),u=new Cx(n,s,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:x,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=(0,je.of)(u).pipe(ja(w=>this.handler.handle(w)));if(n instanceof Cx||"events"===o.observe)return f;const g=f.pipe(Nt(w=>w instanceof yI));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,rt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return g.pipe((0,rt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return g.pipe((0,rt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));case"json":default:return g.pipe((0,rt.U)(w=>w.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new Bf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,o={}){return this.request("PATCH",n,DP(o,s))}post(n,s,o={}){return this.request("POST",n,DP(o,s))}put(n,s,o={}){return this.request("PUT",n,DP(o,s))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(U2))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Yq=["*"];function J2(r){return Error(`Unable to find icon with the name "${r}"`)}function X2(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function eU(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Vm{constructor(i,n,s){this.url=i,this.svgText=n,this.options=s}}let bI=(()=>{class r{constructor(n,s,o,u){this._httpClient=n,this._sanitizer=s,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(n,s,o){return this.addSvgIconInNamespace("",n,s,o)}addSvgIconLiteral(n,s,o){return this.addSvgIconLiteralInNamespace("",n,s,o)}addSvgIconInNamespace(n,s,o,u){return this._addSvgIconConfig(n,s,new Vm(o,null,u))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,s,o,u){const f=this._sanitizer.sanitize(a.q3G.HTML,o);if(!f)throw eU(o);return this._addSvgIconConfig(n,s,new Vm("",f,u))}addSvgIconSet(n,s){return this.addSvgIconSetInNamespace("",n,s)}addSvgIconSetLiteral(n,s){return this.addSvgIconSetLiteralInNamespace("",n,s)}addSvgIconSetInNamespace(n,s,o){return this._addSvgIconSetConfig(n,new Vm(s,null,o))}addSvgIconSetLiteralInNamespace(n,s,o){const u=this._sanitizer.sanitize(a.q3G.HTML,s);if(!u)throw eU(s);return this._addSvgIconSetConfig(n,new Vm("",u,o))}registerFontClassAlias(n,s=n){return this._fontCssClassesByAlias.set(n,s),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const s=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,n);if(!s)throw X2(n);const o=this._cachedIconsByUrl.get(s);return o?(0,je.of)(wI(o)):this._loadSvgIconFromConfig(new Vm(n,null)).pipe((0,Zn.b)(u=>this._cachedIconsByUrl.set(s,u)),(0,rt.U)(u=>wI(u)))}getNamedSvgIcon(n,s=""){const o=tU(s,n);let u=this._svgIconConfigs.get(o);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(s,n),u)return this._svgIconConfigs.set(o,u),this._getSvgFromConfig(u);const f=this._iconSetConfigs.get(s);return f?this._getSvgFromIconSetConfigs(n,f):(0,Tq._)(J2(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,je.of)(wI(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,rt.U)(s=>wI(s)))}_getSvgFromIconSetConfigs(n,s){const o=this._extractIconWithNameFromAnySet(n,s);return o?(0,je.of)(o):V2(s.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(Ha(g=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,f.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(x)),(0,je.of)(null)})))).pipe((0,rt.U)(()=>{const f=this._extractIconWithNameFromAnySet(n,s);if(!f)throw J2(n);return f}))}_extractIconWithNameFromAnySet(n,s){for(let o=s.length-1;o>=0;o--){const u=s[o];if(u.svgText&&u.svgText.indexOf(n)>-1){const f=this._svgElementFromConfig(u),g=this._extractSvgIconFromSet(f,n,u.options);if(g)return g}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,Zn.b)(s=>n.svgText=s),(0,rt.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,je.of)(null):this._fetchIcon(n).pipe((0,Zn.b)(s=>n.svgText=s))}_extractSvgIconFromSet(n,s,o){const u=n.querySelector(`[id="${s}"]`);if(!u)return null;const f=u.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const g=this._svgElementFromString("<svg></svg>");return g.appendChild(f),this._setSvgAttributes(g,o)}_svgElementFromString(n){const s=this._document.createElement("DIV");s.innerHTML=n;const o=s.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){const s=this._svgElementFromString("<svg></svg>"),o=n.attributes;for(let u=0;u<o.length;u++){const{name:f,value:g}=o[u];"id"!==f&&s.setAttribute(f,g)}for(let u=0;u<n.childNodes.length;u++)n.childNodes[u].nodeType===this._document.ELEMENT_NODE&&s.appendChild(n.childNodes[u].cloneNode(!0));return s}_setSvgAttributes(n,s){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),s&&s.viewBox&&n.setAttribute("viewBox",s.viewBox),n}_fetchIcon(n){var s;const{url:o,options:u}=n,f=null!==(s=null==u?void 0:u.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const g=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,o);if(!g)throw X2(o);const w=this._inProgressUrlFetches.get(g);if(w)return w;const x=this._httpClient.get(g,{responseType:"text",withCredentials:f}).pipe(bp(()=>this._inProgressUrlFetches.delete(g)),(0,kq.B)());return this._inProgressUrlFetches.set(g,x),x}_addSvgIconConfig(n,s,o){return this._svgIconConfigs.set(tU(n,s),o),this}_addSvgIconSetConfig(n,s){const o=this._iconSetConfigs.get(n);return o?o.push(s):this._iconSetConfigs.set(n,[s]),this}_svgElementFromConfig(n){if(!n.svgElement){const s=this._svgElementFromString(n.svgText);this._setSvgAttributes(s,n.options),n.svgElement=s}return n.svgElement}_getIconConfigFromResolvers(n,s){for(let o=0;o<this._resolvers.length;o++){const u=this._resolvers[o](s,n);if(u)return Zq(u)?new Vm(u.url,null,u.options):new Vm(u,null)}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(vI,8),a.LFG(xr),a.LFG(q,8),a.LFG(a.qLn))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(vI,8),a.LFG(xr),a.LFG(q,8),a.LFG(a.qLn))},token:r,providedIn:"root"}),r})();function wI(r){return r.cloneNode(!0)}function tU(r,i){return r+":"+i}function Zq(r){return!(!r.url||!r.options)}const Wq=Uc(class{constructor(r){this._elementRef=r}}),Kq=new a.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,a.f3M)(q),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),nU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Xq=nU.map(r=>`[${r}]`).join(", "),e$=/^url\(['"]?#(.*?)['"]?\)$/;let Um=(()=>{class r extends Wq{constructor(n,s,o,u,f){super(n),this._iconRegistry=s,this._location=u,this._errorHandler=f,this._inline=!1,this._currentIconFetch=Wt.w.EMPTY,o||n.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(n){this._inline=Fe(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const s=this._cleanupFontValue(n);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const s=this._cleanupFontValue(n);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(n){if(!n)return["",""];const s=n.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const s=n.querySelectorAll("style");for(let u=0;u<s.length;u++)s[u].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let s=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const o=n.childNodes[s];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&n.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&n.classList.remove(this._previousFontSetClass),s&&n.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const s=this._elementsWithExternalReferences;s&&s.forEach((o,u)=>{o.forEach(f=>{u.setAttribute(f.name,`url('${n}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(n){const s=n.querySelectorAll(Xq),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<s.length;u++)nU.forEach(f=>{const g=s[u],w=g.getAttribute(f),x=w?w.match(e$):null;if(x){let S=o.get(g);S||(S=[],o.set(g,S)),S.push({name:f,value:x[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[s,o]=this._splitIconName(n);s&&(this._svgNamespace=s),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,s).pipe(hn(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${o}! ${u.message}`))})}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(bI),a.$8M("aria-hidden"),a.Y36(Kq),a.Y36(a.qLn))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(n,s){2&n&&(a.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),a.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Yq,decls:1,vars:0,template:function(n,s){1&n&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),t$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();const n$=["primaryValueBar"],i$=Uc(class{constructor(r){this._elementRef=r}},"primary"),r$=new a.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=(0,a.f3M)(q),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let o$=0,a$=(()=>{class r extends i${constructor(n,s,o,u){super(n),this._ngZone=s,this._animationMode=o,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new a.vpe,this._animationEndSubscription=Wt.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+o$++;const f=u?u.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${f}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===o}get value(){return this._value}set value(n){this._value=iU(hi(n)||0)}get bufferValue(){return this._bufferValue}set bufferValue(n){this._bufferValue=iU(n||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=this._primaryValueBar.nativeElement;this._animationEndSubscription=Nc(n,"transitionend").pipe(Nt(s=>s.target===n)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Nn,8),a.Y36(r$,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(n,s){if(1&n&&a.Gf(n$,5),2&n){let o;a.iGM(o=a.CRH())&&(s._primaryValueBar=o.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(n,s){2&n&&(a.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),a.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[a.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1),a.TgZ(2,"defs"),a.TgZ(3,"pattern",2),a._UZ(4,"circle",3),a.qZA(),a.qZA(),a._UZ(5,"rect",4),a.qZA(),a.kcU(),a._UZ(6,"div",5),a._UZ(7,"div",6,7),a._UZ(9,"div",8),a.qZA()),2&n&&(a.xp6(3),a.Q6J("id",s.progressbarId),a.xp6(2),a.uIk("fill",s._rectangleFillValue),a.xp6(1),a.Q6J("ngStyle",s._bufferTransform()),a.xp6(1),a.Q6J("ngStyle",s._primaryTransform()))},directives:[gs],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function iU(r,i=0,n=100){return Math.max(i,Math.min(n,r))}let l$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ni,bt],bt]}),r})();const c$=["drop"],u$=["dropzone"];function d$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div",13),a.TgZ(1,"div",14),a.TgZ(2,"div",15),a.TgZ(3,"h3"),a._uU(4),a.qZA(),a.TgZ(5,"h3"),a._uU(6),a.qZA(),a.qZA(),a._UZ(7,"mat-progress-bar",16),a.ALo(8,"async"),a.qZA(),a.TgZ(9,"div"),a.TgZ(10,"button",17),a.NdJ("click",function(){const u=a.CHM(n).index;return a.oxw().deleteFile(u)}),a._uU(11,"x"),a.qZA(),a.qZA(),a.qZA()}if(2&r){const n=i.$implicit,s=a.oxw();a.xp6(4),a.hij("",n.name,"\xa0"),a.xp6(2),a.Oqu(s.formatBytes(n.size)),a.xp6(1),a.Q6J("value",a.lcZ(8,5,n.progress))("bufferValue",100),a.xp6(3),a.Q6J("disabled",s.startedUploading)}}const h$=function(){return{"min-width":"600px"}},f$=function(){return{width:"70vw"}},p$=function(){return{"min-height":"300px","min-width":"650px"}},g$=function(){return{width:"70vw",height:"100px"}};let m$=(()=>{class r{constructor(n,s,o,u){this.imageRepository=n,this.matDialog=s,this.dialogRef=o,this.snackbar=u,this.elementReference={},this.dropzone={},this.files=[],this.startedUploading=!1}ngOnInit(){}onFileDropped(n){this.prepareFilesList(n)}fileBrowseHandler(n){this.prepareFilesList(n.target.files)}deleteFile(n){this.files.splice(n,1)}prepareFilesList(n){for(const s of n)s.progress=0,this.files.push(s)}formatBytes(n,s=2){if(0===n)return"0 Bytes";const u=s<=0?0:s,g=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,g)).toFixed(u))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][g]}upload(){return(0,Vi.mG)(this,void 0,void 0,function*(){this.startedUploading=!0,this.dialogRef.disableClose=!0;const n=[];this.files.forEach(o=>{o.progress=this.imageRepository.upload(o),n.push(o.progress)});let s=0;for(const o of n)yield o.toPromise().then(()=>s++);this.snackbar.open("Successfully uploaded all files!","Close"),function(r,i=eg.P){const s=function(r){return r instanceof Date&&!isNaN(+r)}(r)?+r-i.now():Math.abs(r)}(1e3),this.matDialog.closeAll()})}onDrag(){null!==this.dropzone&&(this.dropzone.nativeElement.style.backgroundColor="#AAAAAA")}onLeave(){null!==this.dropzone&&(this.dropzone.nativeElement.style.backgroundColor="transparent")}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(wx),a.Y36(db),a.Y36(mI),a.Y36(bx))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-upload"]],viewQuery:function(n,s){if(1&n&&(a.Gf(c$,5),a.Gf(u$,5)),2&n){let o;a.iGM(o=a.CRH())&&(s.elementReference=o.first),a.iGM(o=a.CRH())&&(s.dropzone=o.first)}},decls:20,vars:10,consts:[["appDragAndDrop","","fxLayoutAlign","center center","fxLayout","column",3,"ngStyle","ngStyle.lt-sm","fileDropped"],["fxHide.lt-sm","true","fxFill","","fxLayout","column",2,"border-style","dashed"],["fxLayout","column","fxLayoutAlign","center center",2,"height","200px",3,"dragover","dragleave","drop"],["dropzone",""],["fxHide.lt-sm","true"],["hidden","","id","drop","type","file","multiple","",3,"change"],["drop",""],["mat-raised-button","","color","primary"],["for","drop"],["itemSize","50",3,"ngStyle","ngStyle.lt-sm"],["fxFill","","fxLayout","row",4,"ngFor","ngForOf"],["fxLayoutAlign","center center"],["mat-raised-button","",3,"disabled","click"],["fxFill","","fxLayout","row"],["fxLayout","column","fxFlex","90"],["fxLayoutAlign","space-between center"],["color","primary",3,"value","bufferValue"],["mat-button","","fxFlex","10",3,"disabled","click"]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.NdJ("fileDropped",function(u){return s.onFileDropped(u)}),a.TgZ(1,"div",1),a.TgZ(2,"div",2,3),a.NdJ("dragover",function(){return s.onDrag()})("dragleave",function(){return s.onLeave()})("drop",function(){return s.onLeave()}),a.TgZ(4,"h3"),a._uU(5,"Drag and drop to upload"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"h3",4),a._uU(7,"or"),a.qZA(),a.TgZ(8,"input",5,6),a.NdJ("change",function(u){return s.fileBrowseHandler(u)}),a.qZA(),a.TgZ(10,"button",7),a.TgZ(11,"label",8),a._uU(12," Browse files "),a.qZA(),a.qZA(),a.TgZ(13,"cdk-virtual-scroll-viewport",9),a.YNc(14,d$,12,7,"div",10),a.qZA(),a.TgZ(15,"div",11),a.TgZ(16,"button",12),a.NdJ("click",function(){return s.upload()}),a.TgZ(17,"mat-icon"),a._uU(18,"upload"),a.qZA(),a._uU(19," Upload! "),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.Q6J("ngStyle",a.DdM(6,h$))("ngStyle.lt-sm",a.DdM(7,f$)),a.xp6(13),a.Q6J("ngStyle",a.DdM(8,p$))("ngStyle.lt-sm",a.DdM(9,g$)),a.xp6(1),a.Q6J("ngForOf",s.files),a.xp6(2),a.Q6J("disabled",0===s.files.length||s.startedUploading))},directives:[fq,Ii,es,gs,Bm,bP,Fw,ks,hx,PT,Ht,Um,Tu,a$],pipes:[Oa],styles:[""]}),r})();var Rs=(()=>(function(r){r.EMPTY="",r.DASHBOARD="dashboard",r.START="start",r.MANAGER="manager",r.BIG_PICTURE="big-picture"}(Rs||(Rs={})),Rs))();let rU=(()=>{class r{constructor(n,s,o,u){this.angularFireAuth=n,this.snackBar=s,this.router=o,this.matDialog=u}signUp(n){this.angularFireAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{var o;null===(o=s.user)||void 0===o||o.updateProfile({displayName:n.displayName})}).catch(s=>{this.snackBar.open(s.message,"Close")})}signIn(n){this.angularFireAuth.signInWithEmailAndPassword(n.email,n.password).then(s=>{var o;Zs.setDisplayName(null===(o=s.user)||void 0===o?void 0:o.displayName),Zs.setIsSignedIn("true"),this.snackBar.open("Successfully signed in.","Close"),this.router.navigate([Rs.DASHBOARD]).then()}).catch(s=>{this.snackBar.open(s.message,"Close")})}signOut(){localStorage.clear(),this.router.navigate([Rs.START]).then(()=>{Zs.setIsSignedIn("false"),this.snackBar.open("User Signed out.","Close"),this.matDialog.closeAll()})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a1),a.LFG(bx),a.LFG(Bi),a.LFG(db))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const _$=["*",[["mat-toolbar-row"]]],y$=["*","mat-toolbar-row"],v$=Uc(class{constructor(r){this._elementRef=r}});let b$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),hb=(()=>{class r extends v${constructor(n,s,o){super(n),this._platform=s,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Vt),a.Y36(q))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(n,s,o){if(1&n&&a.Suo(o,b$,5),2&n){let u;a.iGM(u=a.CRH())&&(s._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,s){2&n&&a.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:y$,decls:2,vars:0,template:function(n,s){1&n&&(a.F$t(_$),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),w$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();function C$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(){return a.CHM(n),a.oxw().openUploadDialog()}),a.TgZ(1,"mat-icon"),a._uU(2,"upload"),a.qZA(),a.TgZ(3,"span",3),a._uU(4,"Upload"),a.qZA(),a.qZA()}}function D$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(){return a.CHM(n),a.oxw().toManager()}),a.TgZ(1,"mat-icon"),a._uU(2,"settings"),a.qZA(),a.TgZ(3,"span",3),a._uU(4,"Manager"),a.qZA(),a.qZA()}}function x$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(){return a.CHM(n),a.oxw().draw()}),a.TgZ(1,"mat-icon"),a._uU(2,"casino"),a.qZA(),a.TgZ(3,"span",3),a._uU(4,"Draw"),a.qZA(),a.qZA()}}function E$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(){return a.CHM(n),a.oxw().back()}),a.TgZ(1,"mat-icon"),a._uU(2,"arrow_back"),a.qZA(),a.TgZ(3,"span",3),a._uU(4,"Back"),a.qZA(),a.qZA()}}function M$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",9),a.NdJ("click",function(){return a.CHM(n),a.oxw().signOut()}),a.TgZ(1,"mat-icon"),a._uU(2,"exit_to_app"),a.qZA(),a.TgZ(3,"span",3),a._uU(4,"Sign Out"),a.qZA(),a.qZA()}}let CI=(()=>{class r{constructor(n,s,o,u){this.authenticationService=n,this.matDialog=s,this.router=o,this.imageRepository=u,this.showLogoutButton=!1,this.showUploadButton=!1,this.showManagerButton=!1,this.showBackButton=!1,this.showDrawButton=!1,this.version="v2.1.5"}ngOnInit(){}signOut(){this.authenticationService.signOut()}openUploadDialog(){this.matDialog.open(m$,{})}toManager(){this.router.navigate([Rs.MANAGER])}back(){this.router.navigate([Rs.DASHBOARD])}draw(){this.imageRepository.draw()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(rU),a.Y36(db),a.Y36(Bi),a.Y36(wx))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-toolbar"]],inputs:{showLogoutButton:"showLogoutButton",showUploadButton:"showUploadButton",showManagerButton:"showManagerButton",showBackButton:"showBackButton",showDrawButton:"showDrawButton"},decls:17,vars:6,consts:[["fxLayoutAlign","space-between center","color","primary"],["fxLayout","row","fxLayoutAlign","space-around center"],["src","assets/logo.jpg","alt","",1,"logo"],["fxHide.lt-sm","true"],["fxLayoutAlign","end"],["fxLayoutGap","16px"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["mat-stroked-button","",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-toolbar",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a._uU(3," \xa0 "),a.TgZ(4,"h1",3),a._uU(5,"Daily Girl"),a.qZA(),a._uU(6," \xa0 "),a.TgZ(7,"small",4),a.TgZ(8,"small"),a.TgZ(9,"small"),a._uU(10),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",5),a.YNc(12,C$,5,0,"button",6),a.YNc(13,D$,5,0,"button",6),a.YNc(14,x$,5,0,"button",6),a.YNc(15,E$,5,0,"button",6),a.YNc(16,M$,5,0,"button",7),a.qZA(),a.qZA()),2&n&&(a.xp6(10),a.hij(" ",s.version," "),a.xp6(2),a.Q6J("ngIf",s.showUploadButton),a.xp6(1),a.Q6J("ngIf",s.showManagerButton),a.xp6(1),a.Q6J("ngIf",s.showDrawButton),a.xp6(1),a.Q6J("ngIf",s.showBackButton),a.xp6(1),a.Q6J("ngIf",s.showLogoutButton))},directives:[hb,Ii,es,bP,bs,gi,ks,Um],styles:[""]}),r})();class S${constructor(i,n){this.email=i,this.password=n}}const A$=["*",[["mat-card-footer"]]],T$=["*","mat-card-footer"];let fb=(()=>{class r{constructor(n){this._animationMode=n}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Nn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,s){2&n&&a.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:T$,decls:2,vars:0,template:function(n,s){1&n&&(a.F$t(A$),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),F$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();const P$=["underline"],N$=["connectionContainer"],L$=["inputContainer"],B$=["label"];function V$(r,i){1&r&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15),a._UZ(3,"div",16),a._UZ(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15),a._UZ(7,"div",16),a._UZ(8,"div",17),a.qZA(),a.BQk())}function U$(r,i){1&r&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function G$(r,i){if(1&r&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&r){const n=a.oxw(2);a.xp6(3),a.Oqu(n._control.placeholder)}}function H$(r,i){1&r&&a.Hsn(0,3,["*ngSwitchCase","true"])}function j$(r,i){1&r&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function z$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(n),a.oxw().updateOutlineGap()}),a.YNc(2,G$,4,1,"ng-container",12),a.YNc(3,H$,1,0,"ng-content",12),a.YNc(4,j$,2,0,"span",22),a.qZA()}if(2&r){const n=a.oxw();a.ekj("mat-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-form-field-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-accent","accent"==n.color)("mat-warn","warn"==n.color),a.Q6J("cdkObserveContentDisabled","outline"!=n.appearance)("id",n._labelId)("ngSwitch",n._hasLabel()),a.uIk("for",n._control.id)("aria-owns",n._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}}function Y$(r,i){1&r&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function q$(r,i){if(1&r&&(a.TgZ(0,"div",25,26),a._UZ(2,"span",27),a.qZA()),2&r){const n=a.oxw();a.xp6(2),a.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function $$(r,i){if(1&r&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&r){const n=a.oxw();a.Q6J("@transitionMessages",n._subscriptAnimationState)}}function Z$(r,i){if(1&r&&(a.TgZ(0,"div",31),a._uU(1),a.qZA()),2&r){const n=a.oxw(2);a.Q6J("id",n._hintLabelId),a.xp6(1),a.Oqu(n.hintLabel)}}function W$(r,i){if(1&r&&(a.TgZ(0,"div",28),a.YNc(1,Z$,2,2,"div",29),a.Hsn(2,6),a._UZ(3,"div",30),a.Hsn(4,7),a.qZA()),2&r){const n=a.oxw();a.Q6J("@transitionMessages",n._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",n.hintLabel)}}const K$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Q$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],sU=new a.OlP("MatError"),X$={transitionMessages:co("transitionMessages",[pi("enter",kt({opacity:1,transform:"translateY(0%)"})),ni("void => enter",[kt({opacity:0,transform:"translateY(-5px)"}),fi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pb=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r}),r})();const oU=new a.OlP("MatHint");let SP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-label"]]}),r})(),t4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const aU=new a.OlP("MatPrefix"),lU=new a.OlP("MatSuffix");let cU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:lU,useExisting:r}])]}),r})(),uU=0;const i4=Uc(class{constructor(r){this._elementRef=r}},"primary"),r4=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Dx=new a.OlP("MatFormField");let DI=(()=>{class r extends i4{constructor(n,s,o,u,f,g,w,x){super(n),this._changeDetectorRef=s,this._dir=u,this._defaults=f,this._platform=g,this._ngZone=w,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ke.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+uU++,this._labelId="mat-form-field-label-"+uU++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==x,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(n){const s=this._appearance;this._appearance=n||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==n&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Fe(n)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(n){this._explicitFormFieldControl=n}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${n.controlType}`),n.stateChanges.pipe(Jt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(We(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(We(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,En.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Jt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Jt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(We(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(n){const s=this._control?this._control.ngControl:null;return s&&s[n]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Nc(this._label.nativeElement,"transitionend").pipe(hn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,o=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;s?n.push(s.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(n)}}_validateControlChild(){}updateOutlineGap(){const n=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const u=this._connectionContainerRef.nativeElement,f=u.querySelectorAll(".mat-form-field-outline-start"),g=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const w=u.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(w),S=n.children,I=this._getStartEnd(S[0].getBoundingClientRect());let F=0;for(let L=0;L<S.length;L++)F+=S[L].offsetWidth;s=Math.abs(I-x)-5,o=F>0?.75*F+10:0}for(let w=0;w<f.length;w++)f[w].style.width=`${s}px`;for(let w=0;w<g.length;w++)g[w].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(n){return this._dir&&"rtl"===this._dir.value?n.right:n.left}_isAttachedToDOM(){const n=this._elementRef.nativeElement;if(n.getRootNode){const s=n.getRootNode();return s&&s!==n}return document.documentElement.contains(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Kt,8),a.Y36(r4,8),a.Y36(Vt),a.Y36(a.R0b),a.Y36(Nn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,s,o){if(1&n&&(a.Suo(o,pb,5),a.Suo(o,pb,7),a.Suo(o,SP,5),a.Suo(o,SP,7),a.Suo(o,t4,5),a.Suo(o,sU,5),a.Suo(o,oU,5),a.Suo(o,aU,5),a.Suo(o,lU,5)),2&n){let u;a.iGM(u=a.CRH())&&(s._controlNonStatic=u.first),a.iGM(u=a.CRH())&&(s._controlStatic=u.first),a.iGM(u=a.CRH())&&(s._labelChildNonStatic=u.first),a.iGM(u=a.CRH())&&(s._labelChildStatic=u.first),a.iGM(u=a.CRH())&&(s._placeholderChild=u.first),a.iGM(u=a.CRH())&&(s._errorChildren=u),a.iGM(u=a.CRH())&&(s._hintChildren=u),a.iGM(u=a.CRH())&&(s._prefixChildren=u),a.iGM(u=a.CRH())&&(s._suffixChildren=u)}},viewQuery:function(n,s){if(1&n&&(a.Gf(P$,5),a.Gf(N$,7),a.Gf(L$,5),a.Gf(B$,5)),2&n){let o;a.iGM(o=a.CRH())&&(s.underlineRef=o.first),a.iGM(o=a.CRH())&&(s._connectionContainerRef=o.first),a.iGM(o=a.CRH())&&(s._inputContainerRef=o.first),a.iGM(o=a.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(n,s){2&n&&a.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:Dx,useExisting:r}]),a.qOj],ngContentSelectors:Q$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(n,s){1&n&&(a.F$t(K$),a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(u){return s._control.onContainerClick&&s._control.onContainerClick(u)}),a.YNc(3,V$,9,0,"ng-container",3),a.YNc(4,U$,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,z$,5,16,"label",8),a.qZA(),a.qZA(),a.YNc(10,Y$,2,0,"div",9),a.qZA(),a.YNc(11,q$,3,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,$$,2,1,"div",12),a.YNc(14,W$,5,2,"div",13),a.qZA(),a.qZA()),2&n&&(a.xp6(3),a.Q6J("ngIf","outline"==s.appearance),a.xp6(1),a.Q6J("ngIf",s._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",s._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",s._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=s.appearance),a.xp6(1),a.Q6J("ngSwitch",s._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[gi,Yr,Ln,px],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[X$.transitionMessages]},changeDetection:0}),r})(),xI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ni,bt,gx],bt]}),r})();const hU=Em({passive:!0});let fU=(()=>{class r{constructor(n,s){this._platform=n,this._ngZone=s,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Wr.E;const s=dd(n),o=this._monitoredElements.get(s);if(o)return o.subject;const u=new ke.xQ,f="cdk-text-field-autofilled",g=w=>{"cdk-text-field-autofill-start"!==w.animationName||s.classList.contains(f)?"cdk-text-field-autofill-end"===w.animationName&&s.classList.contains(f)&&(s.classList.remove(f),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!1}))):(s.classList.add(f),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",g,hU),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:u,unlisten:()=>{s.removeEventListener("animationstart",g,hU)}}),u}stopMonitoring(n){const s=dd(n),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((n,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(a.R0b))},token:r,providedIn:"root"}),r})(),pU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Jv]]}),r})(),gU=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.Qsj),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r}),r})(),Gm=(()=>{class r extends gU{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();const Vr=new a.OlP("NgValueAccessor"),a4={provide:Vr,useExisting:(0,a.Gpc)(()=>gb),multi:!0},c4=new a.OlP("CompositionEventMode");let gb=(()=>{class r extends gU{constructor(n,s,o){super(n,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(c4,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&a.NdJ("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[a._Bn([a4]),a.qOj]}),r})();const Fi=new a.OlP("NgValidators"),Uf=new a.OlP("NgAsyncValidators");function MU(r){return null!=r}function SU(r){const i=(0,a.QGY)(r)?(0,Zt.D)(r):r;return(0,a.CqO)(i),i}function AU(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function TU(r,i){return i.map(n=>n(r))}function IU(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function TP(r){return null!=r?function(r){if(!r)return null;const i=r.filter(MU);return 0==i.length?null:function(n){return AU(TU(n,i))}}(IU(r)):null}function IP(r){return null!=r?function(r){if(!r)return null;const i=r.filter(MU);return 0==i.length?null:function(n){return V2(TU(n,i).map(SU)).pipe((0,rt.U)(AU))}}(IU(r)):null}function OU(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function FU(r){return r._rawValidators}function PU(r){return r._rawAsyncValidators}function kP(r){return r?Array.isArray(r)?r:[r]:[]}function EI(r,i){return Array.isArray(r)?r.includes(i):r===i}function NU(r,i){const n=kP(i);return kP(r).forEach(o=>{EI(n,o)||n.push(o)}),n}function LU(r,i){return kP(i).filter(n=>!EI(r,n))}let BU=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=TP(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=IP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r}),r})(),ls=(()=>{class r extends BU{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();class Ta extends BU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VU{constructor(i){this._cd=i}is(i){var n,s,o;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[i])}}let MI=(()=>{class r extends VU{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Ta,2))},r.\u0275dir=a.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&a.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[a.qOj]}),r})(),RP=(()=>{class r extends VU{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ls,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&a.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[a.qOj]}),r})();function xx(r,i){PP(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&UU(r,i)})}(r,i),function(r,i){const n=(s,o)=>{i.valueAccessor.writeValue(s),o&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&UU(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function TI(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),kI(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function II(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function PP(r,i){const n=FU(r);null!==i.validator?r.setValidators(OU(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=PU(r);null!==i.asyncValidator?r.setAsyncValidators(OU(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const o=()=>r.updateValueAndValidity();II(i._rawValidators,o),II(i._rawAsyncValidators,o)}function kI(r,i){let n=!1;if(null!==r){if(null!==i.validator){const o=FU(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==i.validator);u.length!==o.length&&(n=!0,r.setValidators(u))}}if(null!==i.asyncValidator){const o=PU(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==i.asyncValidator);u.length!==o.length&&(n=!0,r.setAsyncValidators(u))}}}const s=()=>{};return II(i._rawValidators,s),II(i._rawAsyncValidators,s),n}function UU(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function GU(r,i){PP(r,i)}function HU(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function RI(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const Ex="VALID",OI="INVALID",mb="PENDING",Mx="DISABLED";function BP(r){return(UP(r)?r.validators:r)||null}function jU(r){return Array.isArray(r)?TP(r):r||null}function VP(r,i){return(UP(i)?i.asyncValidators:r)||null}function zU(r){return Array.isArray(r)?IP(r):r||null}function UP(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class GP{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=jU(this._rawValidators),this._composedAsyncValidatorFn=zU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Ex}get invalid(){return this.status===OI}get pending(){return this.status==mb}get disabled(){return this.status===Mx}get enabled(){return this.status!==Mx}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=jU(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=zU(i)}addValidators(i){this.setValidators(NU(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(NU(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(LU(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(LU(i,this._rawAsyncValidators))}hasValidator(i){return EI(this._rawValidators,i)}hasAsyncValidator(i){return EI(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=mb,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=Mx,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=Ex,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ex||this.status===mb)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mx:Ex}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=mb,this._hasOwnPendingAsyncValidator=!0;const n=SU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(o=>{s=s instanceof HP?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof D4&&s.at(o)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Mx:this.errors?OI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mb)?mb:this._anyControlsHaveStatus(OI)?OI:Ex}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){UP(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class FI extends GP{constructor(i=null,n,s){super(BP(n),VP(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){RI(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){RI(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class HP extends GP{constructor(i,n,s){super(BP(n),VP(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof FI?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((o,u)=>{s=n(s,o,u)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class D4 extends GP{constructor(i,n,s){super(BP(n),VP(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof FI?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const x4={provide:ls,useExisting:(0,a.Gpc)(()=>Tl)},Sx=(()=>Promise.resolve(null))();let Tl=(()=>{class r extends ls{constructor(n,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new HP({},TP(n),IP(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Sx.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),xx(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Sx.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),RI(this._directives,n)})}addFormGroup(n){Sx.then(()=>{const s=this._findContainer(n.path),o=new HP({});GU(o,n),s.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Sx.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){Sx.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,HU(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Fi,10),a.Y36(Uf,10))},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&a.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([x4]),a.qOj]}),r})();const M4={provide:Ta,useExisting:(0,a.Gpc)(()=>Ax)},$U=(()=>Promise.resolve(null))();let Ax=(()=>{class r extends Ta{constructor(n,s,o,u){super(),this.control=new FI,this._registered=!1,this.update=new a.vpe,this._parent=n,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function(r,i){if(!i)return null;let n,s,o;return Array.isArray(i),i.forEach(u=>{u.constructor===gb?n=u:function(r){return Object.getPrototypeOf(r.constructor)===Gm}(u)?s=u:o=u}),o||s||n||null}(0,u)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(r,i){return[...i.path,r]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xx(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){$U.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const s=n.isDisabled.currentValue,o=""===s||s&&"false"!==s;$U.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ls,9),a.Y36(Fi,10),a.Y36(Uf,10),a.Y36(Vr,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([M4]),a.qOj,a.TTD]}),r})(),jP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),WU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const R4={provide:ls,useExisting:(0,a.Gpc)(()=>md)};let md=(()=>{class r extends ls{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return xx(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){TI(n.control||null,n,!1),RI(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,HU(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,o=this.form.get(n.path);s!==o&&(TI(s||null,n),o instanceof FI&&(xx(o,n),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);GU(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return kI(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PP(this.form,this),this._oldForm&&kI(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Fi,10),a.Y36(Uf,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&a.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([R4]),a.qOj,a.TTD]}),r})(),dG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[WU]]}),r})(),K4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[dG]}),r})();const hG=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),Q4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let J4=0;const X4=uI(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let KP=(()=>{class r extends X4{constructor(n,s,o,u,f,g,w,x,S,I){super(g,u,f,o),this._elementRef=n,this._platform=s,this._autofillMonitor=x,this._formField=I,this._uid="mat-input-"+J4++,this.focused=!1,this.stateChanges=new ke.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>EB().has(j));const F=this._elementRef.nativeElement,L=F.nodeName.toLowerCase();this._inputValueAccessor=w||F,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&S.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",j=>{const te=j.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=Fe(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required}set required(n){this._required=Fe(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&EB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Fe(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,s;const o=(null===(s=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===s?void 0:s.call(n))?null:this.placeholder;if(o!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=o,o?u.setAttribute("placeholder",o):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){Q4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,s=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Vt),a.Y36(Ta,10),a.Y36(Tl,8),a.Y36(md,8),a.Y36(Nf),a.Y36(hG,10),a.Y36(fU),a.Y36(a.R0b),a.Y36(Dx,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(n,s){1&n&&a.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(a.Ikx("disabled",s.disabled)("required",s.required),a.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),a.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:pb,useExisting:r}]),a.qOj,a.TTD]}),r})(),e8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Nf],imports:[[pU,xI,bt],pU,xI]}),r})(),t8=(()=>{class r{constructor(n){this.authenticationService=n,this.hide=!0,this.signInRequest=new S$("","")}ngOnInit(){}onLogIn(){this.authenticationService.signIn(this.signInRequest)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(rU))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-sign-in"]],decls:18,vars:6,consts:[["fxLayout","column"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","disabled",""],["matInput","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"h1"),a._uU(2,"Sign in"),a.qZA(),a.TgZ(3,"mat-form-field",1),a.TgZ(4,"mat-label"),a._uU(5,"Enter your email"),a.qZA(),a.TgZ(6,"input",2),a.NdJ("ngModelChange",function(u){return s.signInRequest.email=u}),a.qZA(),a.TgZ(7,"button",3),a._UZ(8,"mat-icon"),a.qZA(),a.qZA(),a.TgZ(9,"mat-form-field",1),a.TgZ(10,"mat-label"),a._uU(11,"Enter your password"),a.qZA(),a.TgZ(12,"input",4),a.NdJ("ngModelChange",function(u){return s.signInRequest.password=u}),a.qZA(),a.TgZ(13,"button",5),a.NdJ("click",function(){return s.hide=!s.hide}),a.TgZ(14,"mat-icon"),a._uU(15),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"button",6),a.NdJ("click",function(){return s.onLogIn()}),a._uU(17,"Sign in"),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("ngModel",s.signInRequest.email),a.xp6(6),a.Q6J("type",s.hide?"password":"text")("ngModel",s.signInRequest.password),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",s.hide),a.xp6(2),a.Oqu(s.hide?"visibility_off":"visibility"))},directives:[fb,es,DI,SP,KP,gb,MI,Ax,ks,cU,Um],styles:[""]}),r})(),n8=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-start"]],decls:4,vars:0,consts:[["fxLayout","column","fxLayoutGap","16px"],["fxFlex","90","fxLayout","row","fxLayoutAlign","space-around center"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"app-toolbar"),a.TgZ(2,"div",1),a._UZ(3,"app-sign-in"),a.qZA(),a.qZA())},directives:[es,bs,CI,Tu,Ii,t8],styles:[""]}),r})();class fG{static sort(i){return i.pipe((0,rt.U)(n=>(n.sort((s,o)=>{const u=parseInt(s.name.split(" ")[1],10),f=parseInt(o.name.split(" ")[1],10),g=parseInt(s.name.split(" ")[3],10),w=parseInt(o.name.split(" ")[3],10);return u-f||g-w}),n.reverse())))}}let i8=(()=>{class r{constructor(n){this.fireStoreService=n}addGrade(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.addGrade(n,s)})}editGrade(n){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.editGrade(n)})}deleteGrade(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.deleteGrade(n,s)})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Tf))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),r8=(()=>{class r{constructor(n){this.gradeRepository=n,this.grades=[],this.image=new cc("","","")}ngOnInit(){}onCLick(n){let s=!1;this.grades.forEach(o=>{o.value===n&&o.author===Zs.getDisplayName()?(s=!0,this.gradeRepository.deleteGrade(this.image,o)):o.value!==n&&o.author===Zs.getDisplayName()&&(s=!0,o.value=n,this.gradeRepository.editGrade(this.image))}),s||(console.log("adding"),this.gradeRepository.addGrade(this.image,n))}countGrade(n){let s=0;return this.grades.forEach(o=>{o.value===n&&s++}),s}hasUsersGradeButtonStyle(n){let s="mat-stroked-button";return this.grades.forEach(o=>{o.value===n&&o.author===Zs.getDisplayName()&&(s="mat-raised-button")}),s}hasUserGradeColour(n){let s="";return this.grades.forEach(o=>{o.value===n&&o.author===Zs.getDisplayName()&&(s="primary")}),s}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(i8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-grade-bar"]],inputs:{grades:"grades",image:"image"},decls:21,vars:18,consts:[["fxLayoutGap","16px","fxLayoutAlign","space-around center","fxLayout","row","fxLayout.lt-sm","column"],["fxLayoutGap","16px","fxLayoutAlign","space-around center","fxLayout","row"],["mat-button","","fxLayoutAlign","center center",3,"ngClass","color","click"],["src","assets/SS.png","alt","",1,"grade"],["src","assets/S.png","alt","",1,"grade"],["src","assets/A.png","alt","",1,"grade"],["src","assets/B.png","alt","",1,"grade"],["src","assets/C.png","alt","",1,"grade"],["src","assets/D.png","alt","",1,"grade"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"div",1),a.TgZ(2,"button",2),a.NdJ("click",function(){return s.onCLick(6)}),a._UZ(3,"img",3),a._uU(4),a.qZA(),a.TgZ(5,"button",2),a.NdJ("click",function(){return s.onCLick(5)}),a._UZ(6,"img",4),a._uU(7),a.qZA(),a.TgZ(8,"button",2),a.NdJ("click",function(){return s.onCLick(4)}),a._UZ(9,"img",5),a._uU(10),a.qZA(),a.qZA(),a.TgZ(11,"div",1),a.TgZ(12,"button",2),a.NdJ("click",function(){return s.onCLick(3)}),a._UZ(13,"img",6),a._uU(14),a.qZA(),a.TgZ(15,"button",2),a.NdJ("click",function(){return s.onCLick(2)}),a._UZ(16,"img",7),a._uU(17),a.qZA(),a.TgZ(18,"button",2),a.NdJ("click",function(){return s.onCLick(1)}),a._UZ(19,"img",8),a._uU(20),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(2),a.s9C("color",s.hasUserGradeColour(6)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(6)),a.xp6(2),a.hij(" : ",s.countGrade(6)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(5)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(5)),a.xp6(2),a.hij(" : ",s.countGrade(5)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(4)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(4)),a.xp6(2),a.hij(" : ",s.countGrade(4)," "),a.xp6(2),a.s9C("color",s.hasUserGradeColour(3)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(3)),a.xp6(2),a.hij(" : ",s.countGrade(3)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(2)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(2)),a.xp6(2),a.hij(" : ",s.countGrade(2)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(1)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(1)),a.xp6(2),a.hij(" : ",s.countGrade(1)," "))},directives:[fb,bs,Ii,es,ks,wr,R2],styles:[""]}),r})(),QP=(()=>{class r{constructor(n){this.fireStoreService=n}addReply(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.addReply(n,s)})}editReply(n){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.editReply(n)})}deleteReply(n,s){return(0,Vi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.deleteReply(n,s)})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Tf))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const pG=function(){return{width:"300px"}},gG=function(){return{width:"400px"}};let s8=(()=>{class r{constructor(n,s){this.replyRepository=n,this.snackBar=s,this.image=new cc("","",""),this.text=""}ngOnInit(){}addReply(){this.replyRepository.addReply(this.image,this.text).then(()=>this.text="").catch(n=>{this.snackBar.open("Something went wrong.","Close"),console.log(n)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(QP),a.Y36(bx))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-reply-create"]],inputs:{image:"image"},decls:6,vars:9,consts:[[3,"ngStyle.lt-sm","ngStyle"],["appearance","outline",3,"ngStyle.lt-sm","ngStyle"],["fxFlex","75","fxLayoutAlign","center center","matInput","","placeholder","Enter your comment...","name","text","autocomplete","off",3,"ngModel","ngModelChange"],["fxFlex","25","mat-icon-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"form",0),a.TgZ(1,"mat-form-field",1),a.TgZ(2,"input",2),a.NdJ("ngModelChange",function(u){return s.text=u}),a.qZA(),a.TgZ(3,"button",3),a.NdJ("click",function(){return s.addReply()}),a.TgZ(4,"mat-icon"),a._uU(5,"send"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.Q6J("ngStyle.lt-sm",a.DdM(5,pG))("ngStyle",a.DdM(6,gG)),a.xp6(1),a.Q6J("ngStyle.lt-sm",a.DdM(7,pG))("ngStyle",a.DdM(8,gG)),a.xp6(1),a.Q6J("ngModel",s.text))},directives:[jP,RP,Tl,Bm,gs,DI,KP,gb,Tu,Ii,MI,Ax,ks,Um],styles:[""]}),r})();function o8(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){return a.CHM(n),a.oxw().switchEditing()}),a.TgZ(1,"mat-icon"),a._uU(2,"edit"),a.qZA(),a.qZA()}}function a8(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){return a.CHM(n),a.oxw().deleteReply()}),a.TgZ(1,"mat-icon"),a._uU(2,"delete"),a.qZA(),a.qZA()}}function l8(r,i){if(1&r&&(a.TgZ(0,"div",8),a._uU(1),a.qZA()),2&r){const n=a.oxw();a.xp6(1),a.hij(" ",n.reply.message," ")}}function c8(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"form",9),a.NdJ("keydown.enter",function(){return a.CHM(n),a.oxw().editReply()}),a.TgZ(2,"mat-form-field",10),a.TgZ(3,"input",11),a.NdJ("ngModelChange",function(o){return a.CHM(n),a.oxw().reply.message=o}),a.qZA(),a.TgZ(4,"button",12),a.NdJ("click",function(){return a.CHM(n),a.oxw().editReply()}),a.TgZ(5,"mat-icon"),a._uU(6,"send"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&r){const n=a.oxw();a.xp6(3),a.Q6J("ngModel",n.reply.message)}}const u8=function(){return{width:"300px"}},d8=function(){return{width:"400px"}};let h8=(()=>{class r{constructor(n,s){this.replyRepository=n,this.snackBar=s,this.reply=new FM("","",""),this.image=new cc("","",""),this.username=Zs.getDisplayName(),this.isEditing=!1}ngOnInit(){}isAuthor(){return this.reply.author===this.username}switchEditing(){this.isEditing=!this.isEditing}deleteReply(){this.replyRepository.deleteReply(this.image,this.reply).catch(()=>this.snackBar.open("Something went wrong.","Close"))}editReply(){this.replyRepository.editReply(this.image).then(()=>this.isEditing=!1).catch(()=>this.snackBar.open("Something went wrong.","Close"))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(QP),a.Y36(bx))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-reply-element"]],inputs:{reply:"reply",image:"image"},decls:11,vars:9,consts:[["fxLayoutGap","8px"],["fxLayout","column","fxLayoutGap","16px",1,"comment-container",3,"ngStyle.lt-sm","ngStyle"],["fxLayoutAlign","space-between center"],["mat-flat-button","","color","primary"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutGap","16px",4,"ngIf"],[4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutGap","16px"],[3,"keydown.enter"],["appearance","outline",1,"edit-comment-form"],["matInput","","fxFlex","90","name","editComment","fxLayoutAlign","start center","autocomplete","off",3,"ngModel","ngModelChange"],["mat-icon-button","","color","primary","fxLayoutAlign","center center",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.TgZ(1,"mat-card",1),a.TgZ(2,"div",2),a.TgZ(3,"button",3),a._uU(4),a.qZA(),a.TgZ(5,"div"),a.YNc(6,o8,3,0,"button",4),a.YNc(7,a8,3,0,"button",4),a.qZA(),a.qZA(),a.YNc(8,l8,2,1,"div",5),a.YNc(9,c8,7,1,"div",6),a.qZA(),a._UZ(10,"br"),a.qZA()),2&n&&(a.xp6(1),a.Q6J("ngStyle.lt-sm",a.DdM(7,u8))("ngStyle",a.DdM(8,d8)),a.xp6(3),a.Oqu(s.reply.author),a.xp6(2),a.Q6J("ngIf",s.isAuthor()),a.xp6(1),a.Q6J("ngIf",s.isAuthor()),a.xp6(1),a.Q6J("ngIf",!1===s.isEditing),a.xp6(1),a.Q6J("ngIf",s.isEditing&&s.isAuthor()))},directives:[bs,fb,es,Bm,gs,Ii,ks,gi,cU,Um,jP,RP,Tl,DI,KP,gb,Tu,MI,Ax],styles:[""]}),r})();function f8(r,i){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-reply-element",10),a.qZA()),2&r){const n=i.$implicit,s=a.oxw();a.xp6(1),a.Q6J("reply",n)("image",s.image)}}const p8=function(){return{width:"90vw","min-height":"1100px"}},g8=function(){return{width:"55vw","min-height":"1400px"}};let m8=(()=>{class r{constructor(n){this.router=n,this.image=new cc("","","")}ngOnInit(){}openBigPicture(){this.router.navigate([Rs.BIG_PICTURE],{queryParams:{drawable:this.image.drawable}})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Bi))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-dashboard-element"]],inputs:{image:"image"},decls:13,vars:11,consts:[["fxLayoutAlign","center"],["fxLayoutAlign","start center","fxLayout","column","fxLayoutGap","8px",3,"ngStyle.lt-md","ngStyle"],["color","accent"],["fxLayout","column","fxLayoutAlign","center center","fxLayoutGap","16px"],["mat-raised-button","","disabled","",2,"width","100%"],["alt","",1,"image",3,"src","click"],[3,"grades","image"],["fxLayoutGap","16px"],[4,"ngFor","ngForOf"],[3,"image"],[3,"reply","image"]],template:function(n,s){1&n&&(a._UZ(0,"br"),a.TgZ(1,"div",0),a.TgZ(2,"mat-card",1),a.TgZ(3,"mat-toolbar",2),a._uU(4),a.qZA(),a.TgZ(5,"div",3),a.TgZ(6,"button",4),a._uU(7),a.qZA(),a.TgZ(8,"img",5),a.NdJ("click",function(){return s.openBigPicture()}),a.qZA(),a._UZ(9,"app-grade-bar",6),a.TgZ(10,"div",7),a.YNc(11,f8,2,2,"div",8),a._UZ(12,"app-reply-create",9),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(2),a.Q6J("ngStyle.lt-md",a.DdM(9,p8))("ngStyle",a.DdM(10,g8)),a.xp6(2),a.Oqu(s.image.name),a.xp6(3),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH),a.xp6(1),a.Q6J("grades",s.image.grades)("image",s.image),a.xp6(2),a.Q6J("ngForOf",s.image.replies),a.xp6(1),a.Q6J("image",s.image))},directives:[Ii,fb,es,bs,Bm,gs,hb,ks,r8,Ht,s8,h8],styles:[""]}),r})();function _8(r,i){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-dashboard-element",3),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let y8=(()=>{class r{constructor(n){this.fireStoreService=n,this.elements=this.fireStoreService.sent}ngOnInit(){this.elements=fG.sort(this.elements)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Tf))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-dashboard"]],decls:4,vars:6,consts:[[3,"showUploadButton","showManagerButton","showLogoutButton"],["itemSize","1400","minBufferPx","2800","maxBufferPx","5600",2,"width","100vw","height","90vh"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"image"]],template:function(n,s){1&n&&(a._UZ(0,"app-toolbar",0),a.TgZ(1,"cdk-virtual-scroll-viewport",1),a.YNc(2,_8,2,1,"div",2),a.ALo(3,"async"),a.qZA()),2&n&&(a.Q6J("showUploadButton",!0)("showManagerButton",!0)("showLogoutButton",!0),a.xp6(2),a.Q6J("cdkVirtualForOf",a.lcZ(3,4,s.elements)))},directives:[CI,hx,PT,g1,m8],pipes:[Oa],styles:[""]}),r})(),JP=(()=>{class r{constructor(n){this.router=n}canActivate(){return!!this.isSignedIn()||(this.router.navigate([Rs.START]),!1)}isSignedIn(){return"true"===Zs.getIsSignedIn()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Bi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const v8=function(){return{"font-size":"14px","white-space":"nowrap",overflow:"hidden"}};let b8=(()=>{class r{constructor(n){this.imageRepository=n,this.image=new cc("","","")}ngOnInit(){}deleteItem(){this.imageRepository.deleteFromToSend(this.image)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(wx))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-to-send-element"]],inputs:{image:"image"},decls:11,vars:5,consts:[["fxLayoutAlign","start center","fxLayout","column","fxLayoutGap","8px",2,"width","45vw","height","680px"],["color","primary","fxLayoutAlign","center center",3,"ngStyle.lt-sm"],["alt","",1,"manager-image",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-toolbar",1),a._uU(2),a.qZA(),a.TgZ(3,"h4"),a._uU(4),a.qZA(),a._UZ(5,"img",2),a.TgZ(6,"button",3),a.NdJ("click",function(){return s.deleteItem()}),a.TgZ(7,"mat-icon"),a._uU(8,"delete"),a.qZA(),a._uU(9," Delete "),a.qZA(),a.qZA(),a._UZ(10,"br")),2&n&&(a.xp6(1),a.Q6J("ngStyle.lt-sm",a.DdM(4,v8)),a.xp6(1),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH))},directives:[fb,Ii,es,bs,hb,Bm,ks,Um],styles:[""]}),r})();function w8(r,i){if(1&r&&(a.TgZ(0,"div",5),a._UZ(1,"app-manager-to-send-element",6),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let C8=(()=>{class r{constructor(n){this.fireStoreService=n,this.toSendCollection=this.fireStoreService.toSend}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Tf))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-to-send"]],decls:8,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","center center","fxLayout","column"],["color","accent","fxLayoutAlign","center center","fxLayoutGap","16px"],["itemSize","680",2,"width","50vw","height","85vh"],["fxLayoutAlign","center",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["fxLayoutAlign","center"],[3,"image"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a.TgZ(1,"div",1),a.TgZ(2,"mat-toolbar",2),a._uU(3,"To Send"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"cdk-virtual-scroll-viewport",3),a.YNc(6,w8,2,1,"div",4),a.ALo(7,"async"),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("cdkVirtualForOf",a.lcZ(7,2,s.toSendCollection))("cdkVirtualForTemplateCacheSize",10))},directives:[es,Ii,hb,bs,hx,PT,g1,b8],pipes:[Oa],styles:[""]}),r})();const D8=function(){return{"font-size":"14px"}};let x8=(()=>{class r{constructor(n){this.imageRepository=n,this.image=new cc("","","")}ngOnInit(){}deleteItem(){this.imageRepository.deleteFromSent(this.image)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(wx))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-sent-element"]],inputs:{image:"image"},decls:11,vars:5,consts:[["fxLayoutAlign","start center","fxLayout","column","fxLayoutGap","8px",2,"width","45vw","height","680px"],["color","primary","fxLayoutAlign","center center",3,"ngStyle.lt-sm"],["alt","",1,"manager-image",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-toolbar",1),a._uU(2),a.qZA(),a.TgZ(3,"h4"),a._uU(4),a.qZA(),a._UZ(5,"img",2),a.TgZ(6,"button",3),a.NdJ("click",function(){return s.deleteItem()}),a.TgZ(7,"mat-icon"),a._uU(8,"delete"),a.qZA(),a._uU(9," Delete "),a.qZA(),a.qZA(),a._UZ(10,"br")),2&n&&(a.xp6(1),a.Q6J("ngStyle.lt-sm",a.DdM(4,D8)),a.xp6(1),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH))},directives:[fb,Ii,es,bs,hb,Bm,ks,Um],styles:[""]}),r})();function E8(r,i){if(1&r&&(a.TgZ(0,"div",5),a._UZ(1,"app-manager-sent-element",6),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let M8=(()=>{class r{constructor(n){this.fireStoreService=n,this.sentCollection=this.fireStoreService.sent}ngOnInit(){this.sentCollection=fG.sort(this.sentCollection)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Tf))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-sent"]],decls:8,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","center center","fxLayout","column"],["color","accent","fxLayoutAlign","center center","fxLayoutGap","16px"],["itemSize","680",2,"width","50vw","height","85vh"],["fxLayoutAlign","center",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["fxLayoutAlign","center"],[3,"image"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a.TgZ(1,"div",1),a.TgZ(2,"mat-toolbar",2),a._uU(3,"Sent"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"cdk-virtual-scroll-viewport",3),a.YNc(6,E8,2,1,"div",4),a.ALo(7,"async"),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("cdkVirtualForOf",a.lcZ(7,2,s.sentCollection))("cdkVirtualForTemplateCacheSize",10))},directives:[es,Ii,hb,bs,hx,PT,g1,x8],pipes:[Oa],styles:[""]}),r})();const T8=[{path:Rs.EMPTY,redirectTo:Rs.START,pathMatch:"full"},{path:Rs.START,component:n8},{path:Rs.DASHBOARD,component:y8,canActivate:[JP]},{path:Rs.MANAGER,component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager"]],decls:5,vars:3,consts:[["fxLayout","column","fxLayoutGap","16px"],[3,"showUploadButton","showDrawButton","showBackButton"],["fxFlex","90","fxLayout","row","fxLayoutAlign","center center"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"app-toolbar",1),a.TgZ(2,"div",2),a._UZ(3,"app-manager-to-send"),a._UZ(4,"app-manager-sent"),a.qZA(),a.qZA()),2&n&&(a.xp6(1),a.Q6J("showUploadButton",!0)("showDrawButton",!0)("showBackButton",!0))},directives:[es,bs,CI,Tu,Ii,C8,M8],styles:[""]}),r})(),canActivate:[JP]},{path:Rs.BIG_PICTURE,component:(()=>{class r{constructor(n){this.route=n,this.drawable=""}ngOnInit(){this.drawable=this.route.snapshot.queryParams.drawable}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Xa))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-big-picture"]],inputs:{drawable:"drawable"},decls:4,vars:2,consts:[["fxLayout","column","fxLayoutGap","16px"],[3,"showBackButton"],["fxFlex","90","fxLayoutAlign","center center"],["alt","",2,"max-height","90vh","max-width","100vw",3,"src"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"app-toolbar",1),a.TgZ(2,"div",2),a._UZ(3,"img",3),a.qZA(),a.qZA()),2&n&&(a.xp6(1),a.Q6J("showBackButton",!0),a.xp6(2),a.s9C("src",s.drawable,a.LSH))},directives:[es,bs,CI,Tu,Ii],styles:[""]}),r})(),canActivate:[JP]}];let I8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[hw.forRoot(T8)],hw]}),r})(),k8=(()=>{class r{constructor(){this.title="Daily Girl"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"mat-app-background"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"router-outlet"),a.qZA())},directives:[lh],styles:[""]}),r})(),q8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ni,bt,Jv,kf],kf,bt]}),r})(),$8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})(),oZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[hI,Lf,bt,hP,Ni],hI,bt,hP,$8]}),r})(),_Z=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[hI,bt],hI,bt]}),r})();const kZ={provide:new a.OlP("mat-select-scroll-strategy"),deps:[as],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let LG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[kZ],imports:[[Ni,rb,v2,bt],kf,xI,v2,bt]}),r})(),$Z=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Lf,bt],bt]}),r})(),Ix=(()=>{class r{constructor(){this.changes=new ke.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(n,s){return`${n} \u2013 ${s}`}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const E5={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[as],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let F5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Ix,E5],imports:[[Ni,pI,rb,I1,nb,bt],kf]}),r})();const r3=new a.OlP("mat-chips-default-options"),$5={separatorKeyCodes:[13]};let Z5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Nf,{provide:r3,useValue:$5}],imports:[[bt]]}),r})();const X5={provide:new a.OlP("mat-tooltip-scroll-strategy"),deps:[as],useFactory:function(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}};let l3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[X5],imports:[[I1,Ni,rb,bt],bt,kf]}),r})(),vW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[NT]]}),r})(),NW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[vW,bt],bt]}),r})(),Fx=(()=>{class r{constructor(){this.changes=new ke.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,s,o)=>{if(0==o||0==s)return`0 of ${o}`;const u=n*s;return`${u+1} \u2013 ${u<(o=Math.max(o,0))?Math.min(u+s,o):u+s} of ${o}`}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const YW={provide:Fx,deps:[[new a.FiY,new a.tp0,Fx]],useFactory:function(r){return r||new Fx}};let KW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[YW],imports:[[Ni,pI,LG,l3,bt]]}),r})(),v3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),u7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[v3,Lf,bt,gx],v3,bt]}),r})(),m7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),k7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ni,bt,m7,nb]]}),r})();const S3={provide:new a.OlP("mat-menu-scroll-strategy"),deps:[as],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let I3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[S3],imports:[bt]}),r})(),V7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[S3],imports:[[Ni,bt,Lf,rb,I3],kf,bt,I3]}),r})(),yK=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ni,bt,nb,Lf,gx,I1],bt]}),r})(),$3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),IK=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Lf,bt,gx,$3],bt,$3]}),r})(),kK=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[pI,w$,q8,F$,oZ,_Z,e8,xI,LG,$Z,F5,Z5,l3,NW,KW,t$,A2,u7,l$,k7,V7,hq,NT,yK,IK]}),r})();const Z3_firebaseConfig={apiKey:"AIzaSyAGgVzKLjB3cOhtQBb3_89p-li2yPq7LWM",authDomain:"daily-girl-v2.firebaseapp.com",databaseURL:"https://daily-girl-v2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"daily-girl-v2",storageBucket:"daily-girl-v2.appspot.com",messagingSenderId:"873670599787",appId:"1:873670599787:web:eb04fb86de2b537764bd2e",measurementId:"G-6N8DVMJ878"};let nH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ct]]}),r})(),JQ=(()=>{class r{constructor(n,s){Ns(s)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(n,s=[]){return{ngModule:r,providers:n.serverLoaded?[{provide:oi,useValue:Object.assign(Object.assign({},ch),n)},{provide:mw,useValue:s,multi:!0},{provide:oc,useValue:!0}]:[{provide:oi,useValue:Object.assign(Object.assign({},ch),n)},{provide:mw,useValue:s,multi:!0}]}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(oc),a.LFG(a.Lbi))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Xp,B2,nH],Xp,B2,nH]}),r})(),XQ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r,bootstrap:[k8]}),r.\u0275inj=a.cJS({providers:[wx,QP,bB,Tf],imports:[[hp,I8,hY,kK,qs.hO.initializeApp(Z3_firebaseConfig),Xp,K4,u6,JQ]]}),r})();(0,a.G48)(),iu().bootstrapModule(XQ).catch(r=>console.error(r))},4762:(Ye,xe,N)=>{"use strict";N.d(xe,{ZT:()=>ae,pi:()=>U,_T:()=>oe,mG:()=>W,Jh:()=>Y,XA:()=>V,CR:()=>K,ev:()=>he});var a=function(ue,ce){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,fe){Ce.__proto__=fe}||function(Ce,fe){for(var me in fe)Object.prototype.hasOwnProperty.call(fe,me)&&(Ce[me]=fe[me])})(ue,ce)};function ae(ue,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function Ce(){this.constructor=ue}a(ue,ce),ue.prototype=null===ce?Object.create(ce):(Ce.prototype=ce.prototype,new Ce)}var U=function(){return(U=Object.assign||function(ce){for(var Ce,fe=1,me=arguments.length;fe<me;fe++)for(var ee in Ce=arguments[fe])Object.prototype.hasOwnProperty.call(Ce,ee)&&(ce[ee]=Ce[ee]);return ce}).apply(this,arguments)};function oe(ue,ce){var Ce={};for(var fe in ue)Object.prototype.hasOwnProperty.call(ue,fe)&&ce.indexOf(fe)<0&&(Ce[fe]=ue[fe]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(fe=Object.getOwnPropertySymbols(ue);me<fe.length;me++)ce.indexOf(fe[me])<0&&Object.prototype.propertyIsEnumerable.call(ue,fe[me])&&(Ce[fe[me]]=ue[fe[me]])}return Ce}function W(ue,ce,Ce,fe){return new(Ce||(Ce=Promise))(function(ee,Pe){function Qe(ht){try{lt(fe.next(ht))}catch(ut){Pe(ut)}}function Rt(ht){try{lt(fe.throw(ht))}catch(ut){Pe(ut)}}function lt(ht){ht.done?ee(ht.value):function(ee){return ee instanceof Ce?ee:new Ce(function(Pe){Pe(ee)})}(ht.value).then(Qe,Rt)}lt((fe=fe.apply(ue,ce||[])).next())})}function Y(ue,ce){var fe,me,ee,Pe,Ce={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return Pe={next:Qe(0),throw:Qe(1),return:Qe(2)},"function"==typeof Symbol&&(Pe[Symbol.iterator]=function(){return this}),Pe;function Qe(lt){return function(ht){return function(lt){if(fe)throw new TypeError("Generator is already executing.");for(;Ce;)try{if(fe=1,me&&(ee=2&lt[0]?me.return:lt[0]?me.throw||((ee=me.return)&&ee.call(me),0):me.next)&&!(ee=ee.call(me,lt[1])).done)return ee;switch(me=0,ee&&(lt=[2&lt[0],ee.value]),lt[0]){case 0:case 1:ee=lt;break;case 4:return Ce.label++,{value:lt[1],done:!1};case 5:Ce.label++,me=lt[1],lt=[0];continue;case 7:lt=Ce.ops.pop(),Ce.trys.pop();continue;default:if(!(ee=(ee=Ce.trys).length>0&&ee[ee.length-1])&&(6===lt[0]||2===lt[0])){Ce=0;continue}if(3===lt[0]&&(!ee||lt[1]>ee[0]&&lt[1]<ee[3])){Ce.label=lt[1];break}if(6===lt[0]&&Ce.label<ee[1]){Ce.label=ee[1],ee=lt;break}if(ee&&Ce.label<ee[2]){Ce.label=ee[2],Ce.ops.push(lt);break}ee[2]&&Ce.ops.pop(),Ce.trys.pop();continue}lt=ce.call(ue,Ce)}catch(ht){lt=[6,ht],me=0}finally{fe=ee=0}if(5&lt[0])throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}([lt,ht])}}}function V(ue){var ce="function"==typeof Symbol&&Symbol.iterator,Ce=ce&&ue[ce],fe=0;if(Ce)return Ce.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&fe>=ue.length&&(ue=void 0),{value:ue&&ue[fe++],done:!ue}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(ue,ce){var Ce="function"==typeof Symbol&&ue[Symbol.iterator];if(!Ce)return ue;var me,Pe,fe=Ce.call(ue),ee=[];try{for(;(void 0===ce||ce-- >0)&&!(me=fe.next()).done;)ee.push(me.value)}catch(Qe){Pe={error:Qe}}finally{try{me&&!me.done&&(Ce=fe.return)&&Ce.call(fe)}finally{if(Pe)throw Pe.error}}return ee}function he(ue,ce,Ce){if(Ce||2===arguments.length)for(var ee,fe=0,me=ce.length;fe<me;fe++)(ee||!(fe in ce))&&(ee||(ee=Array.prototype.slice.call(ce,0,fe)),ee[fe]=ce[fe]);return ue.concat(ee||Array.prototype.slice.call(ce))}},8239:(Ye,xe,N)=>{"use strict";function a(U,oe,le,J,q,W,Y){try{var B=U[W](Y),$=B.value}catch(V){return void le(V)}B.done?oe($):Promise.resolve($).then(J,q)}function ae(U){return function(){var oe=this,le=arguments;return new Promise(function(J,q){var W=U.apply(oe,le);function Y($){a(W,J,q,Y,B,"next",$)}function B($){a(W,J,q,Y,B,"throw",$)}Y(void 0)})}}N.d(xe,{Z:()=>ae})}},Ye=>{Ye(Ye.s=4042)}]);
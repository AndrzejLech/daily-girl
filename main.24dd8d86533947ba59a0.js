(self.webpackChunkdaily_girl_v2=self.webpackChunkdaily_girl_v2||[]).push([[179],{8255:Ye=>{function De(N){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+N+"'");throw a.code="MODULE_NOT_FOUND",a})}De.keys=()=>[],De.resolve=De,De.id=8255,Ye.exports=De},7716:(Ye,De,N)=>{"use strict";N.d(De,{deG:()=>ND,tb:()=>Hm,AFp:()=>iv,ip1:()=>Ea,CZH:()=>Qs,hGG:()=>w1,z2F:()=>Zm,sBO:()=>bS,Sil:()=>zm,_Vd:()=>fl,EJc:()=>xT,SBq:()=>ws,qLn:()=>_,vpe:()=>So,gxx:()=>Ni,tBr:()=>$a,XFs:()=>et,OlP:()=>wn,zs3:()=>yt,ZZ4:()=>dm,aQg:()=>Oy,soG:()=>rv,YKP:()=>mm,v3s:()=>p1,h0i:()=>gc,PXZ:()=>d1,R0b:()=>vr,FiY:()=>Ns,Lbi:()=>DT,g9A:()=>ET,n_E:()=>Im,Qsj:()=>cm,FYo:()=>mc,JOm:()=>Us,Tiy:()=>KC,q3G:()=>An,tp0:()=>Ci,EAV:()=>dE,Rgc:()=>Qi,dDg:()=>FT,DyG:()=>na,q4F:()=>ky,GfV:()=>dS,s_b:()=>gm,ifc:()=>Ve,eFA:()=>UT,G48:()=>c1,Gpc:()=>$,f3M:()=>Gd,X6Q:()=>eE,_c5:()=>QT,VLi:()=>l1,c2e:()=>z0,zSh:()=>Bp,wAp:()=>ht,vHH:()=>ye,EiD:()=>fu,mCW:()=>$l,qzn:()=>cu,JVY:()=>p_,pB0:()=>Ja,eBb:()=>uu,L6k:()=>bp,LAX:()=>yo,cg1:()=>fy,Tjo:()=>fE,kL8:()=>DC,yhl:()=>ca,dqk:()=>hn,sIi:()=>zp,CqO:()=>Xw,QGY:()=>Jw,F4k:()=>cM,RDi:()=>Vg,AaK:()=>W,z3N:()=>_o,qOj:()=>Iw,TTD:()=>Oi,_Bn:()=>lS,xp6:()=>tc,uIk:()=>qp,Gre:()=>pC,ekj:()=>oC,Suo:()=>rT,Xpm:()=>Kt,lG2:()=>vd,Yz7:()=>dn,cJS:()=>Ht,oAB:()=>Ml,Yjl:()=>Sl,Y36:()=>yh,_UZ:()=>Ww,GkF:()=>aM,BQk:()=>Qw,ynx:()=>Kw,qZA:()=>Zw,TgZ:()=>$w,EpF:()=>lM,n5z:()=>ip,Ikx:()=>Mh,LFG:()=>pn,$8M:()=>Xg,$Z:()=>oM,NdJ:()=>sy,CRH:()=>Om,kcU:()=>_b,O4$:()=>RD,oxw:()=>Qp,ALo:()=>an,lcZ:()=>Sm,Hsn:()=>ma,F$t:()=>nC,Q6J:()=>ry,s9C:()=>oy,VKq:()=>Zt,WLB:()=>T0,iGM:()=>O0,MAs:()=>X_,CHM:()=>Gf,LSH:()=>Qd,kYT:()=>yd,Udp:()=>Xp,WFA:()=>eC,d8E:()=>Sh,YNc:()=>Nw,_uU:()=>cC,Oqu:()=>tm,hij:()=>Fu,Gf:()=>iT});var a=N(9765),oe=N(5319),U=N(7574),se=N(6682),ae=N(8819);function J(l){for(let c in l)if(l[c]===J)return c;throw Error("Could not find renamed property on target object.")}function q(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function W(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(W).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Y(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const B=J({__forward_ref__:J});function $(l){return l.__forward_ref__=$,l.toString=function(){return W(this())},l}function V(l){return K(l)?l():l}function K(l){return"function"==typeof l&&l.hasOwnProperty(B)&&l.__forward_ref__===$}class ye extends Error{constructor(c,d){super(function(l,c){return`${l?`NG0${l}: `:""}${c}`}(c,d)),this.code=c}}function ve(l){return"string"==typeof l?l:null==l?"":String(l)}function ke(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ve(l)}function Ut(l,c){const d=c?` in ${c}`:"";throw new ye("201",`No provider for ${ke(l)} found${d}`)}function ut(l,c){null==l&&function(l,c,d,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,l,null,"!=")}function dn(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Ht(l){return{providers:l.providers||[],imports:l.imports||[]}}function _i(l){return ro(l,so)||ro(l,zo)}function ro(l,c){return l.hasOwnProperty(c)?l[c]:null}function Go(l){return l&&(l.hasOwnProperty(jo)||l.hasOwnProperty(ka))?l[jo]:null}const so=J({\u0275prov:J}),jo=J({\u0275inj:J}),zo=J({ngInjectableDef:J}),ka=J({ngInjectorDef:J});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let yi;function ir(l){const c=yi;return yi=l,c}function Et(l,c,d){const h=_i(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&et.Optional?null:void 0!==c?c:void Ut(W(l),"Injector")}function Wt(l){return{toString:l}.toString()}var zt=(()=>((zt=zt||{})[zt.OnPush=0]="OnPush",zt[zt.Default=1]="Default",zt))(),Ve=(()=>((Ve=Ve||{})[Ve.Emulated=0]="Emulated",Ve[Ve.None=2]="None",Ve[Ve.ShadowDom=3]="ShadowDom",Ve))();const dt="undefined"!=typeof globalThis&&globalThis,cs="undefined"!=typeof window&&window,Yo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,us="undefined"!=typeof global&&global,hn=dt||us||cs||Yo,nn={},z=[],H=J({\u0275cmp:J}),ie=J({\u0275dir:J}),pe=J({\u0275pipe:J}),re=J({\u0275mod:J}),Le=J({\u0275loc:J}),Qe=J({\u0275fac:J}),xt=J({__NG_ELEMENT_ID__:J});let jt=0;function Kt(l){return Wt(()=>{const d={},h={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===zt.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||z,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Ve.Emulated,id:"c",styles:l.styles||z,_:null,setInput:null,schemas:l.schemas||null,tView:null},p=l.directives,m=l.features,b=l.pipes;return h.id+=jt++,h.inputs=kf(l.inputs,d),h.outputs=kf(l.outputs),m&&m.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Gn):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(Xn):null,h})}function Gn(l){return vi(l)||function(l){return l[ie]||null}(l)}function Xn(l){return function(l){return l[pe]||null}(l)}const qo={};function Ml(l){return Wt(()=>{const c={type:l.type,bootstrap:l.bootstrap||z,declarations:l.declarations||z,imports:l.imports||z,exports:l.exports||z,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(qo[l.id]=l.type),c})}function yd(l,c){return Wt(()=>{const d=Ur(l,!0);d.declarations=c.declarations||z,d.imports=c.imports||z,d.exports=c.exports||z})}function kf(l,c){if(null==l)return nn;const d={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),d[p]=h,c&&(c[p]=m)}return d}const vd=Kt;function Sl(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function vi(l){return l[H]||null}function Ur(l,c){const d=l[re]||null;if(!d&&!0===c)throw new Error(`Type ${W(l)} does not have '\u0275mod' property.`);return d}function fs(l){return Array.isArray(l)&&"object"==typeof l[1]}function jr(l){return Array.isArray(l)&&!0===l[1]}function Hc(l){return 0!=(8&l.flags)}function Gc(l){return 2==(2&l.flags)}function Il(l){return 1==(1&l.flags)}function sr(l){return null!==l.template}function ti(l){return 0!=(512&l[2])}function Ko(l,c){return l.hasOwnProperty(Qe)?l[Qe]:null}class Bg{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function Oi(){return Qo}function Qo(l){return l.type.prototype.ngOnChanges&&(l.setInput=Ff),lb}function lb(){const l=lo(this),c=null==l?void 0:l.current;if(c){const d=l.previous;if(d===nn)l.previous=c;else for(let h in c)d[h]=c[h];l.current=null,this.ngOnChanges(c)}}function Ff(l,c,d,h){const p=lo(l)||function(l,c){return l[Pf]=c}(l,{previous:nn,current:null}),m=p.current||(p.current={}),b=p.previous,C=this.declaredInputs[d],D=b[C];m[C]=new Bg(D&&D.currentValue,c,b===nn),l[h]=c}Oi.ngInherit=!0;const Pf="__ngSimpleChanges__";function lo(l){return l[Pf]||null}const Yc="http://www.w3.org/2000/svg";let $c;function Vg(l){$c=l}function yn(l){return!!l.listen}const co={createRenderer:(l,c)=>void 0!==$c?$c:"undefined"!=typeof document?document:void 0};function vn(l){for(;Array.isArray(l);)l=l[0];return l}function Rl(l,c){return vn(c[l])}function qi(l,c){return vn(c[l.index])}function Ed(l,c){return l.data[c]}function Jo(l,c){return l[c]}function or(l,c){const d=c[l];return fs(d)?d:d[0]}function Vf(l){return 4==(4&l[2])}function Gg(l){return 128==(128&l[2])}function Pa(l,c){return null==c?null:l[c]}function Dd(l){l[18]=0}function Fl(l,c){l[5]+=c;let d=l,h=l[3];for(;null!==h&&(1===c&&1===d[5]||-1===c&&0===d[5]);)h[5]+=c,d=h,h=h[3]}const gt={lFrame:Yg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Hf(){return gt.bindingsEnabled}function Me(){return gt.lFrame.lView}function Lt(){return gt.lFrame.tView}function Gf(l){return gt.lFrame.contextLView=l,l[8]}function gn(){let l=jf();for(;null!==l&&64===l.type;)l=l.parent;return l}function jf(){return gt.lFrame.currentTNode}function zr(l,c){const d=gt.lFrame;d.currentTNode=l,d.isParent=c}function Md(){return gt.lFrame.isParent}function Pl(){gt.lFrame.isParent=!1}function Nl(){return gt.isInCheckNoChangesMode}function Sd(l){gt.isInCheckNoChangesMode=l}function jn(){const l=gt.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function ho(){return gt.lFrame.bindingIndex++}function xr(l){const c=gt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function jg(l,c){const d=gt.lFrame;d.bindingIndex=d.bindingRootIndex=l,qf(c)}function qf(l){gt.lFrame.currentDirectiveIndex=l}function Wc(l){const c=gt.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function zg(){return gt.lFrame.currentQueryIndex}function Kc(l){gt.lFrame.currentQueryIndex=l}function $f(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Ad(l,c,d){if(d&et.SkipSelf){let p=c,m=l;for(;!(p=p.parent,null!==p||d&et.Host||(p=$f(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;c=p,l=m}const h=gt.lFrame=La();return h.currentTNode=c,h.lView=l,!0}function Id(l){const c=La(),d=l[1];gt.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function La(){const l=gt.lFrame,c=null===l?null:l.child;return null===c?Yg(l):c}function Yg(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function qg(){const l=gt.lFrame;return gt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const pb=qg;function Qc(){const l=qg();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function $i(){return gt.lFrame.selectedIndex}function Ll(l){gt.lFrame.selectedIndex=l}function zn(){const l=gt.lFrame;return Ed(l.tView,l.selectedIndex)}function RD(){gt.lFrame.currentNamespace=Yc}function _b(){gt.lFrame.currentNamespace=null}function Bl(l,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const m=l.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:A}=m;b&&(l.contentHooks||(l.contentHooks=[])).push(-d,b),C&&((l.contentHooks||(l.contentHooks=[])).push(d,C),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,C)),D&&(l.viewHooks||(l.viewHooks=[])).push(-d,D),T&&((l.viewHooks||(l.viewHooks=[])).push(d,T),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,T)),null!=A&&(l.destroyHooks||(l.destroyHooks=[])).push(d,A)}}function Vl(l,c,d){$g(l,c,3,d)}function kd(l,c,d,h){(3&l[2])===d&&$g(l,c,d,h)}function Wf(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function $g(l,c,d,h){const m=null!=h?h:-1,b=c.length-1;let C=0;for(let D=void 0!==h?65535&l[18]:0;D<b;D++)if("number"==typeof c[D+1]){if(C=c[D],null!=h&&C>=h)break}else c[D]<0&&(l[18]+=65536),(C<m||-1==m)&&(Kf(l,d,c,D),l[18]=(4294901760&l[18])+D+2),D++}function Kf(l,c,d,h){const p=d[h]<0,m=d[h+1],C=l[p?-d[h]:d[h]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class Rd{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Os(l,c,d){const h=yn(l);let p=0;for(;p<d.length;){const m=d[p];if("number"==typeof m){if(0!==m)break;p++;const b=d[p++],C=d[p++],D=d[p++];h?l.setAttribute(c,C,D,b):c.setAttributeNS(b,C,D)}else{const b=m,C=d[++p];Fs(b)?h&&l.setProperty(c,b,C):h?l.setAttribute(c,b,C):c.setAttribute(b,C),p++}}return p}function Wg(l){return 3===l||4===l||6===l}function Fs(l){return 64===l.charCodeAt(0)}function Xo(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?d=p:0===d||Kg(l,d,p,null,-1===d||2===d?c[++h]:null)}}return l}function Kg(l,c,d,h,p){let m=0,b=l.length;if(-1===c)b=-1;else for(;m<l.length;){const C=l[m++];if("number"==typeof C){if(C===c){b=-1;break}if(C>c){b=m-1;break}}}for(;m<l.length;){const C=l[m];if("number"==typeof C)break;if(C===d){if(null===h)return void(null!==p&&(l[m+1]=p));if(h===l[m+1])return void(l[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==b&&(l.splice(b,0,c),m=b+1),l.splice(m++,0,d),null!==h&&l.splice(m++,0,h),null!==p&&l.splice(m++,0,p)}function Mn(l){return-1!==l}function Ba(l){return 32767&l}function Xc(l,c){let d=function(l){return l>>16}(l),h=c;for(;d>0;)h=h[15],d--;return h}let Od=!0;function Fd(l){const c=Od;return Od=l,c}let np=0;function fo(l,c){const d=Qt(l,c);if(-1!==d)return d;const h=c[1];h.firstCreatePass&&(l.injectorIndex=c.length,eu(h.data,l),eu(c,null),eu(h.blueprint,null));const p=je(l,c),m=l.injectorIndex;if(Mn(p)){const b=Ba(p),C=Xc(p,c),D=C[1].data;for(let T=0;T<8;T++)c[m+T]=C[b+T]|D[b+T]}return c[m+8]=p,m}function eu(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Qt(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function je(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,h=null,p=c;for(;null!==p;){const m=p[1],b=m.type;if(h=2===b?m.declTNode:1===b?p[6]:null,null===h)return-1;if(d++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return-1}function Re(l,c,d){!function(l,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(xt)&&(h=d[xt]),null==h&&(h=d[xt]=np++);const p=255&h;c.data[l+(p>>5)]|=1<<p}(l,c,d)}function Zi(l,c,d){if(d&et.Optional)return l;Ut(c,"NodeInjector")}function Va(l,c,d,h){if(d&et.Optional&&void 0===h&&(h=null),0==(d&(et.Self|et.Host))){const p=l[9],m=ir(void 0);try{return p?p.get(c,h,d&et.Optional):Et(c,h,d&et.Optional)}finally{ir(m)}}return Zi(h,c,d)}function Ul(l,c,d,h=et.Default,p){if(null!==l){const m=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(xt)?l[xt]:void 0;return"number"==typeof c?c>=0?255&c:bb:c}(d);if("function"==typeof m){if(!Ad(c,l,h))return h&et.Host?Zi(p,d,h):Va(c,d,h,p);try{const b=m(h);if(null!=b||h&et.Optional)return b;Ut(d)}finally{pb()}}else if("number"==typeof m){let b=null,C=Qt(l,c),D=-1,T=h&et.Host?c[16][6]:null;for((-1===C||h&et.SkipSelf)&&(D=-1===C?je(l,c):c[C+8],-1!==D&&tu(h,!1)?(b=c[1],C=Ba(D),c=Xc(D,c)):C=-1);-1!==C;){const A=c[1];if(Jg(m,C,A.data)){const R=FD(C,c,d,b,h,T);if(R!==wi)return R}D=c[C+8],-1!==D&&tu(h,c[1].data[C+8]===T)&&Jg(m,C,c)?(b=A,C=Ba(D),c=Xc(D,c)):C=-1}}}return Va(c,d,h,p)}const wi={};function bb(){return new Ua(gn(),Me())}function FD(l,c,d,h,p,m){const b=c[1],C=b.data[l+8],A=ea(C,b,d,null==h?Gc(C)&&Od:h!=b&&0!=(3&C.type),p&et.Host&&m===C);return null!==A?cn(c,b,A,C):wi}function ea(l,c,d,h,p){const m=l.providerIndexes,b=c.data,C=1048575&m,D=l.directiveStart,A=m>>20,P=p?C+A:l.directiveEnd;for(let G=h?C:C+A;G<P;G++){const Z=b[G];if(G<D&&d===Z||G>=D&&Z.type===d)return G}if(p){const G=b[D];if(G&&sr(G)&&G.type===d)return D}return null}function cn(l,c,d,h){let p=l[d];const m=c.data;if(function(l){return l instanceof Rd}(p)){const b=p;b.resolving&&function(l,c){throw new ye("200",`Circular dependency in DI detected for ${l}`)}(ke(m[d]));const C=Fd(b.canSeeViewProviders);b.resolving=!0;const D=b.injectImpl?ir(b.injectImpl):null;Ad(l,h,et.Default);try{p=l[d]=b.factory(void 0,m,l,h),c.firstCreatePass&&d>=h.directiveStart&&function(l,c,d){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=c.type.prototype;if(h){const b=Qo(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,b)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,p),m&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,m),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,m))}(d,m[d],c)}finally{null!==D&&ir(D),Fd(C),b.resolving=!1,pb()}}return p}function Jg(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function tu(l,c){return!(l&et.Self||l&et.Host&&c)}class Ua{constructor(c,d){this._tNode=c,this._lView=d}get(c,d){return Ul(this._tNode,this._lView,c,void 0,d)}}function ip(l){return Wt(()=>{const c=l.prototype.constructor,d=c[Qe]||Nd(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const m=p[Qe]||Nd(p);if(m&&m!==d)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Nd(l){return K(l)?()=>{const c=Nd(V(l));return c&&c()}:Ko(l)}function Xg(l){return function(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const h=d.length;let p=0;for(;p<h;){const m=d[p];if(Wg(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof d[p];)p++;else{if(m===c)return d[p+1];p+=2}}}return null}(gn(),l)}const qr="__parameters__";function Zr(l,c,d){return Wt(()=>{const h=function(l){return function(...d){if(l){const h=l(...d);for(const p in h)this[p]=h[p]}}}(c);function p(...m){if(this instanceof p)return h.apply(this,m),this;const b=new p(...m);return C.annotation=b,C;function C(D,T,A){const R=D.hasOwnProperty(qr)?D[qr]:Object.defineProperty(D,qr,{value:[]})[qr];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(b),D}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class wn{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=dn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ND=new wn("AnalyzeForEntryComponents"),na=Function;function Kr(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let h=l[d];Array.isArray(h)?(c===l&&(c=l.slice(0,d)),Kr(h,c)):c!==l&&c.push(h)}return c}function Ps(l,c){l.forEach(d=>Array.isArray(d)?Ps(d,c):c(d))}function za(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function ia(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function ra(l,c){const d=[];for(let h=0;h<l;h++)d.push(c);return d}function Tn(l,c,d){let h=sa(l,c);return h>=0?l[1|h]=d:(h=~h,function(l,c,d,h){let p=l.length;if(p==c)l.push(d,h);else if(1===p)l.push(h,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=h}}(l,h,c,d)),h}function Yn(l,c){const d=sa(l,c);if(d>=0)return l[1|d]}function sa(l,c){return function(l,c,d){let h=0,p=l.length>>d;for(;p!==h;){const m=h+(p-h>>1),b=l[m<<d];if(c===b)return m<<d;b>c?p=m:h=m+1}return~(p<<d)}(l,c,1)}const nu={},hp="__NG_DI_FLAG__",oa="ngTempTokenPath",o_=/\n/gm,pp="__source",Gl=J({provide:String,useValue:J});let aa;function Dt(l){const c=aa;return aa=l,c}function mp(l,c=et.Default){if(void 0===aa)throw new Error("inject() must be called from an injection context");return null===aa?Et(l,void 0,c):aa.get(l,c&et.Optional?null:void 0,c)}function pn(l,c=et.Default){return(yi||mp)(V(l),c)}const Gd=pn;function la(l){const c=[];for(let d=0;d<l.length;d++){const h=V(l[d]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,m=et.Default;for(let b=0;b<h.length;b++){const C=h[b],D=l_(C);"number"==typeof D?-1===D?p=C.token:m|=D:p=C}c.push(pn(p,m))}else c.push(pn(h))}return c}function iu(l,c){return l[hp]=c,l.prototype[hp]=c,l}function l_(l){return l[hp]}function Mr(l,c,d,h){const p=l[oa];throw c[pp]&&p.unshift(c[pp]),l.message=function(l,c,d,h=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let p=W(c);if(Array.isArray(c))p=c.map(W).join(" -> ");else if("object"==typeof c){let m=[];for(let b in c)if(c.hasOwnProperty(b)){let C=c[b];m.push(b+":"+("string"==typeof C?JSON.stringify(C):W(C)))}p=`{${m.join(", ")}}`}return`${d}${h?"("+h+")":""}[${p}]: ${l.replace(o_,"\n  ")}`}("\n"+l.message,p,d,h),l.ngTokenPath=p,l[oa]=null,l}const $a=iu(Zr("Inject",l=>({token:l})),-1),Ns=iu(Zr("Optional"),8),Ci=iu(Zr("SkipSelf"),4);let Yl;function mo(l){var c;return(null===(c=function(){if(void 0===Yl&&(Yl=null,hn.trustedTypes))try{Yl=hn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return Yl}())||void 0===c?void 0:c.createHTML(l))||l}class go{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Tb extends go{getTypeName(){return"HTML"}}class Ab extends go{getTypeName(){return"Style"}}class qd extends go{getTypeName(){return"Script"}}class Ib extends go{getTypeName(){return"URL"}}class kb extends go{getTypeName(){return"ResourceURL"}}function _o(l){return l instanceof go?l.changingThisBreaksApplicationSecurity:l}function cu(l,c){const d=ca(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function ca(l){return l instanceof go&&l.getTypeName()||null}function p_(l){return new Tb(l)}function bp(l){return new Ab(l)}function uu(l){return new qd(l)}function yo(l){return new Ib(l)}function Ja(l){return new kb(l)}class m_{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(mo(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Cp{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const h=this.inertDocument.createElement("body");d.appendChild(h)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=mo(c),d;const h=this.inertDocument.createElement("body");return h.innerHTML=mo(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(c){const d=c.attributes;for(let p=d.length-1;0<p;p--){const b=d.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&c.removeAttribute(b)}let h=c.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const g_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$d=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $l(l){return(l=String(l)).match(g_)||l.match($d)?l:"unsafe:"+l}function _s(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function Xa(...l){const c={};for(const d of l)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const du=_s("area,br,col,hr,img,wbr"),Wd=_s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hu=_s("rp,rt"),Ep=Xa(du,Xa(Wd,_s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xa(hu,_s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xa(hu,Wd)),Zl=_s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ls=_s("srcset"),Dp=Xa(Zl,Ls,_s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),w_=_s("script,style,template");class xp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Ep.hasOwnProperty(d))return this.sanitizedSomething=!0,!w_.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),b=m.name,C=b.toLowerCase();if(!Dp.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=m.value;Zl[C]&&(D=$l(D)),Ls[C]&&(l=D,D=(l=String(l)).split(",").map(c=>$l(c.trim())).join(", ")),this.buf.push(" ",b,'="',C_(D),'"')}var l;return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Ep.hasOwnProperty(d)&&!du.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(C_(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const Fb=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pb=/([^\#-~ |!])/g;function C_(l){return l.replace(/&/g,"&amp;").replace(Fb,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Pb,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ua;function fu(l,c){let d=null;try{ua=ua||function(l){const c=new Cp(l);return function(){try{return!!(new window.DOMParser).parseFromString(mo(""),"text/html")}catch(l){return!1}}()?new m_(c):c}(l);let h=c?String(c):"";d=ua.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=d.innerHTML,d=ua.getInertBodyElement(h)}while(h!==m);return mo((new xp).sanitizeChildren(Kd(d)||d))}finally{if(d){const h=Kd(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Kd(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var An=(()=>((An=An||{})[An.NONE=0]="NONE",An[An.HTML=1]="HTML",An[An.STYLE=2]="STYLE",An[An.SCRIPT=3]="SCRIPT",An[An.URL=4]="URL",An[An.RESOURCE_URL=5]="RESOURCE_URL",An))();function Qd(l){const c=function(){const l=Me();return l&&l[12]}();return c?c.sanitize(An.URL,l)||"":cu(l,"URL")?_o(l):$l(ve(l))}const el="__ngContext__";function Di(l,c){l[el]=c}function eh(l){const c=function(l){return l[el]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function il(l){return l.ngOriginalError}function E(l,...c){l.error(...c)}class _{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c),h=this._findContext(c),p=(l=c)&&l.ngErrorLogger||E;var l;p(this._console,"ERROR",c),d&&p(this._console,"ORIGINAL ERROR",d),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(c){return c?c.ngDebugContext||this._findContext(il(c)):null}_findOriginalError(c){let d=c&&il(c);for(;d&&il(d);)d=il(d);return d||null}}const gu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(hn))();function Qr(l){return l instanceof Function?l():l}var Us=(()=>((Us=Us||{})[Us.Important=1]="Important",Us[Us.DashCase=2]="DashCase",Us))();function sh(l,c){return undefined(l,c)}function Rp(l){const c=l[3];return jr(c)?c[3]:c}function A_(l){return Gb(l[13])}function jD(l){return Gb(l[4])}function Gb(l){for(;null!==l&&!jr(l);)l=l[4];return l}function yu(l,c,d,h,p){if(null!=h){let m,b=!1;jr(h)?m=h:fs(h)&&(b=!0,h=h[0]);const C=vn(h);0===l&&null!==d?null==p?ZD(c,d,C):Xl(c,d,C,p||null,!0):1===l&&null!==d?Xl(c,d,C,p||null,!0):2===l?function(l,c,d){const h=O_(l,c);h&&function(l,c,d,h){yn(l)?l.removeChild(c,d,h):c.removeChild(d)}(l,h,c,d)}(c,C,b):3===l&&c.destroyNode(C),null!=m&&function(l,c,d,h,p){const m=d[7];m!==vn(d)&&yu(c,l,h,m,p);for(let C=10;C<d.length;C++){const D=d[C];bu(D[1],D,l,c,h,m)}}(c,l,m,d,p)}}function jb(l,c,d){return yn(l)?l.createElement(c,d):null===d?l.createElement(c):l.createElementNS(d,c)}function k_(l,c){const d=l[9],h=d.indexOf(c),p=c[3];1024&c[2]&&(c[2]&=-1025,Fl(p,-1)),d.splice(h,1)}function R_(l,c){if(l.length<=10)return;const d=10+c,h=l[d];if(h){const p=h[17];null!==p&&p!==l&&k_(p,h),c>0&&(l[d-1][4]=h[4]);const m=ia(l,10+c);!function(l,c){bu(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function YD(l,c){if(!(256&c[2])){const d=c[11];yn(d)&&d.destroyNode&&bu(l,c,d,3,null,null),function(l){let c=l[13];if(!c)return Jl(l[1],l);for(;c;){let d=null;if(fs(c))d=c[13];else{const h=c[10];h&&(d=h)}if(!d){for(;c&&!c[4]&&c!==l;)fs(c)&&Jl(c[1],c),c=c[3];null===c&&(c=l),fs(c)&&Jl(c[1],c),d=c&&c[4]}c=d}}(c)}}function Jl(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let h=0;h<d.length;h+=2){const p=c[d[h]];if(!(p instanceof Rd)){const m=d[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const C=p[m[b]],D=m[b+1];try{D.call(C)}finally{}}else try{m.call(p)}finally{}}}}(l,c),function(l,c){const d=l.cleanup,h=c[7];let p=-1;if(null!==d)for(let m=0;m<d.length-1;m+=2)if("string"==typeof d[m]){const b=d[m+1],C="function"==typeof b?b(c):vn(c[b]),D=h[p=d[m+2]],T=d[m+3];"boolean"==typeof T?C.removeEventListener(d[m],D,T):T>=0?h[p=T]():h[p=-T].unsubscribe(),m+=2}else{const b=h[p=d[m+1]];d[m].call(b)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();c[7]=null}}(l,c),1===c[1].type&&yn(c[11])&&c[11].destroy();const d=c[17];if(null!==d&&jr(c[3])){d!==c[3]&&k_(d,c);const h=c[19];null!==h&&h.detachView(l)}}}function qD(l,c,d){return function(l,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[0];if(2&h.flags){const p=l.data[h.directiveStart].encapsulation;if(p===Ve.None||p===Ve.Emulated)return null}return qi(h,d)}(l,c.parent,d)}function Xl(l,c,d,h,p){yn(l)?l.insertBefore(c,d,h,p):c.insertBefore(d,h,p)}function ZD(l,c,d){yn(l)?l.appendChild(c,d):c.appendChild(d)}function WD(l,c,d,h,p){null!==h?Xl(l,c,d,h,p):ZD(l,c,d)}function O_(l,c){return yn(l)?l.parentNode(c):c.parentNode}function P_(l,c,d){return vu(l,c,d)}let vu=function(l,c,d){return 40&l.type?qi(l,d):null};function oh(l,c,d,h){const p=qD(l,h,c),m=c[11],C=P_(h.parent||c[6],h,c);if(null!=p)if(Array.isArray(d))for(let D=0;D<d.length;D++)WD(m,p,d[D],C,!1);else WD(m,p,d,C,!1)}function L_(l,c){if(null!==c){const d=c.type;if(3&d)return qi(c,l);if(4&d)return $b(-1,l[c.index]);if(8&d){const h=c.child;if(null!==h)return L_(l,h);{const p=l[c.index];return jr(p)?$b(-1,p):vn(p)}}if(32&d)return sh(c,l)()||vn(l[c.index]);{const h=qb(l,c);return null!==h?Array.isArray(h)?h[0]:L_(Rp(l[16]),h):L_(l,c.next)}}return null}function qb(l,c){return null!==c?l[16][6].projection[c.projection]:null}function $b(l,c){const d=10+l+1;if(d<c.length){const h=c[d],p=h[1].firstChild;if(null!==p)return L_(h,p)}return c[7]}function B_(l,c,d,h,p,m,b){for(;null!=d;){const C=h[d.index],D=d.type;if(b&&0===c&&(C&&Di(vn(C),h),d.flags|=4),64!=(64&d.flags))if(8&D)B_(l,c,d.child,h,p,m,!1),yu(c,l,p,C,m);else if(32&D){const T=sh(d,h);let A;for(;A=T();)yu(c,l,p,A,m);yu(c,l,p,C,m)}else 16&D?ec(l,c,h,d,p,m):yu(c,l,p,C,m);d=b?d.projectionNext:d.next}}function bu(l,c,d,h,p,m){B_(d,h,l.firstChild,c,p,m,!1)}function ec(l,c,d,h,p,m){const b=d[16],D=b[6].projection[h.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)yu(c,l,p,D[T],m);else B_(l,c,D,b[3],p,m,!0)}function JD(l,c,d){yn(l)?l.setAttribute(c,"style",d):c.style.cssText=d}function Wb(l,c,d){yn(l)?""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d):c.className=d}function Kb(l,c,d){let h=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const m=c.length;if(p+m===h||l.charCodeAt(p+m)<=32)return p}d=p+1}}const XD="ng-template";function _k(l,c,d){let h=0;for(;h<l.length;){let p=l[h++];if(d&&"class"===p){if(p=l[h],-1!==Kb(p.toLowerCase(),c,0))return!0}else if(1===p){for(;h<l.length&&"string"==typeof(p=l[h++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function Qb(l){return 4===l.type&&l.value!==XD}function yk(l,c,d){return c===(4!==l.type||d?l.value:XD)}function vk(l,c,d){let h=4;const p=l.attrs||[],m=function(l){for(let c=0;c<l.length;c++)if(Wg(l[c]))return c;return l.length}(p);let b=!1;for(let C=0;C<c.length;C++){const D=c[C];if("number"!=typeof D){if(!b)if(4&h){if(h=2|1&h,""!==D&&!yk(l,D,d)||""===D&&1===c.length){if(bo(h))return!1;b=!0}}else{const T=8&h?D:c[++C];if(8&h&&null!==l.attrs){if(!_k(l.attrs,T,d)){if(bo(h))return!1;b=!0}continue}const R=Jb(8&h?"class":D,p,Qb(l),d);if(-1===R){if(bo(h))return!1;b=!0;continue}if(""!==T){let P;P=R>m?"":p[R+1].toLowerCase();const G=8&h?P:null;if(G&&-1!==Kb(G,T,0)||2&h&&T!==P){if(bo(h))return!1;b=!0}}}}else{if(!b&&!bo(h)&&!bo(D))return!1;if(b&&bo(D))continue;b=!1,h=D|1&h}}return bo(h)||b}function bo(l){return 0==(1&l)}function Jb(l,c,d,h){if(null===c)return-1;let p=0;if(h||!d){let m=!1;for(;p<c.length;){const b=c[p];if(b===l)return p;if(3===b||6===b)m=!0;else{if(1===b||2===b){let C=c[++p];for(;"string"==typeof C;)C=c[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=m?1:2}return-1}return function(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const h=l[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,l)}function ex(l,c,d=!1){for(let h=0;h<c.length;h++)if(vk(l,c[h],d))return!0;return!1}function AN(l,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function Cn(l,c){return l?":not("+c.trim()+")":c}function Ck(l){let c=l[0],d=1,h=2,p="",m=!1;for(;d<l.length;){let b=l[d];if("string"==typeof b)if(2&h){const C=l[++d];p+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!bo(b)&&(c+=Cn(m,p),p=""),h=b,m=m||!bo(h);d++}return""!==p&&(c+=Cn(m,p)),c}const St={};function tc(l){Xb(Lt(),Me(),$i()+l,Nl())}function Xb(l,c,d,h){if(!h)if(3==(3&c[2])){const m=l.preOrderCheckHooks;null!==m&&Vl(c,m,d)}else{const m=l.preOrderHooks;null!==m&&kd(c,m,0,d)}Ll(d)}function V_(l,c){return l<<17|c<<2}function Pi(l){return l>>17&32767}function U_(l){return 2|l}function wo(l){return(131068&l)>>2}function H_(l,c){return-131069&l|c<<2}function tw(l){return 1|l}function aw(l,c){const d=l.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const p=d[h],m=d[h+1];if(-1!==m){const b=l.data[m];Kc(p),b.contentQueries(2,c[m],m)}}}function ah(l,c,d,h,p,m,b,C,D,T){const A=c.blueprint.slice();return A[0]=p,A[2]=140|h,Dd(A),A[3]=A[15]=l,A[8]=d,A[10]=b||l&&l[10],A[11]=C||l&&l[11],A[12]=D||l&&l[12]||null,A[9]=T||l&&l[9]||null,A[6]=m,A[16]=2==c.type?l[16]:A,A}function Du(l,c,d,h,p){let m=l.data[c];if(null===m)m=function(l,c,d,h,p){const m=jf(),b=Md(),D=l.data[c]=function(l,c,d,h,p,m){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,d,c,h,p);return null===l.firstChild&&(l.firstChild=D),null!==m&&(b?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(l,c,d,h,p),gt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=d,m.value=h,m.attrs=p;const b=function(){const l=gt.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return zr(m,!0),m}function Xt(l,c,d,h){if(0===d)return-1;const p=c.length;for(let m=0;m<d;m++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function Y_(l,c,d){Id(c);try{const h=l.viewQuery;null!==h&&_w(1,h,d);const p=l.template;null!==p&&dx(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&aw(l,c),l.staticViewQueries&&_w(2,l.viewQuery,d);const m=l.components;null!==m&&function(l,c){for(let d=0;d<c.length;d++)$k(l,c[d])}(c,m)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[2]&=-5,Qc()}}function Co(l,c,d,h){const p=c[2];if(256==(256&p))return;Id(c);const m=Nl();try{Dd(c),function(l){gt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&dx(l,c,d,2,h);const b=3==(3&p);if(!m)if(b){const T=l.preOrderCheckHooks;null!==T&&Vl(c,T,null)}else{const T=l.preOrderHooks;null!==T&&kd(c,T,0,null),Wf(c,0)}if(function(l){for(let c=A_(l);null!==c;c=jD(c)){if(!c[2])continue;const d=c[9];for(let h=0;h<d.length;h++){const p=d[h],m=p[3];0==(1024&p[2])&&Fl(m,1),p[2]|=1024}}}(c),function(l){for(let c=A_(l);null!==c;c=jD(c))for(let d=10;d<c.length;d++){const h=c[d],p=h[1];Gg(h)&&Co(p,h,p.template,h[8])}}(c),null!==l.contentQueries&&aw(l,c),!m)if(b){const T=l.contentCheckHooks;null!==T&&Vl(c,T)}else{const T=l.contentHooks;null!==T&&kd(c,T,1),Wf(c,1)}!function(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const p=d[h];if(p<0)Ll(~p);else{const m=p,b=d[++h],C=d[++h];jg(b,m),C(2,c[m])}}}finally{Ll(-1)}}(l,c);const C=l.components;null!==C&&function(l,c){for(let d=0;d<c.length;d++)qk(l,c[d])}(c,C);const D=l.viewQuery;if(null!==D&&_w(2,D,h),!m)if(b){const T=l.viewCheckHooks;null!==T&&Vl(c,T)}else{const T=l.viewHooks;null!==T&&kd(c,T,2),Wf(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),m||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,Fl(c[3],-1))}finally{Qc()}}function Je(l,c,d,h){const p=c[10],m=!Nl(),b=Vf(c);try{m&&!b&&p.begin&&p.begin(),b&&Y_(l,c,h),Co(l,c,d,h)}finally{m&&!b&&p.end&&p.end()}}function dx(l,c,d,h,p){const m=$i(),b=2&h;try{Ll(-1),b&&c.length>20&&Xb(l,c,20,Nl()),d(h,p)}finally{Ll(m)}}function hx(l,c,d){if(Hc(c)){const p=c.directiveEnd;for(let m=c.directiveStart;m<p;m++){const b=l.data[m];b.contentQueries&&b.contentQueries(1,d[m],m)}}}function Pp(l,c,d){!Hf()||(function(l,c,d,h){const p=d.directiveStart,m=d.directiveEnd;l.firstCreatePass||fo(d,c),Di(h,c);const b=d.initialInputs;for(let C=p;C<m;C++){const D=l.data[C],T=sr(D);T&&ch(c,d,D);const A=cn(c,l,C,d);Di(A,c),null!==b&&jk(0,C-p,A,D,0,b),T&&(or(d.index,c)[8]=A)}}(l,c,d,qi(d,c)),128==(128&d.flags)&&function(l,c,d){const h=d.directiveStart,p=d.directiveEnd,b=d.index,C=gt.lFrame.currentDirectiveIndex;try{Ll(b);for(let D=h;D<p;D++){const T=l.data[D],A=c[D];qf(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&uw(T,A)}}finally{Ll(-1),qf(C)}}(l,c,d))}function lh(l,c,d=qi){const h=c.localNames;if(null!==h){let p=c.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],C=-1===b?d(c,l):l[b];l[p++]=C}}}function fx(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Np(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Np(l,c,d,h,p,m,b,C,D,T){const A=20+h,R=A+p,P=function(l,c){const d=[];for(let h=0;h<c;h++)d.push(h<l?null:St);return d}(A,R),G="function"==typeof T?T():T;return P[1]={type:l,blueprint:P,template:d,queries:null,viewQuery:C,declTNode:c,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:D,consts:G,incompleteFirstPass:!1}}function gx(l,c,d,h){const p=Cx(c);null===d?p.push(h):(p.push(d),l.firstCreatePass&&Ex(l).push(h,p.length-1))}function _x(l,c,d){for(let h in l)if(l.hasOwnProperty(h)){const p=l[h];(d=null===d?{}:d).hasOwnProperty(h)?d[h].push(c,p):d[h]=[c,p]}return d}function Jr(l,c,d,h,p,m,b,C){const D=qi(c,d);let A,T=c.inputs;!C&&null!=T&&(A=T[h])?(yw(l,d,A,h,p),Gc(c)&&function(l,c){const d=or(c,l);16&d[2]||(d[2]|=64)}(d,c.index)):3&c.type&&(h=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=b?b(p,c.value||"",h):p,yn(m)?m.setProperty(D,h,p):Fs(h)||(D.setProperty?D.setProperty(h,p):D[h]=p))}function cw(l,c,d,h){let p=!1;if(Hf()){const m=function(l,c,d){const h=l.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];ex(d,b.selectors,!1)&&(p||(p=[]),Re(fo(d,c),l,b.type),sr(b)?(al(l,d),p.unshift(b)):p.push(b))}return p}(l,c,d),b=null===h?null:{"":-1};if(null!==m){p=!0,Gk(d,l.data.length,m.length);for(let A=0;A<m.length;A++){const R=m[A];R.providersResolver&&R.providersResolver(R)}let C=!1,D=!1,T=Xt(l,c,m.length,null);for(let A=0;A<m.length;A++){const R=m[A];d.mergedAttrs=Xo(d.mergedAttrs,R.hostAttrs),vx(l,d,c,T,R),Hk(T,R,b),null!==R.contentQueries&&(d.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(d.flags|=128);const P=R.type.prototype;!C&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),C=!0),!D&&(P.ngOnChanges||P.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),D=!0),T++}!function(l,c){const h=c.directiveEnd,p=l.data,m=c.attrs,b=[];let C=null,D=null;for(let T=c.directiveStart;T<h;T++){const A=p[T],R=A.inputs,P=null===m||Qb(c)?null:zk(R,m);b.push(P),C=_x(R,T,C),D=_x(A.outputs,T,D)}null!==C&&(C.hasOwnProperty("class")&&(c.flags|=16),C.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=b,c.inputs=C,c.outputs=D}(l,d)}b&&function(l,c,d){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const m=d[c[p+1]];if(null==m)throw new ye("301",`Export of name '${c[p+1]}' not found!`);h.push(c[p],m)}}}(d,h,b)}return d.mergedAttrs=Xo(d.mergedAttrs,d.attrs),p}function yx(l,c,d,h,p,m){const b=m.hostBindings;if(b){let C=l.hostBindingOpCodes;null===C&&(C=l.hostBindingOpCodes=[]);const D=~c.index;(function(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(C)!=D&&C.push(D),C.push(h,p,b)}}function uw(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function al(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function Hk(l,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=l;sr(c)&&(d[""]=l)}}function Gk(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function vx(l,c,d,h,p){l.data[h]=p;const m=p.factory||(p.factory=Ko(p.type)),b=new Rd(m,sr(p),null);l.blueprint[h]=b,d[h]=b,yx(l,c,0,h,Xt(l,d,p.hostVars,St),p)}function ch(l,c,d){const h=qi(c,l),p=fx(d),m=l[10],b=fw(l,ah(l,p,null,d.onPush?64:16,h,c,m,m.createRenderer(h,d),null,null));l[c.index]=b}function da(l,c,d,h,p,m){const b=qi(l,c);!function(l,c,d,h,p,m,b){if(null==m)yn(l)?l.removeAttribute(c,p,d):c.removeAttribute(p);else{const C=null==b?ve(m):b(m,h||"",p);yn(l)?l.setAttribute(c,p,C,d):d?c.setAttributeNS(d,p,C):c.setAttribute(p,C)}}(c[11],b,m,l.value,d,h,p)}function jk(l,c,d,h,p,m){const b=m[c];if(null!==b){const C=h.setInput;for(let D=0;D<b.length;){const T=b[D++],A=b[D++],R=b[D++];null!==C?h.setInput(d,R,T,A):d[A]=R}}}function zk(l,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;l.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,l[p],c[h+1])),h+=2}else h+=2;else h+=4}return d}function bx(l,c,d,h){return new Array(l,!0,!1,c,null,0,h,d,null,null)}function qk(l,c){const d=or(c,l);if(Gg(d)){const h=d[1];80&d[2]?Co(h,d,h.template,d[8]):d[5]>0&&hw(d)}}function hw(l){for(let h=A_(l);null!==h;h=jD(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const b=m[1];Co(b,m,b.template,m[8])}else m[5]>0&&hw(m)}const d=l[1].components;if(null!==d)for(let h=0;h<d.length;h++){const p=or(d[h],l);Gg(p)&&p[5]>0&&hw(p)}}function $k(l,c){const d=or(c,l),h=d[1];(function(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(h,d),Y_(h,d,d[8])}function fw(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function pw(l){for(;l;){l[2]|=64;const c=Rp(l);if(ti(l)&&!c)return l;l=c}return null}function gw(l,c,d){const h=c[10];h.begin&&h.begin();try{Co(l,c,l.template,d)}catch(p){throw xx(c,p),p}finally{h.end&&h.end()}}function wx(l){!function(l){for(let c=0;c<l.components.length;c++){const d=l.components[c],h=eh(d),p=h[1];Je(p,h,p.template,d)}}(l[8])}function _w(l,c,d){Kc(0),c(l,d)}const Jk=(()=>Promise.resolve(null))();function Cx(l){return l[7]||(l[7]=[])}function Ex(l){return l.cleanup||(l.cleanup=[])}function Dx(l,c,d){return(null===l||sr(l))&&(d=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function xx(l,c){const d=l[9],h=d?d.get(_,null):null;h&&h.handleError(c)}function yw(l,c,d,h,p){for(let m=0;m<d.length;){const b=d[m++],C=d[m++],D=c[b],T=l.data[b];null!==T.setInput?T.setInput(D,p,h,C):D[C]=p}}function ll(l,c,d){const h=Rl(c,l);!function(l,c,d){yn(l)?l.setValue(c,d):c.textContent=d}(l[11],h,d)}function $_(l,c,d){let h=d?l.styles:null,p=d?l.classes:null,m=0;if(null!==c)for(let b=0;b<c.length;b++){const C=c[b];"number"==typeof C?m=C:1==m?p=Y(p,C):2==m&&(h=Y(h,C+": "+c[++b]+";"))}d?l.styles=h:l.stylesWithoutHost=h,d?l.classes=p:l.classesWithoutHost=p}const Ni=new wn("INJECTOR",-1);class Mx{get(c,d=nu){if(d===nu){const h=new Error(`NullInjectorError: No provider for ${W(c)}!`);throw h.name="NullInjectorError",h}return d}}const Bp=new wn("Set Injector scope."),Vp={},eR={};let vw;function Sx(){return void 0===vw&&(vw=new Mx),vw}function Tx(l,c=null,d=null,h){return new ZN(l,d,c||Sx(),h)}class ZN{constructor(c,d,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];d&&Ps(d,C=>this.processProvider(C,c,d)),Ps([c],C=>this.processInjectorType(C,[],m)),this.records.set(Ni,xu(void 0,this));const b=this.records.get(Bp);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof c?null:W(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,d=nu,h=et.Default){this.assertNotDestroyed();const p=Dt(this),m=ir(void 0);try{if(!(h&et.SkipSelf)){let C=this.records.get(c);if(void 0===C){const D=("function"==typeof(l=c)||"object"==typeof l&&l instanceof wn)&&_i(c);C=D&&this.injectableDefInScope(D)?xu(bw(c),Vp):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(h&et.Self?Sx():this.parent).get(c,d=h&et.Optional&&d===nu?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[oa]=b[oa]||[]).unshift(W(c)),p)throw b;return Mr(b,c,"R3InjectorError",this.source)}throw b}finally{ir(m),Dt(p)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((h,p)=>c.push(W(p))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,d,h){if(!(c=V(c)))return!1;let p=Go(c);const m=null==p&&c.ngModule||void 0,b=void 0===m?c:m,C=-1!==h.indexOf(b);if(void 0!==m&&(p=Go(m)),null==p)return!1;if(null!=p.imports&&!C){let A;h.push(b);try{Ps(p.imports,R=>{this.processInjectorType(R,d,h)&&(void 0===A&&(A=[]),A.push(R))})}finally{}if(void 0!==A)for(let R=0;R<A.length;R++){const{ngModule:P,providers:G}=A[R];Ps(G,Z=>this.processProvider(Z,P,G||z))}}this.injectorDefTypes.add(b);const D=Ko(b)||(()=>new b);this.records.set(b,xu(D,Vp));const T=p.providers;if(null!=T&&!C){const A=c;Ps(T,R=>this.processProvider(R,A,T))}return void 0!==m&&void 0!==c.providers}processProvider(c,d,h){let p=uh(c=V(c))?c:V(c&&c.provide);const m=Z_(l=c)?xu(void 0,l.useValue):xu(Ax(l),Vp);var l;if(uh(c)||!0!==c.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=xu(void 0,Vp,!0),b.factory=()=>la(b.multi),this.records.set(p,b)),p=c,b.multi.push(c)}this.records.set(p,m)}hydrate(c,d){return d.value===Vp&&(d.value=eR,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(l=d.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var l}injectableDefInScope(c){if(!c.providedIn)return!1;const d=V(c.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function bw(l){const c=_i(l),d=null!==c?c.factory:Ko(l);if(null!==d)return d;if(l instanceof wn)throw new Error(`Token ${W(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const c=l.length;if(c>0){const h=ra(c,"?");throw new Error(`Can't resolve all parameters for ${W(l)}: (${h.join(", ")}).`)}const d=function(l){const c=l&&(l[so]||l[zo]);if(c){const d=function(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new Error("unreachable")}function Ax(l,c,d){let h;if(uh(l)){const p=V(l);return Ko(p)||bw(p)}if(Z_(l))h=()=>V(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...la(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))h=()=>pn(V(l.useExisting));else{const p=V(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return Ko(p)||bw(p);h=()=>new p(...la(l.deps))}return h}function xu(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function Z_(l){return null!==l&&"object"==typeof l&&Gl in l}function uh(l){return"function"==typeof l}const Gs=function(l,c,d){return function(l,c=null,d=null,h){const p=Tx(l,c,d,h);return p._resolveInjectorDefTypes(),p}({name:d},c,l,d)};class yt{static create(c,d){return Array.isArray(c)?Gs(c,d,""):Gs(c.providers,c.parent,c.name||"")}}function lr(l,c){Bl(eh(l)[1],gn())}function Iw(l){let c=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const h=[l];for(;c;){let p;if(sr(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");p=c.\u0275dir}if(p){if(d){h.push(p);const b=l;b.inputs=kw(l.inputs),b.declaredInputs=kw(l.declaredInputs),b.outputs=kw(l.outputs);const C=p.hostBindings;C&&jx(l,C);const D=p.viewQuery,T=p.contentQueries;if(D&&hR(l,D),T&&J_(l,T),q(l.inputs,p.inputs),q(l.declaredInputs,p.declaredInputs),q(l.outputs,p.outputs),sr(p)&&p.data.animation){const A=l.data;A.animation=(A.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let b=0;b<m.length;b++){const C=m[b];C&&C.ngInherit&&C(l),C===Iw&&(d=!1)}}c=Object.getPrototypeOf(c)}!function(l){let c=0,d=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=Xo(p.hostAttrs,d=Xo(d,p.hostAttrs))}}(h)}function kw(l){return l===nn?{}:l===z?[]:l}function hR(l,c){const d=l.viewQuery;l.viewQuery=d?(h,p)=>{c(h,p),d(h,p)}:c}function J_(l,c){const d=l.contentQueries;l.contentQueries=d?(h,p,m)=>{c(h,p,m),d(h,p,m)}:c}function jx(l,c){const d=l.hostBindings;l.hostBindings=d?(h,p)=>{c(h,p),d(h,p)}:c}yt.THROW_IF_NOT_FOUND=nu,yt.NULL=new Mx,yt.\u0275prov=dn({token:yt,providedIn:"any",factory:()=>pn(Ni)}),yt.__NG_ELEMENT_ID__=-1;let Gp=null;function dh(){if(!Gp){const l=hn.Symbol;if(l&&l.iterator)Gp=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const h=c[d];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Gp=h)}}}return Gp}class Do{constructor(c){this.wrapped=c}static wrap(c){return new Do(c)}static unwrap(c){return Do.isWrapped(c)?c.wrapped:c}static isWrapped(c){return c instanceof Do}}function zp(l){return!!Fw(l)&&(Array.isArray(l)||!(l instanceof Map)&&dh()in l)}function Fw(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ha(l,c,d){return l[c]=d}function cr(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function qp(l,c,d,h){const p=Me();return cr(p,ho(),c)&&(Lt(),da(zn(),p,l,c,d,h)),qp}function hh(l,c,d,h){return cr(l,ho(),d)?c+ve(d)+h:St}function Nw(l,c,d,h,p,m,b,C){const D=Me(),T=Lt(),A=l+20,R=T.firstCreatePass?function(l,c,d,h,p,m,b,C,D){const T=c.consts,A=Du(c,l,4,b||null,Pa(T,C));cw(c,d,A,Pa(T,D)),Bl(c,A);const R=A.tViews=Np(2,A,h,p,m,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,A),R.queries=c.queries.embeddedTView(A)),A}(A,T,D,c,d,h,p,m,b):T.data[A];zr(R,!1);const P=D[11].createComment("");oh(T,D,P,R),Di(P,D),fw(D,D[A]=bx(P,D,P,R)),Il(R)&&Pp(T,D,R),null!=b&&lh(D,R,C)}function X_(l){return Jo(gt.lFrame.contextLView,20+l)}function yh(l,c=et.Default){const d=Me();return null===d?pn(l,c):Ul(gn(),d,V(l),c)}function oM(){throw new Error("invalid")}function ry(l,c,d){const h=Me();return cr(h,ho(),c)&&Jr(Lt(),zn(),h,l,c,h[11],d,!1),ry}function Yw(l,c,d,h,p){const b=p?"class":"style";yw(l,d,c.inputs[b],b,h)}function $w(l,c,d,h){const p=Me(),m=Lt(),b=20+l,C=p[11],D=p[b]=jb(C,c,gt.lFrame.currentNamespace),T=m.firstCreatePass?function(l,c,d,h,p,m,b){const C=c.consts,T=Du(c,l,2,p,Pa(C,m));return cw(c,d,T,Pa(C,b)),null!==T.attrs&&$_(T,T.attrs,!1),null!==T.mergedAttrs&&$_(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(b,m,p,0,c,d,h):m.data[b];zr(T,!0);const A=T.mergedAttrs;null!==A&&Os(C,D,A);const R=T.classes;null!==R&&Wb(C,D,R);const P=T.styles;null!==P&&JD(C,D,P),64!=(64&T.flags)&&oh(m,p,D,T),0===gt.lFrame.elementDepthCount&&Di(D,p),gt.lFrame.elementDepthCount++,Il(T)&&(Pp(m,p,T),hx(m,T,p)),null!==h&&lh(p,T)}function Zw(){let l=gn();Md()?Pl():(l=l.parent,zr(l,!1));const c=l;gt.lFrame.elementDepthCount--;const d=Lt();d.firstCreatePass&&(Bl(d,l),Hc(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(c)&&Yw(d,c,Me(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(c)&&Yw(d,c,Me(),c.stylesWithoutHost,!1)}function Ww(l,c,d,h){$w(l,c,d,h),Zw()}function Kw(l,c,d){const h=Me(),p=Lt(),m=l+20,b=p.firstCreatePass?function(l,c,d,h,p){const m=c.consts,b=Pa(m,h),C=Du(c,l,8,"ng-container",b);return null!==b&&$_(C,b,!0),cw(c,d,C,Pa(m,p)),null!==c.queries&&c.queries.elementStart(c,C),C}(m,p,h,c,d):p.data[m];zr(b,!0);const C=h[m]=h[11].createComment("");oh(p,h,C,b),Di(C,h),Il(b)&&(Pp(p,h,b),hx(p,b,h)),null!=d&&lh(h,b)}function Qw(){let l=gn();const c=Lt();Md()?Pl():(l=l.parent,zr(l,!1)),c.firstCreatePass&&(Bl(c,l),Hc(l)&&c.queries.elementEnd(l))}function aM(l,c,d){Kw(l,c,d),Qw()}function lM(){return Me()}function Jw(l){return!!l&&"function"==typeof l.then}function cM(l){return!!l&&"function"==typeof l.subscribe}const Xw=cM;function sy(l,c,d,h){const p=Me(),m=Lt(),b=gn();return uM(m,p,p[11],b,l,c,!!d,h),sy}function eC(l,c){const d=gn(),h=Me(),p=Lt();return uM(p,h,Dx(Wc(p.data),d,h),d,l,c,!1),eC}function uM(l,c,d,h,p,m,b,C){const D=Il(h),A=l.firstCreatePass&&Ex(l),R=c[8],P=Cx(c);let G=!0;if(3&h.type||C){const te=qi(h,c),Oe=C?C(te):te,Ee=P.length,tt=C?vt=>C(vn(vt[h.index])):h.index;if(yn(d)){let vt=null;if(!C&&D&&(vt=function(l,c,d,h){const p=l.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const b=p[m];if(b===d&&p[m+1]===h){const C=c[7],D=p[m+2];return C.length>D?C[D]:null}"string"==typeof b&&(m+=2)}return null}(l,c,p,h.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=m,vt.__ngLastListenerFn__=m,G=!1;else{m=tC(h,c,R,m,!1);const At=d.listen(Oe,p,m);P.push(m,At),A&&A.push(p,tt,Ee,Ee+1)}}else m=tC(h,c,R,m,!0),Oe.addEventListener(p,m,b),P.push(m),A&&A.push(p,tt,Ee,b)}else m=tC(h,c,R,m,!1);const Z=h.outputs;let ue;if(G&&null!==Z&&(ue=Z[p])){const te=ue.length;if(te)for(let Oe=0;Oe<te;Oe+=2){const Gi=c[ue[Oe]][ue[Oe+1]].subscribe(m),ii=P.length;P.push(m,Gi),A&&A.push(p,h.index,ii,-(ii+1))}}}function dM(l,c,d,h){try{return!1!==d(h)}catch(p){return xx(l,p),!1}}function tC(l,c,d,h,p){return function m(b){if(b===Function)return h;const C=2&l.flags?or(l.index,c):c;0==(32&c[2])&&pw(C);let D=dM(c,0,h,b),T=m.__ngNextListenerFn__;for(;T;)D=dM(c,0,T,b)&&D,T=T.__ngNextListenerFn__;return p&&!1===D&&(b.preventDefault(),b.returnValue=!1),D}}function Qp(l=1){return function(l){return(gt.lFrame.contextLView=function(l,c){for(;l>0;)c=c[15],l--;return c}(l,gt.lFrame.contextLView))[8]}(l)}function hM(l,c){let d=null;const h=function(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const m=c[p];if("*"!==m){if(null===h?ex(l,m,!0):AN(h,m))return p}else d=p}return d}function nC(l){const c=Me()[16][6];if(!c.projection){const h=c.projection=ra(l?l.length:1,null),p=h.slice();let m=c.child;for(;null!==m;){const b=l?hM(m,l):0;null!==b&&(p[b]?p[b].projectionNext=m:h[b]=m,p[b]=m),m=m.next}}}function ma(l,c=0,d){const h=Me(),p=Lt(),m=Du(p,20+l,16,null,d||null);null===m.projection&&(m.projection=c),Pl(),64!=(64&m.flags)&&function(l,c,d){ec(c[11],0,c,d,qD(l,d,c),P_(d.parent||c[6],d,c))}(p,h,m)}function oy(l,c,d){return ay(l,"",c,"",d),oy}function ay(l,c,d,h,p){const m=Me(),b=hh(m,c,d,h);return b!==St&&Jr(Lt(),zn(),m,l,b,m[11],p,!1),ay}function vM(l,c,d,h,p){const m=l[d+1],b=null===c;let C=h?Pi(m):wo(m),D=!1;for(;0!==C&&(!1===D||b);){const A=l[C+1];IR(l[C],c)&&(D=!0,l[C+1]=h?tw(A):U_(A)),C=h?Pi(A):wo(A)}D&&(l[d+1]=h?U_(m):tw(m))}function IR(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&sa(l,c)>=0}const xi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kR(l){return l.substring(xi.key,xi.keyEnd)}function sC(l,c){const d=xi.textEnd;return d===c?-1:(c=xi.keyEnd=function(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,xi.key=c,d),bh(l,c,d))}function bh(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function Xp(l,c,d){return at(l,c,d,!1),Xp}function oC(l,c){return at(l,c,null,!0),oC}function Ys(l,c){for(let d=function(l){return function(l){xi.key=0,xi.keyEnd=0,xi.value=0,xi.valueEnd=0,xi.textEnd=l.length}(l),sC(l,bh(l,0,xi.textEnd))}(c);d>=0;d=sC(c,d))Tn(l,kR(c),!0)}function at(l,c,d,h){const p=Me(),m=Lt(),b=xr(2);m.firstUpdatePass&&Ch(m,l,b,h),c!==St&&cr(p,b,c)&&EM(m,m.data[$i()],p,p[11],l,p[b+1]=function(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=W(_o(l)))),l}(c,d),h,b)}function ly(l,c){return c>=l.expandoStartIndex}function Ch(l,c,d,h){const p=l.data;if(null===p[d+1]){const m=p[$i()],b=ly(l,d);MM(m,h)&&null===c&&!b&&(c=!1),c=function(l,c,d,h){const p=Wc(l);let m=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(d=ni(d=lC(null,l,c,d,h),c.attrs,h),m=null);else{const b=c.directiveStylingLast;if(-1===b||l[b]!==p)if(d=lC(p,l,c,d,h),null===m){let D=function(l,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==wo(h))return l[Pi(h)]}(l,c,h);void 0!==D&&Array.isArray(D)&&(D=lC(null,l,c,D[1],h),D=ni(D,c.attrs,h),function(l,c,d,h){l[Pi(d?c.classBindings:c.styleBindings)]=h}(l,c,h,D))}else m=function(l,c,d){let h;const p=c.directiveEnd;for(let m=1+c.directiveStylingLast;m<p;m++)h=ni(h,l[m].hostAttrs,d);return ni(h,c.attrs,d)}(l,c,h)}return void 0!==m&&(h?c.residualClasses=m:c.residualStyles=m),d}(p,m,c,h),function(l,c,d,h,p,m){let b=m?c.classBindings:c.styleBindings,C=Pi(b),D=wo(b);l[h]=d;let A,T=!1;if(Array.isArray(d)){const R=d;A=R[1],(null===A||sa(R,A)>0)&&(T=!0)}else A=d;if(p)if(0!==D){const P=Pi(l[C+1]);l[h+1]=V_(P,C),0!==P&&(l[P+1]=H_(l[P+1],h)),l[C+1]=function(l,c){return 131071&l|c<<17}(l[C+1],h)}else l[h+1]=V_(C,0),0!==C&&(l[C+1]=H_(l[C+1],h)),C=h;else l[h+1]=V_(D,0),0===C?C=h:l[D+1]=H_(l[D+1],h),D=h;T&&(l[h+1]=U_(l[h+1])),vM(l,A,h,!0),vM(l,A,h,!1),function(l,c,d,h,p){const m=p?l.residualClasses:l.residualStyles;null!=m&&"string"==typeof c&&sa(m,c)>=0&&(d[h+1]=tw(d[h+1]))}(c,A,l,h,m),b=V_(C,D),m?c.classBindings=b:c.styleBindings=b}(p,m,c,d,b,h)}}function lC(l,c,d,h,p){let m=null;const b=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<b&&(m=c[C],h=ni(h,m.hostAttrs,p),m!==l);)C++;return null!==l&&(d.directiveStylingLast=C),h}function ni(l,c,d){const h=d?1:2;let p=-1;if(null!==c)for(let m=0;m<c.length;m++){const b=c[m];"number"==typeof b?p=b:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),Tn(l,b,!!d||c[++m]))}return void 0===l?null:l}function EM(l,c,d,h,p,m,b,C){if(!(3&c.type))return;const D=l.data,T=D[C+1];em(function(l){return 1==(1&l)}(T)?DM(D,c,d,p,wo(T),b):void 0)||(em(m)||function(l){return 2==(2&l)}(T)&&(m=DM(D,null,d,p,C,b)),function(l,c,d,h,p){const m=yn(l);if(c)p?m?l.addClass(d,h):d.classList.add(h):m?l.removeClass(d,h):d.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:Us.DashCase;if(null==p)m?l.removeStyle(d,h,b):d.style.removeProperty(h);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),b|=Us.Important),m?l.setStyle(d,h,p,b):d.style.setProperty(h,p,C?"important":"")}}}(h,b,Rl($i(),d),p,m))}function DM(l,c,d,h,p,m){const b=null===c;let C;for(;p>0;){const D=l[p],T=Array.isArray(D),A=T?D[1]:D,R=null===A;let P=d[p+1];P===St&&(P=R?z:void 0);let G=R?Yn(P,h):A===h?P:void 0;if(T&&!em(G)&&(G=Yn(D,h)),em(G)&&(C=G,b))return C;const Z=l[p+1];p=b?Pi(Z):wo(Z)}if(null!==c){let D=m?c.residualClasses:c.residualStyles;null!=D&&(C=Yn(D,h))}return C}function em(l){return void 0!==l}function MM(l,c){return 0!=(l.flags&(c?16:32))}function cC(l,c=""){const d=Me(),h=Lt(),p=l+20,m=h.firstCreatePass?Du(h,p,1,c,null):h.data[p],b=d[p]=function(l,c){return yn(l)?l.createText(c):l.createTextNode(c)}(d[11],c);oh(h,d,b,m),zr(m,!1)}function tm(l){return Fu("",l,""),tm}function Fu(l,c,d){const h=Me(),p=hh(h,l,c,d);return p!==St&&ll(h,$i(),p),Fu}function pC(l,c,d){!function(l,c,d,h){const p=Lt(),m=xr(2);p.firstUpdatePass&&Ch(p,null,m,h);const b=Me();if(d!==St&&cr(b,m,d)){const C=p.data[$i()];if(MM(C,h)&&!ly(p,m)){let D=h?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(d=Y(D,d||"")),Yw(p,C,b,d,h)}else!function(l,c,d,h,p,m,b,C){p===St&&(p=z);let D=0,T=0,A=0<p.length?p[0]:null,R=0<m.length?m[0]:null;for(;null!==A||null!==R;){const P=D<p.length?p[D+1]:void 0,G=T<m.length?m[T+1]:void 0;let ue,Z=null;A===R?(D+=2,T+=2,P!==G&&(Z=R,ue=G)):null===R||null!==A&&A<R?(D+=2,Z=A):(T+=2,Z=R,ue=G),null!==Z&&EM(l,c,d,h,Z,ue,b,C),A=D<p.length?p[D]:null,R=T<m.length?m[T]:null}}(p,C,b,b[11],b[m+1],b[m+1]=function(l,c,d){if(null==d||""===d)return z;const h=[],p=_o(d);if(Array.isArray(p))for(let m=0;m<p.length;m++)l(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&l(h,m,p[m]);else"string"==typeof p&&c(h,p);return h}(l,c,d),h,m)}}(Tn,Ys,hh(Me(),l,c,d),!0)}function Mh(l,c,d){const h=Me();return cr(h,ho(),c)&&Jr(Lt(),zn(),h,l,c,h[11],d,!0),Mh}function Sh(l,c,d){const h=Me();if(cr(h,ho(),c)){const m=Lt(),b=zn();Jr(m,b,h,l,c,Dx(Wc(m.data),b,h),d,!0)}return Sh}const ul=void 0;var EC=["en",[["a","p"],["AM","PM"],ul],[["AM","PM"],ul,ul],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ul,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ul,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ul,"{1} 'at' {0}",ul],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const c=Math.floor(Math.abs(l)),d=l.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let uc={};function fy(l){const c=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=xC(c);if(d)return d;const h=c.split("-")[0];if(d=xC(h),d)return d;if("en"===h)return EC;throw new Error(`Missing locale data for the locale "${l}".`)}function DC(l){return fy(l)[ht.PluralCase]}function xC(l){return l in uc||(uc[l]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[l]),uc[l]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Th="en-US";let LM=Th;function py(l){ut(l,"Expected localeId to be defined"),"string"==typeof l&&(LM=l.toLowerCase().replace(/_/g,"-"))}function zC(l,c,d,h,p){if(l=V(l),Array.isArray(l))for(let m=0;m<l.length;m++)zC(l[m],c,d,h,p);else{const m=Lt(),b=Me();let C=uh(l)?l:V(l.provide),D=Ax(l);const T=gn(),A=1048575&T.providerIndexes,R=T.directiveStart,P=T.providerIndexes>>20;if(uh(l)||!l.multi){const G=new Rd(D,p,yh),Z=ga(C,c,p?A:A+P,R);-1===Z?(Re(fo(T,b),m,C),YC(m,l,c.length),c.push(C),T.directiveStart++,T.directiveEnd++,p&&(T.providerIndexes+=1048576),d.push(G),b.push(G)):(d[Z]=G,b[Z]=G)}else{const G=ga(C,c,A+P,R),Z=ga(C,c,A,A+P),ue=G>=0&&d[G],te=Z>=0&&d[Z];if(p&&!te||!p&&!ue){Re(fo(T,b),m,C);const Oe=function(l,c,d,h,p){const m=new Rd(l,d,yh);return m.multi=[],m.index=c,m.componentProviders=0,Fh(m,p,h&&!d),m}(p?aS:oS,d.length,p,h,D);!p&&te&&(d[Z].providerFactory=Oe),YC(m,l,c.length,0),c.push(C),T.directiveStart++,T.directiveEnd++,p&&(T.providerIndexes+=1048576),d.push(Oe),b.push(Oe)}else YC(m,l,G>-1?G:Z,Fh(d[p?Z:G],D,!p&&h));!p&&h&&te&&d[Z].componentProviders++}}}function YC(l,c,d,h){const p=uh(c);if(p||function(l){return!!l.useClass}(c)){const b=(c.useClass||c).prototype.ngOnDestroy;if(b){const C=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const D=C.indexOf(d);-1===D?C.push(d,[h,b]):C[D+1].push(h,b)}else C.push(d,b)}}}function Fh(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function ga(l,c,d,h){for(let p=d;p<h;p++)if(c[p]===l)return p;return-1}function oS(l,c,d,h){return Ty(this.multi,[])}function aS(l,c,d,h){const p=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=cn(d,d[1],this.providerFactory.index,h);m=C.slice(0,b),Ty(p,m);for(let D=b;D<C.length;D++)m.push(C[D])}else m=[],Ty(p,m);return m}function Ty(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function lS(l,c=[]){return d=>{d.providersResolver=(h,p)=>function(l,c,d){const h=Lt();if(h.firstCreatePass){const p=sr(l);zC(d,h.data,h.blueprint,p,!0),zC(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class qC{}const $C="ngComponent";class ZC{resolveComponentFactory(c){throw function(l){const c=Error(`No component factory found for ${W(l)}. Did you add it to @NgModule.entryComponents?`);return c[$C]=l,c}(c)}}class fl{}function Nh(...l){}function Lh(l,c){return new ws(qi(l,c))}fl.NULL=new ZC;const lm=function(){return Lh(gn(),Me())};let ws=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=lm,l})();function Iy(l){return l instanceof ws?l.nativeElement:l}class mc{}let cm=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>uS(),l})();const uS=function(){const l=Me(),d=or(gn().index,l);return function(l){return l[11]}(fs(d)?d:l)};let KC=(()=>{class l{}return l.\u0275prov=dn({token:l,providedIn:"root",factory:()=>null}),l})();class dS{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const ky=new dS("13.0.0-next.5");class QC{constructor(){}supports(c){return zp(c)}create(c){return new fS(c)}}const hS=(l,c)=>c;class fS{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||hS}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,p=0,m=null;for(;d||h;){const b=!h||d&&d.currentIndex<Ry(h,p,m)?d:h,C=Ry(b,p,m),D=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)p++;else{m||(m=[]);const T=C-p,A=D-p;if(T!=A){for(let P=0;P<T;P++){const G=P<m.length?m[P]:m[P]=0,Z=G+P;A<=Z&&Z<T&&(m[P]=G+1)}m[b.previousIndex]=A-T}}C!==D&&c(b,C,D)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!zp(c))throw new Error(`Error trying to diff '${W(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,m,b,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)m=c[C],b=this._trackByFn(C,m),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,m,b,C)),Object.is(d.item,m)||this._addIdentityChange(d,m)):(d=this._mismatch(d,m,b,C),h=!0),d=d._next}else p=0,function(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[dh()]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,C=>{b=this._trackByFn(p,C),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,C,b,p)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,b,p),h=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,p){let m;return null===c?m=this._itTail:(m=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,m,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,m,p)):c=this._addAfter(new pl(d,h),m,p),c}_verifyReinsertion(c,d,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?c=this._reinsertAfter(m,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,m=c._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new mS),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mS),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class pl{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pS{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class mS{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new pS,this.map.set(d,h)),h.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ry(l,c,d){const h=l.previousIndex;if(null===h)return h;let p=0;return d&&h<d.length&&(p=d[h]),h+c+p}class Bh{constructor(){}supports(c){return c instanceof Map||Fw(c)}create(){return new gS}}class gS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||Fw(c)))throw new Error(`Error trying to diff '${W(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const m=this._getOrCreateRecordForKey(p,h);d=this._insertBeforeOrAppend(d,m)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const m=p._prev,b=p._next;return m&&(m._next=b),b&&(b._prev=m),p._next=null,p._prev=null,p}const h=new XC(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class XC{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function um(){return new dm([new QC])}let dm=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||um()),deps:[[l,new Ci,new Ns]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(l){return l.name||typeof l}(d)}'`)}}return l.\u0275prov=dn({token:l,providedIn:"root",factory:um}),l})();function hm(){return new Oy([new Bh])}let Oy=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||hm()),deps:[[l,new Ci,new Ns]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return l.\u0275prov=dn({token:l,providedIn:"root",factory:hm}),l})();function fm(l,c,d,h,p=!1){for(;null!==d;){const m=c[d.index];if(null!==m&&h.push(vn(m)),jr(m))for(let C=10;C<m.length;C++){const D=m[C],T=D[1].firstChild;null!==T&&fm(D[1],D,T,h)}const b=d.type;if(8&b)fm(l,c,d.child,h);else if(32&b){const C=sh(d,c);let D;for(;D=C();)h.push(D)}else if(16&b){const C=qb(c,d);if(Array.isArray(C))h.push(...C);else{const D=Rp(c[16]);fm(D[1],D,C,h,!0)}}d=p?d.projectionNext:d.next}return h}class ml{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return fm(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(jr(c)){const d=c[8],h=d?d.indexOf(this):-1;h>-1&&(R_(c,h),ia(d,h))}this._attachedToViewContainer=!1}YD(this._lView[1],this._lView)}onDestroy(c){gx(this._lView[1],this._lView,null,c)}markForCheck(){pw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,c,d){Sd(!0);try{gw(l,c,d)}finally{Sd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,bu(this._lView[1],c=this._lView,c[11],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class _S extends ml{constructor(c){super(c),this._view=c}detectChanges(){wx(this._view)}checkNoChanges(){!function(l){Sd(!0);try{wx(l)}finally{Sd(!1)}}(this._view)}get context(){return null}}const t0=function(l){return function(l,c,d){if(Gc(l)&&!d){const h=or(l.index,c);return new ml(h,h)}return 47&l.type?new ml(c[16],c):null}(gn(),Me(),16==(16&l))};let bS=(()=>{class l{}return l.__NG_ELEMENT_ID__=t0,l})();const CS=[new Bh],ES=new dm([new QC]),DS=new Oy(CS),Py=function(){return pm(gn(),Me())};let Qi=(()=>{class l{}return l.__NG_ELEMENT_ID__=Py,l})();const MS=Qi,SS=class extends MS{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c){const d=this._declarationTContainer.tViews,h=ah(this._declarationLView,d,c,16,null,d.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(d)),Y_(d,h,c),new ml(h)}};function pm(l,c){return 4&l.type?new SS(c,l,Lh(l,c)):null}class gc{}class mm{}const n0=function(){return Hu(gn(),Me())};let gm=(()=>{class l{}return l.__NG_ELEMENT_ID__=n0,l})();const AS=gm,uO=class extends AS{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return Lh(this._hostTNode,this._hostLView)}get injector(){return new Ua(this._hostTNode,this._hostLView)}get parentInjector(){const c=je(this._hostTNode,this._hostLView);if(Mn(c)){const d=Xc(c,this._hostLView),h=Ba(c);return new Ua(d[1].data[h+8],d)}return new Ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=dO(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,h){const p=c.createEmbeddedView(d||{});return this.insert(p,h),p}createComponent(c,d,h,p,m){const b=h||this.parentInjector;if(!m&&null==c.ngModule&&b){const D=b.get(gc,null);D&&(m=D)}const C=c.create(b,p,void 0,m);return this.insert(C.hostView,d),C}insert(c,d){const h=c._lView,p=h[1];if(jr(h[3])){const A=this.indexOf(c);if(-1!==A)this.detach(A);else{const R=h[3],P=new uO(R,R[6],R[3]);P.detach(P.indexOf(c))}}const m=this._adjustIndex(d),b=this._lContainer;!function(l,c,d,h){const p=10+h,m=d.length;h>0&&(d[p-1][4]=c),h<m-10?(c[4]=d[p],za(d,10+h,c)):(d.push(c),c[4]=null),c[3]=d;const b=c[17];null!==b&&d!==b&&function(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(b,c);const C=c[19];null!==C&&C.insertView(l),c[2]|=128}(p,h,b,m);const C=$b(m,b),D=h[11],T=O_(D,b[7]);return null!==T&&function(l,c,d,h,p,m){h[0]=p,h[6]=c,bu(l,h,d,1,p,m)}(p,b[6],D,h,T,C),c.attachToViewContainerRef(),za(Si(b),m,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=dO(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=R_(this._lContainer,d);h&&(ia(Si(this._lContainer),d),YD(h[1],h))}detach(c){const d=this._adjustIndex(c,-1),h=R_(this._lContainer,d);return h&&null!=ia(Si(this._lContainer),d)?new ml(h):null}_adjustIndex(c,d=0){return null==c?this.length+d:c}};function dO(l){return l[8]}function Si(l){return l[8]||(l[8]=[])}function Hu(l,c){let d;const h=c[l.index];if(jr(h))d=h;else{let p;if(8&l.type)p=vn(h);else{const m=c[11];p=m.createComment("");const b=qi(l,c);Xl(m,O_(m,b),p,function(l,c){return yn(l)?l.nextSibling(c):c.nextSibling}(m,b),!1)}c[l.index]=d=bx(h,c,p,l),fw(c,d)}return new uO(d,l,c)}const Wu={};class zS extends fl{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=vi(c);return new qS(d,this.ngModule)}}function YS(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}const jy=new wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gu});class qS extends qC{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=c.selectors.map(Ck).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return YS(this.componentDef.inputs)}get outputs(){return YS(this.componentDef.outputs)}create(c,d,h,p){const m=(p=p||this.ngModule)?function(l,c){return{get:(d,h,p)=>{const m=l.get(d,Wu,p);return m!==Wu||h===Wu?m:c.get(d,h,p)}}}(c,p.injector):c,b=m.get(mc,co),C=m.get(KC,null),D=b.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=h?function(l,c,d){if(yn(l))return l.selectRootElement(c,d===Ve.ShadowDom);let h="string"==typeof c?l.querySelector(c):c;return h.textContent="",h}(D,h,this.componentDef.encapsulation):jb(b.createRenderer(null,this.componentDef),T,function(l){const c=l.toLowerCase();return"svg"===c?Yc:"math"===c?"http://www.w3.org/1998/MathML/":null}(T)),R=this.componentDef.onPush?576:528,P=function(l,c){return{components:[],scheduler:l||gu,clean:Jk,playerHandler:c||null,flags:0}}(),G=Np(0,null,null,1,0,null,null,null,null,null),Z=ah(null,G,P,R,null,null,b,D,C,m);let ue,te;Id(Z);try{const Oe=function(l,c,d,h,p,m){const b=d[1];d[20]=l;const D=Du(b,20,2,"#host",null),T=D.mergedAttrs=c.hostAttrs;null!==T&&($_(D,T,!0),null!==l&&(Os(p,l,T),null!==D.classes&&Wb(p,l,D.classes),null!==D.styles&&JD(p,l,D.styles)));const A=h.createRenderer(l,c),R=ah(d,fx(c),null,c.onPush?64:16,d[20],D,h,A,m||null,null);return b.firstCreatePass&&(Re(fo(D,d),b,c.type),al(b,D),Gk(D,d.length,1)),fw(d,R),d[20]=R}(A,this.componentDef,Z,b,D);if(A)if(h)Os(D,A,["ng-version",ky.full]);else{const{attrs:Ee,classes:tt}=function(l){const c=[],d=[];let h=1,p=2;for(;h<l.length;){let m=l[h];if("string"==typeof m)2===p?""!==m&&c.push(m,l[++h]):8===p&&d.push(m);else{if(!bo(p))break;p=m}h++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);Ee&&Os(D,A,Ee),tt&&tt.length>0&&Wb(D,A,tt.join(" "))}if(te=Ed(G,20),void 0!==d){const Ee=te.projection=[];for(let tt=0;tt<this.ngContentSelectors.length;tt++){const vt=d[tt];Ee.push(null!=vt?Array.from(vt):null)}}ue=function(l,c,d,h,p){const m=d[1],b=function(l,c,d){const h=gn();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),vx(l,h,c,Xt(l,c,1,null),d));const p=cn(c,l,h.directiveStart,h);Di(p,c);const m=qi(h,c);return m&&Di(m,c),p}(m,d,c);if(h.components.push(b),l[8]=b,p&&p.forEach(D=>D(b,c)),c.contentQueries){const D=gn();c.contentQueries(1,b,D.directiveStart)}const C=gn();return!m.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Ll(C.index),yx(d[1],C,0,C.directiveStart,C.directiveEnd,c),uw(c,b)),b}(Oe,this.componentDef,Z,P,[lr]),Y_(G,Z,null)}finally{Qc()}return new $S(this.componentType,ue,Lh(te,Z),Z,te)}}class $S extends class{}{constructor(c,d,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=d,this.hostView=this.changeDetectorRef=new _S(p),this.componentType=c}get injector(){return new Ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}const ya=new Map;class M0 extends gc{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zS(this);const h=Ur(c),p=c[Le]||null;p&&py(p),this._bootstrapComponents=Qr(h.bootstrap),this._r3Injector=Tx(c,d,[{provide:gc,useValue:this},{provide:fl,useValue:this.componentFactoryResolver}],W(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,d=yt.THROW_IF_NOT_FOUND,h=et.Default){return c===yt||c===gc||c===Ni?this:this._r3Injector.get(c,d,h)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class S0 extends mm{constructor(c){super(),this.moduleType=c,null!==Ur(c)&&function(l){const c=new Set;!function d(h){const p=Ur(h,!0),m=p.id;null!==m&&(function(l,c,d){if(c&&c!==d)throw new Error(`Duplicate module registered for ${l} - ${W(c)} vs ${W(c.name)}`)}(m,ya.get(m),h),ya.set(m,h));const b=Qr(p.imports);for(const C of b)c.has(C)||(c.add(C),d(C))}(l)}(c)}create(c){return new M0(this.moduleType,c)}}function Zt(l,c,d,h){return JS(Me(),jn(),l,c,d,h)}function T0(l,c,d,h,p){return function(l,c,d,h,p,m,b){const C=c+d;return function(l,c,d,h){const p=cr(l,c,d);return cr(l,c+1,h)||p}(l,C,p,m)?ha(l,C+2,b?h.call(b,p,m):h(p,m)):gr(l,C+2)}(Me(),jn(),l,c,d,h,p)}function gr(l,c){const d=l[c];return d===St?void 0:d}function JS(l,c,d,h,p,m){const b=c+d;return cr(l,b,p)?ha(l,b+1,m?h.call(m,p):h(p)):gr(l,b+1)}function an(l,c){const d=Lt();let h;const p=l+20;d.firstCreatePass?(h=function(l,c){if(c)for(let d=c.length-1;d>=0;d--){const h=c[d];if(l===h.name)return h}throw new ye("302",`The pipe '${l}' could not be found!`)}(c,d.pipeRegistry),d.data[p]=h,h.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,h.onDestroy)):h=d.data[p];const m=h.factory||(h.factory=Ko(h.type)),b=ir(yh);try{const C=Fd(!1),D=m();return Fd(C),function(l,c,d,h){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=h}(d,Me(),p,D),D}finally{ir(b)}}function Sm(l,c,d){const h=l+20,p=Me(),m=Jo(p,h);return function(l,c){Do.isWrapped(c)&&(c=Do.unwrap(c),l[gt.lFrame.bindingIndex]=St);return c}(p,function(l,c){return l[1].data[c].pure}(p,h)?JS(p,jn(),c,m.transform,d,m):m.transform(d))}function Zy(l){return c=>{setTimeout(l,void 0,c)}}const So=class extends a.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){var p,m,b;let C=c,D=d||(()=>null),T=h;if(c&&"object"==typeof c){const R=c;C=null===(p=R.next)||void 0===p?void 0:p.bind(R),D=null===(m=R.error)||void 0===m?void 0:m.bind(R),T=null===(b=R.complete)||void 0===b?void 0:b.bind(R)}this.__isAsync&&(D=Zy(D),C&&(C=Zy(C)),T&&(T=Zy(T)));const A=super.subscribe({next:C,error:D,complete:T});return c instanceof oe.w&&c.add(A),A}};function RO(){return this._results[dh()]()}class Im{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=dh(),h=Im.prototype;h[d]||(h[d]=RO)}get changes(){return this._changes||(this._changes=new So)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const p=Kr(c);(this._changesDetected=!function(l,c,d){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],m=c[h];if(d&&(p=d(p),m=d(m)),m!==p)return!1}return!0}(h._results,p,d))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class I0{constructor(c){this.queryList=c,this.matches=null}clone(){return new I0(this.queryList)}setDirty(){this.queryList.setDirty()}}class hi{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let m=0;m<h;m++){const b=d.getByIndex(m);p.push(this.queries[b.indexInDeclarationView].clone())}return new hi(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==P0(c,d).matches&&this.queries[d].setDirty()}}class Wy{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class Ky{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const p=null!==d?d.length:0,m=this.getByIndex(h).embeddedTView(c,p);m&&(m.indexInDeclarationView=h,null!==d?d.push(m):d=[m])}return null!==d?new Ky(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Qu{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Qu(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(c,d,va(d,m)),this.matchTNodeWithReadOption(c,d,ea(d,c,m,!1,!1))}else h===Qi?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,ea(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===ws||p===gm||p===Qi&&4&d.type)this.addMatch(d.index,-2);else{const m=ea(d,c,p,!1,!1);null!==m&&this.addMatch(d.index,m)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function va(l,c){const d=l.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function nT(l,c,d,h){return-1===d?function(l,c){return 11&l.type?Lh(l,c):4&l.type?pm(l,c):null}(c,l):-2===d?function(l,c,d){return d===ws?Lh(c,l):d===Qi?pm(c,l):d===gm?Hu(c,l):void 0}(l,c,h):cn(l,l[1],d,c)}function R0(l,c,d,h){const p=c[19].queries[h];if(null===p.matches){const m=l.data,b=d.matches,C=[];for(let D=0;D<b.length;D+=2){const T=b[D];C.push(T<0?null:nT(c,m[T],b[D+1],d.metadata.read))}p.matches=C}return p.matches}function Qy(l,c,d,h){const p=l.queries.getByIndex(d),m=p.matches;if(null!==m){const b=R0(l,c,p,d);for(let C=0;C<m.length;C+=2){const D=m[C];if(D>0)h.push(b[C/2]);else{const T=m[C+1],A=c[-D];for(let R=10;R<A.length;R++){const P=A[R];P[17]===P[3]&&Qy(P[1],P,T,h)}if(null!==A[9]){const R=A[9];for(let P=0;P<R.length;P++){const G=R[P];Qy(G[1],G,T,h)}}}}}return h}function O0(l){const c=Me(),d=Lt(),h=zg();Kc(h+1);const p=P0(d,h);if(l.dirty&&Vf(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const m=p.crossesNgTemplate?Qy(d,c,h,[]):R0(d,c,p,h);l.reset(m,Iy),l.notifyOnChanges()}return!0}return!1}function iT(l,c,d){const h=Lt();h.firstCreatePass&&(F0(h,new Wy(l,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),oT(h,Me(),c)}function rT(l,c,d,h){const p=Lt();if(p.firstCreatePass){const m=gn();F0(p,new Wy(c,d,h),m.index),function(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}oT(p,Me(),d)}function Om(){return l=Me(),c=zg(),l[19].queries[c].queryList;var l,c}function oT(l,c,d){const h=new Im(4==(4&d));gx(l,c,h,h.destroy),null===c[19]&&(c[19]=new hi),c[19].queries.push(new I0(h))}function F0(l,c,d){null===l.queries&&(l.queries=new Ky),l.queries.track(new Qu(c,d))}function P0(l,c){return l.queries.getByIndex(c)}const Ea=new wn("Application Initializer");let Qs=(()=>{class l{constructor(d){this.appInits=d,this.resolve=Nh,this.reject=Nh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(Jw(m))d.push(m);else if(Xw(m)){const b=new Promise((C,D)=>{m.subscribe({complete:C,error:D})});d.push(b)}}Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(pn(Ea,8))},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})();const iv=new wn("AppId"),e1={provide:iv,useFactory:function(){return`${j0()}${j0()}${j0()}`},deps:[]};function j0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ET=new wn("Platform Initializer"),DT=new wn("Platform ID"),Hm=new wn("appBootstrapListener");let z0=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})();const rv=new wn("LocaleId"),xT=new wn("DefaultCurrencyCode");class q0{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}const jm=function(l){return new S0(l)},r1=jm,ST=function(l){return Promise.resolve(jm(l))},Z0=function(l){const c=jm(l),h=Qr(Ur(l).declarations).reduce((p,m)=>{const b=vi(m);return b&&p.push(new qS(b)),p},[]);return new q0(c,h)},TT=Z0,IT=function(l){return Promise.resolve(Z0(l))};let zm=(()=>{class l{constructor(){this.compileModuleSync=r1,this.compileModuleAsync=ST,this.compileModuleAndAllComponentsSync=TT,this.compileModuleAndAllComponentsAsync=IT}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})();const Jh=(()=>Promise.resolve(0))();function Dc(l){"undefined"==typeof Zone?Jh.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class vr{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new So(!1),this.onMicrotaskEmpty=new So(!1),this.onStable=new So(!1),this.onError=new So(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&d,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let l=hn.requestAnimationFrame,c=hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(l){const c=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(hn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Q0(l),l.isCheckStableRunning=!0,ov(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Q0(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,p,m,b,C)=>{try{return av(l),d.invokeTask(p,m,b,C)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||l.shouldCoalesceRunChangeDetection)&&c(),OT(l)}},onInvoke:(d,h,p,m,b,C,D)=>{try{return av(l),d.invoke(p,m,b,C,D)}finally{l.shouldCoalesceRunChangeDetection&&c(),OT(l)}},onHasTask:(d,h,p,m)=>{d.hasTask(p,m),h===p&&("microTask"==m.change?(l._hasPendingMicrotasks=m.microTask,Q0(l),ov(l)):"macroTask"==m.change&&(l.hasPendingMacrotasks=m.macroTask))},onHandleError:(d,h,p,m)=>(d.handleError(p,m),l.runOutsideAngular(()=>l.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,p){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+p,c,RT,Nh,Nh);try{return m.runTask(b,d,h)}finally{m.cancelTask(b)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const RT={};function ov(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Q0(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function av(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function OT(l){l._nesting--,ov(l)}class J0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new So,this.onMicrotaskEmpty=new So,this.onStable=new So,this.onError=new So}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,p){return c.apply(d,h)}}let FT=(()=>{class l{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vr.assertNotInAngularZone(),Dc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dc(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:m,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,h,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(pn(vr))},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})(),lv=(()=>{class l{constructor(){this._applications=new Map,X0.addToWindow(this)}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return X0.findTestabilityInTree(this,d,h)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})();class Ui{addToWindow(c){}findTestabilityInTree(c,d,h){return null}}function l1(l){X0=l}let X0=new Ui,PT=!0,NT=!1;function eE(){return NT=!0,PT}function c1(){if(NT)throw new Error("Cannot enable prod mode after platform setup.");PT=!1}let Ds;const sE=new wn("AllowMultipleToken");class d1{constructor(c,d){this.name=c,this.token=d}}function UT(l,c,d=[]){const h=`Platform: ${c}`,p=new wn(h);return(m=[])=>{let b=oE();if(!b||b.injector.get(sE,!1))if(l)l(d.concat(m).concat({provide:p,useValue:!0}));else{const C=d.concat(m).concat({provide:p,useValue:!0},{provide:Bp,useValue:"platform"});!function(l){if(Ds&&!Ds.destroyed&&!Ds.injector.get(sE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ds=l.get(qm);const c=l.get(ET,null);c&&c.forEach(d=>d())}(yt.create({providers:C,name:h}))}return function(l){const c=oE();if(!c)throw new Error("No platform exists!");if(!c.injector.get(l,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return c}(p)}}function oE(){return Ds&&!Ds.destroyed?Ds:null}let qm=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const C=function(l,c){let d;return d="noop"===l?new J0:("zone.js"===l?void 0:l)||new vr({enableLongStackTrace:eE(),shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),d}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),D=[{provide:vr,useValue:C}];return C.run(()=>{const T=yt.create({providers:D,parent:this.injector,name:d.moduleType.name}),A=d.create(T),R=A.injector.get(_,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const P=C.onError.subscribe({next:G=>{R.handleError(G)}});A.onDestroy(()=>{cE(this._modules,A),P.unsubscribe()})}),function(l,c,d){try{const h=d();return Jw(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(R,C,()=>{const P=A.injector.get(Qs);return P.runInitializers(),P.donePromise.then(()=>(py(A.injector.get(rv,Th)||Th),this._moduleDoBootstrap(A),A))})})}bootstrapModule(d,h=[]){const p=lE({},h);return function(l,c,d){const h=new S0(d);return Promise.resolve(h)}(0,0,d).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(d){const h=d.injector.get(Zm);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${W(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(pn(yt))},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})();function lE(l,c){return Array.isArray(c)?c.reduce(lE,l):Object.assign(Object.assign({},l),c)}let Zm=(()=>{class l{constructor(d,h,p,m,b){this._zone=d,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new U.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new U.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{vr.assertNotInAngularZone(),Dc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{vr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),R.unsubscribe()}});this.isStable=(0,se.T)(C,D.pipe((0,ae.B)()))}bootstrap(d,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=d instanceof qC?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(p.componentType);const m=function(l){return l.isBoundToModule}(p)?void 0:this._injector.get(gc),C=p.create(yt.NULL,[],h||p.selector,m),D=C.location.nativeElement,T=C.injector.get(FT,null),A=T&&C.injector.get(lv);return T&&A&&A.registerApplication(D,T),C.onDestroy(()=>{this.detachView(C.hostView),cE(this.components,C),A&&A.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;cE(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Hm,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(d){return new(d||l)(pn(vr),pn(yt),pn(_),pn(fl),pn(Qs))},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})();function cE(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}class p1{}class uE{}const jT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dE=(()=>{class l{constructor(d,h){this._compiler=d,this._config=h||jT}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[h,p]=d.split("#");return void 0===p&&(p="default"),N(8255)(h).then(m=>m[p]).then(m=>hv(m,h,p)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(d){let[h,p]=d.split("#"),m="NgFactory";return void 0===p&&(p="default",m=""),N(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(b=>b[p+m]).then(b=>hv(b,h,p))}}return l.\u0275fac=function(d){return new(d||l)(pn(zm),pn(uE,8))},l.\u0275prov=dn({token:l,factory:l.\u0275fac}),l})();function hv(l,c,d){if(!l)throw new Error(`Cannot find '${d}' in '${c}'`);return l}const fE=function(l){return null},QT=UT(null,"core",[{provide:DT,useValue:"unknown"},{provide:qm,deps:[yt]},{provide:lv,deps:[]},{provide:z0,deps:[]}]),mE=[{provide:Zm,useClass:Zm,deps:[vr,yt,_,fl,Qs]},{provide:jy,deps:[vr],useFactory:function(l){let c=[];return l.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(d){c.push(d)}}},{provide:Qs,useClass:Qs,deps:[[new Ns,Ea]]},{provide:zm,useClass:zm,deps:[]},e1,{provide:dm,useFactory:function(){return ES},deps:[]},{provide:Oy,useFactory:function(){return DS},deps:[]},{provide:rv,useFactory:function(l){return py(l=l||"undefined"!=typeof $localize&&$localize.locale||Th),l},deps:[[new $a(rv),new Ns,new Ci]]},{provide:xT,useValue:"USD"}];let w1=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(pn(Zm))},l.\u0275mod=Ml({type:l}),l.\u0275inj=Ht({providers:mE}),l})()},8939:(Ye,De,N)=>{"use strict";N.d(De,{hO:()=>K,xv:()=>Y,Dh:()=>W,GT:()=>J,on:()=>B,pX:()=>ae});var a=N(7716),oe=N(7841),U=N(9126);Ye=N.hmd(Ye);const se=["ngOnDestroy"],ae=(X,ye,he,Ie={})=>new Proxy(X,{get:(ve,ke)=>he.runOutsideAngular(()=>{var pt;if(X[ke])return(null===(pt=null==Ie?void 0:Ie.spy)||void 0===pt?void 0:pt.get)&&Ie.spy.get(ke,X[ke]),X[ke];if(se.indexOf(ke)>-1)return()=>{};const nt=ye.toPromise().then(lt=>{const Ut=lt&&lt[ke];return"function"==typeof Ut?Ut.bind(lt):Ut&&Ut.then?Ut.then(kt=>he.run(()=>kt)):he.run(()=>Ut)});return new Proxy(()=>{},{get:(lt,Ut)=>nt[Ut],apply:(lt,Ut,kt)=>nt.then(un=>{var we;const ce=un&&un(...kt);return(null===(we=null==Ie?void 0:Ie.spy)||void 0===we?void 0:we.apply)&&Ie.spy.apply(ke,kt,ce),ce})})})}),J=(X,ye)=>{ye.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(Ie=>{Object.defineProperty(X.prototype,Ie,Object.getOwnPropertyDescriptor(he.prototype||he,Ie))})})};class q{constructor(ye){return ye}}const W=new a.OlP("angularfire2.app.options"),Y=new a.OlP("angularfire2.app.name");function B(X,ye,he){const ve="object"==typeof he&&he||{};ve.name=ve.name||"string"==typeof he&&he||"[DEFAULT]";const pt=oe.Z.apps.filter(nt=>nt&&nt.name===ve.name)[0]||ye.runOutsideAngular(()=>oe.Z.initializeApp(X,ve));try{JSON.stringify(X)!==JSON.stringify(pt.options)&&$("error",`${pt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(nt){}return new q(pt)}const $=(X,...ye)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[X](...ye)},V={provide:q,useFactory:B,deps:[W,a.R0b,[new a.FiY,Y]]};let K=(()=>{class X{constructor(he){oe.Z.registerVersion("angularfire",U.q4.full,"core"),oe.Z.registerVersion("angularfire",U.q4.full,"app-compat"),oe.Z.registerVersion("angular",a.q4F.full,he.toString())}static initializeApp(he,Ie){return{ngModule:X,providers:[{provide:W,useValue:he},{provide:Y,useValue:Ie}]}}}return X.\u0275fac=function(he){return new(he||X)(a.LFG(a.Lbi))},X.\u0275mod=a.oAB({type:X}),X.\u0275inj=a.cJS({providers:[V]}),X})()},9126:(Ye,De,N)=>{"use strict";N.d(De,{q4:()=>B,iC:()=>ce,fc:()=>un,HU:()=>nt,cc:()=>K});var a=N(7716);(0,N(5452).registerVersion)("firebase","9.0.2","app");var ae=N(7771),J=N(3637),q=N(3342),W=N(9746),Y=N(9673);Ye=N.hmd(Ye);const B=new a.GfV("7.0.4"),$=!!Ye.hot,V=(ge,...ee)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ge](...ee)};function K(ge,ee,Ne,Ke,Ot){const[,ot,ut]=globalThis.\u0275AngularfireInstanceCache.find(ct=>ct[0]===ge)||[];if(ot)return function(ge,ee){try{return ge.toString()===ee.toString()}catch(Ne){return ge===ee}}(Ot,ut)||(V("error",`${ee} was already initialized on the ${Ne} Firebase App with different settings.${$?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:Ot,was:ut})),ot;{const ct=Ke();return globalThis.\u0275AngularfireInstanceCache.push([ge,ct,Ot]),ct}}function ve(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ke{constructor(ee,Ne=ae.N){this.zone=ee,this.delegate=Ne}now(){return this.delegate.now()}schedule(ee,Ne,Ke){const Ot=this.zone;return this.delegate.schedule(function(ut){Ot.runGuarded(()=>{ee.apply(this,[ut])})},Ne,Ke)}}class pt{constructor(ee){this.zone=ee,this.task=null}call(ee,Ne){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),Ne.pipe((0,q.b)({next:Ke,complete:Ke,error:Ke})).subscribe(ee).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let nt=(()=>{class ge{constructor(Ne){this.ngZone=Ne,this.outsideAngular=Ne.runOutsideAngular(()=>new ke(Zone.current)),this.insideAngular=Ne.run(()=>new ke(Zone.current,J.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ge.\u0275fac=function(Ne){return new(Ne||ge)(a.LFG(a.R0b))},ge.\u0275prov=a.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function lt(){const ge=globalThis.\u0275AngularFireScheduler;if(!ge)throw new Error("AngularFireModule has not been provided");return ge}function un(ge){return ge.pipe((0,W.QV)(lt().outsideAngular))}function ce(ge){return lt(),function(ge){return function(Ne){return(Ne=Ne.lift(new pt(ge.ngZone))).pipe((0,Y.R)(ge.outsideAngular),(0,W.QV)(ge.insideAngular))}}(lt())(ge)}},4486:(Ye,De,N)=>{"use strict";N.d(De,{Z:()=>he});var a=N(4685),oe=N(6034),U=N(5452),se=N(300);class ae{constructor(ve,ke){this._delegate=ve,this.firebase=ke,(0,U._addComponent)(ve,new oe.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ve,ke=U._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const nt=this._delegate.container.getProvider(ve);return!nt.isInitialized()&&"EXPLICIT"===(null===(pt=nt.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&nt.initialize(),nt.getImmediate({identifier:ke})}_removeServiceInstance(ve,ke=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ke)}_addComponent(ve){(0,U._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,U._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Y(){const Ie=function(Ie){const ve={},ke={__esModule:!0,initializeApp:function(we,ce={}){const le=U.initializeApp(we,ce);if((0,a.r3)(ve,le.name))return ve[le.name];const Ce=new Ie(le,ke);return ve[le.name]=Ce,Ce},app:nt,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(we){const ce=we.name,le=ce.replace("-compat","");if(U._registerComponent(we)&&"PUBLIC"===we.type){const Ce=(fe=nt())=>{if("function"!=typeof fe[le])throw q.create("invalid-app-argument",{appName:ce});return fe[le]()};void 0!==we.serviceProps&&(0,a.ZB)(Ce,we.serviceProps),ke[le]=Ce,Ie.prototype[le]=function(...fe){return this._getService.bind(this,ce).apply(this,we.multipleInstances?fe:[])}}return"PUBLIC"===we.type?ke[le]:null},removeApp:function(we){delete ve[we]},useAsService:function(we,ce){return"serverAuth"===ce?null:ce},modularAPIs:U}};function nt(we){if(!(0,a.r3)(ve,we=we||U._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:we});return ve[we]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function(){return Object.keys(ve).map(we=>ve[we])}}),nt.App=Ie,ke}(ae);return Ie.INTERNAL=Object.assign(Object.assign({},Ie.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(ke){(0,a.ZB)(Ie,ke)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ie}(),$=new se.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ie=self.firebase.SDK_VERSION;Ie&&Ie.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=B;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const he=ye},5452:(Ye,De,N)=>{"use strict";N.r(De),N.d(De,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Cr,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>ls,_apps:()=>ut,_clearComponents:()=>Ht,_components:()=>ct,_getProvider:()=>dn,_registerComponent:()=>Lr,_removeServiceInstance:()=>Un,deleteApp:()=>zo,getApp:()=>so,getApps:()=>jo,initializeApp:()=>Go,onLog:()=>yi,registerVersion:()=>et,setLogLevel:()=>oo});var a=N(8239),oe=N(6034),U=N(300),se=N(4685);class ae{constructor(st){this.container=st}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function(Et){const st=Et.getComponent();return"VERSION"===(null==st?void 0:st.type)}(Wt)){const zt=Wt.getImmediate();return`${zt.library}/${zt.version}`}return null}).filter(Wt=>Wt).join(" ")}}const q="@firebase/app",Y=new U.Yd("@firebase/app"),Ot="[DEFAULT]",ot={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ut=new Map,ct=new Map;function Dn(Et,st){try{Et.container.addComponent(st)}catch(Wt){Y.debug(`Component ${st.name} failed to register with FirebaseApp ${Et.name}`,Wt)}}function ls(Et,st){Et.container.addOrOverwriteComponent(st)}function Lr(Et){const st=Et.name;if(ct.has(st))return Y.debug(`There were multiple attempts to register component ${st}.`),!1;ct.set(st,Et);for(const Wt of ut.values())Dn(Wt,Et);return!0}function dn(Et,st){return Et.container.getProvider(st)}function Un(Et,st,Wt=Ot){dn(Et,st).clearInstance(Wt)}function Ht(){ct.clear()}const ro=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Ia{constructor(st,Wt,zt){this._isDeleted=!1,this._options=Object.assign({},st),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=zt,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this.checkDestroyed(),this._automaticDataCollectionEnabled=st}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(st){this._isDeleted=st}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}const Cr="9.0.0";function Go(Et,st={}){"object"!=typeof st&&(st={name:st});const Wt=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},st),zt=Wt.name;if("string"!=typeof zt||!zt)throw ro.create("bad-app-name",{appName:String(zt)});const Yi=ut.get(zt);if(Yi){if((0,se.vZ)(Et,Yi.options)&&(0,se.vZ)(Wt,Yi.config))return Yi;throw ro.create("duplicate-app",{appName:zt})}const on=new oe.H0(zt);for(const dt of ct.values())on.addComponent(dt);const Ve=new Ia(Et,Wt,on);return ut.set(zt,Ve),Ve}function so(Et=Ot){const st=ut.get(Et);if(!st)throw ro.create("no-app",{appName:Et});return st}function jo(){return Array.from(ut.values())}function zo(Et){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(Et){const st=Et.name;ut.has(st)&&(ut.delete(st),yield Promise.all(Et.container.getProviders().map(Wt=>Wt.delete())),Et.isDeleted=!0)})).apply(this,arguments)}function et(Et,st,Wt){var zt;let Yi=null!==(zt=ot[Et])&&void 0!==zt?zt:Et;Wt&&(Yi+=`-${Wt}`);const on=Yi.match(/\s|\//),Ve=st.match(/\s|\//);if(on||Ve){const dt=[`Unable to register library "${Yi}" with version "${st}":`];return on&&dt.push(`library name "${Yi}" contains illegal characters (whitespace or "/")`),on&&Ve&&dt.push("and"),Ve&&dt.push(`version name "${st}" contains illegal characters (whitespace or "/")`),void Y.warn(dt.join(" "))}Lr(new oe.wA(`${Yi}-version`,()=>({library:Yi,version:st}),"VERSION"))}function yi(Et,st){if(null!==Et&&"function"!=typeof Et)throw ro.create("invalid-log-argument");(0,U.Am)(Et,st)}function oo(Et){(0,U.Ub)(Et)}Lr(new oe.wA("platform-logger",st=>new ae(st),"PRIVATE")),et(q,"0.7.0",undefined),et("fire-js","")},6034:(Ye,De,N)=>{"use strict";N.d(De,{wA:()=>U,H0:()=>W});var a=N(4762),oe=N(4685),U=function(){function Y(B,$,V){this.name=B,this.instanceFactory=$,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(B){return this.instantiationMode=B,this},Y.prototype.setMultipleInstances=function(B){return this.multipleInstances=B,this},Y.prototype.setServiceProps=function(B){return this.serviceProps=B,this},Y.prototype.setInstanceCreatedCallback=function(B){return this.onInstanceCreated=B,this},Y}(),se="[DEFAULT]",ae=function(){function Y(B,$){this.name=B,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(B){var $=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has($)){var V=new oe.BH;if(this.instancesDeferred.set($,V),this.isInitialized($)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:$});K&&V.resolve(K)}catch(X){}}return this.instancesDeferred.get($).promise},Y.prototype.getImmediate=function(B){var $,V=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),K=null!==($=null==B?void 0:B.optional)&&void 0!==$&&$;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(X){if(K)return null;throw X}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(B){var $,V;if(B.name!==this.name)throw Error("Mismatching Component "+B.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=B,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:se})}catch(pt){}try{for(var K=(0,a.XA)(this.instancesDeferred.entries()),X=K.next();!X.done;X=K.next()){var ye=(0,a.CR)(X.value,2),Ie=ye[1],ve=this.normalizeInstanceIdentifier(ye[0]);try{var ke=this.getOrInitializeService({instanceIdentifier:ve});Ie.resolve(ke)}catch(pt){}}}catch(pt){$={error:pt}}finally{try{X&&!X.done&&(V=K.return)&&V.call(K)}finally{if($)throw $.error}}}},Y.prototype.clearInstance=function(B){void 0===B&&(B=se),this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)},Y.prototype.delete=function(){return(0,a.mG)(this,void 0,void 0,function(){var B;return(0,a.Jh)(this,function($){switch($.label){case 0:return B=Array.from(this.instances.values()),[4,Promise.all((0,a.ev)((0,a.ev)([],(0,a.CR)(B.filter(function(V){return"INTERNAL"in V}).map(function(V){return V.INTERNAL.delete()}))),(0,a.CR)(B.filter(function(V){return"_delete"in V}).map(function(V){return V._delete()}))))];case 1:return $.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(B){return void 0===B&&(B=se),this.instances.has(B)},Y.prototype.getOptions=function(B){return void 0===B&&(B=se),this.instancesOptions.get(B)||{}},Y.prototype.initialize=function(B){var $,V;void 0===B&&(B={});var K=B.options,X=void 0===K?{}:K,ye=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ye))throw Error(this.name+"("+ye+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var he=this.getOrInitializeService({instanceIdentifier:ye,options:X});try{for(var Ie=(0,a.XA)(this.instancesDeferred.entries()),ve=Ie.next();!ve.done;ve=Ie.next()){var ke=(0,a.CR)(ve.value,2),nt=ke[1];ye===this.normalizeInstanceIdentifier(ke[0])&&nt.resolve(he)}}catch(Ut){$={error:Ut}}finally{try{ve&&!ve.done&&(V=Ie.return)&&V.call(Ie)}finally{if($)throw $.error}}return he},Y.prototype.onInit=function(B,$){var V,K=this.normalizeInstanceIdentifier($),X=null!==(V=this.onInitCallbacks.get(K))&&void 0!==V?V:new Set;X.add(B),this.onInitCallbacks.set(K,X);var ye=this.instances.get(K);return ye&&B(ye,K),function(){X.delete(B)}},Y.prototype.invokeOnInitCallbacks=function(B,$){var V,K,X=this.onInitCallbacks.get($);if(X)try{for(var ye=(0,a.XA)(X),he=ye.next();!he.done;he=ye.next()){var Ie=he.value;try{Ie(B,$)}catch(ve){}}}catch(ve){V={error:ve}}finally{try{he&&!he.done&&(K=ye.return)&&K.call(ye)}finally{if(V)throw V.error}}},Y.prototype.getOrInitializeService=function(B){var $=B.instanceIdentifier,V=B.options,K=void 0===V?{}:V,X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:J($),options:K}),this.instances.set($,X),this.instancesOptions.set($,K),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch(ye){}return X||null},Y.prototype.normalizeInstanceIdentifier=function(B){return void 0===B&&(B=se),this.component?this.component.multipleInstances?B:se:B},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function J(Y){return Y===se?void 0:Y}var W=function(){function Y(B){this.name=B,this.providers=new Map}return Y.prototype.addComponent=function(B){var $=this.getProvider(B.name);if($.isComponentSet())throw new Error("Component "+B.name+" has already been registered with "+this.name);$.setComponent(B)},Y.prototype.addOrOverwriteComponent=function(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)},Y.prototype.getProvider=function(B){if(this.providers.has(B))return this.providers.get(B);var $=new ae(B,this);return this.providers.set(B,$),$},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},300:(Ye,De,N)=>{"use strict";function a(){for(var V=0,K=0,X=arguments.length;K<X;K++)V+=arguments[K].length;var ye=Array(V),he=0;for(K=0;K<X;K++)for(var Ie=arguments[K],ve=0,ke=Ie.length;ve<ke;ve++,he++)ye[he]=Ie[ve];return ye}N.d(De,{in:()=>se,Yd:()=>Y,Ub:()=>B,Am:()=>$});var oe,U=[],se=(()=>{return(V=se||(se={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",se;var V})(),ae={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},J=se.INFO,q=((oe={})[se.DEBUG]="log",oe[se.VERBOSE]="log",oe[se.INFO]="info",oe[se.WARN]="warn",oe[se.ERROR]="error",oe),W=function(V,K){for(var X=[],ye=2;ye<arguments.length;ye++)X[ye-2]=arguments[ye];if(!(K<V.logLevel)){var he=(new Date).toISOString(),Ie=q[K];if(!Ie)throw new Error("Attempted to log a message with an invalid logType (value: "+K+")");console[Ie].apply(console,a(["["+he+"]  "+V.name+":"],X))}},Y=function(){function V(K){this.name=K,this._logLevel=J,this._logHandler=W,this._userLogHandler=null,U.push(this)}return Object.defineProperty(V.prototype,"logLevel",{get:function(){return this._logLevel},set:function(K){if(!(K in se))throw new TypeError('Invalid value "'+K+'" assigned to `logLevel`');this._logLevel=K},enumerable:!1,configurable:!0}),V.prototype.setLogLevel=function(K){this._logLevel="string"==typeof K?ae[K]:K},Object.defineProperty(V.prototype,"logHandler",{get:function(){return this._logHandler},set:function(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(K){this._userLogHandler=K},enumerable:!1,configurable:!0}),V.prototype.debug=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,se.DEBUG],K)),this._logHandler.apply(this,a([this,se.DEBUG],K))},V.prototype.log=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,se.VERBOSE],K)),this._logHandler.apply(this,a([this,se.VERBOSE],K))},V.prototype.info=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,se.INFO],K)),this._logHandler.apply(this,a([this,se.INFO],K))},V.prototype.warn=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,se.WARN],K)),this._logHandler.apply(this,a([this,se.WARN],K))},V.prototype.error=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,se.ERROR],K)),this._logHandler.apply(this,a([this,se.ERROR],K))},V}();function B(V){U.forEach(function(K){K.setLogLevel(V)})}function $(V,K){for(var X=function(ve){var ke=null;K&&K.level&&(ke=ae[K.level]),ve.userLogHandler=null===V?null:function(pt,nt){for(var lt=[],Ut=2;Ut<arguments.length;Ut++)lt[Ut-2]=arguments[Ut];var kt=lt.map(function(un){if(null==un)return null;if("string"==typeof un)return un;if("number"==typeof un||"boolean"==typeof un)return un.toString();if(un instanceof Error)return un.message;try{return JSON.stringify(un)}catch(we){return null}}).filter(function(un){return un}).join(" ");nt>=(null!=ke?ke:pt.logLevel)&&V({level:se[nt].toLowerCase(),message:kt,args:lt,type:pt.name})}},ye=0,he=U;ye<he.length;ye++)X(he[ye])}},4685:(Ye,De,N)=>{"use strict";N.d(De,{BH:()=>X,LL:()=>Ne,ZR:()=>ee,tV:()=>B,r3:()=>Un,Sg:()=>ye,ne:()=>ka,vZ:()=>Ia,ZB:()=>V,pd:()=>jo,m9:()=>nn,z$:()=>he,jU:()=>ke,ru:()=>pt,d:()=>lt,xb:()=>_i,w1:()=>Ut,hl:()=>ce,uI:()=>Ie,UG:()=>ve,b$:()=>nt,G6:()=>we,Mn:()=>kt,xO:()=>Go,zd:()=>so});var a=N(4762),ae=function(z){for(var H=[],ie=0,pe=0;pe<z.length;pe++){var re=z.charCodeAt(pe);re<128?H[ie++]=re:re<2048?(H[ie++]=re>>6|192,H[ie++]=63&re|128):55296==(64512&re)&&pe+1<z.length&&56320==(64512&z.charCodeAt(pe+1))?(re=65536+((1023&re)<<10)+(1023&z.charCodeAt(++pe)),H[ie++]=re>>18|240,H[ie++]=re>>12&63|128,H[ie++]=re>>6&63|128,H[ie++]=63&re|128):(H[ie++]=re>>12|224,H[ie++]=re>>6&63|128,H[ie++]=63&re|128)}return H},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(z,H){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ie=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[],re=0;re<z.length;re+=3){var Le=z[re],Qe=re+1<z.length,xt=Qe?z[re+1]:0,jt=re+2<z.length,Kt=jt?z[re+2]:0,Xn=(15&xt)<<2|Kt>>6,qo=63&Kt;jt||(qo=64,Qe||(Xn=64)),pe.push(ie[Le>>2],ie[(3&Le)<<4|xt>>4],ie[Xn],ie[qo])}return pe.join("")},encodeString:function(z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(z):this.encodeByteArray(ae(z),H)},decodeString:function(z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(z):function(z){for(var H=[],ie=0,pe=0;ie<z.length;){var re=z[ie++];if(re<128)H[pe++]=String.fromCharCode(re);else if(re>191&&re<224){var Le=z[ie++];H[pe++]=String.fromCharCode((31&re)<<6|63&Le)}else if(re>239&&re<365){var jt=((7&re)<<18|(63&(Le=z[ie++]))<<12|(63&(Qe=z[ie++]))<<6|63&z[ie++])-65536;H[pe++]=String.fromCharCode(55296+(jt>>10)),H[pe++]=String.fromCharCode(56320+(1023&jt))}else{Le=z[ie++];var Qe=z[ie++];H[pe++]=String.fromCharCode((15&re)<<12|(63&Le)<<6|63&Qe)}}return H.join("")}(this.decodeStringToByteArray(z,H))},decodeStringToByteArray:function(z,H){this.init_();for(var ie=H?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[],re=0;re<z.length;){var Le=ie[z.charAt(re++)],xt=re<z.length?ie[z.charAt(re)]:0,Kt=++re<z.length?ie[z.charAt(re)]:64,Gn=++re<z.length?ie[z.charAt(re)]:64;if(++re,null==Le||null==xt||null==Kt||null==Gn)throw Error();pe.push(Le<<2|xt>>4),64!==Kt&&(pe.push(xt<<4&240|Kt>>2),64!==Gn&&pe.push(Kt<<6&192|Gn))}return pe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},Y=function(z){return function(z){var H=ae(z);return q.encodeByteArray(H,!0)}(z).replace(/\./g,"")},B=function(z){try{return q.decodeString(z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function V(z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return H}for(var pe in H)!H.hasOwnProperty(pe)||!K(pe)||(z[pe]=V(z[pe],H[pe]));return z}function K(z){return"__proto__"!==z}var X=function(){function z(){var H=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ie,pe){H.resolve=ie,H.reject=pe})}return z.prototype.wrapCallback=function(H){var ie=this;return function(pe,re){pe?ie.reject(pe):ie.resolve(re),"function"==typeof H&&(ie.promise.catch(function(){}),1===H.length?H(pe):H(pe,re))}},z}();function ye(z,H){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var pe=H||"demo-project",re=z.iat||0,Le=z.sub||z.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Qe=(0,a.pi)({iss:"https://securetoken.google.com/"+pe,aud:pe,iat:re,exp:re+3600,auth_time:re,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},z);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(Qe)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ie(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function ke(){return"object"==typeof self&&self.self===self}function pt(){var z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function nt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){return he().indexOf("Electron/")>=0}function Ut(){var z=he();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function kt(){return he().indexOf("MSAppHost/")>=0}function we(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){return"indexedDB"in self&&null!=indexedDB}var ee=function(z){function H(ie,pe,re){var Le=z.call(this,pe)||this;return Le.code=ie,Le.customData=re,Le.name="FirebaseError",Object.setPrototypeOf(Le,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(Le,Ne.prototype.create),Le}return(0,a.ZT)(H,z),H}(Error),Ne=function(){function z(H,ie,pe){this.service=H,this.serviceName=ie,this.errors=pe}return z.prototype.create=function(H){for(var ie=[],pe=1;pe<arguments.length;pe++)ie[pe-1]=arguments[pe];var re=ie[0]||{},Le=this.service+"/"+H,Qe=this.errors[H],xt=Qe?Ke(Qe,re):"Error",jt=this.serviceName+": "+xt+" ("+Le+").",Kt=new ee(Le,jt,re);return Kt},z}();function Ke(z,H){return z.replace(Ot,function(ie,pe){var re=H[pe];return null!=re?String(re):"<"+pe+"?>"})}var Ot=/\{\$([^}]+)}/g;function Un(z,H){return Object.prototype.hasOwnProperty.call(z,H)}function _i(z){for(var H in z)if(Object.prototype.hasOwnProperty.call(z,H))return!1;return!0}function Ia(z,H){if(z===H)return!0;for(var ie=Object.keys(z),pe=Object.keys(H),re=0,Le=ie;re<Le.length;re++){if(!pe.includes(Qe=Le[re]))return!1;var xt=z[Qe],jt=H[Qe];if(Cr(xt)&&Cr(jt)){if(!Ia(xt,jt))return!1}else if(xt!==jt)return!1}for(var Kt=0,Hn=pe;Kt<Hn.length;Kt++){var Qe;if(!ie.includes(Qe=Hn[Kt]))return!1}return!0}function Cr(z){return null!==z&&"object"==typeof z}function Go(z){for(var H=[],ie=function(jt,Kt){Array.isArray(Kt)?Kt.forEach(function(Hn){H.push(encodeURIComponent(jt)+"="+encodeURIComponent(Hn))}):H.push(encodeURIComponent(jt)+"="+encodeURIComponent(Kt))},pe=0,re=Object.entries(z);pe<re.length;pe++){var Le=re[pe];ie(Le[0],Le[1])}return H.length?"&"+H.join("&"):""}function so(z){var H={};return z.replace(/^\?/,"").split("&").forEach(function(pe){if(pe){var re=pe.split("="),Qe=re[1];H[decodeURIComponent(re[0])]=decodeURIComponent(Qe)}}),H}function jo(z){var H=z.indexOf("?");if(!H)return"";var ie=z.indexOf("#",H);return z.substring(H,ie>0?ie:void 0)}function ka(z,H){var ie=new et(z,H);return ie.subscribe.bind(ie)}!function(){function z(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}z.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},z.prototype.compress_=function(H,ie){ie||(ie=0);var pe=this.W_;if("string"==typeof H)for(var re=0;re<16;re++)pe[re]=H.charCodeAt(ie)<<24|H.charCodeAt(ie+1)<<16|H.charCodeAt(ie+2)<<8|H.charCodeAt(ie+3),ie+=4;else for(re=0;re<16;re++)pe[re]=H[ie]<<24|H[ie+1]<<16|H[ie+2]<<8|H[ie+3],ie+=4;for(re=16;re<80;re++)pe[re]=4294967295&((Le=pe[re-3]^pe[re-8]^pe[re-14]^pe[re-16])<<1|Le>>>31);var Gn,Xn,Qe=this.chain_[0],xt=this.chain_[1],jt=this.chain_[2],Kt=this.chain_[3],Hn=this.chain_[4];for(re=0;re<80;re++){re<40?re<20?(Gn=Kt^xt&(jt^Kt),Xn=1518500249):(Gn=xt^jt^Kt,Xn=1859775393):re<60?(Gn=xt&jt|Kt&(xt|jt),Xn=2400959708):(Gn=xt^jt^Kt,Xn=3395469782);var Le=(Qe<<5|Qe>>>27)+Gn+Hn+Xn+pe[re]&4294967295;Hn=Kt,Kt=jt,jt=4294967295&(xt<<30|xt>>>2),xt=Qe,Qe=Le}this.chain_[0]=this.chain_[0]+Qe&4294967295,this.chain_[1]=this.chain_[1]+xt&4294967295,this.chain_[2]=this.chain_[2]+jt&4294967295,this.chain_[3]=this.chain_[3]+Kt&4294967295,this.chain_[4]=this.chain_[4]+Hn&4294967295},z.prototype.update=function(H,ie){if(null!=H){void 0===ie&&(ie=H.length);for(var pe=ie-this.blockSize,re=0,Le=this.buf_,Qe=this.inbuf_;re<ie;){if(0===Qe)for(;re<=pe;)this.compress_(H,re),re+=this.blockSize;if("string"==typeof H){for(;re<ie;)if(Le[Qe]=H.charCodeAt(re),++re,++Qe===this.blockSize){this.compress_(Le),Qe=0;break}}else for(;re<ie;)if(Le[Qe]=H[re],++re,++Qe===this.blockSize){this.compress_(Le),Qe=0;break}}this.inbuf_=Qe,this.total_+=ie}},z.prototype.digest=function(){var H=[],ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var pe=this.blockSize-1;pe>=56;pe--)this.buf_[pe]=255&ie,ie/=256;this.compress_(this.buf_);var re=0;for(pe=0;pe<5;pe++)for(var Le=24;Le>=0;Le-=8)H[re]=this.chain_[pe]>>Le&255,++re;return H}}();var et=function(){function z(H,ie){var pe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(function(){H(pe)}).catch(function(re){pe.error(re)})}return z.prototype.next=function(H){this.forEachObserver(function(ie){ie.next(H)})},z.prototype.error=function(H){this.forEachObserver(function(ie){ie.error(H)}),this.close(H)},z.prototype.complete=function(){this.forEachObserver(function(H){H.complete()}),this.close()},z.prototype.subscribe=function(H,ie,pe){var Le,re=this;if(void 0===H&&void 0===ie&&void 0===pe)throw new Error("Missing Observer.");void 0===(Le=function(z,H){if("object"!=typeof z||null===z)return!1;for(var ie=0,pe=["next","error","complete"];ie<pe.length;ie++){var re=pe[ie];if(re in z&&"function"==typeof z[re])return!0}return!1}(H)?H:{next:H,error:ie,complete:pe}).next&&(Le.next=ir),void 0===Le.error&&(Le.error=ir),void 0===Le.complete&&(Le.complete=ir);var Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{re.finalError?Le.error(re.finalError):Le.complete()}catch(xt){}}),this.observers.push(Le),Qe},z.prototype.unsubscribeOne=function(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},z.prototype.forEachObserver=function(H){if(!this.finalized)for(var ie=0;ie<this.observers.length;ie++)this.sendOne(ie,H)},z.prototype.sendOne=function(H,ie){var pe=this;this.task.then(function(){if(void 0!==pe.observers&&void 0!==pe.observers[H])try{ie(pe.observers[H])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})},z.prototype.close=function(H){var ie=this;this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(function(){ie.observers=void 0,ie.onNoObservers=void 0}))},z}();function ir(){}function nn(z){return z&&z._delegate?z._delegate:z}},7841:(Ye,De,N)=>{"use strict";N.d(De,{Z:()=>a.Z});var a=N(4486);a.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(Ye,De,N)=>{"use strict";N.r(De);var a=N(8239),oe=N(4486),U=N(4685),se=N(5452),ae=N(4762),J=N(300),q=N(6034);const ye=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},he=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ie=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new J.Yd("@firebase/auth");function pt(E,..._){ke.logLevel<=J.in.ERROR&&ke.error(`Auth (${se.SDK_VERSION}): ${E}`,..._)}function nt(E,..._){throw un(E,..._)}function lt(E,..._){return un(E,..._)}function Ut(E,_,v){const M=Object.assign(Object.assign({},he()),{[_]:v});return new U.LL("auth","Firebase",M).create(_,{appName:E.name})}function kt(E,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&nt(E,"argument-error"),Ut(E,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function un(E,..._){if("string"!=typeof E){const v=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=E.name),E._errorFactory.create(v,...M)}return Ie.create(E,..._)}function we(E,_,...v){if(!E)throw un(_,...v)}function ce(E){const _="INTERNAL ASSERTION FAILED: "+E;throw pt(_),new Error(_)}function le(E,_){E||ce(_)}const Ce=new Map;function fe(E){le(E instanceof Function,"Expected a class definition");let _=Ce.get(E);return _?(le(_ instanceof E,"Instance stored in cache mismatched with class"),_):(_=new E,Ce.set(E,_),_)}function Ne(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Ke(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ct{constructor(_,v){this.shortDelay=_,this.longDelay=v,le(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ke()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Dn(E,_){le(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class ls{static initialize(_,v,M){this.fetchImpl=_,v&&(this.headersImpl=v),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dn=new ct(3e4,6e4);function Un(E,_){return E.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:E.tenantId}):_}function Ht(E,_,v,M){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(E,_,v,M,k={}){return ro(E,k,()=>{let O={},Q={};M&&("GET"===_?Q=M:O={body:JSON.stringify(M)});const _e=(0,U.xO)(Object.assign({key:E.config.apiKey},Q)).slice(1),Fe=new(ls.headers());return Fe.set("Content-Type","application/json"),Fe.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&Fe.set("X-Firebase-Locale",E.languageCode),ls.fetch()(so(E,E.config.apiHost,v,_e),Object.assign({method:_,headers:Fe,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function ro(E,_,v){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,a.Z)(function*(E,_,v){E._canInitEmulator=!1;const M=Object.assign(Object.assign({},Lr),_);try{const k=new jo(E),O=yield Promise.race([v(),k.promise]);k.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw zo(E,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const _e=O.ok?Q.errorMessage:Q.error.message,[Fe,$e]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw zo(E,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Fe)throw zo(E,"email-already-in-use",Q);const _t=M[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw Ut(E,_t,$e);nt(E,_t)}}catch(k){if(k instanceof U.ZR)throw k;nt(E,"network-request-failed")}})).apply(this,arguments)}function Cr(E,_,v,M){return Go.apply(this,arguments)}function Go(){return(Go=(0,a.Z)(function*(E,_,v,M,k={}){const O=yield Ht(E,_,v,M,k);return"mfaPendingCredential"in O&&nt(E,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function so(E,_,v,M){const k=`${_}${v}?${M}`;return E.config.emulator?Dn(E.config,k):`${E.config.apiScheme}://${k}`}class jo{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,M)=>{this.timer=setTimeout(()=>M(lt(this.auth,"timeout")),dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zo(E,_,v){const M={appName:E.name};v.email&&(M.email=v.email),v.phoneNumber&&(M.phoneNumber=v.phoneNumber);const k=lt(E,_,M);return k.customData._tokenResponse=v,k}function et(){return(et=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function yi(E,_){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ir(E,_){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function st(E){if(E)try{const _=new Date(Number(E));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Yi(){return(Yi=(0,a.Z)(function*(E,_=!1){const v=(0,U.m9)(E),M=yield v.getIdToken(_),k=Ve(M);we(k&&k.exp&&k.auth_time&&k.iat,v.auth,"internal-error");const O="object"==typeof k.firebase?k.firebase:void 0,Q=null==O?void 0:O.sign_in_provider;return{claims:k,token:M,authTime:st(on(k.auth_time)),issuedAtTime:st(on(k.iat)),expirationTime:st(on(k.exp)),signInProvider:Q||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function on(E){return 1e3*Number(E)}function Ve(E){const[_,v,M]=E.split(".");if(void 0===_||void 0===v||void 0===M)return pt("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,U.tV)(v);return k?JSON.parse(k):(pt("Failed to decode base64 JWT payload"),null)}catch(k){return pt("Caught error parsing JWT payload as JSON",k),null}}function cs(E,_){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(E,_,v=!1){if(v)return _;try{return yield _}catch(M){throw M instanceof U.ZR&&us(M)&&E.auth.currentUser===E&&(yield E.auth.signOut()),M}})).apply(this,arguments)}function us({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class hn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const k=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),M)}iteration(){var _=this;return(0,a.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class Br{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=st(this.lastLoginAt),this.creationTime=st(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xl(E){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(E){var _;const v=E.auth,M=yield E.getIdToken(),k=yield cs(E,ir(v,{idToken:M}));we(null==k?void 0:k.users.length,v,"internal-error");const O=k.users[0];E._notifyReloadListener(O);const Q=(null===(_=O.providerUserInfo)||void 0===_?void 0:_.length)?pe(O.providerUserInfo):[],_e=ie(E.providerData,Q),_t=!!E.isAnonymous&&!(E.email&&O.passwordHash||(null==_e?void 0:_e.length)),rt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:_e,metadata:new Br(O.createdAt,O.lastLoginAt),isAnonymous:_t};Object.assign(E,rt)})).apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(E){const _=(0,U.m9)(E);yield xl(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ie(E,_){return[...E.filter(M=>!_.some(k=>k.providerId===M.providerId)),..._]}function pe(E){return E.map(_=>{var{providerId:v}=_,M=(0,ae._T)(_,["providerId"]);return{providerId:v,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function Le(){return(Le=(0,a.Z)(function*(E,_){const v=yield ro(E,{},()=>{const M=(0,U.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:k,apiKey:O}=E.config,Q=so(E,k,"/v1/token",`key=${O}`);return ls.fetch()(Q,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:M})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){we(_.idToken,"internal-error"),we(void 0!==_.idToken,"internal-error"),we(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(E){const _=Ve(E);return we(_,"internal-error"),we(void 0!==_.exp,"internal-error"),we(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var M=this;return(0,a.Z)(function*(){return we(!M.accessToken||M.refreshToken,_,"user-token-expired"),v||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var M=this;return(0,a.Z)(function*(){const{accessToken:k,refreshToken:O,expiresIn:Q}=yield function(E,_){return Le.apply(this,arguments)}(_,v);M.updateTokensAndExpiration(k,O,Number(Q))})()}updateTokensAndExpiration(_,v,M){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,v){const{refreshToken:M,accessToken:k,expirationTime:O}=v,Q=new Qe;return M&&(we("string"==typeof M,"internal-error",{appName:_}),Q.refreshToken=M),k&&(we("string"==typeof k,"internal-error",{appName:_}),Q.accessToken=k),O&&(we("number"==typeof O,"internal-error",{appName:_}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Qe,this.toJSON())}_performRefresh(){return ce("not implemented")}}function xt(E,_){we("string"==typeof E||void 0===E,"internal-error",{appName:_})}class jt{constructor(_){var{uid:v,auth:M,stsTokenManager:k}=_,O=(0,ae._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=M,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new Br(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,a.Z)(function*(){const M=yield cs(v,v.stsTokenManager.getToken(v.auth,_));return we(M,v.auth,"internal-error"),v.accessToken!==M&&(v.accessToken=M,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),M})()}getIdTokenResult(_){return function(E){return Yi.apply(this,arguments)}(this,_)}reload(){return function(E){return H.apply(this,arguments)}(this)}_assign(_){this!==_&&(we(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new jt(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var M=this;return(0,a.Z)(function*(){let k=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),k=!0),v&&(yield xl(M)),yield M.auth._persistUserIfCurrent(M),k&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,a.Z)(function*(){const v=yield _.getIdToken();return yield cs(_,function(E,_){return et.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var M,k,O,Q,_e,Fe,$e,_t;const rt=null!==(M=v.displayName)&&void 0!==M?M:void 0,$n=null!==(k=v.email)&&void 0!==k?k:void 0,ar=null!==(O=v.phoneNumber)&&void 0!==O?O:void 0,gu=null!==(Q=v.photoURL)&&void 0!==Q?Q:void 0,S_=null!==(_e=v.tenantId)&&void 0!==_e?_e:void 0,rl=null!==(Fe=v._redirectEventId)&&void 0!==Fe?Fe:void 0,T_=null!==($e=v.createdAt)&&void 0!==$e?$e:void 0,sl=null!==(_t=v.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:Qr,emailVerified:Vb,isAnonymous:Ub,providerData:rh,stsTokenManager:Hb}=v;we(Qr&&Hb,_,"internal-error");const Us=Qe.fromJSON(this.name,Hb);we("string"==typeof Qr,_,"internal-error"),xt(rt,_.name),xt($n,_.name),we("boolean"==typeof Vb,_,"internal-error"),we("boolean"==typeof Ub,_,"internal-error"),xt(ar,_.name),xt(gu,_.name),xt(S_,_.name),xt(rl,_.name),xt(T_,_.name),xt(sl,_.name);const _u=new jt({uid:Qr,auth:_,email:$n,emailVerified:Vb,displayName:rt,isAnonymous:Ub,photoURL:gu,phoneNumber:ar,tenantId:S_,stsTokenManager:Us,createdAt:T_,lastLoginAt:sl});return rh&&Array.isArray(rh)&&(_u.providerData=rh.map(sh=>Object.assign({},sh))),rl&&(_u._redirectEventId=rl),_u}static _fromIdTokenResponse(_,v,M=!1){return(0,a.Z)(function*(){const k=new Qe;k.updateFromServerResponse(v);const O=new jt({uid:v.localId,auth:_,stsTokenManager:k,isAnonymous:M});return yield xl(O),O})()}}const Hn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,M){var k=this;return(0,a.Z)(function*(){k.storage[v]=M})()}_get(v){var M=this;return(0,a.Z)(function*(){const k=M.storage[v];return void 0===k?null:k})()}_remove(v){var M=this;return(0,a.Z)(function*(){delete M.storage[v]})()}_addListener(v,M){}_removeListener(v,M){}}return E.type="NONE",E})();function Gn(E,_,v){return`firebase:${E}:${_}:${v}`}class Xn{constructor(_,v,M){this.persistence=_,this.auth=v,this.userKey=M;const{config:k,name:O}=this.auth;this.fullUserKey=Gn(this.userKey,k.apiKey,O),this.fullPersistenceKey=Gn("persistence",k.apiKey,O),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,a.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?jt._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,a.Z)(function*(){if(v.persistence===_)return;const M=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,M?v.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,M="authUser"){return(0,a.Z)(function*(){if(!v.length)return new Xn(fe(Hn),_,M);const k=(yield Promise.all(v.map(function(){var $e=(0,a.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return $e.apply(this,arguments)}}()))).filter($e=>$e);let O=k[0]||fe(Hn);const Q=Gn(M,_.config.apiKey,_.name);let _e=null;for(const $e of v)try{const _t=yield $e._get(Q);if(_t){const rt=jt._fromJSON(_,_t);$e!==O&&(_e=rt),O=$e;break}}catch(_t){}const Fe=k.filter($e=>$e._shouldAllowMigration);return O._shouldAllowMigration&&Fe.length?(O=Fe[0],_e&&(yield O._set(Q,_e.toJSON())),yield Promise.all(v.map(function(){var $e=(0,a.Z)(function*(_t){if(_t!==O)try{yield _t._remove(Q)}catch(rt){}});return function(_t){return $e.apply(this,arguments)}}())),new Xn(O,_,M)):new Xn(O,_,M)})()}}function qo(E){const _=E.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(vd(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(Ml(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vi(_))return"Blackberry";if(Vr(_))return"Webos";if(yd(_))return"Safari";if((_.includes("chrome/")||kf(_))&&!_.includes("edge/"))return"Chrome";if(Sl(_))return"Android";{const M=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function Ml(E=(0,U.z$)()){return/firefox\//i.test(E)}function yd(E=(0,U.z$)()){const _=E.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function kf(E=(0,U.z$)()){return/crios\//i.test(E)}function vd(E=(0,U.z$)()){return/iemobile/i.test(E)}function Sl(E=(0,U.z$)()){return/android/i.test(E)}function vi(E=(0,U.z$)()){return/blackberry/i.test(E)}function Vr(E=(0,U.z$)()){return/webos/i.test(E)}function Ri(E=(0,U.z$)()){return/iphone|ipad|ipod/i.test(E)}function He(E=(0,U.z$)()){return Ri(E)||Sl(E)||Vr(E)||vi(E)||/windows phone/i.test(E)||vd(E)}function ln(E,_=[]){let v;switch(E){case"Browser":v=qo((0,U.z$)());break;case"Worker":v=`${qo((0,U.z$)())}-${E}`;break;default:v=E}const M=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${se.SDK_VERSION}/${M}`}class Er{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ei(this),this.idTokenSubscription=new ei(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var M=this;return v&&(this._popupRedirectResolver=fe(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var k;M._deleted||(M.persistenceManager=yield Xn.create(M,_),!M._deleted&&((null===(k=M._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)&&(yield M._popupRedirectResolver._initialize(M)),yield M.initializeCurrentUser(v),!M._deleted&&(M._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,a.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,a.Z)(function*(){var M;let k=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const O=null===(M=v.redirectUser)||void 0===M?void 0:M._redirectEventId,Q=null==k?void 0:k._redirectEventId,_e=yield v.tryRedirectSignIn(_);(!O||O===Q)&&(null==_e?void 0:_e.user)&&(k=_e.user)}return k?k._redirectEventId?(we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===k._redirectEventId?v.directlySetCurrentUser(k):v.reloadAndSetCurrentUserOrClear(k)):v.reloadAndSetCurrentUserOrClear(k):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,a.Z)(function*(){let M=null;try{M=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(k){yield v._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,a.Z)(function*(){try{yield xl(_)}catch(M){if("auth/network-request-failed"!==M.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var _=this;return(0,a.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,a.Z)(function*(){const M=_?(0,U.m9)(_):null;return M&&we(M.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(M&&M._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return _&&we(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,a.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(fe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new U.LL("auth","Firebase",_())}onAuthStateChanged(_,v,M){return this.registerStateListener(this.authStateSubscription,_,v,M)}onIdTokenChanged(_,v,M){return this.registerStateListener(this.idTokenSubscription,_,v,M)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var M=this;return(0,a.Z)(function*(){const k=yield M.getOrInitRedirectPersistenceManager(v);return null===_?k.removeCurrentUser():k.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const M=_&&fe(_)||v._popupRedirectResolver;we(M,v,"argument-error"),v.redirectPersistenceManager=yield Xn.create(v,[fe(M._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,a.Z)(function*(){var M,k;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(M=v._currentUser)||void 0===M?void 0:M._redirectEventId)===_?v._currentUser:(null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,a.Z)(function*(){if(_===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,M,k){if(this._deleted)return()=>{};const O="function"==typeof v?v:v.next.bind(v),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return we(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof v?_.addObserver(v,M,k):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function _n(E){return(0,U.m9)(E)}class ei{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,U.ne)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xn(E){const _=E.indexOf(":");return _<0?"":E.substr(0,_+1)}function Ra(E){if(!E)return null;const _=Number(E);return isNaN(_)?null:_}class Hr{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return ce("not implemented")}_getIdTokenResponse(_){return ce("not implemented")}_linkToIdToken(_,v){return ce("not implemented")}_getReauthenticationResolver(_){return ce("not implemented")}}function $o(E,_){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:resetPassword",Un(E,_))})).apply(this,arguments)}function Tl(E,_){return bi.apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function ds(E,_){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:update",Un(E,_))})).apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signInWithPassword",Un(E,_))})).apply(this,arguments)}function Vc(E,_){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:sendOobCode",Un(E,_))})).apply(this,arguments)}function ai(E,_){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,a.Z)(function*(E,_){return Vc(E,_)})).apply(this,arguments)}function Al(E,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(E,_){return Vc(E,_)})).apply(this,arguments)}function Gr(E,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(E,_){return Vc(E,_)})).apply(this,arguments)}function Og(E,_){return fs.apply(this,arguments)}function fs(){return(fs=(0,a.Z)(function*(E,_){return Vc(E,_)})).apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signInWithEmailLink",Un(E,_))})).apply(this,arguments)}function Il(){return(Il=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signInWithEmailLink",Un(E,_))})).apply(this,arguments)}class sr extends Hr{constructor(_,v,M,k=null){super("password",M),this._email=_,this._password=v,this._tenantId=k}static _fromEmailAndPassword(_,v){return new sr(_,v,"password")}static _fromEmailAndCode(_,v,M=null){return new sr(_,v,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return function(E,_){return Yt.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(E,_){return Hc.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:nt(_,"internal-error")}})()}_linkToIdToken(_,v){var M=this;return(0,a.Z)(function*(){switch(M.signInMethod){case"password":return Tl(_,{idToken:v,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function(E,_){return Il.apply(this,arguments)}(_,{idToken:v,email:M._email,oobCode:M._password});default:nt(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ti(E,_){return Fg.apply(this,arguments)}function Fg(){return(Fg=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signInWithIdp",Un(E,_))})).apply(this,arguments)}class Is extends Hr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Is(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):nt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:k}=v,O=(0,ae._T)(v,["providerId","signInMethod"]);if(!M||!k)return null;const Q=new Is(M,k);return Object.assign(Q,O),Q}_getIdTokenResponse(_){return ti(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,ti(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ti(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,U.xO)(v)}return _}}function CD(E,_){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:sendVerificationCode",Un(E,_))})).apply(this,arguments)}function Pg(){return(Pg=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signInWithPhoneNumber",Un(E,_))})).apply(this,arguments)}function Ng(){return(Ng=(0,a.Z)(function*(E,_){const v=yield Cr(E,"POST","/v1/accounts:signInWithPhoneNumber",Un(E,_));if(v.temporaryProof)throw zo(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const xD={USER_NOT_FOUND:"user-not-found"};function Lg(){return(Lg=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signInWithPhoneNumber",Un(E,Object.assign(Object.assign({},_),{operation:"REAUTH"})),xD)})).apply(this,arguments)}class kl extends Hr{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new kl({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new kl({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(E,_){return Pg.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(E,_){return Ng.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(E,_){return Lg.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:M,verificationCode:k}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:M,code:k}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:M,phoneNumber:k,temporaryProof:O}=_;return M||v||k||O?new kl({verificationId:v,verificationCode:M,phoneNumber:k,temporaryProof:O}):null}}class bd{constructor(_){var v,M,k,O,Q,_e;const Fe=(0,U.zd)((0,U.pd)(_)),$e=null!==(v=Fe.apiKey)&&void 0!==v?v:null,_t=null!==(M=Fe.oobCode)&&void 0!==M?M:null,rt=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=Fe.mode)&&void 0!==k?k:null);we($e&&_t&&rt,"argument-error"),this.apiKey=$e,this.operation=rt,this.code=_t,this.continueUrl=null!==(O=Fe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Fe.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(_e=Fe.tenantId)&&void 0!==_e?_e:null}static parseLink(_){const v=function(E){const _=(0,U.zd)((0,U.pd)(E)).link,v=_?(0,U.zd)((0,U.pd)(_)).deep_link_id:null,M=(0,U.zd)((0,U.pd)(E)).deep_link_id;return(M?(0,U.zd)((0,U.pd)(M)).link:null)||M||v||_||E}(_);try{return new bd(v)}catch(M){return null}}}let wd=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,M){return sr._fromEmailAndPassword(v,M)}static credentialWithLink(v,M){const k=bd.parseLink(M);return we(k,"argument-error"),sr._fromEmailAndCode(v,k.code,k.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ks{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class jc extends ks{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Fa extends jc{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return we("providerId"in v&&"signInMethod"in v,"argument-error"),Is._fromParams(v)}credential(_){return this._credential(_)}_credential(_){return we(_.idToken||_.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Fa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Fa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:M,oauthTokenSecret:k,pendingToken:O,nonce:Q,providerId:_e}=_;if(!M&&!k&&!v&&!O||!_e)return null;try{return new Fa(_e)._credential({idToken:v,accessToken:M,rawNonce:Q,pendingToken:O})}catch(Fe){return null}}}let Of=(()=>{class E extends jc{constructor(){super("facebook.com")}static credential(v){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(M){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Ko=(()=>{class E extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,M){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:M})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:M,oauthAccessToken:k}=v;if(!M&&!k)return null;try{return E.credential(M,k)}catch(O){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Bg=(()=>{class E extends jc{constructor(){super("github.com")}static credential(v){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(M){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Qo extends Hr{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return ti(_,this.buildRequest())}_linkToIdToken(_,v){const M=this.buildRequest();return M.idToken=v,ti(_,M)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ti(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:k,pendingToken:O}=v;return M&&k&&O&&M===k?new Qo(M,O):null}static _create(_,v){return new Qo(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Pf=(()=>{class E extends jc{constructor(){super("twitter.com")}static credential(v,M){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:M})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:M,oauthTokenSecret:k}=v;if(!M||!k)return null;try{return E.credential(M,k)}catch(O){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function lo(E,_){return zc.apply(this,arguments)}function zc(){return(zc=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signUp",Un(E,_))})).apply(this,arguments)}class Dr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,M,k=!1){return(0,a.Z)(function*(){const O=yield jt._fromIdTokenResponse(_,M,k),Q=cb(M);return new Dr({user:O,providerId:Q,_tokenResponse:M,operationType:v})})()}static _forOperation(_,v,M){return(0,a.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const k=cb(M);return new Dr({user:_,providerId:k,_tokenResponse:M,operationType:v})})()}}function cb(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Yc(){return(Yc=(0,a.Z)(function*(E){var _;const v=_n(E);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new Dr({user:v.currentUser,providerId:null,operationType:"signIn"});const M=yield lo(v,{returnSecureToken:!0}),k=yield Dr._fromIdTokenResponse(v,"signIn",M,!0);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class qc extends U.ZR{constructor(_,v,M,k){var O;super(v.code,v.message),this.operationType=M,this.user=k,this.name="FirebaseError",Object.setPrototypeOf(this,qc.prototype),this.appName=_.name,this.code=v.code,this.tenantId=null!==(O=_.tenantId)&&void 0!==O?O:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(_,v,M,k){return new qc(_,v,M,k)}}function $c(E,_,v,M){return("reauthenticate"===_?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?qc._fromErrorAndOperation(E,O,_,M):O})}function Vg(E){return new Set(E.map(({providerId:_})=>_).filter(_=>!!_))}function Nf(){return(Nf=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E);yield co(!0,v,_);const{providerUserInfo:M}=yield yi(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),k=Vg(M||[]);return v.providerData=v.providerData.filter(O=>k.has(O.providerId)),k.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function yn(E,_){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,a.Z)(function*(E,_,v=!1){const M=yield cs(E,_._linkToIdToken(E.auth,yield E.getIdToken()),v);return Dr._forOperation(E,"link",M)})).apply(this,arguments)}function co(E,_,v){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,a.Z)(function*(E,_,v){yield xl(_);const k=!1===E?"provider-already-linked":"no-such-provider";we(Vg(_.providerData).has(v)===E,_.auth,k)})).apply(this,arguments)}function vn(E,_){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,a.Z)(function*(E,_,v=!1){const{auth:M}=E,k="reauthenticate";try{const O=yield cs(E,$c(M,k,_,E),v);we(O.idToken,M,"internal-error");const Q=Ve(O.idToken);we(Q,M,"internal-error");const{sub:_e}=Q;return we(E.uid===_e,M,"user-mismatch"),Dr._forOperation(E,k,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&nt(M,"user-mismatch"),O}})).apply(this,arguments)}function Hg(E,_){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(E,_,v=!1){const M="signIn",k=yield $c(E,M,_),O=yield Dr._fromIdTokenResponse(E,M,k);return v||(yield E._updateCurrentUser(O.user)),O})).apply(this,arguments)}function qi(E,_){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,a.Z)(function*(E,_){return Hg(_n(E),_)})).apply(this,arguments)}function Ed(E,_){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E);return yield co(!1,v,_.providerId),yn(v,_)})).apply(this,arguments)}function or(E,_){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,a.Z)(function*(E,_){return vn((0,U.m9)(E),_)})).apply(this,arguments)}function Gg(E,_){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,a.Z)(function*(E,_){return Cr(E,"POST","/v1/accounts:signInWithCustomToken",Un(E,_))})).apply(this,arguments)}function Dd(){return(Dd=(0,a.Z)(function*(E,_){const v=_n(E),M=yield Gg(v,{token:_,returnSecureToken:!0}),k=yield Dr._fromIdTokenResponse(v,"signIn",M);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class Fl{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?gt._fromServerResponse(_,v):nt(_,"internal-error")}}class gt extends Fl{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new gt(v)}}function xd(E,_,v){var M;we((null===(M=v.url)||void 0===M?void 0:M.length)>0,E,"invalid-continue-uri"),we(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),_.iosBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,E,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Uf(){return(Uf=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E),k={requestType:"PASSWORD_RESET",email:_};v&&xd(M,k,v),yield Al(M,k)})).apply(this,arguments)}function Hf(){return(Hf=(0,a.Z)(function*(E,_,v){yield $o((0,U.m9)(E),{oobCode:_,newPassword:v})})).apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(E,_){yield ds((0,U.m9)(E),{oobCode:_})})).apply(this,arguments)}function Me(E,_){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E),M=yield $o(v,{oobCode:_}),k=M.requestType;switch(we(k,v,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(M.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(M.mfaInfo,v,"internal-error");default:we(M.email,v,"internal-error")}let O=null;return M.mfaInfo&&(O=Fl._fromServerResponse(_n(v),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:O},operation:k}})).apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(E,_){const{data:v}=yield Me((0,U.m9)(E),_);return v.email})).apply(this,arguments)}function uo(){return(uo=(0,a.Z)(function*(E,_,v){const M=_n(E),k=yield lo(M,{returnSecureToken:!0,email:_,password:v}),O=yield Dr._fromIdTokenResponse(M,"signIn",k);return yield M._updateCurrentUser(O.user),O})).apply(this,arguments)}function Pl(){return(Pl=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E),k={requestType:"EMAIL_SIGNIN",email:_};we(v.handleCodeInApp,M,"argument-error"),v&&xd(M,k,v),yield Gr(M,k)})).apply(this,arguments)}function Nl(){return(Nl=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E),k=wd.credentialWithLink(_,v||Ne());return we(k._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),qi(M,k)})).apply(this,arguments)}function Sd(E,_){return jn.apply(this,arguments)}function jn(){return(jn=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:createAuthUri",Un(E,_))})).apply(this,arguments)}function zf(){return(zf=(0,a.Z)(function*(E,_){const M={identifier:_,continueUri:Ke()?Ne():"http://localhost"},{signinMethods:k}=yield Sd((0,U.m9)(E),M);return k||[]})).apply(this,arguments)}function xr(){return(xr=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E),k={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};_&&xd(v.auth,k,_);const{email:O}=yield ai(v.auth,k);O!==E.email&&(yield E.reload())})).apply(this,arguments)}function Td(){return(Td=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:_};v&&xd(M.auth,O,v);const{email:Q}=yield Og(M.auth,O);Q!==E.email&&(yield E.reload())})).apply(this,arguments)}function jg(E,_){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,a.Z)(function*(E,_){return Ht(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Wc(){return(Wc=(0,a.Z)(function*(E,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const M=(0,U.m9)(E),O={idToken:yield M.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Q=yield cs(M,jg(M.auth,O));M.displayName=Q.displayName||null,M.photoURL=Q.photoUrl||null;const _e=M.providerData.find(({providerId:Fe})=>"password"===Fe);_e&&(_e.displayName=M.displayName,_e.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Q)})).apply(this,arguments)}function $f(E,_,v){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,a.Z)(function*(E,_,v){const{auth:M}=E,O={idToken:yield E.getIdToken(),returnSecureToken:!0};_&&(O.email=_),v&&(O.password=v);const Q=yield cs(E,Tl(M,O));yield E._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class La{constructor(_,v,M={}){this.isNewUser=_,this.providerId=v,this.profile=M}}class Yg extends La{constructor(_,v,M,k){super(_,v,M),this.username=k}}class qg extends La{constructor(_,v){super(_,"facebook.com",v)}}class pb extends Yg{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Qc extends La{constructor(_,v){super(_,"google.com",v)}}class mb extends Yg{constructor(_,v,M){super(_,"twitter.com",v,M)}}function gb(E){const{user:_,_tokenResponse:v}=E;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(E){var _,v;if(!E)return null;const{providerId:M}=E,k=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},O=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!M&&(null==E?void 0:E.idToken)){const Q=null===(v=null===(_=Ve(E.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Q)return new La(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!M)return null;switch(M){case"facebook.com":return new qg(O,k);case"github.com":return new pb(O,k);case"google.com":return new Qc(O,k);case"twitter.com":return new mb(O,k,E.screenName||null);case"custom":case"anonymous":return new La(O,null);default:return new La(O,M,k)}}(v)}class Yr{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new Yr("enroll",_)}static _fromMfaPendingCredential(_){return new Yr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,M;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Yr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(M=_.multiFactorSession)||void 0===M?void 0:M.idToken)return Yr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Bl{constructor(_,v,M){this.session=_,this.hints=v,this.signInResolver=M}static _fromError(_,v){const M=_n(_),k=(v.serverResponse.mfaInfo||[]).map(Q=>Fl._fromServerResponse(M,Q));we(v.serverResponse.mfaPendingCredential,M,"internal-error");const O=Yr._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new Bl(O,k,function(){var Q=(0,a.Z)(function*(_e){const Fe=yield _e._process(M,O);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const $e=Object.assign(Object.assign({},v.serverResponse),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(v.operationType){case"signIn":const _t=yield Dr._fromIdTokenResponse(M,v.operationType,$e);return yield M._updateCurrentUser(_t.user),_t;case"reauthenticate":return we(v.user,M,"internal-error"),Dr._forOperation(v.user,v.operationType,$e);default:nt(M,"internal-error")}});return function(_e){return Q.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,a.Z)(function*(){return v.signInResolver(_)})()}}function kd(E,_){return Ht(E,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:E.tenantId},_))}class Kf{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(M=>Fl._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new Kf(_)}getSession(){var _=this;return(0,a.Z)(function*(){return Yr._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var M=this;return(0,a.Z)(function*(){const k=_,O=yield M.getSession(),Q=yield cs(M.user,k._process(M.user.auth,O,v));return yield M.user._updateTokensIfNecessary(Q),M.user.reload()})()}unenroll(_){var v=this;return(0,a.Z)(function*(){const M="string"==typeof _?_:_.uid,k=yield v.user.getIdToken(),O=yield cs(v.user,function(E,_){return Ht(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:E.tenantId},_))}(v.user.auth,{idToken:k,mfaEnrollmentId:M}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Q})=>Q!==M),yield v.user._updateTokensIfNecessary(O);try{yield v.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const Rs=new WeakMap,Qf="__sak";class Zg{constructor(_,v){this.storage=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const ep=(()=>{class E extends Zg{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,U.z$)();return yd(E)||Ri(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=He(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const M of Object.keys(this.listeners)){const k=this.storage.getItem(M),O=this.localCache[M];k!==O&&v(M,O,k)}}onStorageEvent(v,M=!1){if(!v.key)return void this.forAllChangedKeys((_e,Fe,$e)=>{this.notifyListeners(_e,$e)});const k=v.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(k);if(v.newValue!==_e)null!==v.newValue?this.storage.setItem(k,v.newValue):this.storage.removeItem(k);else if(this.localCache[k]===v.newValue&&!M)return}const O=()=>{const _e=this.storage.getItem(k);!M&&this.localCache[k]===_e||this.notifyListeners(k,_e)},Q=this.storage.getItem(k);(0,U.w1)()&&10===document.documentMode&&Q!==v.newValue&&v.newValue!==v.oldValue?setTimeout(O,10):O()}notifyListeners(v,M){this.localCache[v]=M;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,M,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:M,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,M){var k=()=>super._set,O=this;return(0,a.Z)(function*(){yield k().call(O,v,M),O.localCache[v]=JSON.stringify(M)})()}_get(v){var M=()=>super._get,k=this;return(0,a.Z)(function*(){const O=yield M().call(k,v);return k.localCache[v]=JSON.stringify(O),O})()}_remove(v){var M=()=>super._remove,k=this;return(0,a.Z)(function*(){yield M().call(k,v),delete k.localCache[v]})()}}return E.type="LOCAL",E})(),Os=(()=>{class E extends Zg{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,M){}_removeListener(v,M){}}return E.type="SESSION",E})();let Fs=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const M=this.receivers.find(O=>O.isListeningto(v));if(M)return M;const k=new E(v);return this.receivers.push(k),k}isListeningto(v){return this.eventTarget===v}handleEvent(v){var M=this;return(0,a.Z)(function*(){const k=v,{eventId:O,eventType:Q,data:_e}=k.data,Fe=M.handlersMap[Q];if(!(null==Fe?void 0:Fe.size))return;k.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const $e=Array.from(Fe).map(function(){var rt=(0,a.Z)(function*($n){return $n(k.origin,_e)});return function($n){return rt.apply(this,arguments)}}()),_t=yield function(E){return Promise.all(E.map(function(){var _=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(M){return{fulfilled:!1,reason:M}}});return function(v){return _.apply(this,arguments)}}()))}($e);k.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:_t})})()}_subscribe(v,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(M)}_unsubscribe(v,M){this.handlersMap[v]&&M&&this.handlersMap[v].delete(M),(!M||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Xo(E="",_=10){let v="";for(let M=0;M<_;M++)v+=Math.floor(10*Math.random());return E+v}class Kg{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,M=50){var k=this;return(0,a.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,_e;return new Promise((Fe,$e)=>{const _t=Xo("",20);O.port1.start();const rt=setTimeout(()=>{$e(new Error("unsupported_event"))},M);_e={messageChannel:O,onMessage($n){const ar=$n;if(ar.data.eventId===_t)switch(ar.data.status){case"ack":clearTimeout(rt),Q=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Fe(ar.data.response);break;default:clearTimeout(rt),clearTimeout(Q),$e(new Error("invalid_response"))}}},k.handlers.add(_e),O.port1.addEventListener("message",_e.onMessage),k.target.postMessage({eventType:_,eventId:_t,data:v},[O.port2])}).finally(()=>{_e&&k.removeMessageHandler(_e)})})()}}function Mn(){return window}function Qg(){return void 0!==Mn().WorkerGlobalScope&&"function"==typeof Mn().importScripts}function Od(){return(Od=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const tp="firebaseLocalStorageDb",np="firebaseLocalStorage",vb="fbase_key";class fo{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function eu(E,_){return E.transaction([np],_?"readwrite":"readonly").objectStore(np)}function je(){const E=indexedDB.open(tp,1);return new Promise((_,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const M=E.result;try{M.createObjectStore(np,{keyPath:vb})}catch(k){v(k)}}),E.addEventListener("success",(0,a.Z)(function*(){const M=E.result;M.objectStoreNames.contains(np)?_(M):(M.close(),yield function(){const E=indexedDB.deleteDatabase(tp);return new fo(E).toPromise()}(),_(yield je()))}))})}function Re(E,_,v){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,a.Z)(function*(E,_,v){const M=eu(E,!0).put({[vb]:_,value:v});return new fo(M).toPromise()})).apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(E,_){const v=eu(E,!1).get(_),M=yield new fo(v).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Ul(E,_){const v=eu(E,!0).delete(_);return new fo(v).toPromise()}const ea=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield je()),v.db})()}_withRetries(v){var M=this;return(0,a.Z)(function*(){let k=0;for(;;)try{const O=yield M._openDb();return yield v(O)}catch(O){if(k++>3)throw O;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return Qg()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=Fs._getInstance(Qg()?self:null),v.receiver._subscribe("keyChanged",function(){var M=(0,a.Z)(function*(k,O){return{keyProcessed:(yield v._poll()).includes(O.key)}});return function(k,O){return M.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var M=(0,a.Z)(function*(k,O){return["keyChanged"]});return function(k,O){return M.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var M,k;if(v.activeServiceWorker=yield function(){return Od.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Kg(v.activeServiceWorker);const O=yield v.sender._send("ping",{},800);!O||(null===(M=O[0])||void 0===M?void 0:M.fulfilled)&&(null===(k=O[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var M=this;return(0,a.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:v},M.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield je();return yield Re(v,Qf,"1"),yield Ul(v,Qf),!0}catch(v){}return!1})()}_withPendingWrite(v){var M=this;return(0,a.Z)(function*(){M.pendingWrites++;try{yield v()}finally{M.pendingWrites--}})()}_set(v,M){var k=this;return(0,a.Z)(function*(){return k._withPendingWrite((0,a.Z)(function*(){return yield k._withRetries(O=>Re(O,v,M)),k.localCache[v]=M,k.notifyServiceWorker(v)}))})()}_get(v){var M=this;return(0,a.Z)(function*(){const k=yield M._withRetries(O=>function(E,_){return Va.apply(this,arguments)}(O,v));return M.localCache[v]=k,k})()}_remove(v){var M=this;return(0,a.Z)(function*(){return M._withPendingWrite((0,a.Z)(function*(){return yield M._withRetries(k=>Ul(k,v)),delete M.localCache[v],M.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const M=yield v._withRetries(Q=>{const _e=eu(Q,!1).getAll();return new fo(_e).toPromise()});if(!M)return[];if(0!==v.pendingWrites)return[];const k=[],O=new Set;for(const{fbase_key:Q,value:_e}of M)O.add(Q),JSON.stringify(v.localCache[Q])!==JSON.stringify(_e)&&(v.notifyListeners(Q,_e),k.push(Q));for(const Q of Object.keys(v.localCache))v.localCache[Q]&&!O.has(Q)&&(v.notifyListeners(Q,null),k.push(Q));return k})()}notifyListeners(v,M){this.localCache[v]=M;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(M)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(M)}_removeListener(v,M){this.listeners[v]&&(this.listeners[v].delete(M),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function cn(E,_){return Ht(E,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:E.tenantId},_))}function tu(){return(tu=(0,a.Z)(function*(E){return(yield Ht(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ip(E){return new Promise((_,v)=>{const M=document.createElement("script");M.setAttribute("src",E),M.onload=_,M.onerror=k=>{const O=lt("internal-error");O.customData=k,v(O)},M.type="text/javascript",M.charset="UTF-8",function(){var E,_;return null!==(_=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==_?_:document}().appendChild(M)})}function Nd(E){return`__${E}${Math.floor(1e6*Math.random())}`}const qr=1e12;class Hl{constructor(_){this.auth=_,this.counter=qr,this._widgets=new Map}render(_,v){const M=this.counter;return this._widgets.set(M,new ta(_,this.auth.name,v||{})),this.counter++,M}reset(_){var v;const M=_||qr;null===(v=this._widgets.get(M))||void 0===v||v.delete(),this._widgets.delete(M)}getResponse(_){var v;return(null===(v=this._widgets.get(_||qr))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,a.Z)(function*(){var M;return null===(M=v._widgets.get(_||qr))||void 0===M||M.execute(),""})()}}class ta{constructor(_,v,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof _?document.getElementById(_):_;we(k,"argument-error",{appName:v}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<50;M++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zr=Nd("rcb"),PD=new ct(3e4,6e4);class Wr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mn().grecaptcha}load(_,v=""){return we((E=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Mn().grecaptcha):new Promise((M,k)=>{const O=Mn().setTimeout(()=>{k(lt(_,"network-request-failed"))},PD.get());Mn()[Zr]=()=>{Mn().clearTimeout(O),delete Mn()[Zr];const _e=Mn().grecaptcha;if(!_e)return void k(lt(_,"internal-error"));const Fe=_e.render;_e.render=($e,_t)=>{const rt=Fe($e,_t);return this.counter++,rt},this.hostLanguage=v,M(_e)},ip(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Zr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(O),k(lt(_,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Mn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cb{load(_){return(0,a.Z)(function*(){return new Hl(_)})()}clearedOneInstance(){}}const wn="recaptcha",ND={theme:"light",type:"image"};class rp{constructor(_,v=Object.assign({},ND),M){this.parameters=v,this.type=wn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_n(M),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof _?document.getElementById(_):_;we(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cb:new Wr,this.validateStartingState()}verify(){var _=this;return(0,a.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(v)||new Promise(O=>{const Q=_e=>{!_e||(_.tokenChangeListeners.delete(Q),O(_e))};_.tokenChangeListeners.add(Q),_.isInvisible&&M.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(M=>M(v)),"function"==typeof _)_(v);else if("string"==typeof _){const M=Mn()[_];"function"==typeof M&&M(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,a.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const M=document.createElement("div");v.appendChild(M),v=M}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,a.Z)(function*(){we(Ke()&&!Qg(),_.auth,"internal-error"),yield function(){let E=null;return new Promise(_=>{"complete"!==document.readyState?(E=()=>_(),window.addEventListener("load",E)):_()}).catch(_=>{throw E&&window.removeEventListener("load",E),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(E){return tu.apply(this,arguments)}(_.auth);we(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class e_{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=kl._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function en(){return(en=(0,a.Z)(function*(E,_,v){const M=_n(E),k=yield sp(M,_,(0,U.m9)(v));return new e_(k,O=>qi(M,O))})).apply(this,arguments)}function t_(){return(t_=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E);yield co(!1,M,"phone");const k=yield sp(M.auth,_,(0,U.m9)(v));return new e_(k,O=>Ed(M,O))})).apply(this,arguments)}function Bt(){return(Bt=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E),k=yield sp(M.auth,_,(0,U.m9)(v));return new e_(k,O=>or(M,O))})).apply(this,arguments)}function sp(E,_,v){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(E,_,v){var M;const k=yield v.verify();try{let O;if(we("string"==typeof k,E,"argument-error"),we(v.type===wn,E,"argument-error"),O="string"==typeof _?{phoneNumber:_}:_,"session"in O){const Q=O.session;if("phoneNumber"in O)return we("enroll"===Q.type,E,"internal-error"),(yield kd(E,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{we("signin"===Q.type,E,"internal-error");const _e=(null===(M=O.multiFactorHint)||void 0===M?void 0:M.uid)||O.multiFactorUid;return we(_e,E,"missing-multi-factor-info"),(yield cn(E,{mfaPendingCredential:Q.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield CD(E,{phoneNumber:O.phoneNumber,recaptchaToken:k});return Q}}finally{v._reset()}})).apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(E,_){yield yn((0,U.m9)(E),_)})).apply(this,arguments)}let na=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=_n(v)}verifyPhoneNumber(v,M){return sp(this.auth,v,(0,U.m9)(M))}static credential(v,M){return kl._fromVerification(v,M)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:M,temporaryProof:k}=v;return M&&k?kl._fromTokenResponse(M,k):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function bn(E,_){return _?fe(_):(we(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class ja extends Hr{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ti(_,this._buildIdpRequest())}_linkToIdToken(_,v){return ti(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return ti(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function op(E){return Hg(E.auth,new ja(E),E.bypassAuthState)}function Kr(E){const{auth:_,user:v}=E;return we(v,_,"internal-error"),vn(v,new ja(E),E.bypassAuthState)}function Ps(E){return za.apply(this,arguments)}function za(){return(za=(0,a.Z)(function*(E){const{auth:_,user:v}=E;return we(v,_,"internal-error"),yn(v,new ja(E),E.bypassAuthState)})).apply(this,arguments)}class ia{constructor(_,v,M,k,O=!1){this.auth=_,this.resolver=M,this.user=k,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,a.Z)(function*(M,k){_.pendingPromise={resolve:M,reject:k};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(O){_.reject(O)}});return function(M,k){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,a.Z)(function*(){const{urlResponse:M,sessionId:k,postBody:O,tenantId:Q,error:_e,type:Fe}=_;if(_e)return void v.reject(_e);const $e={auth:v.auth,requestUri:M,sessionId:k,tenantId:Q||void 0,postBody:O||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Fe)($e))}catch(_t){v.reject(_t)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return op;case"linkViaPopup":case"linkViaRedirect":return Ps;case"reauthViaPopup":case"reauthViaRedirect":return Kr;default:nt(this.auth,"internal-error")}}resolve(_){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ra=new ct(2e3,1e4);function Bd(){return(Bd=(0,a.Z)(function*(E,_,v){const M=_n(E);kt(E,_,ks);const k=bn(M,v);return new Tn(M,"signInViaPopup",_,k).executeNotNull()})).apply(this,arguments)}function i_(){return(i_=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E);kt(M.auth,_,ks);const k=bn(M.auth,v);return new Tn(M.auth,"reauthViaPopup",_,k,M).executeNotNull()})).apply(this,arguments)}function Vd(){return(Vd=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E);kt(M.auth,_,ks);const k=bn(M.auth,v);return new Tn(M.auth,"linkViaPopup",_,k,M).executeNotNull()})).apply(this,arguments)}let Tn=(()=>{class E extends ia{constructor(v,M,k,O,Q){super(v,M,O,Q),this.provider=k,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const M=yield v.execute();return we(M,v.auth,"internal-error"),M})()}onExecution(){var v=this;return(0,a.Z)(function*(){le(1===v.filter.length,"Popup operations only handle one event");const M=Xo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],M),v.authWindow.associatedEvent=M,v.resolver._originValidation(v.auth).catch(k=>{v.reject(k)}),v.resolver._isIframeWebStorageSupported(v.auth,k=>{k||v.reject(lt(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var M,k;this.pollId=(null===(k=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(lt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,ra.get())};v()}}return E.currentPopupAction=null,E})();const sa=new Map;class Jt extends ia{constructor(_,v,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,a.Z)(function*(){let M=sa.get(v.auth._key());if(!M){try{const O=(yield function(E,_){return lp.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;M=()=>Promise.resolve(O)}catch(k){M=()=>Promise.reject(k)}sa.set(v.auth._key(),M)}return M()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,M=this;return(0,a.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(M,_);if("unknown"!==_.type){if(_.eventId){const k=yield M.auth._redirectUserForId(_.eventId);if(k)return M.user=k,v().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function lp(){return(lp=(0,a.Z)(function*(E,_){const v=qa(_),M="true"===(yield Ya(E)._get(v));return yield Ya(E)._remove(v),M})).apply(this,arguments)}function cp(E,_){return gs.apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(E,_){return Ya(E)._set(qa(_),"true")})).apply(this,arguments)}function Ya(E){return fe(E._redirectPersistence)}function qa(E){return Gn("pendingRedirect",E.config.apiKey,E.name)}function r_(){return(r_=(0,a.Z)(function*(E,_,v){const M=_n(E);kt(E,_,ks);const k=bn(M,v);return yield cp(k,M),k._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E);kt(M.auth,_,ks);const k=bn(M.auth,v);yield cp(k,M.auth);const O=yield Dt(M);return k._openRedirect(M.auth,_,"reauthViaRedirect",O)})).apply(this,arguments)}function fp(){return(fp=(0,a.Z)(function*(E,_,v){const M=(0,U.m9)(E);kt(M.auth,_,ks);const k=bn(M.auth,v);yield co(!1,M,_.providerId),yield cp(k,M.auth);const O=yield Dt(M);return k._openRedirect(M.auth,_,"linkViaRedirect",O)})).apply(this,arguments)}function a_(){return(a_=(0,a.Z)(function*(E,_){return yield _n(E)._initializationPromise,Gl(E,_,!1)})).apply(this,arguments)}function Gl(E,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,a.Z)(function*(E,_,v=!1){const M=_n(E),k=bn(M,_),Q=yield new Jt(M,k,v).execute();return Q&&!v&&(delete Q.user._redirectEventId,yield M._persistUserIfCurrent(Q.user),yield M._setRedirectUser(null,_)),Q})).apply(this,arguments)}function Dt(E){return mp.apply(this,arguments)}function mp(){return(mp=(0,a.Z)(function*(E){const _=Xo(`${E.uid}:::`);return E._redirectEventId=_,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),_})).apply(this,arguments)}class Hd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(v=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return la(E);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var M;if(_.error&&!la(_)){const k=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";v.onError(lt(this.auth,k))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const M=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gd(_))}saveEventToCache(_){this.cachedEventUids.add(Gd(_)),this.lastProcessedEventTime=Date.now()}}function Gd(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(_=>_).join("-")}function la({type:E,error:_}){return"unknown"===E&&"auth/no-auth-event"===(null==_?void 0:_.code)}function l_(E){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(E,_={}){return Ht(E,"GET","/v1/projects",_)})).apply(this,arguments)}const gp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xb=/^https?/;function Ns(){return(Ns=(0,a.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:_}=yield l_(E);for(const v of _)try{if(qn(v))return}catch(M){}nt(E,"unauthorized-domain")})).apply(this,arguments)}function qn(E){const _=Ne(),{protocol:v,hostname:M}=new URL(_);if(E.startsWith("chrome-extension://")){const Q=new URL(E);return""===Q.hostname&&""===M?"chrome-extension:"===v&&E.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Q.hostname===M}if(!xb.test(v))return!1;if(gp.test(E))return M===E;const k=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(M)}const Ci=new ct(3e4,6e4);function c_(){const E=Mn().___jsl;if(null==E?void 0:E.H)for(const _ of Object.keys(E.H))if(E.H[_].r=E.H[_].r||[],E.H[_].L=E.H[_].L||[],E.H[_].r=[...E.H[_].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let Za=null;function ru(E){return Za=Za||function(E){return new Promise((_,v)=>{var M,k,O;function Q(){c_(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{c_(),v(lt(E,"network-request-failed"))},timeout:Ci.get()})}if(null===(k=null===(M=Mn().gapi)||void 0===M?void 0:M.iframes)||void 0===k?void 0:k.Iframe)_(gapi.iframes.getContext());else{if(!(null===(O=Mn().gapi)||void 0===O?void 0:O.load)){const _e=Nd("iframefcb");return Mn()[_e]=()=>{gapi.load?Q():v(lt(E,"network-request-failed"))},ip(`https://apis.google.com/js/api.js?onload=${_e}`)}Q()}}).catch(_=>{throw Za=null,_})}(E),Za}const d_=new ct(5e3,15e3),Wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},jl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jd(E){const _=E.config;we(_.authDomain,E,"auth-domain-config-required");const v=_.emulator?Dn(_,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,M={apiKey:_.apiKey,appName:E.name,v:se.SDK_VERSION},k=jl.get(E.config.apiHost);k&&(M.eid=k);const O=E._getFrameworks();return O.length&&(M.fw=O.join(",")),`${v}?${(0,U.xO)(M).slice(1)}`}function Ft(){return(Ft=(0,a.Z)(function*(E){const _=yield ru(E),v=Mn().gapi;return we(v,E,"internal-error"),_.open({where:document.body,url:jd(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wa,dontclear:!0},M=>new Promise(function(){var k=(0,a.Z)(function*(O,Q){yield M.restyle({setHideOnLeave:!1});const _e=lt(E,"network-request-failed"),Fe=Mn().setTimeout(()=>{Q(_e)},d_.get());function $e(){Mn().clearTimeout(Fe),O(M)}M.ping($e).then($e,()=>{Q(_e)})});return function(O,Q){return k.apply(this,arguments)}}()))})).apply(this,arguments)}const su={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yl{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function au(E,_,v,M,k,O){we(E.config.authDomain,E,"auth-domain-config-required"),we(E.config.apiKey,E,"invalid-api-key");const Q={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:M,v:se.SDK_VERSION,eventId:k};if(_ instanceof ks){_.setDefaultLanguage(E.languageCode),Q.providerId=_.providerId||"",(0,U.xb)(_.getCustomParameters())||(Q.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Fe,$e]of Object.entries(O||{}))Q[Fe]=$e}if(_ instanceof jc){const Fe=_.getScopes().filter($e=>""!==$e);Fe.length>0&&(Q.scopes=Fe.join(","))}E.tenantId&&(Q.tid=E.tenantId);const _e=Q;for(const Fe of Object.keys(_e))void 0===_e[Fe]&&delete _e[Fe];return`${function({config:E}){return E.emulator?Dn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,U.xO)(_e).slice(1)}`}const Qa="webStorageSupport";class go extends class{constructor(_){this.factorId=_}_process(_,v,M){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,M);case"signin":return this._finalizeSignIn(_,v.credential);default:return ce("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new go(_)}_finalizeEnroll(_,v,M){return function(E,_){return Ht(E,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:E.tenantId},_))}(_,{idToken:v,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(E,_){return Ht(E,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:E.tenantId},_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Tb{constructor(){}static assertion(_){return go._fromCredential(_)}}var E;class Ib{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(M=>{var k;_((null===(k=M)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ca(){return window}function uu(){return(uu=(0,a.Z)(function*(E,_,v){var M;const{BuildInfo:k}=ca();le(_.sessionId,"AuthEvent did not contain a session ID");const O=yield g_(_.sessionId),Q={};return Ri()?Q.ibi=k.packageName:Sl()?Q.apn=k.packageName:nt(E,"operation-not-supported-in-this-environment"),k.displayName&&(Q.appDisplayName=k.displayName),Q.sessionId=O,au(E,v,_.type,void 0,null!==(M=_.eventId)&&void 0!==M?M:void 0,Q)})).apply(this,arguments)}function Ja(){return(Ja=(0,a.Z)(function*(E){const{BuildInfo:_}=ca(),v={};Ri()?v.iosBundleId=_.packageName:Sl()?v.androidPackageName=_.packageName:nt(E,"operation-not-supported-in-this-environment"),yield l_(E,v)})).apply(this,arguments)}function Cp(){return(Cp=(0,a.Z)(function*(E,_,v){const{cordova:M}=ca();let k=()=>{};try{yield new Promise((O,Q)=>{let _e=null;function Fe(){var rt;O();const $n=null===(rt=M.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof $n&&$n(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function $e(){_e||(_e=window.setTimeout(()=>{Q(lt(E,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}_.addPassiveListener(Fe),document.addEventListener("resume",$e,!1),Sl()&&document.addEventListener("visibilitychange",_t,!1),k=()=>{_.removePassiveListener(Fe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",_t,!1),_e&&window.clearTimeout(_e)}})}finally{k()}})).apply(this,arguments)}function g_(E){return __.apply(this,arguments)}function __(){return(__=(0,a.Z)(function*(E){const _=$d(E),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $d(E){if(le(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const _=new ArrayBuffer(E.length),v=new Uint8Array(_);for(let M=0;M<E.length;M++)v[M]=E.charCodeAt(M);return v}E="Browser",(0,se._registerComponent)(new q.wA("auth",(_,{options:v})=>{const M=_.getProvider("app").getImmediate(),{apiKey:k,authDomain:O}=M.options;return(Q=>{we(k&&!k.includes(":"),"invalid-api-key",{appName:Q.name}),we(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Q.name});const _e={apiKey:k,authDomain:O,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ln(E)},Fe=new Er(Q,_e);return function(E,_){const v=(null==_?void 0:_.persistence)||[],M=(Array.isArray(v)?v:[v]).map(fe);(null==_?void 0:_.errorMap)&&E._updateErrorMap(_.errorMap),E._initializeWithPersistence(M,null==_?void 0:_.popupRedirectResolver)}(Fe,v),Fe})(M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,M)=>{_.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new q.wA("auth-internal",_=>{const v=_n(_.getProvider("auth").getImmediate());return new Ib(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)("@firebase/auth","0.17.2",void 0);class Zd extends Hd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,a.Z)(function*(){yield _.initPromise})()}}function du(E){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,a.Z)(function*(E){const _=yield y_()._get(v_(E));return _&&(yield y_()._remove(v_(E))),_})).apply(this,arguments)}function Rb(){const E=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const M=Math.floor(Math.random()*_.length);E.push(_.charAt(M))}return E.join("")}function y_(){return fe(ep)}function v_(E){return Gn("authEvent",E.config.apiKey,E.name)}function Ls(E){if(!(null==E?void 0:E.includes("?")))return{};const[_,...v]=E.split("?");return(0,U.zd)(v.join("?"))}function w_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:lt("no-auth-event")}}function ua(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function Kd(E=(0,U.z$)()){return!("file:"!==ua()&&"ionic:"!==ua()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qd(){try{const E=self.localStorage,_=Xo();if(E)return E.setItem(_,"1"),E.removeItem(_),!function(E=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,U.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,U.hl)()}catch(E){return Jd()&&(0,U.hl)()}return!1}function Jd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xd(){return("http:"===ua()||"https:"===ua()||(0,U.ru)()||Kd())&&!((0,U.b$)()||(0,U.UG)())&&Qd()&&!Jd()}function x_(){return Kd()&&"undefined"!=typeof document}function Bs(){return(Bs=(0,a.Z)(function*(){return!!x_()&&new Promise(E=>{const _=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),E(!0)})})})).apply(this,arguments)}const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},Vs=we,Nb="persistence";function Ei(E){return mu.apply(this,arguments)}function mu(){return(mu=(0,a.Z)(function*(E){yield E._initializationPromise;const _=el(),v=Gn(Nb,E.config.apiKey,E.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(v,E._getPersistence())})).apply(this,arguments)}function el(){return"undefined"!=typeof window?window:null}const Di=we;class Tr{constructor(){this.browserResolver=fe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Os,this._completeRedirectFn=Gl}_openPopup(_,v,M,k){var O=this;return(0,a.Z)(function*(){var Q;le(null===(Q=O.eventManagers[_._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const _e=au(_,v,M,Ne(),k);return function(E,_,v,M=500,k=600){const O=Math.max((window.screen.availHeight-k)/2,0).toString(),Q=Math.max((window.screen.availWidth-M)/2,0).toString();let _e="";const Fe=Object.assign(Object.assign({},su),{width:M.toString(),height:k.toString(),top:O,left:Q}),$e=(0,U.z$)().toLowerCase();v&&(_e=kf($e)?"_blank":v),Ml($e)&&(_=_||"http://localhost",Fe.scrollbars="yes");const _t=Object.entries(Fe).reduce(($n,[ar,gu])=>`${$n}${ar}=${gu},`,"");if(function(E=(0,U.z$)()){var _;return Ri(E)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}($e)&&"_self"!==_e)return function(E,_){const v=document.createElement("a");v.href=E,v.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(M)}(_||"",_e),new Yl(null);const rt=window.open(_||"",_e,_t);we(rt,E,"popup-blocked");try{rt.focus()}catch($n){}return new Yl(rt)}(_,_e,Xo())})()}_openRedirect(_,v,M,k){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(_),E=au(_,v,M,Ne(),k),Mn().location.href=E,new Promise(()=>{});var E})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:k,promise:O}=this.eventManagers[v];return k?Promise.resolve(k):(le(O,"If manager is not set, promise should be"),O)}const M=this.initAndGetManager(_);return this.eventManagers[v]={promise:M},M}initAndGetManager(_){var v=this;return(0,a.Z)(function*(){const M=yield function(E){return Ft.apply(this,arguments)}(_),k=new Hd(_);return M.register("authEvent",O=>(we(null==O?void 0:O.authEvent,_,"invalid-auth-event"),{status:k.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:k},v.iframes[_._key()]=M,k})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(Qa,{type:Qa},k=>{var O;const Q=null===(O=null==k?void 0:k[0])||void 0===O?void 0:O[Qa];void 0!==Q&&v(!!Q),nt(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return Ns.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return He()||yd()||Ri()}}),this.cordovaResolver=fe(class{constructor(){this._redirectPersistence=Os,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gl}_initialize(_){var v=this;return(0,a.Z)(function*(){const M=_._key();let k=v.eventManagers.get(M);return k||(k=new Zd(_),v.eventManagers.set(M,k),v.attachCallbackListeners(_,k)),k})()}_openPopup(_){nt(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,M,k){var O=this;return(0,a.Z)(function*(){!function(E){var _,v,M,k,O,Q,_e,Fe,$e,_t;const rt=ca();we("function"==typeof(null===(_=null==rt?void 0:rt.universalLinks)||void 0===_?void 0:_.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(v=null==rt?void 0:rt.BuildInfo)||void 0===v?void 0:v.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(O=null===(k=null===(M=null==rt?void 0:rt.cordova)||void 0===M?void 0:M.plugins)||void 0===k?void 0:k.browsertab)||void 0===O?void 0:O.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Fe=null===(_e=null===(Q=null==rt?void 0:rt.cordova)||void 0===Q?void 0:Q.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Fe?void 0:Fe.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(_t=null===($e=null==rt?void 0:rt.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===_t?void 0:_t.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const Q=yield O._initialize(_);yield Q.initialized(),Q.resetRedirect(),sa.clear(),yield O._originValidation(_);const _e=function(E,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:Rb(),postBody:null,tenantId:E.tenantId,error:lt(E,"no-auth-event")}}(_,M,k);yield function(E,_){return y_()._set(v_(E),_)}(_,_e);const Fe=yield function(E,_,v){return uu.apply(this,arguments)}(_,_e,v),$e=yield function(E){const{cordova:_}=ca();return new Promise(v=>{_.plugins.browsertab.isAvailable(M=>{let k=null;M?_.plugins.browsertab.openUrl(E):k=_.InAppBrowser.open(E,function(E=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),v(k)})})}(Fe);return function(E,_,v){return Cp.apply(this,arguments)}(_,Q,$e)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return Ja.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:M,handleOpenURL:k,BuildInfo:O}=ca(),Q=setTimeout((0,a.Z)(function*(){yield du(_),v.onEvent(w_())}),500),_e=function(){var _t=(0,a.Z)(function*(rt){clearTimeout(Q);const $n=yield du(_);let ar=null;$n&&(null==rt?void 0:rt.url)&&(ar=function(E,_){var v,M;const k=function(E){const _=Ls(E),v=_.link?decodeURIComponent(_.link):void 0,M=Ls(v).link,k=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Ls(k).link||k||M||v||E}(_);if(k.includes("/__/auth/callback")){const O=Ls(k),Q=O.firebaseError?function(E){try{return JSON.parse(E)}catch(_){return null}}(decodeURIComponent(O.firebaseError)):null,_e=null===(M=null===(v=null==Q?void 0:Q.code)||void 0===v?void 0:v.split("auth/"))||void 0===M?void 0:M[1],Fe=_e?lt(_e):null;return Fe?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:k,postBody:null}}return null}($n,rt.url)),v.onEvent(ar||w_())});return function($n){return _t.apply(this,arguments)}}();void 0!==M&&"function"==typeof M.subscribe&&M.subscribe(null,_e);const Fe=k,$e=`${O.packageName.toLowerCase()}://`;ca().handleOpenURL=function(){var _t=(0,a.Z)(function*(rt){if(rt.toLowerCase().startsWith($e)&&_e({url:rt}),"function"==typeof Fe)try{Fe(rt)}catch($n){console.error($n)}});return function(rt){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Os,this._completeRedirectFn=Gl}_initialize(_){var v=this;return(0,a.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,M,k){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(_,v,M,k)})()}_openRedirect(_,v,M,k){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(_,v,M,k)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return x_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Di(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,a.Z)(function*(){if(_.underlyingResolver)return;const v=yield function(){return Bs.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function eh(E){return E.unwrap()}function Tp(E){return Ap(E)}function Ar(E,_){var v;const M=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new Bb(E,function(E,_){var v;const M=(0,U.m9)(E),k=_;return we(_.operationType,M,"argument-error"),we(null===(v=k.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,M,"argument-error"),Bl._fromError(M,k)}(E,_));else if(M){const k=Ap(_),O=_;k&&(O.credential=k,O.tenantId=M.tenantId||void 0,O.email=M.email||void 0,O.phoneNumber=M.phoneNumber||void 0)}}function Ap(E){const{_tokenResponse:_}=E instanceof U.ZR?E.customData:E;if(!_)return null;if(!(E instanceof U.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return na.credentialFromResult(E);const v=_.providerId;if(!v||"password"===v)return null;let M;switch(v){case"google.com":M=Ko;break;case"facebook.com":M=Of;break;case"github.com":M=Bg;break;case"twitter.com":M=Pf;break;default:const{oauthIdToken:k,oauthAccessToken:O,oauthTokenSecret:Q,pendingToken:_e,nonce:Fe}=_;return O||Q||k||_e?_e?v.startsWith("saml.")?Qo._create(v,_e):Is._fromParams({providerId:v,signInMethod:v,pendingToken:_e,idToken:k,accessToken:O}):new Fa(v).credential({idToken:k,accessToken:O,rawNonce:Fe}):null}return E instanceof U.ZR?M.credentialFromError(E):M.credentialFromResult(E)}function Fi(E,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,a.Z)(function*(E,_){let v;try{v=yield _}catch(O){throw O instanceof U.ZR&&Ar(E,O),O}const{operationType:M,user:k}=v;return{operationType:M,credential:Tp(v),additionalUserInfo:gb(v),user:vo.getOrCreate(k)}})).apply(this,arguments)}function tl(E,_){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,a.Z)(function*(E,_){const v=yield _;return{verificationId:v.verificationId,confirm:M=>Fi(E,v.confirm(M))}})).apply(this,arguments)}class Bb{constructor(_,v){this.resolver=v,this.auth=function(E){return E.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return Fi(eh(this.auth),this.resolver.resolveSignIn(_))}}class vo{constructor(_){this._delegate=_,this.multiFactor=function(E){const _=(0,U.m9)(E);return Rs.has(_)||Rs.set(_,Kf._fromUser(_)),Rs.get(_)}(_)}static getOrCreate(_){return vo.USER_MAP.has(_)||vo.USER_MAP.set(_,new vo(_)),vo.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,a.Z)(function*(){return Fi(v.auth,Ed(v._delegate,_))})()}linkWithPhoneNumber(_,v){var M=this;return(0,a.Z)(function*(){return tl(M.auth,function(E,_,v){return t_.apply(this,arguments)}(M._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,a.Z)(function*(){return Fi(v.auth,function(E,_,v){return Vd.apply(this,arguments)}(v._delegate,_,Tr))})()}linkWithRedirect(_){var v=this;return(0,a.Z)(function*(){return yield Ei(_n(v.auth)),function(E,_,v){return function(E,_,v){return fp.apply(this,arguments)}(E,_,v)}(v._delegate,_,Tr)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,a.Z)(function*(){return Fi(v.auth,or(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return tl(this.auth,function(E,_,v){return Bt.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return Fi(this.auth,function(E,_,v){return i_.apply(this,arguments)}(this._delegate,_,Tr))}reauthenticateWithRedirect(_){var v=this;return(0,a.Z)(function*(){return yield Ei(_n(v.auth)),function(E,_,v){return function(E,_,v){return oa.apply(this,arguments)}(E,_,v)}(v._delegate,_,Tr)})()}sendEmailVerification(_){return function(E,_){return xr.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,a.Z)(function*(){return yield function(E,_){return Nf.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function(E,_){return $f((0,U.m9)(E),_,null)}(this._delegate,_)}updatePassword(_){return function(E,_){return $f((0,U.m9)(E),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(E,_){return Ln.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(E,_){return Wc.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function(E,_,v){return Td.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vo.USER_MAP=new WeakMap;const Ql=we;let nl=(()=>{class E{constructor(v,M){if(this.app=v,M.isInitialized())return this._delegate=M.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=v.options;Ql(k,"invalid-api-key",{appName:v.name});let O=[Hn];if("undefined"!=typeof window){O=function(E,_){const v=el();if(!(null==v?void 0:v.sessionStorage))return[];const M=Gn(Nb,E,_);switch(v.sessionStorage.getItem(M)){case Sr.NONE:return[Hn];case Sr.LOCAL:return[ea,Os];case Sr.SESSION:return[Os];default:return[]}}(k,v.name);for(const _e of[ea,ep,Os])O.includes(_e)||O.push(_e)}Ql(k,"invalid-api-key",{appName:v.name});const Q="undefined"!=typeof window?Tr:void 0;this._delegate=M.initialize({options:{persistence:O,popupRedirectResolver:Q}}),this._delegate._updateErrorMap(ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,M){!function(E,_,v){const M=_n(E);we(M._canInitEmulator,M,"emulator-config-failed"),we(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const k=!!(null==v?void 0:v.disableWarnings),O=xn(_),{host:Q,port:_e}=function(E){const _=xn(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(_.length));if(!v)return{host:"",port:null};const M=v[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(M);if(k){const O=k[1];return{host:O,port:Ra(M.substr(O.length+1))}}{const[O,Q]=M.split(":");return{host:O,port:Ra(Q)}}}(_);M.config.emulator={url:`${O}//${Q}${null===_e?"":`:${_e}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Q,port:_e,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:k})}),function(E){function _(){const v=document.createElement("p"),M=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",M.position="fixed",M.width="100%",M.backgroundColor="#ffffff",M.border=".1em solid #000000",M.color="#b50000",M.bottom="0px",M.left="0px",M.margin="0px",M.zIndex="10000",M.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!E&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(k)}(this._delegate,v,M)}applyActionCode(v){return function(E,_){return Na.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Me(this._delegate,v)}confirmPasswordReset(v,M){return function(E,_,v){return Hf.apply(this,arguments)}(this._delegate,v,M)}createUserWithEmailAndPassword(v,M){var k=this;return(0,a.Z)(function*(){return Fi(k._delegate,function(E,_,v){return uo.apply(this,arguments)}(k._delegate,v,M))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(E,_){return zf.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(E,_){const v=bd.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,a.Z)(function*(){Ql(Xd(),v._delegate,"operation-not-supported-in-this-environment");const M=yield function(E,_){return a_.apply(this,arguments)}(v._delegate,Tr);return M?Fi(v._delegate,Promise.resolve(M)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(E,_){_n(E)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,M,k){const{next:O,error:Q,complete:_e}=th(v,M,k);return this._delegate.onAuthStateChanged(O,Q,_e)}onIdTokenChanged(v,M,k){const{next:O,error:Q,complete:_e}=th(v,M,k);return this._delegate.onIdTokenChanged(O,Q,_e)}sendSignInLinkToEmail(v,M){return function(E,_,v){return Pl.apply(this,arguments)}(this._delegate,v,M)}sendPasswordResetEmail(v,M){return function(E,_,v){return Uf.apply(this,arguments)}(this._delegate,v,M||void 0)}setPersistence(v){var M=this;return(0,a.Z)(function*(){let k;switch(function(E,_){Vs(Object.values(Sr).includes(_),E,"invalid-persistence-type"),(0,U.b$)()?Vs(_!==Sr.SESSION,E,"unsupported-persistence-type"):(0,U.UG)()?Vs(_===Sr.NONE,E,"unsupported-persistence-type"):Jd()?Vs(_===Sr.NONE||_===Sr.LOCAL&&(0,U.hl)(),E,"unsupported-persistence-type"):Vs(_===Sr.NONE||Qd(),E,"unsupported-persistence-type")}(M._delegate,v),v){case Sr.SESSION:k=Os;break;case Sr.LOCAL:k=(yield fe(ea)._isAvailable())?ea:ep;break;case Sr.NONE:k=Hn;break;default:return nt("argument-error",{appName:M._delegate.name})}return M._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Fi(this._delegate,function(E){return Yc.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Fi(this._delegate,qi(this._delegate,v))}signInWithCustomToken(v){return Fi(this._delegate,function(E,_){return Dd.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,M){return Fi(this._delegate,function(E,_,v){return qi((0,U.m9)(E),wd.credential(_,v))}(this._delegate,v,M))}signInWithEmailLink(v,M){return Fi(this._delegate,function(E,_,v){return Nl.apply(this,arguments)}(this._delegate,v,M))}signInWithPhoneNumber(v,M){return tl(this._delegate,function(E,_,v){return en.apply(this,arguments)}(this._delegate,v,M))}signInWithPopup(v){var M=this;return(0,a.Z)(function*(){return Ql(Xd(),M._delegate,"operation-not-supported-in-this-environment"),Fi(M._delegate,function(E,_,v){return Bd.apply(this,arguments)}(M._delegate,v,Tr))})()}signInWithRedirect(v){var M=this;return(0,a.Z)(function*(){return Ql(Xd(),M._delegate,"operation-not-supported-in-this-environment"),yield Ei(M._delegate),function(E,_,v){return function(E,_,v){return r_.apply(this,arguments)}(E,_,v)}(M._delegate,v,Tr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(E,_){return gn.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Sr,E})();function th(E,_,v){let M=E;"function"!=typeof E&&({next:M,error:_,complete:v}=E);const k=M;return{next:Q=>k(Q&&vo.getOrCreate(Q)),error:_,complete:v}}class nh{constructor(){this.providerId="phone",this._delegate=new na(eh(oe.Z.auth()))}static credential(_,v){return na.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}nh.PHONE_SIGN_IN_METHOD=na.PHONE_SIGN_IN_METHOD,nh.PROVIDER_ID=na.PROVIDER_ID;const ih=we;class kp{constructor(_,v,M=oe.Z.app()){var k;ih(null===(k=M.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:M.name}),this._delegate=new rp(_,v,M.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new q.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),M=_.getProvider("auth");return new nl(v,M)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wd,FacebookAuthProvider:Of,GithubAuthProvider:Bg,GoogleAuthProvider:Ko,OAuthProvider:Fa,PhoneAuthProvider:nh,PhoneMultiFactorGenerator:Tb,RecaptchaVerifier:kp,TwitterAuthProvider:Pf,Auth:nl,AuthCredential:Hr,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.2")}(oe.Z)},3098:(Ye,De,N)=>{"use strict";N.d(De,{P:()=>ae});var a=N(9193),oe=N(5917),U=N(205);class ae{constructor(q,W,Y){this.kind=q,this.value=W,this.error=Y,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,W,Y){switch(this.kind){case"N":return q&&q(this.value);case"E":return W&&W(this.error);case"C":return Y&&Y()}}accept(q,W,Y){return q&&"function"==typeof q.next?this.observe(q):this.do(q,W,Y)}toObservable(){switch(this.kind){case"N":return(0,oe.of)(this.value);case"E":return(0,U._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new ae("N",q):ae.undefinedValueNotification}static createError(q){return new ae("E",void 0,q)}static createComplete(){return ae.completeNotification}}ae.completeNotification=new ae("C"),ae.undefinedValueNotification=new ae("N",void 0)},7574:(Ye,De,N)=>{"use strict";N.d(De,{y:()=>$});var a=N(7393),U=N(9181),se=N(6490),J=N(6554),q=N(4487);var B=N(2494);let $=(()=>{class K{constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const he=new K;return he.source=this,he.operator=ye,he}subscribe(ye,he,Ie){const{operator:ve}=this,ke=function(K,X,ye){if(K){if(K instanceof a.L)return K;if(K[U.b])return K[U.b]()}return K||X||ye?new a.L(K,X,ye):new a.L(se.c)}(ye,he,Ie);if(ke.add(ve?ve.call(ke,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!ke.syncErrorThrowable?this._subscribe(ke):this._trySubscribe(ke)),B.v.useDeprecatedSynchronousErrorHandling&&ke.syncErrorThrowable&&(ke.syncErrorThrowable=!1,ke.syncErrorThrown))throw ke.syncErrorValue;return ke}_trySubscribe(ye){try{return this._subscribe(ye)}catch(he){B.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=he),function(K){for(;K;){const{closed:X,destination:ye,isStopped:he}=K;if(X||he)return!1;K=ye&&ye instanceof a.L?ye:null}return!0}(ye)?ye.error(he):console.warn(he)}}forEach(ye,he){return new(he=V(he))((Ie,ve)=>{let ke;ke=this.subscribe(pt=>{try{ye(pt)}catch(nt){ve(nt),ke&&ke.unsubscribe()}},ve,Ie)})}_subscribe(ye){const{source:he}=this;return he&&he.subscribe(ye)}[J.L](){return this}pipe(...ye){return 0===ye.length?this:function(K){return 0===K.length?q.y:1===K.length?K[0]:function(ye){return K.reduce((he,Ie)=>Ie(he),ye)}}(ye)(this)}toPromise(ye){return new(ye=V(ye))((he,Ie)=>{let ve;this.subscribe(ke=>ve=ke,ke=>Ie(ke),()=>he(ve))})}}return K.create=X=>new K(X),K})();function V(K){if(K||(K=B.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Ye,De,N)=>{"use strict";N.d(De,{c:()=>U});var a=N(2494),oe=N(4449);const U={closed:!0,next(se){},error(se){if(a.v.useDeprecatedSynchronousErrorHandling)throw se;(0,oe.z)(se)},complete(){}}},9765:(Ye,De,N)=>{"use strict";N.d(De,{Yc:()=>q,xQ:()=>W});var a=N(7574),oe=N(7393),U=N(5319),se=N(7971),ae=N(8858),J=N(9181);class q extends oe.L{constructor($){super($),this.destination=$}}let W=(()=>{class B extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new q(this)}lift(V){const K=new Y(this,this);return K.operator=V,K}next(V){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:K}=this,X=K.length,ye=K.slice();for(let he=0;he<X;he++)ye[he].next(V)}}error(V){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:K}=this,X=K.length,ye=K.slice();for(let he=0;he<X;he++)ye[he].error(V);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:V}=this,K=V.length,X=V.slice();for(let ye=0;ye<K;ye++)X[ye].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new se.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new se.N;return this.hasError?(V.error(this.thrownError),U.w.EMPTY):this.isStopped?(V.complete(),U.w.EMPTY):(this.observers.push(V),new ae.W(this,V))}asObservable(){const V=new a.y;return V.source=this,V}}return B.create=($,V)=>new Y($,V),B})();class Y extends W{constructor($,V){super(),this.destination=$,this.source=V}next($){const{destination:V}=this;V&&V.next&&V.next($)}error($){const{destination:V}=this;V&&V.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:V}=this;return V?this.source.subscribe($):U.w.EMPTY}}},8858:(Ye,De,N)=>{"use strict";N.d(De,{W:()=>oe});var a=N(5319);class oe extends a.w{constructor(se,ae){super(),this.subject=se,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,ae=se.observers;if(this.subject=null,!ae||0===ae.length||se.isStopped||se.closed)return;const J=ae.indexOf(this.subscriber);-1!==J&&ae.splice(J,1)}}},7393:(Ye,De,N)=>{"use strict";N.d(De,{L:()=>q});var a=N(9105),oe=N(6490),U=N(5319),se=N(9181),ae=N(2494),J=N(4449);class q extends U.w{constructor(B,$,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=oe.c;break;case 1:if(!B){this.destination=oe.c;break}if("object"==typeof B){B instanceof q?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,B,$,V)}}[se.b](){return this}static create(B,$,V){const K=new q(B,$,V);return K.syncErrorThrowable=!1,K}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class W extends q{constructor(B,$,V,K){super(),this._parentSubscriber=B;let X,ye=this;(0,a.m)($)?X=$:$&&(X=$.next,V=$.error,K=$.complete,$!==oe.c&&(ye=Object.create($),(0,a.m)(ye.unsubscribe)&&this.add(ye.unsubscribe.bind(ye)),ye.unsubscribe=this.unsubscribe.bind(this))),this._context=ye,this._next=X,this._error=V,this._complete=K}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;ae.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:V}=ae.v;if(this._error)V&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if($.syncErrorThrowable)V?($.syncErrorValue=B,$.syncErrorThrown=!0):(0,J.z)(B),this.unsubscribe();else{if(this.unsubscribe(),V)throw B;(0,J.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const $=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,$){try{B.call(this._context,$)}catch(V){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw V;(0,J.z)(V)}}__tryOrSetError(B,$,V){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,V)}catch(K){return ae.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=K,B.syncErrorThrown=!0,!0):((0,J.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(Ye,De,N)=>{"use strict";N.d(De,{w:()=>J});var a=N(9796),oe=N(1555),U=N(9105);const ae=(()=>{function W(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((B,$)=>`${$+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return W.prototype=Object.create(Error.prototype),W})();class J{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:$,_unsubscribe:V,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof J)B.remove(this);else if(null!==B)for(let X=0;X<B.length;++X)B[X].remove(this);if((0,U.m)(V)){$&&(this._unsubscribe=void 0);try{V.call(this)}catch(X){Y=X instanceof ae?q(X.errors):[X]}}if((0,a.k)(K)){let X=-1,ye=K.length;for(;++X<ye;){const he=K[X];if((0,oe.K)(he))try{he.unsubscribe()}catch(Ie){Y=Y||[],Ie instanceof ae?Y=Y.concat(q(Ie.errors)):Y.push(Ie)}}}if(Y)throw new ae(Y)}add(Y){let B=Y;if(!Y)return J.EMPTY;switch(typeof Y){case"function":B=new J(Y);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof J)){const K=B;B=new J,B._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:$}=B;if(null===$)B._parentOrParents=this;else if($ instanceof J){if($===this)return B;B._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return B;$.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[B]:V.push(B),B}remove(Y){const B=this._subscriptions;if(B){const $=B.indexOf(Y);-1!==$&&B.splice($,1)}}}var W;function q(W){return W.reduce((Y,B)=>Y.concat(B instanceof ae?B.errors:B),[])}J.EMPTY=((W=new J).closed=!0,W)},2494:(Ye,De,N)=>{"use strict";N.d(De,{v:()=>oe});let a=!1;const oe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=U},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(Ye,De,N)=>{"use strict";N.d(De,{IY:()=>se,Ds:()=>J,ft:()=>W});var a=N(7393),oe=N(7574),U=N(7444);class se extends a.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends a.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function W(Y,B){if(B.closed)return;if(Y instanceof oe.y)return Y.subscribe(B);let $;try{$=(0,U.s)(Y)(B)}catch(V){B.error(V)}return $}},2441:(Ye,De,N)=>{"use strict";N.d(De,{c:()=>ae,N:()=>J});var a=N(9765),oe=N(7574),U=N(5319),se=N(1307);class ae extends oe.y{constructor($,V){super(),this.source=$,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new U.w,$.add(this.source.subscribe(new q(this.getSubject(),this))),$.closed&&(this._connection=null,$=U.w.EMPTY)),$}refCount(){return(0,se.x)()(this)}}const J=(()=>{const B=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class q extends a.Yc{constructor($,V){super($),this.connectable=V}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const V=$._connection;$._refCount=0,$._subject=null,$._connection=null,V&&V.unsubscribe()}}}},9193:(Ye,De,N)=>{"use strict";N.d(De,{E:()=>oe,c:()=>U});var a=N(7574);const oe=new a.y(ae=>ae.complete());function U(ae){return ae?function(ae){return new a.y(J=>ae.schedule(()=>J.complete()))}(ae):oe}},4402:(Ye,De,N)=>{"use strict";N.d(De,{D:()=>ye});var a=N(7574),oe=N(7444),U=N(5319),se=N(6554),q=N(4087),W=N(377),$=N(4072),V=N(9489);function ye(he,Ie){return Ie?function(he,Ie){if(null!=he){if(function(he){return he&&"function"==typeof he[se.L]}(he))return function(he,Ie){return new a.y(ve=>{const ke=new U.w;return ke.add(Ie.schedule(()=>{const pt=he[se.L]();ke.add(pt.subscribe({next(nt){ke.add(Ie.schedule(()=>ve.next(nt)))},error(nt){ke.add(Ie.schedule(()=>ve.error(nt)))},complete(){ke.add(Ie.schedule(()=>ve.complete()))}}))})),ke})}(he,Ie);if((0,$.t)(he))return function(he,Ie){return new a.y(ve=>{const ke=new U.w;return ke.add(Ie.schedule(()=>he.then(pt=>{ke.add(Ie.schedule(()=>{ve.next(pt),ke.add(Ie.schedule(()=>ve.complete()))}))},pt=>{ke.add(Ie.schedule(()=>ve.error(pt)))}))),ke})}(he,Ie);if((0,V.z)(he))return(0,q.r)(he,Ie);if(function(he){return he&&"function"==typeof he[W.hZ]}(he)||"string"==typeof he)return function(he,Ie){if(!he)throw new Error("Iterable cannot be null");return new a.y(ve=>{const ke=new U.w;let pt;return ke.add(()=>{pt&&"function"==typeof pt.return&&pt.return()}),ke.add(Ie.schedule(()=>{pt=he[W.hZ](),ke.add(Ie.schedule(function(){if(ve.closed)return;let nt,lt;try{const Ut=pt.next();nt=Ut.value,lt=Ut.done}catch(Ut){return void ve.error(Ut)}lt?ve.complete():(ve.next(nt),this.schedule())}))})),ke})}(he,Ie)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,Ie):he instanceof a.y?he:new a.y((0,oe.s)(he))}},6693:(Ye,De,N)=>{"use strict";N.d(De,{n:()=>se});var a=N(7574),oe=N(5015),U=N(4087);function se(ae,J){return J?(0,U.r)(ae,J):new a.y((0,oe.V)(ae))}},6682:(Ye,De,N)=>{"use strict";N.d(De,{T:()=>ae});var a=N(7574),oe=N(4869),U=N(3282),se=N(6693);function ae(...J){let q=Number.POSITIVE_INFINITY,W=null,Y=J[J.length-1];return(0,oe.K)(Y)?(W=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(q=J.pop())):"number"==typeof Y&&(q=J.pop()),null===W&&1===J.length&&J[0]instanceof a.y?J[0]:(0,U.J)(q)((0,se.n)(J,W))}},5917:(Ye,De,N)=>{"use strict";N.d(De,{of:()=>se});var a=N(4869),oe=N(6693),U=N(4087);function se(...ae){let J=ae[ae.length-1];return(0,a.K)(J)?(ae.pop(),(0,U.r)(ae,J)):(0,oe.n)(ae)}},205:(Ye,De,N)=>{"use strict";N.d(De,{_:()=>oe});var a=N(7574);function oe(se,ae){return new a.y(ae?J=>ae.schedule(U,0,{error:se,subscriber:J}):J=>J.error(se))}function U({error:se,subscriber:ae}){ae.error(se)}},8002:(Ye,De,N)=>{"use strict";N.d(De,{U:()=>oe});var a=N(7393);function oe(ae,J){return function(W){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new U(ae,J))}}class U{constructor(J,q){this.project=J,this.thisArg=q}call(J,q){return q.subscribe(new se(J,this.project,this.thisArg))}}class se extends a.L{constructor(J,q,W){super(J),this.project=q,this.count=0,this.thisArg=W||this}_next(J){let q;try{q=this.project.call(this.thisArg,J,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(q)}}},3282:(Ye,De,N)=>{"use strict";N.d(De,{J:()=>U});var a=N(9773),oe=N(4487);function U(se=Number.POSITIVE_INFINITY){return(0,a.zg)(oe.y,se)}},9773:(Ye,De,N)=>{"use strict";N.d(De,{zg:()=>se});var a=N(8002),oe=N(4402),U=N(5345);function se(W,Y,B=Number.POSITIVE_INFINITY){return"function"==typeof Y?$=>$.pipe(se((V,K)=>(0,oe.D)(W(V,K)).pipe((0,a.U)((X,ye)=>Y(V,X,K,ye))),B)):("number"==typeof Y&&(B=Y),$=>$.lift(new ae(W,B)))}class ae{constructor(Y,B=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=B}call(Y,B){return B.subscribe(new J(Y,this.project,this.concurrent))}}class J extends U.Ds{constructor(Y,B,$=Number.POSITIVE_INFINITY){super(Y),this.project=B,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let B;const $=this.index++;try{B=this.project(Y,$)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(B)}_innerSub(Y){const B=new U.IY(this),$=this.destination;$.add(B);const V=(0,U.ft)(Y,B);V!==B&&$.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ye,De,N)=>{"use strict";N.d(De,{QV:()=>U,ht:()=>ae});var a=N(7393),oe=N(3098);function U(q,W=0){return function(B){return B.lift(new se(q,W))}}class se{constructor(W,Y=0){this.scheduler=W,this.delay=Y}call(W,Y){return Y.subscribe(new ae(W,this.scheduler,this.delay))}}class ae extends a.L{constructor(W,Y,B=0){super(W),this.scheduler=Y,this.delay=B}static dispatch(W){const{notification:Y,destination:B}=W;Y.observe(B),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new J(W,this.destination)))}_next(W){this.scheduleMessage(oe.P.createNext(W))}_error(W){this.scheduleMessage(oe.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(oe.P.createComplete()),this.unsubscribe()}}class J{constructor(W,Y){this.notification=W,this.destination=Y}}},1307:(Ye,De,N)=>{"use strict";N.d(De,{x:()=>oe});var a=N(7393);function oe(){return function(J){return J.lift(new U(J))}}class U{constructor(J){this.connectable=J}call(J,q){const{connectable:W}=this;W._refCount++;const Y=new se(J,W),B=q.subscribe(Y);return Y.closed||(Y.connection=W.connect()),B}}class se extends a.L{constructor(J,q){super(J),this.connectable=q}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const q=J._refCount;if(q<=0)return void(this.connection=null);if(J._refCount=q-1,q>1)return void(this.connection=null);const{connection:W}=this,Y=J._connection;this.connection=null,Y&&(!W||Y===W)&&Y.unsubscribe()}}},8819:(Ye,De,N)=>{"use strict";N.d(De,{B:()=>q});var a=N(2441);var se=N(1307),ae=N(9765);function J(){return new ae.xQ}function q(){return W=>(0,se.x)()(function(W,Y){return function($){let V;V="function"==typeof W?W:function(){return W};const K=Object.create($,a.N);return K.source=$,K.subjectFactory=V,K}}(J)(W))}},9673:(Ye,De,N)=>{"use strict";N.d(De,{R:()=>ae});var a=N(7574),oe=N(4581),U=N(6561);class se extends a.y{constructor(W,Y=0,B=oe.e){super(),this.source=W,this.delayTime=Y,this.scheduler=B,(!(0,U.k)(Y)||Y<0)&&(this.delayTime=0),(!B||"function"!=typeof B.schedule)&&(this.scheduler=oe.e)}static create(W,Y=0,B=oe.e){return new se(W,Y,B)}static dispatch(W){const{source:Y,subscriber:B}=W;return this.add(Y.subscribe(B))}_subscribe(W){return this.scheduler.schedule(se.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function ae(q,W=0){return function(B){return B.lift(new J(q,W))}}class J{constructor(W,Y){this.scheduler=W,this.delay=Y}call(W,Y){return new se(Y,this.delay,this.scheduler).subscribe(W)}}},3342:(Ye,De,N)=>{"use strict";N.d(De,{b:()=>se});var a=N(7393);function oe(){}var U=N(9105);function se(q,W,Y){return function($){return $.lift(new ae(q,W,Y))}}class ae{constructor(W,Y,B){this.nextOrObserver=W,this.error=Y,this.complete=B}call(W,Y){return Y.subscribe(new J(W,this.nextOrObserver,this.error,this.complete))}}class J extends a.L{constructor(W,Y,B,$){super(W),this._tapNext=oe,this._tapError=oe,this._tapComplete=oe,this._tapError=B||oe,this._tapComplete=$||oe,(0,U.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||oe,this._tapError=Y.error||oe,this._tapComplete=Y.complete||oe)}_next(W){try{this._tapNext.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Ye,De,N)=>{"use strict";N.d(De,{r:()=>U});var a=N(7574),oe=N(5319);function U(se,ae){return new a.y(J=>{const q=new oe.w;let W=0;return q.add(ae.schedule(function(){W!==se.length?(J.next(se[W++]),J.closed||q.add(this.schedule())):J.complete()})),q})}},6465:(Ye,De,N)=>{"use strict";N.d(De,{o:()=>U});var a=N(5319);class oe extends a.w{constructor(ae,J){super()}schedule(ae,J=0){return this}}class U extends oe{constructor(ae,J){super(ae,J),this.scheduler=ae,this.work=J,this.pending=!1}schedule(ae,J=0){if(this.closed)return this;this.state=ae;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(W,this.id,J),this}requestAsyncId(ae,J,q=0){return setInterval(ae.flush.bind(ae,this),q)}recycleAsyncId(ae,J,q=0){if(null!==q&&this.delay===q&&!1===this.pending)return J;clearInterval(J)}execute(ae,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(ae,J);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,J){let W,q=!1;try{this.work(ae)}catch(Y){q=!0,W=!!Y&&Y||new Error(Y)}if(q)return this.unsubscribe(),W}_unsubscribe(){const ae=this.id,J=this.scheduler,q=J.actions,W=q.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&q.splice(W,1),null!=ae&&(this.id=this.recycleAsyncId(J,ae,null)),this.delay=null}}},6102:(Ye,De,N)=>{"use strict";N.d(De,{v:()=>oe});let a=(()=>{class U{constructor(ae,J=U.now){this.SchedulerAction=ae,this.now=J}schedule(ae,J=0,q){return new this.SchedulerAction(this,ae).schedule(q,J)}}return U.now=()=>Date.now(),U})();class oe extends a{constructor(se,ae=a.now){super(se,()=>oe.delegate&&oe.delegate!==this?oe.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,ae=0,J){return oe.delegate&&oe.delegate!==this?oe.delegate.schedule(se,ae,J):super.schedule(se,ae,J)}flush(se){const{actions:ae}=this;if(this.active)return void ae.push(se);let J;this.active=!0;do{if(J=se.execute(se.state,se.delay))break}while(se=ae.shift());if(this.active=!1,J){for(;se=ae.shift();)se.unsubscribe();throw J}}}},4581:(Ye,De,N)=>{"use strict";N.d(De,{e:()=>V,E:()=>$});let a=1;const oe=Promise.resolve(),U={};function se(K){return K in U&&(delete U[K],!0)}const ae={setImmediate(K){const X=a++;return U[X]=!0,oe.then(()=>se(X)&&K()),X},clearImmediate(K){se(K)}};var q=N(6465),Y=N(6102);const $=new class extends Y.v{flush(X){this.active=!0,this.scheduled=void 0;const{actions:ye}=this;let he,Ie=-1,ve=ye.length;X=X||ye.shift();do{if(he=X.execute(X.state,X.delay))break}while(++Ie<ve&&(X=ye.shift()));if(this.active=!1,he){for(;++Ie<ve&&(X=ye.shift());)X.unsubscribe();throw he}}}(class extends q.o{constructor(X,ye){super(X,ye),this.scheduler=X,this.work=ye}requestAsyncId(X,ye,he=0){return null!==he&&he>0?super.requestAsyncId(X,ye,he):(X.actions.push(this),X.scheduled||(X.scheduled=ae.setImmediate(X.flush.bind(X,null))))}recycleAsyncId(X,ye,he=0){if(null!==he&&he>0||null===he&&this.delay>0)return super.recycleAsyncId(X,ye,he);0===X.actions.length&&(ae.clearImmediate(ye),X.scheduled=void 0)}}),V=$},3637:(Ye,De,N)=>{"use strict";N.d(De,{z:()=>U,P:()=>se});var a=N(6465);const U=new(N(6102).v)(a.o),se=U},7771:(Ye,De,N)=>{"use strict";N.d(De,{c:()=>J,N:()=>ae});var a=N(6465),U=N(6102);const ae=new class extends U.v{}(class extends a.o{constructor(W,Y){super(W,Y),this.scheduler=W,this.work=Y}schedule(W,Y=0){return Y>0?super.schedule(W,Y):(this.delay=Y,this.state=W,this.scheduler.flush(this),this)}execute(W,Y){return Y>0||this.closed?super.execute(W,Y):this._execute(W,Y)}requestAsyncId(W,Y,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(W,Y,B):W.flush(this)}}),J=ae},377:(Ye,De,N)=>{"use strict";N.d(De,{hZ:()=>oe});const oe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,De,N)=>{"use strict";N.d(De,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,De,N)=>{"use strict";N.d(De,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,De,N)=>{"use strict";N.d(De,{N:()=>oe});const oe=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Ye,De,N)=>{"use strict";function a(oe){setTimeout(()=>{throw oe},0)}N.d(De,{z:()=>a})},4487:(Ye,De,N)=>{"use strict";function a(oe){return oe}N.d(De,{y:()=>a})},9796:(Ye,De,N)=>{"use strict";N.d(De,{k:()=>a});const a=Array.isArray||(oe=>oe&&"number"==typeof oe.length)},9489:(Ye,De,N)=>{"use strict";N.d(De,{z:()=>a});const a=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},9105:(Ye,De,N)=>{"use strict";function a(oe){return"function"==typeof oe}N.d(De,{m:()=>a})},6561:(Ye,De,N)=>{"use strict";N.d(De,{k:()=>oe});var a=N(9796);function oe(U){return!(0,a.k)(U)&&U-parseFloat(U)+1>=0}},1555:(Ye,De,N)=>{"use strict";function a(oe){return null!==oe&&"object"==typeof oe}N.d(De,{K:()=>a})},4072:(Ye,De,N)=>{"use strict";function a(oe){return!!oe&&"function"!=typeof oe.subscribe&&"function"==typeof oe.then}N.d(De,{t:()=>a})},4869:(Ye,De,N)=>{"use strict";function a(oe){return oe&&"function"==typeof oe.schedule}N.d(De,{K:()=>a})},7444:(Ye,De,N)=>{"use strict";N.d(De,{s:()=>$});var a=N(5015),oe=N(4449),se=N(377),J=N(6554),W=N(9489),Y=N(4072),B=N(1555);const $=V=>{if(V&&"function"==typeof V[J.L])return(V=>K=>{const X=V[J.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(K)})(V);if((0,W.z)(V))return(0,a.V)(V);if((0,Y.t)(V))return(V=>K=>(V.then(X=>{K.closed||(K.next(X),K.complete())},X=>K.error(X)).then(null,oe.z),K))(V);if(V&&"function"==typeof V[se.hZ])return(V=>K=>{const X=V[se.hZ]();for(;;){let ye;try{ye=X.next()}catch(he){return K.error(he),K}if(ye.done){K.complete();break}if(K.next(ye.value),K.closed)break}return"function"==typeof X.return&&K.add(()=>{X.return&&X.return()}),K})(V);{const X=`You provided ${(0,B.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},5015:(Ye,De,N)=>{"use strict";N.d(De,{V:()=>a});const a=oe=>U=>{for(let se=0,ae=oe.length;se<ae&&!U.closed;se++)U.next(oe[se]);U.complete()}},7956:(Ye,De,N)=>{"use strict";var a=N(7716);let oe=null;function U(){return oe}const q=new a.OlP("DocumentToken");let W=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:Y,token:r,providedIn:"platform"}),r})();function Y(){return(0,a.LFG)($)}const B=new a.OlP("Location Initialized");let $=(()=>{class r extends W{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,o){V()?this._history.pushState(n,s,o):this.location.hash=o}replaceState(n,s,o){V()?this._history.replaceState(n,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:K,token:r,providedIn:"platform"}),r})();function V(){return!!window.history.pushState}function K(){return new $((0,a.LFG)(q))}function X(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function ye(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function he(r){return r&&"?"!==r[0]?"?"+r:r}let Ie=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:ve,token:r,providedIn:"root"}),r})();function ve(r){const i=(0,a.LFG)(q).location;return new pt((0,a.LFG)(W),i&&i.origin||"")}const ke=new a.OlP("appBaseHref");let pt=(()=>{class r extends Ie{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return X(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+he(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${s}${o}`:s}pushState(n,s,o,u){const f=this.prepareExternalUrl(o+he(u));this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,u){const f=this.prepareExternalUrl(o+he(u));this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(W),a.LFG(ke,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),nt=(()=>{class r extends Ie{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=X(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,o,u){let f=this.prepareExternalUrl(o+he(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,u){let f=this.prepareExternalUrl(o+he(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(W),a.LFG(ke,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),lt=(()=>{class r{constructor(n,s){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ye(un(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+he(s))}normalize(n){return r.stripTrailingSlash(function(r,i){return r&&i.startsWith(r)?i.substring(r.length):i}(this._baseHref,un(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",o=null){this._platformStrategy.pushState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+he(s)),o)}replaceState(n,s="",o=null){this._platformStrategy.replaceState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+he(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(o=>o(n,s))}subscribe(n,s,o){return this._subject.subscribe({next:n,error:s,complete:o})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Ie),a.LFG(W))},r.normalizeQueryParams=he,r.joinWithSlash=X,r.stripTrailingSlash=ye,r.\u0275prov=(0,a.Yz7)({factory:Ut,token:r,providedIn:"root"}),r})();function Ut(){return new lt((0,a.LFG)(Ie),(0,a.LFG)(W))}function un(r){return r.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))();const so=a.kL8;class Hr{}let Bc=(()=>{class r extends Hr{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(so(s||this.locale)(n)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.soG))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();let ds=(()=>{class r{constructor(n,s,o,u){this._iterableDiffers=n,this._keyValueDiffers=s,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),n.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!0)):Object.keys(n).forEach(s=>this._toggleClass(s,!!n[s])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!1)):Object.keys(n).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(n,s){(n=n.trim())&&n.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class hs{constructor(i,n,s,o){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yt=(()=>{class r{constructor(n,s,o){this._viewContainer=n,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((o,u,f)=>{if(null==o.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new hs(null,this._ngForOf,-1,-1),null===f?void 0:f),w=new Vc(o,g);s.push(w)}else if(null==f)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,f);const w=new Vc(o,g);s.push(w)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,u=this._viewContainer.length;o<u;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=u,f.context.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class Vc{constructor(i,n){this.record=i,this.view=n}}let ai=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new Uc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Al("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Al("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class Uc{constructor(){this.$implicit=null,this.ngIf=null}}function Al(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,a.AaK)(i)}'.`)}class Wo{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Gr=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),Nn=(()=>{class r{constructor(n,s,o){this.ngSwitch=o,o._addCase(),this._view=new Wo(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Gr,9))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),Gc=(()=>{class r{constructor(n,s,o){this._ngEl=n,this._differs=s,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[o,u]=n.split(".");null!=(s=null!=s&&u?`${s}${u}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,o,s):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})();class Fg{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class ab{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const Is=new ab,CD=new Fg;let Oa=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,a.QGY)(n))return Is;if((0,a.F4k)(n))return CD;throw function(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,a.AaK)(r)}'`)}(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.sBO,16))},r.\u0275pipe=a.Yjl({name:"async",type:r,pure:!1}),r})(),Oi=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[{provide:Hr,useClass:Bc}]}),r})();function lo(r){return"browser"===r}function zc(r){return"server"===r}let Yc=(()=>{class r{}return r.\u0275prov=(0,a.Yz7)({token:r,providedIn:"root",factory:()=>new qc((0,a.LFG)(q),window)}),r})();class qc{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(i)||u.querySelector(`[name="${i}"]`);if(f)return f}o=s.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=i)}}scrollToElement(i){const n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(s-u[0],o-u[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=$c(this.window.history)||$c(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function $c(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Cd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new Cd,oe||(oe=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(co=co||document.querySelector("base"),co?co.getAttribute("href"):null);return null==n?null:function(r){vn=vn||document.createElement("a"),vn.setAttribute("href",r);const i=vn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[o,u]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(o.trim()===i)return decodeURIComponent(u)}return null}(document.cookie,i)}}let vn,co=null;const Hg=new a.OlP("TRANSITION_ID"),qi=[{provide:a.ip1,useFactory:function(r,i,n){return()=>{n.get(a.CZH).donePromise.then(()=>{const s=U(),o=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<o.length;u++)s.remove(o[u])})}},deps:[Hg,q,a.zs3],multi:!0}];class Zc{static init(){(0,a.VLi)(new Zc)}addToWindow(i){a.dqk.getAngularTestability=(s,o=!0)=>{const u=i.findTestabilityInTree(s,o);if(null==u)throw new Error("Could not find testability for element.");return u},a.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(s=>{const o=a.dqk.getAllAngularTestabilities();let u=o.length,f=!1;const g=function(w){f=f||w,u--,0==u&&s(f)};o.forEach(function(w){w.whenStable(g)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const o=i.getTestability(n);return null!=o?o:s?U().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let Ed=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Na=new a.OlP("EventManagerPlugins");let Me=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,o){return this._findPluginFor(s).addEventListener(n,s,o)}addGlobalEventListener(n,s,o){return this._findPluginFor(s).addGlobalEventListener(n,s,o)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const o=this._plugins;for(let u=0;u<o.length;u++){const f=o[u];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Na),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class Lt{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const o=U().getGlobalEventTarget(this._doc,i);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,s)}}let Gf=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),gn=(()=>{class r extends Gf{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,o){n.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,o.push(s.appendChild(f))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(jf),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(n,o,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(jf))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function jf(r){U().remove(r)}const uo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zr=/%COMP%/g;function jn(r,i,n){for(let s=0;s<i.length;s++){let o=i[s];Array.isArray(o)?jn(r,o,n):(o=o.replace(zr,r),n.push(o))}return n}function ms(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let ho=(()=>{class r{constructor(n,s,o){this.eventManager=n,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new xr(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case a.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new Yf(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(n),o}case 1:case a.ifc.ShadowDom:return new qf(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const o=jn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Me),a.LFG(gn),a.LFG(a.AFp))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class xr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(uo[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,o){if(o){n=o+":"+n;const u=uo[o];u?i.setAttributeNS(u,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const o=uo[s];o?i.removeAttributeNS(o,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,o){o&(a.JOm.DashCase|a.JOm.Important)?i.style.setProperty(n,s,o&a.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&a.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,ms(s)):this.eventManager.addEventListener(i,n,ms(s))}}class Yf extends xr{constructor(i,n,s,o){super(i),this.component=s;const u=jn(o+"-"+s.id,s.styles,[]);n.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(zr,o+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(zr,r)}(o+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class qf extends xr{constructor(i,n,s,o){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=jn(o.id,o.styles,[]);for(let f=0;f<u.length;f++){const g=document.createElement("style");g.textContent=u[f],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Wc=(()=>{class r extends Lt{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,o){return n.addEventListener(s,o,!1),()=>this.removeEventListener(n,s,o)}removeEventListener(n,s,o){return n.removeEventListener(s,o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Qc=["alt","control","meta","shift"],gb={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$i={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_b={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let OD=(()=>{class r extends Lt{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,o){const u=r.parseEventName(s),f=r.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,u.domEventName,f))}static parseEventName(n){const s=n.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const u=r._normalizeKey(s.pop());let f="";if(Qc.forEach(w=>{const x=s.indexOf(w);x>-1&&(s.splice(x,1),f+=w+".")}),f+=u,0!=s.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=f,g}static getEventFullKey(n){let s="",o=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&$i.hasOwnProperty(i)&&(i=$i[i]))}return gb[i]||i}(n);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Qc.forEach(u=>{u!=o&&_b[u](n)&&(s+=u+".")}),s+=o,s}static eventCallback(n,s,o){return u=>{r.getEventFullKey(u)===n&&o.runGuarded(()=>s(u))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),Yr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:function(){return(0,a.LFG)(Vl)},token:r,providedIn:"root"}),r})(),Vl=(()=>{class r extends Yr{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case a.q3G.NONE:return s;case a.q3G.HTML:return(0,a.qzn)(s,"HTML")?(0,a.z3N)(s):(0,a.EiD)(this._doc,String(s)).toString();case a.q3G.STYLE:return(0,a.qzn)(s,"Style")?(0,a.z3N)(s):s;case a.q3G.SCRIPT:if((0,a.qzn)(s,"Script"))return(0,a.z3N)(s);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(s),(0,a.qzn)(s,"URL")?(0,a.z3N)(s):(0,a.mCW)(String(s));case a.q3G.RESOURCE_URL:if((0,a.qzn)(s,"ResourceURL"))return(0,a.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,a.JVY)(n)}bypassSecurityTrustStyle(n){return(0,a.L6k)(n)}bypassSecurityTrustScript(n){return(0,a.eBb)(n)}bypassSecurityTrustUrl(n){return(0,a.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,a.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return function(r){return new Vl(r.get(q))}((0,a.LFG)(a.gxx))},token:r,providedIn:"root"}),r})();const Jc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){Cd.makeCurrent(),Zc.init()},multi:!0},{provide:q,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),Jf=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:Na,useClass:Wc,multi:!0,deps:[q,a.R0b,a.Lbi]},{provide:Na,useClass:OD,multi:!0,deps:[q]},[],{provide:ho,useClass:ho,deps:[Me,gn,a.AFp]},{provide:a.FYo,useExisting:ho},{provide:Gf,useExisting:gn},{provide:gn,useClass:gn,deps:[q]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Me,useClass:Me,deps:[Na,a.R0b]},{provide:class{},useClass:Ed,deps:[]},[]];let Xf=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:a.AFp,useValue:n.appId},{provide:Hg,useExisting:a.AFp},qi]}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(r,12))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:Jf,imports:[Oi,a.hGG]}),r})();"undefined"!=typeof window&&window;var Qt=N(4402),je=N(5917),Re=N(9765),Pd=N(7971);class Zi extends Re.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pd.N;return this._value}next(i){super.next(this._value=i)}}var Va=N(4869),Ul=N(9796),wi=N(7393);class bb extends wi.L{notifyNext(i,n,s,o,u){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class FD extends wi.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ea=N(7444),cn=N(7574);function wb(r,i,n,s,o=new FD(r,n,s)){if(!o.closed)return i instanceof cn.y?i.subscribe(o):(0,ea.s)(i)(o)}var Jg=N(6693);const tu={};function Ua(...r){let i,n;return(0,Va.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Ul.k)(r[0])&&(r=r[0]),(0,Jg.n)(r,n).lift(new ip(i))}class ip{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new Nd(i,this.resultSelector))}}class Nd extends bb{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(tu),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(wb(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const o=this.values,f=this.toRespond?o[s]===tu?--this.toRespond:this.toRespond:0;o[s]=n,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}const po=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();var qr=N(3282);function ta(...r){return(0,qr.J)(1)((0,je.of)(...r))}var $r=N(9193);function Zr(r){return new cn.y(i=>{let n;try{n=r()}catch(o){return void i.error(o)}return(n?(0,Qt.D)(n):(0,$r.c)()).subscribe(i)})}var PD=N(2441),it=N(8002),Wr=N(5345);function Sn(r,i){return"function"==typeof i?n=>n.pipe(Sn((s,o)=>(0,Qt.D)(r(s,o)).pipe((0,it.U)((u,f)=>i(s,u,o,f))))):n=>n.lift(new Cb(r))}class Cb{constructor(i){this.project=i}call(i,n){return n.subscribe(new wn(i,this.project))}}class wn extends Wr.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(o){return void this.destination.error(o)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new Wr.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,Wr.ft)(i,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}const rp=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();function fn(r){return i=>0===r?(0,$r.c)():i.lift(new e_(r))}class e_{constructor(i){if(this.total=i,this.total<0)throw new rp}call(i,n){return n.subscribe(new LD(i,this.total))}}class LD extends wi.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function en(...r){const i=r[r.length-1];return(0,Va.K)(i)?(r.pop(),n=>ta(r,n,i)):n=>ta(r,n)}function Ld(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new t_(r,i,n))}}class t_{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new BD(i,this.accumulator,this.seed,this.hasSeed))}}class BD extends wi.L{constructor(i,n,s,o){super(i),this.accumulator=n,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function Bt(r,i){return function(s){return s.lift(new sp(r,i))}}class sp{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new Ha(i,this.predicate,this.thisArg))}}class Ha extends wi.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}function Ga(r){return function(n){const s=new Ln(r),o=n.lift(s);return s.caught=o}}class Ln{constructor(i){this.selector=i}call(i,n){return n.subscribe(new na(i,this.selector,this.caught))}}class na extends Wr.Ds{constructor(i,n,s){super(i),this.selector=n,this.caught=s}error(i){if(!this.isStopped){let n;try{n=this.selector(i,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const s=new Wr.IY(this);this.add(s);const o=(0,Wr.ft)(n,s);o!==s&&this.add(o)}}}var bn=N(9773);function ja(r,i){return(0,bn.zg)(r,i,1)}function op(r){return function(n){return 0===r?(0,$r.c)():n.lift(new Kr(r))}}class Kr{constructor(i){if(this.total=i,this.total<0)throw new rp}call(i,n){return n.subscribe(new Ps(i,this.total))}}class Ps extends wi.L{constructor(i,n){super(i),this.total=n,this.ring=new Array,this.count=0}_next(i){const n=this.ring,s=this.total,o=this.count++;n.length<s?n.push(i):n[o%s]=i}_complete(){const i=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let u=0;u<s;u++){const f=n++%s;i.next(o[f])}}i.complete()}}function za(r=n_){return i=>i.lift(new ia(r))}class ia{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new ra(i,this.errorFactory))}}class ra extends wi.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function n_(){return new po}function Bd(r=null){return i=>i.lift(new Eb(r))}class Eb{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new i_(i,this.defaultValue))}}class i_ extends wi.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Db=N(4487);function Tn(r,i){const n=arguments.length>=2;return s=>s.pipe(r?Bt((o,u)=>r(o,u,s)):Db.y,fn(1),n?Bd(i):za(()=>new po))}var Yn=N(3342),sa=N(1307),Jt=N(5319);function ap(r){return i=>i.lift(new lp(r))}class lp{constructor(i){this.callback=i}call(i,n){return n.subscribe(new cp(i,this.callback))}}class cp extends wi.L{constructor(i,n){super(i),this.add(new Jt.w(n))}}class gs{constructor(i,n){this.id=i,this.url=n}}class up extends gs{constructor(i,n,s="imperative",o=null){super(i,n),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ya extends gs{constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qa extends gs{constructor(i,n,s){super(i,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dp extends gs{constructor(i,n,s){super(i,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ud extends gs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r_ extends gs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nu extends gs{constructor(i,n,s,o,u){super(i,n),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hp extends gs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oa extends gs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s_{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class o_{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fp{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pp{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a_{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aa{constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class mp{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function pn(r){return new mp(r)}const Hd="ngNavigationCancelingError";function Gd(r){const i=Error("NavigationCancelingError: "+r);return i[Hd]=!0,i}function iu(r,i,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||s.length<r.length))return null;const o={};for(let u=0;u<s.length;u++){const f=s[u],g=r[u];if(f.startsWith(":"))o[f.substring(1)]=g;else if(f!==g.path)return null}return{consumed:r.slice(0,s.length),posParams:o}}function Mr(r,i){const n=r?Object.keys(r):void 0,s=i?Object.keys(i):void 0;if(!n||!s||n.length!=s.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!gp(r[o],i[o]))return!1;return!0}function gp(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),s=[...i].sort();return n.every((o,u)=>s[u]===o)}return r===i}function xb(r){return Array.prototype.concat.apply([],r)}function $a(r){return r.length>0?r[r.length-1]:null}function qn(r,i){for(const n in r)r.hasOwnProperty(n)&&i(r[n],n)}function Ci(r){return(0,a.CqO)(r)?r:(0,a.QGY)(r)?(0,Qt.D)(Promise.resolve(r)):(0,je.of)(r)}const u_={exact:function h_(r,i,n){if(!Ka(r.segments,i.segments)||!jd(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!r.children[s]||!h_(r.children[s],i.children[s],n))return!1;return!0},subset:Wa},Za={exact:function(r,i){return Mr(r,i)},subset:function(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>gp(r[n],i[n]))},ignored:()=>!0};function ru(r,i,n){return u_[n.paths](r.root,i.root,n.matrixParams)&&Za[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function Wa(r,i,n){return jl(r,i,i.segments,n)}function jl(r,i,n,s){if(r.segments.length>n.length){const o=r.segments.slice(0,n.length);return!(!Ka(o,n)||i.hasChildren()||!jd(o,n,s))}if(r.segments.length===n.length){if(!Ka(r.segments,n)||!jd(r.segments,n,s))return!1;for(const o in i.children)if(!r.children[o]||!Wa(r.children[o],i.children[o],s))return!1;return!0}{const o=n.slice(0,r.segments.length),u=n.slice(r.segments.length);return!!(Ka(r.segments,o)&&jd(r.segments,o,s)&&r.children[Dt])&&jl(r.children[Dt],i,u,s)}}function jd(r,i,n){return i.every((s,o)=>Za[n](r[o].parameters,s.parameters))}class zl{constructor(i,n,s){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return yp.serialize(this)}}class Ft{constructor(i,n){this.segments=i,this.children=n,this.parent=null,qn(n,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mo(this)}}class su{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=pn(this.parameters)),this._parameterMap}toString(){return vp(this)}}function Ka(r,i){return r.length===i.length&&r.every((n,s)=>n.path===i[s].path)}class _p{}class Yl{parse(i){const n=new ca(i);return new zl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){var r;return`${`/${ou(i.root,!0)}`}${function(r){const i=Object.keys(r).map(n=>{const s=r[n];return Array.isArray(s)?s.map(o=>`${au(n)}=${au(o)}`).join("&"):`${au(n)}=${au(s)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${r=i.fragment,encodeURI(r)}`:""}`}}const yp=new Yl;function mo(r){return r.segments.map(i=>vp(i)).join("/")}function ou(r,i){if(!r.hasChildren())return mo(r);if(i){const n=r.children[Dt]?ou(r.children[Dt],!1):"",s=[];return qn(r.children,(o,u)=>{u!==Dt&&s.push(`${u}:${ou(o,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(r,i){let n=[];return qn(r.children,(s,o)=>{o===Dt&&(n=n.concat(i(s,o)))}),qn(r.children,(s,o)=>{o!==Dt&&(n=n.concat(i(s,o)))}),n}(r,(s,o)=>o===Dt?[ou(r.children[Dt],!1)]:[`${o}:${ou(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Dt]?`${mo(r)}/${n[0]}`:`${mo(r)}/(${n.join("//")})`}}function f_(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function au(r){return f_(r).replace(/%3B/gi,";")}function Qa(r){return f_(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lu(r){return decodeURIComponent(r)}function Yd(r){return lu(r.replace(/\+/g,"%20"))}function vp(r){return`${Qa(r.path)}${function(r){return Object.keys(r).map(i=>`;${Qa(i)}=${Qa(r[i])}`).join("")}(r.parameters)}`}const Ab=/^[^\/()?;=#]+/;function qd(r){const i=r.match(Ab);return i?i[0]:""}const Ib=/^[^=?&#]+/,_o=/^[^&#]+/;class ca{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[Dt]=new Ft(i,n)),s}parseSegment(){const i=qd(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new su(lu(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=qd(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const o=qd(this.remaining);o&&(s=o,this.capture(s))}i[lu(n)]=lu(s)}parseQueryParam(i){const n=function(r){const i=r.match(Ib);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const f=function(r){const i=r.match(_o);return i?i[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const o=Yd(n),u=Yd(s);if(i.hasOwnProperty(o)){let f=i[o];Array.isArray(f)||(f=[f],i[o]=f),f.push(u)}else i[o]=u}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=qd(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;s.indexOf(":")>-1?(u=s.substr(0,s.indexOf(":")),this.capture(u),this.capture(":")):i&&(u=Dt);const f=this.parseChildren();n[u]=1===Object.keys(f).length?f[Dt]:new Ft([],f),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class p_{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=bp(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){const n=bp(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=uu(i,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return uu(i,this._root).map(n=>n.value)}}function bp(r,i){if(r===i.value)return i;for(const n of i.children){const s=bp(r,n);if(s)return s}return null}function uu(r,i){if(r===i.value)return[i];for(const n of i.children){const s=uu(r,n);if(s.length)return s.unshift(i),s}return[]}class yo{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ja(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class wp extends p_{constructor(i,n){super(i),this.snapshot=n,Zd(this,i)}toString(){return this.snapshot.toString()}}function m_(r,i){const n=function(r,i){const f=new $d([],{},{},"",{},Dt,i,null,r.root,-1,{});return new $l("",new yo(f,[]))}(r,i),s=new Zi([new su("",{})]),o=new Zi({}),u=new Zi({}),f=new Zi({}),g=new Zi(""),w=new ql(s,o,f,g,u,Dt,i,n.root);return w.snapshot=n.root,new wp(new yo(w,[]),n)}class ql{constructor(i,n,s,o,u,f,g,w){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=g,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(i=>pn(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(i=>pn(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function g_(r,i="emptyOnly"){const n=r.pathFromRoot;let s=0;if("always"!==i)for(s=n.length-1;s>=1;){const o=n[s],u=n[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(u.component)break;s--}}return function(r){return r.reduce((i,n)=>({params:Object.assign(Object.assign({},i.params),n.params),data:Object.assign(Object.assign({},i.data),n.data),resolve:Object.assign(Object.assign({},i.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class $d{constructor(i,n,s,o,u,f,g,w,x,S,I){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=g,this.routeConfig=w,this._urlSegment=x,this._lastPathIndex=S,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $l extends p_{constructor(i,n){super(n),this.url=i,Zd(this,n)}toString(){return _s(this._root)}}function Zd(r,i){i.value._routerState=r,i.children.forEach(n=>Zd(r,n))}function _s(r){const i=r.children.length>0?` { ${r.children.map(_s).join(", ")} } `:"";return`${r.value}${i}`}function Xa(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,Mr(i.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),i.fragment!==n.fragment&&r.fragment.next(n.fragment),Mr(i.params,n.params)||r.params.next(n.params),function(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!Mr(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.url.next(n.url),Mr(i.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function du(r,i){return Mr(r.params,i.params)&&function(r,i){return Ka(r,i)&&r.every((n,s)=>Mr(n.parameters,i[s].parameters))}(r.url,i.url)&&!(!r.parent!=!i.parent)&&(!r.parent||du(r.parent,i.parent))}function hu(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const o=function(r,i,n){return i.children.map(s=>{for(const o of n.children)if(r.shouldReuseRoute(s.value,o.value.snapshot))return hu(r,s,o);return hu(r,s)})}(r,i,n);return new yo(s,o)}{if(r.shouldAttach(i.value)){const u=r.retrieve(i.value);if(null!==u){const f=u.route;return Rb(i,f),f}}const s=function(r){return new ql(new Zi(r.url),new Zi(r.params),new Zi(r.queryParams),new Zi(r.fragment),new Zi(r.data),r.outlet,r.component,r)}(i.value),o=i.children.map(u=>hu(r,u));return new yo(s,o)}}function Rb(r,i){if(r.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=r.value;for(let n=0;n<r.children.length;++n)Rb(r.children[n],i.children[n])}function Zl(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Ls(r){return"object"==typeof r&&null!=r&&r.outlets}function b_(r,i,n,s,o){let u={};return s&&qn(s,(f,g)=>{u[g]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),new zl(n.root===r?i:Ob(n.root,r,i),u,o)}function Ob(r,i,n){const s={};return qn(r.children,(o,u)=>{s[u]=o===i?n:Ob(o,i,n)}),new Ft(r.segments,s)}class Dp{constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&Zl(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(Ls);if(o&&o!==$a(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xp{constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}}function ua(r,i,n){if(r||(r=new Ft([],{})),0===r.segments.length&&r.hasChildren())return fu(r,i,n);const s=function(r,i,n){let s=0,o=i;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<r.segments.length;){if(s>=n.length)return u;const f=r.segments[o],g=n[s];if(Ls(g))break;const w=`${g}`,x=s<n.length-1?n[s+1]:null;if(o>0&&void 0===w)break;if(w&&x&&"object"==typeof x&&void 0===x.outlets){if(!D_(w,x,f))return u;s+=2}else{if(!D_(w,{},f))return u;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(r,i,n),o=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const u=new Ft(r.segments.slice(0,s.pathIndex),{});return u.children[Dt]=new Ft(r.segments.slice(s.pathIndex),r.children),fu(u,0,o)}return s.match&&0===o.length?new Ft(r.segments,{}):s.match&&!r.hasChildren()?Mp(r,i,n):s.match?fu(r,0,o):Mp(r,i,n)}function fu(r,i,n){if(0===n.length)return new Ft(r.segments,{});{const s=function(r){return Ls(r[0])?r[0].outlets:{[Dt]:r}}(n),o={};return qn(s,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[f]=ua(r.children[f],i,u))}),qn(r.children,(u,f)=>{void 0===s[f]&&(o[f]=u)}),new Ft(r.segments,o)}}function Mp(r,i,n){const s=r.segments.slice(0,i);let o=0;for(;o<n.length;){const u=n[o];if(Ls(u)){const w=An(u.outlets);return new Ft(s,w)}if(0===o&&Zl(n[0])){s.push(new su(r.segments[i].path,E_(n[0]))),o++;continue}const f=Ls(u)?u.outlets[Dt]:`${u}`,g=o<n.length-1?n[o+1]:null;f&&g&&Zl(g)?(s.push(new su(f,E_(g))),o+=2):(s.push(new su(f,{})),o++)}return new Ft(s,{})}function An(r){const i={};return qn(r,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[s]=Mp(new Ft([],{}),0,n))}),i}function E_(r){const i={};return qn(r,(n,s)=>i[s]=`${n}`),i}function D_(r,i,n){return r==n.path&&Mr(i,n.parameters)}class Jd{constructor(i,n,s,o){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=o}activate(i){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),Xa(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){const o=Ja(n);i.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],s),delete o[f]}),qn(o,(u,f)=>{this.deactivateRouteAndItsChildren(u,s)})}deactivateRoutes(i,n,s){const o=i.value,u=n?n.value:null;if(o===u)if(o.component){const f=s.getContext(o.outlet);f&&this.deactivateChildRoutes(i,n,f.children)}else this.deactivateChildRoutes(i,n,s);else u&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const s=n.getContext(i.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:u})}}deactivateRouteAndOutlet(i,n){const s=n.getContext(i.value.outlet),o=s&&i.value.component?s.children:n,u=Ja(i);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,n,s){const o=Ja(n);i.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],s),this.forwardEvent(new Gl(u.value.snapshot))}),i.children.length&&this.forwardEvent(new pp(i.value.snapshot))}activateRoutes(i,n,s){const o=i.value,u=n?n.value:null;if(Xa(o),o===u)if(o.component){const f=s.getOrCreateContext(o.outlet);this.activateChildRoutes(i,n,f.children)}else this.activateChildRoutes(i,n,s);else if(o.component){const f=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(g.contexts),f.attachRef=g.componentRef,f.route=g.route.value,f.outlet&&f.outlet.attach(g.componentRef,g.route.value),Xd(g.route)}else{const g=function(r){for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(o.snapshot),w=g?g.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=w,f.outlet&&f.outlet.activateWith(o,w),this.activateChildRoutes(i,null,f.children)}}else this.activateChildRoutes(i,null,s)}}function Xd(r){Xa(r.value),r.children.forEach(Xd)}class Sp{constructor(i,n){this.routes=i,this.module=n}}function Bs(r){return"function"==typeof r}function Vs(r){return r instanceof zl}const Wl=Symbol("INITIAL_VALUE");function el(){return Sn(r=>Ua(r.map(i=>i.pipe(fn(1),en(Wl)))).pipe(Ld((i,n)=>{let s=!1;return n.reduce((o,u,f)=>o!==Wl?o:(u===Wl&&(s=!0),s||!1!==u&&f!==n.length-1&&!Vs(u)?o:u),i)},Wl),Bt(i=>i!==Wl),(0,it.U)(i=>Vs(i)?i:!0===i),fn(1)))}let Di=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&a._UZ(0,"router-outlet")},directives:function(){return[oh]},encapsulation:2}),r})();function Tr(r,i=""){for(let n=0;n<r.length;n++){const s=r[n];eh(s,Lb(i,s))}}function eh(r,i){r.children&&Tr(r.children,i)}function Lb(r,i){return i?r||i.path?r&&!i.path?`${r}/`:!r&&i.path?i.path:`${r}/${i.path}`:"":r}function Tp(r){const i=r.children&&r.children.map(Tp),n=i?Object.assign(Object.assign({},r),{children:i}):Object.assign({},r);return!n.component&&(i||n.loadChildren)&&n.outlet&&n.outlet!==Dt&&(n.component=Di),n}function Ar(r){return r.outlet||Dt}function Ap(r,i){const n=r.filter(s=>Ar(s)===i);return n.push(...r.filter(s=>Ar(s)!==i)),n}const Fi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Kl(r,i,n){var s;if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?Object.assign({},Fi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(i.matcher||iu)(n,r,i);if(!u)return Object.assign({},Fi);const f={};qn(u.posParams,(w,x)=>{f[x]=w.path});const g=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:g,positionalParamSegments:null!==(s=u.posParams)&&void 0!==s?s:{}}}function tl(r,i,n,s,o="corrected"){if(n.length>0&&function(r,i,n){return n.some(s=>nl(r,i,s)&&Ar(s)!==Dt)}(r,n,s)){const f=new Ft(i,function(r,i,n,s){const o={};o[Dt]=s,s._sourceSegment=r,s._segmentIndexShift=i.length;for(const u of n)if(""===u.path&&Ar(u)!==Dt){const f=new Ft([],{});f._sourceSegment=r,f._segmentIndexShift=i.length,o[Ar(u)]=f}return o}(r,i,s,new Ft(n,r.children)));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:[]}}if(0===n.length&&function(r,i,n){return n.some(s=>nl(r,i,s))}(r,n,s)){const f=new Ft(r.segments,function(r,i,n,s,o,u){const f={};for(const g of s)if(nl(r,n,g)&&!o[Ar(g)]){const w=new Ft([],{});w._sourceSegment=r,w._segmentIndexShift="legacy"===u?r.segments.length:i.length,f[Ar(g)]=w}return Object.assign(Object.assign({},o),f)}(r,i,n,s,r.children,o));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:n}}const u=new Ft(r.segments,r.children);return u._sourceSegment=r,u._segmentIndexShift=i.length,{segmentGroup:u,slicedSegments:n}}function nl(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}function th(r,i,n,s){return!!(Ar(r)===s||s!==Dt&&nl(i,n,r))&&("**"===r.path||Kl(i,r,n).matched)}function nh(r,i,n){return 0===i.length&&!r.children[n]}class ih{constructor(i){this.segmentGroup=i||null}}class kp{constructor(i){this.urlTree=i}}function il(r){return new cn.y(i=>i.error(new ih(r)))}function M_(r){return new cn.y(i=>i.error(new kp(r)))}function E(r){return new cn.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class M{constructor(i,n,s,o,u){this.configLoader=n,this.urlSerializer=s,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=i.get(a.h0i)}apply(){const i=tl(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ft(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Dt).pipe((0,it.U)(u=>this.createUrlTree(O(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ga(u=>{if(u instanceof kp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ih?this.noMatchError(u):u}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,Dt).pipe((0,it.U)(o=>this.createUrlTree(O(o),i.queryParams,i.fragment))).pipe(Ga(o=>{throw o instanceof ih?this.noMatchError(o):o}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,n,s){const o=i.segments.length>0?new Ft([],{[Dt]:i}):i;return new zl(o,n,s)}expandSegmentGroup(i,n,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe((0,it.U)(u=>new Ft([],u))):this.expandSegment(i,s,n,s.segments,o,!0)}expandChildren(i,n,s){const o=[];for(const u of Object.keys(s.children))"primary"===u?o.unshift(u):o.push(u);return(0,Qt.D)(o).pipe(ja(u=>{const f=s.children[u],g=Ap(n,u);return this.expandSegmentGroup(i,g,f,u).pipe((0,it.U)(w=>({segment:w,outlet:u})))}),Ld((u,f)=>(u[f.outlet]=f.segment,u),{}),function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?Bt((o,u)=>r(o,u,s)):Db.y,op(1),n?Bd(i):za(()=>new po))}())}expandSegment(i,n,s,o,u,f){return(0,Qt.D)(s).pipe(ja(g=>this.expandSegmentAgainstRoute(i,n,s,g,o,u,f).pipe(Ga(x=>{if(x instanceof ih)return(0,je.of)(null);throw x}))),Tn(g=>!!g),Ga((g,w)=>{if(g instanceof po||"EmptyError"===g.name){if(nh(n,o,u))return(0,je.of)(new Ft([],{}));throw new ih(n)}throw g}))}expandSegmentAgainstRoute(i,n,s,o,u,f,g){return th(o,n,u,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,n,o,u,f):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f):il(n):il(n)}expandSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,o){const u=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?M_(u):this.lineralizeSegments(s,u).pipe((0,bn.zg)(f=>{const g=new Ft(f,{});return this.expandSegment(i,g,n,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f){const{matched:g,consumedSegments:w,lastChild:x,positionalParamSegments:S}=Kl(n,o,u);if(!g)return il(n);const I=this.applyRedirectCommands(w,o.redirectTo,S);return o.redirectTo.startsWith("/")?M_(I):this.lineralizeSegments(o,I).pipe((0,bn.zg)(F=>this.expandSegment(i,n,s,F.concat(u.slice(x)),f,!1)))}matchSegmentAgainstRoute(i,n,s,o,u){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,je.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,it.U)(F=>(s._loadedConfig=F,new Ft(o,{})))):(0,je.of)(new Ft(o,{}));const{matched:f,consumedSegments:g,lastChild:w}=Kl(n,s,o);if(!f)return il(n);const x=o.slice(w);return this.getChildConfig(i,s,o).pipe((0,bn.zg)(I=>{const F=I.module,L=I.routes,{segmentGroup:j,slicedSegments:ne}=tl(n,g,x,L),me=new Ft(j.segments,j.children);if(0===ne.length&&me.hasChildren())return this.expandChildren(F,L,me).pipe((0,it.U)(ze=>new Ft(g,ze)));if(0===L.length&&0===ne.length)return(0,je.of)(new Ft(g,{}));const xe=Ar(s)===u;return this.expandSegment(F,me,L,ne,xe?Dt:u,!0).pipe((0,it.U)(Be=>new Ft(g.concat(Be.segments),Be.children)))}))}getChildConfig(i,n,s){return n.children?(0,je.of)(new Sp(n.children,i)):n.loadChildren?void 0!==n._loadedConfig?(0,je.of)(n._loadedConfig):this.runCanLoadGuards(i.injector,n,s).pipe((0,bn.zg)(o=>{return o?this.configLoader.load(i.injector,n).pipe((0,it.U)(u=>(n._loadedConfig=u,u))):(r=n,new cn.y(i=>i.error(Gd(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,je.of)(new Sp([],i))}runCanLoadGuards(i,n,s){const o=n.canLoad;if(!o||0===o.length)return(0,je.of)(!0);const u=o.map(f=>{const g=i.get(f);let w;if((r=g)&&Bs(r.canLoad))w=g.canLoad(n,s);else{if(!Bs(g))throw new Error("Invalid CanLoad guard");w=g(n,s)}var r;return Ci(w)});return(0,je.of)(u).pipe(el(),(0,Yn.b)(f=>{if(!Vs(f))return;const g=Gd(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw g.url=f,g}),(0,it.U)(f=>!0===f))}lineralizeSegments(i,n){let s=[],o=n.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,je.of)(s);if(o.numberOfChildren>1||!o.children[Dt])return E(i.redirectTo);o=o.children[Dt]}}applyRedirectCommands(i,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),i,s)}applyRedirectCreatreUrlTree(i,n,s,o){const u=this.createSegmentGroup(i,n.root,s,o);return new zl(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const s={};return qn(i,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);s[u]=n[g]}else s[u]=o}),s}createSegmentGroup(i,n,s,o){const u=this.createSegments(i,n.segments,s,o);let f={};return qn(n.children,(g,w)=>{f[w]=this.createSegmentGroup(i,g,s,o)}),new Ft(u,f)}createSegments(i,n,s,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(i,u,o):this.findOrReturn(u,s))}findPosParam(i,n,s){const o=s[n.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${i}'. Cannot find '${n.path}'.`);return o}findOrReturn(i,n){let s=0;for(const o of n){if(o.path===i.path)return n.splice(s),o;s++}return i}}function O(r){const i={};for(const s of Object.keys(r.children)){const u=O(r.children[s]);(u.segments.length>0||u.hasChildren())&&(i[s]=u)}return function(r){if(1===r.numberOfChildren&&r.children[Dt]){const i=r.children[Dt];return new Ft(r.segments.concat(i.segments),i.children)}return r}(new Ft(r.segments,i))}class _e{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Fe{constructor(i,n){this.component=i,this.route=n}}function $e(r,i,n){const s=r._root;return ar(s,i?i._root:null,n,[s.value])}function rt(r,i,n){const s=function(r){if(!r)return null;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(i);return(s?s.module.injector:n).get(r)}function ar(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ja(i);return r.children.forEach(f=>{(function(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=r.value,f=i?i.value:null,g=n?n.getContext(r.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const w=function(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!Ka(r.url,i.url);case"pathParamsOrQueryParamsChange":return!Ka(r.url,i.url)||!Mr(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!du(r,i)||!Mr(r.queryParams,i.queryParams);case"paramsChange":default:return!du(r,i)}}(f,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new _e(s)):(u.data=f.data,u._resolvedData=f._resolvedData),ar(r,i,u.component?g?g.children:null:n,s,o),w&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Fe(g.outlet.component,f))}else f&&rl(i,g,o),o.canActivateChecks.push(new _e(s)),ar(r,null,u.component?g?g.children:null:n,s,o)})(f,u[f.value.outlet],n,s.concat([f.value]),o),delete u[f.value.outlet]}),qn(u,(f,g)=>rl(f,n.getContext(g),o)),o}function rl(r,i,n){const s=Ja(r),o=r.value;qn(s,(u,f)=>{rl(u,o.component?i?i.children.getContext(f):null:i,n)}),n.canDeactivateChecks.push(new Fe(o.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,o))}class _u{}function sh(r){return new cn.y(i=>i.error(r))}class UD{constructor(i,n,s,o,u,f){this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const i=tl(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,i,Dt);if(null===n)return null;const s=new $d([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new yo(s,n),u=new $l(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(i){const n=i.value,s=g_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),i.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,n):this.processSegment(i,n,n.segments,s)}processChildren(i,n){const s=[];for(const u of Object.keys(n.children)){const f=n.children[u],g=Ap(i,u),w=this.processSegmentGroup(g,f,u);if(null===w)return null;s.push(...w)}const o=A_(s);return o.sort((i,n)=>i.value.outlet===Dt?-1:n.value.outlet===Dt?1:i.value.outlet.localeCompare(n.value.outlet)),o}processSegment(i,n,s,o){for(const u of i){const f=this.processSegmentAgainstRoute(u,n,s,o);if(null!==f)return f}return nh(n,s,o)?[]:null}processSegmentAgainstRoute(i,n,s,o){if(i.redirectTo||!th(i,n,s,o))return null;let u,f=[],g=[];if("**"===i.path){const L=s.length>0?$a(s).parameters:{};u=new $d(s,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yu(i),Ar(i),i.component,i,Gb(n),ak(n)+s.length,I_(i))}else{const L=Kl(n,i,s);if(!L.matched)return null;f=L.consumedSegments,g=s.slice(L.lastChild),u=new $d(f,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yu(i),Ar(i),i.component,i,Gb(n),ak(n)+f.length,I_(i))}const w=(r=i).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:x,slicedSegments:S}=tl(n,f,g,w.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);var r;if(0===S.length&&x.hasChildren()){const L=this.processChildren(w,x);return null===L?null:[new yo(u,L)]}if(0===w.length&&0===S.length)return[new yo(u,[])];const I=Ar(i)===o,F=this.processSegment(w,x,S,I?Dt:o);return null===F?null:[new yo(u,F)]}}function GD(r){const i=r.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function A_(r){const i=[],n=new Set;for(const s of r){if(!GD(s)){i.push(s);continue}const o=i.find(u=>s.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...s.children),n.add(o)):i.push(s)}for(const s of n){const o=A_(s.children);i.push(new yo(s.value,o))}return i.filter(s=>!n.has(s))}function Gb(r){let i=r;for(;i._sourceSegment;)i=i._sourceSegment;return i}function ak(r){let i=r,n=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,n+=i._segmentIndexShift?i._segmentIndexShift:0;return n-1}function yu(r){return r.data||{}}function I_(r){return r.resolve||{}}function zb(r){return Sn(i=>{const n=r(i);return n?(0,Qt.D)(n).pipe((0,it.U)(()=>i)):(0,je.of)(i)})}class fk extends class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}{}const k_=new a.OlP("ROUTES");class R_{constructor(i,n,s,o){this.loader=i,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=o}load(i,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactory(n.loadChildren).pipe((0,it.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(n);const f=u.create(i);return new Sp(xb(f.injector.get(k_,void 0,a.XFs.Self|a.XFs.Optional)).map(Tp),f)}),Ga(u=>{throw n._loader$=void 0,u}));return n._loader$=new PD.c(o,()=>new Re.xQ).pipe((0,sa.x)()),n._loader$}loadModuleFactory(i){return"string"==typeof i?(0,Qt.D)(this.loader.load(i)):Ci(i()).pipe((0,bn.zg)(n=>n instanceof a.YKP?(0,je.of)(n):(0,Qt.D)(this.compiler.compileModuleAsync(n))))}}class YD{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jl,this.attachRef=null}}class Jl{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new YD,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}class mk{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}function qD(r){throw r}function $D(r,i,n){return i.parse("/")}function Xl(r,i){return(0,je.of)(null)}const ZD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class r{constructor(n,s,o,u,f,g,w,x){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=o,this.location=u,this.config=x,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Re.xQ,this.errorHandler=qD,this.malformedUriErrorHandler=$D,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xl,afterPreactivation:Xl},this.urlHandlingStrategy=new mk,this.routeReuseStrategy=new fk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(a.h0i),this.console=f.get(a.c2e);const F=f.get(a.R0b);this.isNgZoneEnabled=F instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(x),this.currentUrlTree=new zl(new Ft([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new R_(g,w,L=>this.triggerEvent(new s_(L)),L=>this.triggerEvent(new o_(L))),this.routerState=m_(this.currentUrlTree,this.rootComponentType),this.transitions=new Zi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(Bt(o=>0!==o.id),(0,it.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Sn(o=>{let u=!1,f=!1;return(0,je.of)(o).pipe((0,Yn.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Sn(g=>{const w=!this.navigated||g.extractedUrl.toString()!==this.browserUrlTree.toString(),x=("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl);if(F_(g.source)&&(this.browserUrlTree=g.rawUrl),x)return(0,je.of)(g).pipe(Sn(S=>{const I=this.transitions.getValue();return s.next(new up(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),I!==this.transitions.getValue()?$r.E:Promise.resolve(S)}),function(r,i,n,s){return Sn(o=>function(r,i,n,s,o){return new M(r,i,n,s,o).apply()}(r,i,n,o.extractedUrl,s).pipe((0,it.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yn.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(r,i,n,s,o){return(0,bn.zg)(u=>function(r,i,n,s,o="emptyOnly",u="legacy"){try{const f=new UD(r,i,n,s,o,u).recognize();return null===f?sh(new _u):(0,je.of)(f)}catch(f){return sh(f)}}(r,i,u.urlAfterRedirects,n(u.urlAfterRedirects),s,o).pipe((0,it.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yn.b)(S=>{"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(S.urlAfterRedirects,S),this.browserUrlTree=S.urlAfterRedirects);const I=new Ud(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);s.next(I)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:F,source:L,restoredState:j,extras:ne}=g,me=new up(I,this.serializeUrl(F),L,j);s.next(me);const xe=m_(F,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},g),{targetSnapshot:xe,urlAfterRedirects:F,extras:Object.assign(Object.assign({},ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),$r.E}),zb(g=>{const{targetSnapshot:w,id:x,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:F,replaceUrl:L}}=g;return this.hooks.beforePreactivation(w,{navigationId:x,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!F,replaceUrl:!!L})}),(0,Yn.b)(g=>{const w=new r_(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(w)}),(0,it.U)(g=>Object.assign(Object.assign({},g),{guards:$e(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(r,i){return(0,bn.zg)(n=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=n;return 0===f.length&&0===u.length?(0,je.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,i,n,s){return(0,Qt.D)(r).pipe((0,bn.zg)(o=>function(r,i,n,s,o){const u=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,je.of)(!0);const f=u.map(g=>{const w=rt(g,i,o);let x;if(function(r){return r&&Bs(r.canDeactivate)}(w))x=Ci(w.canDeactivate(r,i,n,s));else{if(!Bs(w))throw new Error("Invalid CanDeactivate guard");x=Ci(w(r,i,n,s))}return x.pipe(Tn())});return(0,je.of)(f).pipe(el())}(o.component,o.route,n,i,s)),Tn(o=>!0!==o,!0))}(f,s,o,r).pipe((0,bn.zg)(g=>g&&function(r){return"boolean"==typeof r}(g)?function(r,i,n,s){return(0,Qt.D)(i).pipe(ja(o=>ta(function(r,i){return null!==r&&i&&i(new fp(r)),(0,je.of)(!0)}(o.route.parent,s),function(r,i){return null!==r&&i&&i(new a_(r)),(0,je.of)(!0)}(o.route,s),function(r,i,n){const s=i[i.length-1],u=i.slice(0,i.length-1).reverse().map(f=>function(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(f)).filter(f=>null!==f).map(f=>Zr(()=>{const g=f.guards.map(w=>{const x=rt(w,f.node,n);let S;if(function(r){return r&&Bs(r.canActivateChild)}(x))S=Ci(x.canActivateChild(s,r));else{if(!Bs(x))throw new Error("Invalid CanActivateChild guard");S=Ci(x(s,r))}return S.pipe(Tn())});return(0,je.of)(g).pipe(el())}));return(0,je.of)(u).pipe(el())}(r,o.path,n),function(r,i,n){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,je.of)(!0);const o=s.map(u=>Zr(()=>{const f=rt(u,i,n);let g;if(function(r){return r&&Bs(r.canActivate)}(f))g=Ci(f.canActivate(i,r));else{if(!Bs(f))throw new Error("Invalid CanActivate guard");g=Ci(f(i,r))}return g.pipe(Tn())}));return(0,je.of)(o).pipe(el())}(r,o.route,n))),Tn(o=>!0!==o,!0))}(s,u,r,i):(0,je.of)(g)),(0,it.U)(g=>Object.assign(Object.assign({},n),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Yn.b)(g=>{if(Vs(g.guardsResult)){const x=Gd(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw x.url=g.guardsResult,x}const w=new nu(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(w)}),Bt(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),zb(g=>{if(g.guards.canActivateChecks.length)return(0,je.of)(g).pipe((0,Yn.b)(w=>{const x=new hp(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}),Sn(w=>{let x=!1;return(0,je.of)(w).pipe(function(r,i){return(0,bn.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=n;if(!o.length)return(0,je.of)(n);let u=0;return(0,Qt.D)(o).pipe(ja(f=>function(r,i,n,s){return function(r,i,n,s){const o=Object.keys(r);if(0===o.length)return(0,je.of)({});const u={};return(0,Qt.D)(o).pipe((0,bn.zg)(f=>function(r,i,n,s){const o=rt(r,i,s);return Ci(o.resolve?o.resolve(i,n):o(i,n))}(r[f],i,n,s).pipe((0,Yn.b)(g=>{u[f]=g}))),op(1),(0,bn.zg)(()=>Object.keys(u).length===o.length?(0,je.of)(u):$r.E))}(r._resolve,r,i,s).pipe((0,it.U)(u=>(r._resolvedData=u,r.data=Object.assign(Object.assign({},r.data),g_(r,n).resolve),null)))}(f.route,s,r,i)),(0,Yn.b)(()=>u++),op(1),(0,bn.zg)(f=>u===o.length?(0,je.of)(n):$r.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yn.b)({next:()=>x=!0,complete:()=>{x||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Yn.b)(w=>{const x=new oa(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(x)}))}),zb(g=>{const{targetSnapshot:w,id:x,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:F,replaceUrl:L}}=g;return this.hooks.afterPreactivation(w,{navigationId:x,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!F,replaceUrl:!!L})}),(0,it.U)(g=>{const w=function(r,i,n){const s=hu(r,i._root,n?n._root:void 0);return new wp(s,i)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:w})}),(0,Yn.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((r,i,n)=>(0,it.U)(s=>(new Jd(i,s.targetRouterState,s.currentRouterState,n).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Yn.b)({next(){u=!0},complete(){u=!0}}),ap(()=>{if(!u&&!f){const g=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,g)):this.cancelNavigationTransition(o,g)}this.currentNavigation=null}),Ga(g=>{if(f=!0,function(r){return r&&r[Hd]}(g)){const w=Vs(g.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const x=new qa(o.id,this.serializeUrl(o.extractedUrl),g.message);s.next(x),w?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),I={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||F_(o.source)};this.scheduleNavigation(S,"imperative",null,I,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new dp(o.id,this.serializeUrl(o.extractedUrl),g);s.next(w);try{o.resolve(this.errorHandler(g))}catch(x){o.reject(x)}}return $r.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:u,urlTree:f}=s,g={replaceUrl:!0};if(u){const w=Object.assign({},u);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(g.state=w)}this.scheduleNavigation(f,o,u,g)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const o=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!o||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){Tr(n),this.config=n.map(Tp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:g,preserveFragment:w}=s,x=o||this.routerState.root,S=w?this.currentUrlTree.fragment:f;let I=null;switch(g){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}return null!==I&&(I=this.removeEmptyProps(I)),function(r,i,n,s,o){if(0===n.length)return b_(i.root,i.root,i,s,o);const u=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Dp(!0,0,r);let i=0,n=!1;const s=r.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return qn(u.outlets,(w,x)=>{g[x]="string"==typeof w?w.split("/"):w}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((g,w)=>{0==w&&"."===g||(0==w&&""===g?n=!0:".."===g?i++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new Dp(n,i,s)}(n);if(u.toRoot())return b_(i.root,new Ft([],{}),i,s,o);const f=function(r,i,n){if(r.isAbsolute)return new xp(i.root,!0,0);if(-1===n.snapshot._lastPathIndex){const u=n.snapshot._urlSegment;return new xp(u,u===i.root,0)}const s=Zl(r.commands[0])?0:1;return function(r,i,n){let s=r,o=i,u=n;for(;u>o;){if(u-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new xp(s,!1,o-u)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(u,i,r),g=f.processChildren?fu(f.segmentGroup,f.index,u.commands):ua(f.segmentGroup,f.index,u.commands);return b_(f.segmentGroup,g,i,s,o)}(x,this.currentUrlTree,n,I,null!=S?S:null)}navigateByUrl(n,s={skipLocationChange:!1}){const o=Vs(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(r){for(let i=0;i<r.length;i++){const n=r[i];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${i}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return s}isActive(n,s){let o;if(o=!0===s?Object.assign({},ZD):!1===s?Object.assign({},WD):s,Vs(n))return ru(this.currentUrlTree,n,o);const u=this.parseUrl(n);return ru(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((s,o)=>{const u=n[o];return null!=u&&(s[o]=u),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Ya(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,o,u,f){var g,w;if(this.disposed)return Promise.resolve(!1);const x=this.getTransition(),S=F_(s)&&x&&!F_(x.source),L=(this.lastSuccessfulId===x.id||this.currentNavigation?x.rawUrl:x.urlAfterRedirects).toString()===n.toString();if(S&&L)return Promise.resolve(!0);let j,ne,me;f?(j=f.resolve,ne=f.reject,me=f.promise):me=new Promise((Be,ze)=>{j=Be,ne=ze});const xe=++this.navigationId;let Ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Ge=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Ge=0,this.setTransition({id:xe,targetPageId:Ge,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:u,resolve:j,reject:ne,promise:me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),me.catch(Be=>Promise.reject(Be))}setBrowserUrl(n,s){const o=this.urlSerializer.serialize(n),u=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(n,s=!1){var o,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const o=new qa(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.DyG),a.LFG(_p),a.LFG(Jl),a.LFG(lt),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function F_(r){return"imperative"!==r}let oh=(()=>{class r{constructor(n,s,o,u,f){this.parentContexts=n,this.location=s,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=u||Dt,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const f=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,w=new L_(n,g,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Jl),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},r.\u0275dir=a.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class L_{constructor(i,n,s){this.route=i,this.childContexts=n,this.parent=s}get(i,n){return i===ql?this.route:i===Jl?this.childContexts:this.parent.get(i,n)}}class qb{}class Zb{preload(i,n){return(0,je.of)(null)}}let B_=(()=>{class r{constructor(n,s,o,u,f){this.router=n,this.injector=u,this.preloadingStrategy=f,this.loader=new R_(s,o,x=>n.triggerEvent(new s_(x)),x=>n.triggerEvent(new o_(x)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(n=>n instanceof Ya),ja(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(a.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const o=[];for(const u of s)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(n,u)):u.children&&o.push(this.processRoutes(n,u.children));return(0,Qt.D)(o).pipe((0,qr.J)(),(0,it.U)(u=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,je.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,bn.zg)(u=>(s._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Wi),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(qb))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),bu=(()=>{class r{constructor(n,s,o={}){this.router=n,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ya&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof aa&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new aa(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Wi),a.LFG(Yc),a.LFG(void 0))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const ec=new a.OlP("ROUTER_CONFIGURATION"),QD=new a.OlP("ROUTER_FORROOT_GUARD"),JD=[lt,{provide:_p,useClass:Yl},{provide:Wi,useFactory:function(r,i,n,s,o,u,f,g={},w,x){const S=new Wi(null,r,i,n,s,o,u,xb(f));return w&&(S.urlHandlingStrategy=w),x&&(S.routeReuseStrategy=x),function(r,i){r.errorHandler&&(i.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(i.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(i.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(i.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(i.urlUpdateStrategy=r.urlUpdateStrategy)}(g,S),g.enableTracing&&S.events.subscribe(I=>{var F,L;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(L=console.groupEnd)||void 0===L||L.call(console)}),S},deps:[_p,Jl,lt,a.zs3,a.v3s,a.Sil,k_,ec,[class{},new a.FiY],[class{},new a.FiY]]},Jl,{provide:ql,useFactory:function(r){return r.routerState.root},deps:[Wi]},{provide:a.v3s,useClass:a.EAV},B_,Zb,class{preload(i,n){return n().pipe(Ga(()=>(0,je.of)(null)))}},{provide:ec,useValue:{enableTracing:!1}}];function Wb(){return new a.PXZ("Router",Wi)}let Kb=(()=>{class r{constructor(n,s){}static forRoot(n,s){return{ngModule:r,providers:[JD,Qb(n),{provide:QD,useFactory:_k,deps:[[Wi,new a.FiY,new a.tp0]]},{provide:ec,useValue:s||{}},{provide:Ie,useFactory:XD,deps:[W,[new a.tBr(ke),new a.FiY],ec]},{provide:bu,useFactory:TN,deps:[Wi,Yc,ec]},{provide:qb,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Zb},{provide:a.PXZ,multi:!0,useFactory:Wb},[Jb,{provide:a.ip1,multi:!0,useFactory:ex,deps:[Jb]},{provide:tx,useFactory:bk,deps:[Jb]},{provide:a.tb,multi:!0,useExisting:tx}]]}}static forChild(n){return{ngModule:r,providers:[Qb(n)]}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(QD,8),a.LFG(Wi,8))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();function TN(r,i,n){return n.scrollOffset&&i.setOffset(n.scrollOffset),new bu(r,i,n)}function XD(r,i,n={}){return n.useHash?new nt(r,i):new pt(r,i)}function _k(r){return"guarded"}function Qb(r){return[{provide:a.deG,multi:!0,useValue:r},{provide:k_,multi:!0,useValue:r}]}let Jb=(()=>{class r{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Re.xQ}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(g=>s=g),u=this.injector.get(Wi),f=this.injector.get(ec);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),u.initialNavigation()):s(!0),o})}bootstrapListener(n){const s=this.injector.get(ec),o=this.injector.get(B_),u=this.injector.get(bu),f=this.injector.get(Wi),g=this.injector.get(a.z2F);n===g.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),u.init(),f.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.zs3))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function ex(r){return r.appInitializer.bind(r)}function bk(r){return r.bootstrapListener.bind(r)}const tx=new a.OlP("Router Initializer");var Cn=N(6682);const Ek={provide:a.tb,useFactory:function(r,i){return()=>{if(lo(i)){const n=Array.from(r.querySelectorAll(`[class*=${nx}]`)),s=/\bflex-layout-.+?\b/g;n.forEach(o=>{o.classList.contains(`${nx}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(s,"")})}}},deps:[q,a.Lbi],multi:!0},nx="flex-layout-";let St=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Ek]}),r})();class tc{constructor(i=!1,n="all",s="",o="",u=0){this.matches=i,this.mediaQuery=n,this.mqAlias=s,this.suffix=o,this.priority=u,this.property=""}clone(){return new tc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Xb=(()=>{class r{constructor(){this.stylesheet=new Map}addStyleToElement(n,s,o){const u=this.stylesheet.get(n);u?u.set(s,o):this.stylesheet.set(n,new Map([[s,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(n,s){const o=this.stylesheet.get(n);let u="";if(o){const f=o.get(s);("number"==typeof f||"string"==typeof f)&&(u=f+"")}return u}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const V_={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Pi=new a.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>V_}),ew=new a.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Dk=new a.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function U_(r,i){return r=r?r.clone():new tc,i&&(r.mqAlias=i.alias,r.mediaQuery=i.mediaQuery,r.suffix=i.suffix,r.priority=i.priority),r}const wo="inline",H_=["row","column","row-reverse","column-reverse"];function IN(r){if(r)switch(r.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":r="wrap-reverse";break;case"no":case"none":case"nowrap":r="nowrap";break;default:r="wrap"}return r}let wu=(()=>{class r{constructor(n,s,o,u){this.elementRef=n,this.styleBuilder=s,this.styler=o,this.marshal=u,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Re.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,this.marshal.activatedAlias)}ngOnChanges(n){Object.keys(n).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const o=s.split(".").slice(1).join(".");this.setValue(n[s].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(n=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),n)}addStyles(n,s){const o=this.styleBuilder,u=o.shouldCache;let f=this.styleCache.get(n);(!f||!u)&&(f=o.buildStyles(n,s),u&&this.styleCache.set(n,f)),this.mru=Object.assign({},f),this.applyStyleToElement(f),o.sideEffect(n,f,s)}clearStyles(){Object.keys(this.mru).forEach(n=>{this.mru[n]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(n,s=!1){if(n){const[o,u]=this.styler.getFlowDirection(n);if(!u&&s){const f=function(r){let[i,n,s]=function(r){r=r?r.toLowerCase():"";let[i,n,s]=r.split(" ");return H_.find(o=>o===i)||(i=H_[0]),n===wo&&(n=s!==wo?s:"",s=wo),[i,IN(n),!!s]}(r);return function(r,i=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":r,"flex-wrap":i||null}}(i,n,s)}(o);this.styler.applyStyleToElements(f,[n])}return o.trim()}return"row"}hasWrap(n){return this.styler.hasWrap(n)}applyStyleToElement(n,s,o=this.nativeElement){this.styler.applyStyleToElement(o,n,s)}setValue(n,s){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,s)}updateWithValue(n){this.currentValue!==n&&(this.addStyles(n),this.currentValue=n)}}return r.\u0275fac=function(n){a.$Z()},r.\u0275dir=a.lG2({type:r,features:[a.TTD]}),r})();const ol=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Op="(orientation: portrait) and (max-width: 599.98px)",Fp="(orientation: landscape) and (max-width: 959.98px)",G_="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",xk="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",sx="(orientation: portrait) and (min-width: 840px)",nw="(orientation: landscape) and (min-width: 1280px)",nc={HANDSET:`${Op}, ${Fp}`,TABLET:`${G_} , ${xk}`,WEB:`${sx}, ${nw} `,HANDSET_PORTRAIT:`${Op}`,TABLET_PORTRAIT:`${G_} `,WEB_PORTRAIT:`${sx}`,HANDSET_LANDSCAPE:`${Fp}`,TABLET_LANDSCAPE:`${xk}`,WEB_LANDSCAPE:`${nw}`},Mk=[{alias:"handset",priority:2e3,mediaQuery:nc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:nc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:nc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:nc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:nc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:nc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:nc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:nc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:nc.WEB_PORTRAIT,overlapping:!0}],ox=/(\.|-|_)/g;function ax(r){let i=r.length>0?r.charAt(0):"",n=r.length>1?r.slice(1):"";return i.toUpperCase()+n}function RN(r,i=[]){const n={};return r.forEach(s=>{n[s.alias]=s}),i.forEach(s=>{n[s.alias]?function(r,...i){if(null==r)throw TypeError("Cannot convert undefined or null to object");for(let n of i)if(null!=n)for(let s in n)n.hasOwnProperty(s)&&(r[s]=n[s])}(n[s.alias],s):n[s.alias]=s}),function(r){return r.forEach(i=>{i.suffix||(i.suffix=function(r){return r.replace(ox,"|").split("|").map(ax).join("")}(i.alias),i.overlapping=!!i.overlapping)}),r}(Object.keys(n).map(s=>n[s]))}const Tk=new a.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const r=(0,a.f3M)(Dk),i=(0,a.f3M)(Pi),n=[].concat.apply([],(r||[]).map(o=>Array.isArray(o)?o:[o]));return RN((i.disableDefaultBps?[]:ol).concat(i.addOrientationBps?Mk:[]),n)}});function j_(r,i){return(i&&i.priority||0)-(r&&r.priority||0)}function ON(r,i){return(r.priority||0)-(i.priority||0)}let z_=(()=>{class r{constructor(n){this.findByMap=new Map,this.items=[...n].sort(ON)}findByAlias(n){return n?this.findWithPredicate(n,s=>s.alias==n):null}findByQuery(n){return this.findWithPredicate(n,s=>s.mediaQuery==n)}get overlappings(){return this.items.filter(n=>1==n.overlapping)}get aliases(){return this.items.map(n=>n.alias)}get suffixes(){return this.items.map(n=>n.suffix?n.suffix:"")}findWithPredicate(n,s){let o=this.findByMap.get(n);return o||(o=this.items.find(s)||null,this.findByMap.set(n,o)),o||null}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Tk))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(Tk))},token:r,providedIn:"root"}),r})(),rw=(()=>{class r{constructor(n,s,o){this._zone=n,this._platformId=s,this._document=o,this.source=new Zi(new tc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const n=[];return this.registry.forEach((s,o)=>{s.matches&&n.push(o)}),n}isActive(n){const s=this.registry.get(n);return s?s.matches:this.registerQuery(n).some(o=>o.matches)}observe(n,s=!1){if(n&&n.length){const o=this._observable$.pipe(Bt(f=>!s||n.indexOf(f.mediaQuery)>-1)),u=new cn.y(f=>{const g=this.registerQuery(n);if(g.length){const w=g.pop();g.forEach(x=>{f.next(x)}),this.source.next(w)}f.complete()});return(0,Cn.T)(u,o)}return this._observable$}registerQuery(n){const s=Array.isArray(n)?n:[n],o=[];return function(r,i){const n=r.filter(s=>!Ak[s]);if(n.length>0){const s=n.join(", ");try{const o=i.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(i.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${s} {.fx-query-test{ }}\n`)),i.head.appendChild(o),n.forEach(u=>Ak[u]=o)}catch(o){console.error(o)}}}(s,this._document),s.forEach(u=>{const f=w=>{this._zone.run(()=>this.source.next(new tc(w.matches,u)))};let g=this.registry.get(u);g||(g=this.buildMQL(u),g.addListener(f),this.pendingRemoveListenerFns.push(()=>g.removeListener(f)),this.registry.set(u,g)),g.matches&&o.push(new tc(!0,u))}),o}ngOnDestroy(){let n;for(;n=this.pendingRemoveListenerFns.pop();)n()}buildMQL(n){return function(r,i){return i&&window.matchMedia("all").addListener?window.matchMedia(r):{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(n,lo(this._platformId))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(a.Lbi),a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(a.R0b),(0,a.LFG)(a.Lbi),(0,a.LFG)(q))},token:r,providedIn:"root"}),r})();const Ak={},ic="print",Ik={alias:ic,mediaQuery:ic,priority:1e3};let sw=(()=>{class r{constructor(n,s,o){this.breakpoints=n,this.layoutConfig=s,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new ow,this.deactivations=[]}withPrintQuery(n){return[...n,ic]}isPrintEvent(n){return n.mediaQuery.startsWith(ic)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(n=>this.breakpoints.findByAlias(n)).filter(n=>null!==n)}getEventBreakpoints({mediaQuery:n}){const s=this.breakpoints.findByQuery(n);return(s?[...this.printBreakPoints,s]:this.printBreakPoints).sort(j_)}updateEvent(n){let s=this.breakpoints.findByQuery(n.mediaQuery);return this.isPrintEvent(n)&&(s=this.getEventBreakpoints(n)[0],n.mediaQuery=s?s.mediaQuery:""),U_(n,s)}registerBeforeAfterPrintHooks(n){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const s=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(n,this.getEventBreakpoints(new tc(!0,ic))),n.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(n),n.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(o)}interceptEvents(n){return this.registerBeforeAfterPrintHooks(n),s=>{this.isPrintEvent(s)?s.matches&&!this.isPrinting?(this.startPrinting(n,this.getEventBreakpoints(s)),n.updateStyles()):!s.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(n),n.updateStyles()):this.collectActivations(s)}}blockPropagation(){return n=>!(this.isPrinting||this.isPrintEvent(n))}startPrinting(n,s){this.isPrinting=!0,n.activatedBreakpoints=this.queue.addPrintBreakpoints(s)}stopPrinting(n){n.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(n){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(n.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const s=this.breakpoints.findByQuery(n.mediaQuery);s&&(this.deactivations.push(s),this.deactivations.sort(j_))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("beforeprint",n)),this.afterPrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("afterprint",n)))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(z_),a.LFG(Pi),a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(z_),(0,a.LFG)(Pi),(0,a.LFG)(q))},token:r,providedIn:"root"}),r})();class ow{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(i){return i.push(Ik),i.sort(j_),i.forEach(n=>this.addBreakpoint(n)),this.printBreakpoints}addBreakpoint(i){var r;i&&void 0===this.printBreakpoints.find(s=>s.mediaQuery===i.mediaQuery)&&(this.printBreakpoints=(r=i)&&r.mediaQuery.startsWith(ic)?[i,...this.printBreakpoints]:[...this.printBreakpoints,i])}clear(){this.printBreakpoints=[]}}function Rk(r){for(let i in r){let n=r[i]||"";switch(i){case"display":r.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":r["-webkit-"+i]=n;break;case"flex-direction":n=n||"row",r["-webkit-flex-direction"]=n,r["flex-direction"]=n;break;case"order":r.order=r["-webkit-"+i]=isNaN(+n)?"0":n}}return r}let Hs=(()=>{class r{constructor(n,s,o,u){this._serverStylesheet=n,this._serverModuleLoaded=s,this._platformId=o,this.layoutConfig=u}applyStyleToElement(n,s,o=null){let u={};"string"==typeof s&&(u[s]=o,s=u),u=this.layoutConfig.disableVendorPrefixes?s:Rk(s),this._applyMultiValueStyleToElement(u,n)}applyStyleToElements(n,s=[]){const o=this.layoutConfig.disableVendorPrefixes?n:Rk(n);s.forEach(u=>{this._applyMultiValueStyleToElement(o,u)})}getFlowDirection(n){const s="flex-direction";let o=this.lookupStyle(n,s);return[o||"row",this.lookupInlineStyle(n,s)||zc(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(n){return"wrap"===this.lookupStyle(n,"flex-wrap")}lookupAttributeValue(n,s){return n.getAttribute(s)||""}lookupInlineStyle(n,s){return lo(this._platformId)?n.style.getPropertyValue(s):this._getServerStyle(n,s)}lookupStyle(n,s,o=!1){let u="";return n&&((u=this.lookupInlineStyle(n,s))||(lo(this._platformId)?o||(u=getComputedStyle(n).getPropertyValue(s)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(n,s)))),u?u.trim():""}_applyMultiValueStyleToElement(n,s){Object.keys(n).sort().forEach(o=>{const u=n[o],f=Array.isArray(u)?u:[u];f.sort();for(let g of f)g=g?g+"":"",lo(this._platformId)||!this._serverModuleLoaded?lo(this._platformId)?s.style.setProperty(o,g):this._setServerStyle(s,o,g):this._serverStylesheet.addStyleToElement(s,o,g)})}_setServerStyle(n,s,o){s=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const u=this._readStyleAttribute(n);u[s]=o||"",this._writeStyleAttribute(n,u)}_getServerStyle(n,s){return this._readStyleAttribute(n)[s]||""}_readStyleAttribute(n){const s={},o=n.getAttribute("style");if(o){const u=o.split(/;+/g);for(let f=0;f<u.length;f++){const g=u[f].trim();if(g.length>0){const w=g.indexOf(":");if(-1===w)throw new Error(`Invalid CSS style: ${g}`);s[g.substr(0,w).trim()]=g.substr(w+1).trim()}}}return s}_writeStyleAttribute(n,s){let o="";for(const u in s)s[u]&&(o+=u+":"+s[u]+";");n.setAttribute("style",o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Xb),a.LFG(ew),a.LFG(a.Lbi),a.LFG(Pi))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(Xb),(0,a.LFG)(ew),(0,a.LFG)(a.Lbi),(0,a.LFG)(Pi))},token:r,providedIn:"root"}),r})();class rc{constructor(){this.shouldCache=!0}sideEffect(i,n,s){}}function aw(r,i="1",n="1"){let s=[i,n,r],o=r.indexOf("calc");if(o>0){s[2]=ux(r.substring(o).trim());let u=r.substr(0,o).trim().split(" ");2==u.length&&(s[0]=u[0],s[1]=u[1])}else if(0==o)s[2]=ux(r.trim());else{let u=r.split(" ");s=3===u.length?u:[i,n,r]}return s}function ux(r){return r.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let sc=(()=>{class r{constructor(n,s,o){this.matchMedia=n,this.breakpoints=s,this.hook=o,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Re.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(n){const s=this.findByQuery(n.mediaQuery);s&&((n=U_(n,s)).matches&&-1===this.activatedBreakpoints.indexOf(s)?(this.activatedBreakpoints.push(s),this.activatedBreakpoints.sort(j_),this.updateStyles()):!n.matches&&-1!==this.activatedBreakpoints.indexOf(s)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(s),1),this.activatedBreakpoints.sort(j_),this.updateStyles()))}init(n,s,o,u,f=[]){ah(this.updateMap,n,s,o),ah(this.clearMap,n,s,u),this.buildElementKeyMap(n,s),this.watchExtraTriggers(n,s,f)}getValue(n,s,o){const u=this.elementMap.get(n);if(u){const f=void 0!==o?u.get(o):this.getActivatedValues(u,s);if(f)return f.get(s)}}hasValue(n,s){const o=this.elementMap.get(n);if(o){const u=this.getActivatedValues(o,s);if(u)return void 0!==u.get(s)||!1}return!1}setValue(n,s,o,u){let f=this.elementMap.get(n);if(f){const w=(f.get(u)||new Map).set(s,o);f.set(u,w),this.elementMap.set(n,f)}else f=(new Map).set(u,(new Map).set(s,o)),this.elementMap.set(n,f);const g=this.getValue(n,s);void 0!==g&&this.updateElement(n,s,g)}trackValue(n,s){return this.subject.asObservable().pipe(Bt(o=>o.element===n&&o.key===s))}updateStyles(){this.elementMap.forEach((n,s)=>{const o=new Set(this.elementKeyMap.get(s));let u=this.getActivatedValues(n);u&&u.forEach((f,g)=>{this.updateElement(s,g,f),o.delete(g)}),o.forEach(f=>{if(u=this.getActivatedValues(n,f),u){const g=u.get(f);this.updateElement(s,f,g)}else this.clearElement(s,f)})})}clearElement(n,s){const o=this.clearMap.get(n);if(o){const u=o.get(s);u&&(u(),this.subject.next({element:n,key:s,value:""}))}}updateElement(n,s,o){const u=this.updateMap.get(n);if(u){const f=u.get(s);f&&(f(o),this.subject.next({element:n,key:s,value:o}))}}releaseElement(n){const s=this.watcherMap.get(n);s&&(s.forEach(u=>u.unsubscribe()),this.watcherMap.delete(n));const o=this.elementMap.get(n);o&&(o.forEach((u,f)=>o.delete(f)),this.elementMap.delete(n))}triggerUpdate(n,s){const o=this.elementMap.get(n);if(o){const u=this.getActivatedValues(o,s);u&&(s?this.updateElement(n,s,u.get(s)):u.forEach((f,g)=>this.updateElement(n,g,f)))}}buildElementKeyMap(n,s){let o=this.elementKeyMap.get(n);o||(o=new Set,this.elementKeyMap.set(n,o)),o.add(s)}watchExtraTriggers(n,s,o){if(o&&o.length){let u=this.watcherMap.get(n);if(u||(u=new Map,this.watcherMap.set(n,u)),!u.get(s)){const g=(0,Cn.T)(...o).subscribe(()=>{const w=this.getValue(n,s);this.updateElement(n,s,w)});u.set(s,g)}}}findByQuery(n){return this.breakpoints.findByQuery(n)}getActivatedValues(n,s){for(let u=0;u<this.activatedBreakpoints.length;u++){const g=n.get(this.activatedBreakpoints[u].alias);if(g&&(void 0===s||g.has(s)&&null!=g.get(s)))return g}const o=n.get("");return void 0===s||o&&o.has(s)?o:void 0}observeActivations(){const s=this.breakpoints.items.map(o=>o.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(s)).pipe((0,Yn.b)(this.hook.interceptEvents(this)),Bt(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(rw),a.LFG(z_),a.LFG(sw))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(rw),(0,a.LFG)(z_),(0,a.LFG)(sw))},token:r,providedIn:"root"}),r})();function ah(r,i,n,s){if(void 0!==s){let o=r.get(i);o||(o=new Map,r.set(i,o)),o.set(n,s)}}const Du=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(q)}});let Xt=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new a.vpe,n){const o=n.documentElement?n.documentElement.dir:null,u=(n.body?n.body.dir:null)||o;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Du,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Du,8))},token:r,providedIn:"root"}),r})(),Co=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();function Je(r){return i=>i.lift(new dx(r))}class dx{constructor(i){this.notifier=i}call(i,n){const s=new hx(i),o=(0,Wr.ft)(this.notifier,new Wr.IY(s));return o&&!s.seenValue?(s.add(o),n.subscribe(s)):s}}class hx extends Wr.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const Pp="inline",lh=["row","column","row-reverse","column-reverse"];function Np(r){r=r?r.toLowerCase():"";let[i,n,s]=r.split(" ");return lh.find(o=>o===i)||(i=lh[0]),n===Pp&&(n=s!==Pp?s:"",s=Pp),[i,px(n),!!s]}function Lp(r){let[i]=Np(r);return i.indexOf("row")>-1}function px(r){if(r)switch(r.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":r="wrap-reverse";break;case"no":case"none":case"nowrap":r="nowrap";break;default:r="wrap"}return r}let mx=(()=>{class r extends rc{buildStyles(n){return function(r){let[i,n,s]=Np(r);return function(r,i=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":r,"flex-wrap":i||null}}(i,n,s)}(n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const gx=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let _x=(()=>{class r extends wu{constructor(n,s,o,u){super(n,o,s,u),this.DIRECTIVE_KEY="layout",this.styleCache=Ok,this.init()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Hs),a.Y36(mx),a.Y36(sc))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),Eo=(()=>{class r extends _x{constructor(){super(...arguments),this.inputs=gx}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[a.qOj]}),r})();const Ok=new Map,Jr={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Fk=(()=>{class r extends rc{constructor(n){super(),this._styler=n}buildStyles(n,s){return n.endsWith(q_)?function(r,i){const[n,s]=r.split(" "),u=x=>`-${x}`;let f="0px",g=u(s||n),w="0px";return"rtl"===i?w=u(n):f=u(n),{margin:`0px ${f} ${g} ${w}`}}(n=n.slice(0,n.indexOf(q_)),s.directionality):{}}sideEffect(n,s,o){const u=o.items;if(n.endsWith(q_)){const f=function(r,i){const[n,s]=r.split(" ");let u="0px",g="0px";return"rtl"===i?g=n:u=n,{padding:`0px ${u} ${s||n} ${g}`}}(n=n.slice(0,n.indexOf(q_)),o.directionality);this._styler.applyStyleToElements(f,o.items)}else{const f=u.pop(),g=function(r,i){const n=uw(i.directionality,i.layout),s=Object.assign({},Jr);return s[n]=r,s}(n,o);this._styler.applyStyleToElements(g,u),this._styler.applyStyleToElements(Jr,[f])}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Hs))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(Hs))},token:r,providedIn:"root"}),r})();const Pk=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let GN=(()=>{class r extends wu{constructor(n,s,o,u,f,g){super(n,f,u,g),this.zone=s,this.directionality=o,this.styleUtils=u,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Re.xQ;const w=[this.directionality.change,this.observerSubject.asObservable()];this.init(w),this.marshal.trackValue(this.nativeElement,"layout").pipe(Je(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const n=this.nativeElement.children,s=[];for(let o=n.length;o--;)s[o]=n[o];return s}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(n){const o=n.value.split(" ");this.layout=o[0],lh.find(u=>u===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(n){const s=this.childrenNodes.filter(o=>1===o.nodeType&&this.willDisplay(o)).sort((o,u)=>{const f=+this.styler.lookupStyle(o,"order"),g=+this.styler.lookupStyle(u,"order");return isNaN(f)||isNaN(g)||f===g?0:f>g?1:-1});if(s.length>0){const o=this.directionality.value,u=this.layout;"row"===u&&"rtl"===o?this.styleCache=jN:"row"===u&&"rtl"!==o?this.styleCache=cw:"column"===u&&"rtl"===o?this.styleCache=Nk:"column"===u&&"rtl"!==o&&(this.styleCache=yx),this.addStyles(n,{directionality:o,items:s,layout:u})}}clearStyles(){const n=Object.keys(this.mru).length>0,s=n?"padding":uw(this.directionality.value,this.layout);n&&super.clearStyles(),this.styleUtils.applyStyleToElements({[s]:""},this.childrenNodes)}willDisplay(n){const s=this.marshal.getValue(n,"show-hide");return!0===s||void 0===s&&"none"!==this.styleUtils.lookupStyle(n,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(n=>{n.some(o=>o.addedNodes&&o.addedNodes.length>0||o.removedNodes&&o.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Xt),a.Y36(Hs),a.Y36(Fk),a.Y36(sc))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),ys=(()=>{class r extends GN{constructor(){super(...arguments),this.inputs=Pk}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[a.qOj]}),r})();const jN=new Map,Nk=new Map,cw=new Map,yx=new Map,q_=" grid";function uw(r,i){switch(i){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===r?"margin-left":"margin-right";case"row-reverse":return"rtl"===r?"margin-right":"margin-left";default:return"rtl"===r?"margin-left":"margin-right"}}function al(r,...i){if(null==r)throw TypeError("Cannot convert undefined or null to object");for(let n of i)if(null!=n)for(let s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r}let Uk=(()=>{class r extends rc{constructor(n){super(),this.layoutConfig=n}buildStyles(n,s){let[o,u,...f]=n.split(" "),g=f.join(" ");const w=s.direction.indexOf("column")>-1?"column":"row",x=Lp(w)?"max-width":"max-height",S=Lp(w)?"min-width":"min-height",I=String(g).indexOf("calc")>-1,F=I||"auto"===g,L=String(g).indexOf("%")>-1&&!I,j=String(g).indexOf("px")>-1||String(g).indexOf("rem")>-1||String(g).indexOf("em")>-1||String(g).indexOf("vw")>-1||String(g).indexOf("vh")>-1;let ne=I||j;o="0"==o?0:o,u="0"==u?0:u;const me=!o&&!u;let xe={};const Ge={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(g||""){case"":const Be=!1!==this.layoutConfig.useColumnBasisZero;g="row"===w?"0%":Be?"0.000000001px":"auto";break;case"initial":case"nogrow":o=0,g="auto";break;case"grow":g="100%";break;case"noshrink":u=0,g="auto";break;case"auto":break;case"none":o=0,u=0,g="auto";break;default:!ne&&!L&&!isNaN(g)&&(g+="%"),"0%"===g&&(ne=!0),"0px"===g&&(g="0%"),xe=al(Ge,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":ne?g:"100%"}:{flex:`${o} ${u} ${ne?g:"100%"}`})}return xe.flex||xe["flex-grow"]||(xe=al(Ge,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":g}:{flex:`${o} ${u} ${g}`})),"0%"!==g&&"0px"!==g&&"0.000000001px"!==g&&"auto"!==g&&(xe[S]=me||ne&&o?g:null,xe[x]=me||!F&&u?g:null),xe[S]||xe[x]?s.hasWrap&&(xe[I?"flex-basis":"flex"]=xe[x]?I?xe[x]:`${o} ${u} ${xe[x]}`:I?xe[S]:`${o} ${u} ${xe[S]}`):xe=al(Ge,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":g}:{flex:`${o} ${u} ${g}`}),al(xe,{"box-sizing":"border-box"})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Pi))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(Pi))},token:r,providedIn:"root"}),r})();const Hk=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let vx=(()=>{class r extends wu{constructor(n,s,o,u,f){super(n,u,s,f),this.layoutConfig=o,this.marshal=f,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(n){this.flexShrink=n||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(n){this.flexGrow=n||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Je(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Je(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(n){const o=n.value.split(" ");this.direction=o[0],this.wrap=void 0!==o[1]&&"wrap"===o[1],this.triggerUpdate()}updateWithValue(n){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const o=this.direction,u=o.startsWith("row"),f=this.wrap;u&&f?this.styleCache=jk:u&&!f?this.styleCache=da:!u&&f?this.styleCache=zk:!u&&!f&&(this.styleCache=dw);const w=aw(String(n).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(w.join(" "),{direction:o,hasWrap:f})}triggerReflow(){const n=this.activatedValue;if(void 0!==n){const s=aw(n+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Hs),a.Y36(Pi),a.Y36(Uk),a.Y36(sc))},r.\u0275dir=a.lG2({type:r,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[a.qOj]}),r})(),ch=(()=>{class r extends vx{constructor(){super(...arguments),this.inputs=Hk}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[a.qOj]}),r})();const da=new Map,dw=new Map,jk=new Map,zk=new Map,Dx={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let xx=(()=>{class r extends rc{buildStyles(n){return Dx}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})(),yw=(()=>{class r extends wu{constructor(n,s,o,u){super(n,o,s,u),this.styleCache=ll,this.addStyles("")}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Hs),a.Y36(xx),a.Y36(sc))},r.\u0275dir=a.lG2({type:r,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[a.qOj]}),r})();const ll=new Map;let $_=(()=>{class r extends rc{buildStyles(n,s){const o={},[u,f]=n.split(" ");switch(u){case"center":o["justify-content"]="center";break;case"space-around":o["justify-content"]="space-around";break;case"space-between":o["justify-content"]="space-between";break;case"space-evenly":o["justify-content"]="space-evenly";break;case"end":case"flex-end":o["justify-content"]="flex-end";break;case"start":case"flex-start":default:o["justify-content"]="flex-start"}switch(f){case"start":case"flex-start":o["align-items"]=o["align-content"]="flex-start";break;case"center":o["align-items"]=o["align-content"]="center";break;case"end":case"flex-end":o["align-items"]=o["align-content"]="flex-end";break;case"space-between":o["align-content"]="space-between",o["align-items"]="stretch";break;case"space-around":o["align-content"]="space-around",o["align-items"]="stretch";break;case"baseline":o["align-content"]="stretch",o["align-items"]="baseline";break;case"stretch":default:o["align-items"]=o["align-content"]="stretch"}return al(o,{display:s.inline?"inline-flex":"flex","flex-direction":s.layout,"box-sizing":"border-box","max-width":"stretch"===f?Lp(s.layout)?null:"100%":null,"max-height":"stretch"===f&&Lp(s.layout)?"100%":null})}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Xk=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let $N=(()=>{class r extends wu{constructor(n,s,o,u){super(n,o,s,u),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Je(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(n){const s=this.layout||"row",o=this.inline;"row"===s&&o?this.styleCache=vw:"row"!==s||o?"row-reverse"===s&&o?this.styleCache=tR:"row-reverse"!==s||o?"column"===s&&o?this.styleCache=Sx:"column"!==s||o?"column-reverse"===s&&o?this.styleCache=Tx:"column-reverse"===s&&!o&&(this.styleCache=eR):this.styleCache=Bp:this.styleCache=Vp:this.styleCache=Mx,this.addStyles(n,{layout:s,inline:o})}onLayoutChange(n){const s=n.value.split(" ");this.layout=s[0],this.inline=n.value.includes("inline"),lh.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Hs),a.Y36($_),a.Y36(sc))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),Ni=(()=>{class r extends $N{constructor(){super(...arguments),this.inputs=Xk}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[a.qOj]}),r})();const Mx=new Map,Bp=new Map,Vp=new Map,eR=new Map,vw=new Map,Sx=new Map,tR=new Map,Tx=new Map;let bw=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[St,Co]]}),r})();var Li=N(4762),Up=N(3637);N(3098);class Mu{constructor(i,n,s){this.name=i,this.drawable=n,this.date=s,this.replies=[],this.grades=[]}}class Ix{static format(){const i=new Date;let n=i.getDate().toString(),s=i.getMonth().toString();const o=i.getFullYear().toString();return n=sR(n),s=sR(s),n+"."+s+"."+o}}function sR(r){return/^\d$/.test(r)&&(r="0"+r),r}var vs=(()=>{return(r=vs||(vs={})).TOSEND="to-send",r.SENT="sent",vs;var r})(),Gs=(()=>{return(r=Gs||(Gs={})).DISPLAY_NAME="display-name",r.IS_SIGNED_IN="is-signed-in",r.DAY="day",r.SEASON="season",Gs;var r})();class yt{static setDisplayName(i){localStorage.setItem(Gs.DISPLAY_NAME,i)}static getDisplayName(){return localStorage.getItem(Gs.DISPLAY_NAME)}static setIsSignedIn(i){localStorage.setItem(Gs.IS_SIGNED_IN,i)}static getIsSignedIn(){return localStorage.getItem(Gs.IS_SIGNED_IN)}static setDay(i){localStorage.setItem(Gs.DAY,i)}static getDay(){return localStorage.getItem(Gs.DAY)}static setSeason(i){localStorage.setItem(Gs.SEASON,i)}static getSeason(){return localStorage.getItem(Gs.SEASON)}}function Su(r,i=Up.P){return n=>n.lift(new Ew(r,i))}class Ew{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new KN(i,this.dueTime,this.scheduler))}}class KN extends wi.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oR,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function oR(r){r.debouncedNext()}var Bn=N(9126),bs=N(8939),Dw=N(4486),be=N(8239),Tu=N(5452),Pt=N(4685),W_=N(6034),js=(()=>{return(r=js||(js={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",js;var r})();const K_="firebasestorage.googleapis.com",xw="storageBucket";class Vn extends Pt.ZR{constructor(i,n){super(Mw(i),`Firebase Storage: ${n} (${Mw(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vn.prototype)}_codeEquals(i){return Mw(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Mw(r){return"storage/"+r}function Sw(){return new Vn("unknown","An unknown error occurred, please check the error payload for server response.")}function Px(){return new Vn("canceled","User canceled the upload/download.")}function Nx(){return new Vn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bx(){return new Vn("no-download-url","The given file does not have any download URLs.")}function Hp(r){return new Vn("invalid-argument",r)}function zs(){return new Vn("app-deleted","The Firebase app was deleted.")}function uR(r){return new Vn("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Q_(r,i){return new Vn("invalid-format","String does not match format '"+r+"': "+i)}function Aw(r){throw new Vn("internal-error","Internal error: "+r)}class Vx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=js.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=js.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=js.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,o){if(this.sent_)throw Aw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Aw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Aw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw Aw("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class Hx{createConnection(){return new Vx}}class lr{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=lr.makeFromUrl(i,n)}catch(o){return new lr(i,"")}if(""===s.path)return s;throw new Vn("invalid-default-bucket","Invalid default bucket '"+i+"'.")}static makeFromUrl(i,n){let s=null;const o="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+o+"(/(.*))?$","i");function x(ze){ze.path_=decodeURIComponent(ze.path)}const I=n.replace(/[.]/g,"\\."),Be=[{regex:g,indices:{bucket:1,path:3},postModify:function(ze){"/"===ze.path.charAt(ze.path.length-1)&&(ze.path_=ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:x},{regex:new RegExp(`^https?://${n===K_?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:x}];for(let ze=0;ze<Be.length;ze++){const mn=Be[ze],mi=mn.regex.exec(i);if(mi){let As=mi[mn.indices.path];As||(As=""),s=new lr(mi[mn.indices.bucket],As),mn.postModify(s);break}}if(null==s)throw new Vn("invalid-url","Invalid URL '"+i+"'.");return s}}class eL{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function J_(r){return"string"==typeof r||r instanceof String}function jx(r){return Rw()&&r instanceof Blob}function Rw(){return"undefined"!=typeof Blob}function Ow(r,i,n,s){if(s<i)throw Hp(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw Hp(`Invalid value for '${r}'. Expected ${n} or less.`)}function oc(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function Gp(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class dh{constructor(i,n,s,o,u,f,g,w,x,S,I){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=g,this.errorCallback_=w,this.progressCallback_=S,this.timeout_=x,this.pool_=I,this.promise_=new Promise((F,L)=>{this.resolve_=F,this.reject_=L,this.start_()})}start_(){const i=this;function s(o,u){const f=i.resolve_,g=i.reject_,w=u.connection;if(u.wasSuccessCode)try{const x=i.callback_(w,w.getResponseText());void 0!==x?f(x):f()}catch(x){g(x)}else if(null!==w){const x=Sw();x.serverResponse=w.getResponseText(),g(i.errorCallback_?i.errorCallback_(w,x):x)}else g(u.canceled?i.appDelete_?zs():Px():new Vn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new jp(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,o=null,u=!1,f=0;function g(){return 2===f}let w=!1;function x(...j){w||(w=!0,i.apply(null,j))}function S(j){o=setTimeout(()=>{o=null,r(I,g())},j)}function I(j,...ne){if(w)return;if(j)return void x.call(null,j,...ne);if(g()||u)return void x.call(null,j,...ne);let xe;s<64&&(s*=2),1===f?(f=2,xe=0):xe=1e3*(s+Math.random()),S(xe)}let F=!1;function L(j){F||(F=!0,!w&&(null!==o?(j||(f=2),clearTimeout(o),S(0)):j||(f=1)))}return S(0),setTimeout(()=>{u=!0,L(!0)},n),L}(function(o,u){if(u)return void o(!1,new jp(!1,null,!0));const f=i.pool_.createConnection();function g(w){null!==i.progressCallback_&&i.progressCallback_(w.loaded,w.lengthComputable?w.total:-1)}i.pendingConnection_=f,null!==i.progressCallback_&&f.addUploadProgressListener(g),f.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&f.removeUploadProgressListener(g),i.pendingConnection_=null;const w=f.getErrorCode()===js.NO_ERROR,x=f.getStatus();if(!w||i.isRetryStatusCode_(x)){const I=f.getErrorCode()===js.ABORT;return void o(!1,new jp(!1,null,I))}const S=-1!==i.successCodes_.indexOf(x);o(!0,new jp(S,f))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,o=-1!==[408,429].indexOf(i),u=-1!==this.additionalRetryCodes_.indexOf(i);return n||o||u}}class jp{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function Yp(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(Rw())return new Blob(r);throw new Vn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xr{constructor(i,n){this.data=i,this.contentType=n||null}}function qp(r,i){switch(r){case ur.RAW:return new Xr(Iu(i));case ur.BASE64:case ur.BASE64URL:return new Xr(ku(r,i));case ur.DATA_URL:return new Xr(function(r){const i=new Ru(r);return i.base64?ku(ur.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw Q_(ur.DATA_URL,"Malformed data URL.")}return Iu(i)}(i.rest)}(i),function(r){return new Ru(r).contentType}(i))}throw Sw()}function Iu(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function ku(r,i){switch(r){case ur.BASE64:{const o=-1!==i.indexOf("-"),u=-1!==i.indexOf("_");if(o||u)throw Q_(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ur.BASE64URL:{const o=-1!==i.indexOf("+"),u=-1!==i.indexOf("/");if(o||u)throw Q_(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(o){throw Q_(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Ru{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw Q_(ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class Ir{constructor(i,n){let s=0,o="";jx(i)?(this.data_=i,s=i.size,o=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(i,n){if(jx(this.data_)){const o=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===o?null:new Ir(o)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new Ir(s,!0)}}static getBlob(...i){if(Rw()){const n=i.map(s=>s instanceof Ir?s.data_:s);return new Ir(Yp.apply(null,n))}{const n=i.map(f=>J_(f)?qp(ur.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let g=0;g<f.length;g++)o[u++]=f[g]}),new Ir(o,!0)}}uploadData(){return this.data_}}function ac(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function Pw(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function qx(r,i){return i}class dr{constructor(i,n,s,o){this.server=i,this.local=n||i,this.writable=!!s,this.xform=o||qx}}let $p=null;function gh(){if($p)return $p;const r=[];r.push(new dr("bucket")),r.push(new dr("generation")),r.push(new dr("metageneration")),r.push(new dr("name","fullPath",!0));const n=new dr("name");n.xform=function(u,f){return function(r){return!J_(r)||r.length<2?r:Pw(r)}(f)},r.push(n);const o=new dr("size");return o.xform=function(u,f){return void 0!==f?Number(f):f},r.push(o),r.push(new dr("timeCreated")),r.push(new dr("updated")),r.push(new dr("md5Hash",null,!0)),r.push(new dr("cacheControl",null,!0)),r.push(new dr("contentDisposition",null,!0)),r.push(new dr("contentEncoding",null,!0)),r.push(new dr("contentLanguage",null,!0)),r.push(new dr("contentType",null,!0)),r.push(new dr("metadata","customMetadata",!0)),$p=r,$p}function Nw(r,i,n){const s=ac(i);return null===s?null:function(r,i,n){const s={type:"file"},o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,i[f.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const u=new lr(r.bucket,r.fullPath);return i._makeStorageReference(u)}})}(s,r),s}(r,s,n)}function X_(r,i){const n={},s=i.length;for(let o=0;o<s;o++){const u=i[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}const Lw="prefixes";class fa{constructor(i,n,s,o){this.url=i,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function pa(r){if(!r)throw Sw()}function Zp(r,i){return function(s,o){const u=Nw(r,o,i);return pa(null!==u),u}}function Wp(r){return function(n,s){let o;return o=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Vn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Vn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new Vn("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new Vn("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,o.serverResponse=s.serverResponse,o}}function ey(r){const i=Wp(r);return function(s,o){let u=i(s,o);return 404===s.getStatus()&&(u=function(r){return new Vn("object-not-found","Object '"+r+"' does not exist.")}(r.path)),u.serverResponse=o.serverResponse,u}}function Bw(r,i,n){const o=oc(i.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,g=new fa(o,"GET",Zp(r,n),f);return g.errorHandler=ey(i),g}function nL(r,i,n,s,o){const u={};u.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(u.delimiter=n),s&&(u.pageToken=s),o&&(u.maxResults=o);const g=oc(i.bucketOnlyServerUrl(),r.host,r._protocol),x=r.maxOperationRetryTime,S=new fa(g,"GET",function(r,i){return function(s,o){const u=function(r,i,n){const s=ac(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Lw])for(const o of n[Lw]){const u=o.replace(/\/$/,""),f=r._makeStorageReference(new lr(i,u));s.prefixes.push(f)}if(n.items)for(const o of n.items){const u=r._makeStorageReference(new lr(i,o.name));s.items.push(u)}return s}(r,i,s)}(r,i,o);return pa(null!==u),u}}(r,i.bucket),x);return S.urlParams=u,S.errorHandler=Wp(i),S}function iL(r,i,n){const o=oc(i.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,g=new fa(o,"GET",function(r,i){return function(s,o){const u=Nw(r,o,i);return pa(null!==u),function(r,i,n,s){const o=ac(i);if(null===o||!J_(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const f=encodeURIComponent;return u.split(",").map(x=>{const I=r.fullPath;return oc("/b/"+f(r.bucket)+"/o/"+f(I),n,s)+Gp({alt:"media",token:x})})[0]}(u,o,r.host,r._protocol)}}(r,n),f);return g.errorHandler=ey(i),g}function rL(r,i,n,s){const u=oc(i.fullServerUrl(),r.host,r._protocol),g=X_(n,s),x=r.maxOperationRetryTime,S=new fa(u,"PATCH",Zp(r,s),x);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=g,S.errorHandler=ey(i),S}function bR(r,i){const s=oc(i.fullServerUrl(),r.host,r._protocol),g=new fa(s,"DELETE",function(w,x){},r.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=ey(i),g}function Kx(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class _h{constructor(i,n,s,o){this.current=i,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Kp(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(o){pa(!1)}return pa(!!n&&-1!==(i||["active"]).indexOf(n)),n}const ER={STATE_CHANGED:"state_changed"},hr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jx(r){switch(r){case"running":case"pausing":case"canceling":return hr.RUNNING;case"paused":return hr.PAUSED;case"success":return hr.SUCCESS;case"canceled":return hr.CANCELED;case"error":default:return hr.ERROR}}class DR{constructor(i,n,s){if("function"==typeof i||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const u=i;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function xo(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class Xx{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=gh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,o){const u=i.bucketOnlyServerUrl(),f=Kx(i,s,o),g={name:f.fullPath},w=oc(u,r.host,r._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},I=X_(f,n),j=new fa(w,"POST",function(ne){let me;Kp(ne);try{me=ne.getResponseHeader("X-Goog-Upload-URL")}catch(xe){pa(!1)}return pa(J_(me)),me},r.maxUploadRetryTime);return j.urlParams=g,j.headers=S,j.body=I,j.errorHandler=Wp(i),j}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const o=function(r,i,n,s){const w=new fa(n,"POST",function(x){const S=Kp(x,["active","final"]);let I=null;try{I=x.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){pa(!1)}I||pa(!1);const F=Number(I);return pa(!isNaN(F)),new _h(F,s.size(),"final"===S)},r.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=Wp(i),w}(this._ref.storage,this._ref._location,i,this._blob),u=this._ref.storage._makeRequest(o,n,s);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new _h(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let f;try{f=function(r,i,n,s,o,u,f,g){const w=new _h(0,0);if(f?(w.current=f.current,w.total=f.total):(w.current=0,w.total=s.size()),s.size()!==w.total)throw new Vn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const x=w.total-w.current;let S=x;o>0&&(S=Math.min(S,o));const I=w.current,j={"X-Goog-Upload-Command":S===x?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},ne=s.slice(I,I+S);if(null===ne)throw Nx();const Be=new fa(n,"POST",function(ze,mn){const mi=Kp(ze,["active","final"]),nr=w.current+S,As=s.size();let Uo;return Uo="final"===mi?Zp(i,u)(ze,mn):null,new _h(nr,As,"final"===mi,Uo)},i.maxUploadRetryTime);return Be.headers=j,Be.body=ne.uploadData(),Be.progressCallback=g||null,Be.errorHandler=Wp(r),Be}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const g=this._ref.storage._makeRequest(f,o,u);this._request=g,g.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=Bw(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,o){const u=i.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Be="";for(let ze=0;ze<2;ze++)Be+=Math.random().toString().slice(2);return Be}();f["Content-Type"]="multipart/related; boundary="+w;const x=Kx(i,s,o),S=X_(x,n),L=Ir.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+w+"\r\nContent-Type: "+x.contentType+"\r\n\r\n",s,"\r\n--"+w+"--");if(null===L)throw Nx();const j={name:x.fullPath},ne=oc(u,r.host,r._protocol),xe=r.maxUploadRetryTime,Ge=new fa(ne,"POST",Zp(r,n),xe);return Ge.urlParams=j,Ge.headers=f,Ge.body=L.uploadData(),Ge.errorHandler=Wp(i),Ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=Px(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=Jx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,o){const u=new DR(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(Jx(this._state)){case hr.SUCCESS:xo(this._resolve.bind(null,this.snapshot))();break;case hr.CANCELED:case hr.ERROR:xo(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(Jx(this._state)){case hr.RUNNING:case hr.PAUSED:i.next&&xo(i.next.bind(i,this.snapshot))();break;case hr.SUCCESS:i.complete&&xo(i.complete.bind(i))();break;case hr.CANCELED:case hr.ERROR:i.error&&xo(i.error.bind(i,this._error))();break;default:i.error&&xo(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class lc{constructor(i,n){this._service=i,this._location=n instanceof lr?n:lr.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new lc(i,n)}get root(){const i=new lr(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pw(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new lr(this._location.bucket,i);return new lc(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw uR(i)}}function Vw(r,i,n){return Uw.apply(this,arguments)}function Uw(){return(Uw=(0,be.Z)(function*(r,i,n){const o=yield nM(r,{pageToken:n});i.prefixes.push(...o.prefixes),i.items.push(...o.items),null!=o.nextPageToken&&(yield Vw(r,i,o.nextPageToken))})).apply(this,arguments)}function nM(r,i){return Hw.apply(this,arguments)}function Hw(){return(Hw=(0,be.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&Ow("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=nL(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function Gw(){return(Gw=(0,be.Z)(function*(r){r._throwIfRoot("getMetadata");const i=Bw(r.storage,r._location,gh());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function jw(){return(jw=(0,be.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=rL(r.storage,r._location,i,gh());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function ny(){return(ny=(0,be.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=iL(r.storage,r._location,gh());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw Bx();return n})})).apply(this,arguments)}function sM(){return(sM=(0,be.Z)(function*(r){r._throwIfRoot("deleteObject");const i=bR(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function iy(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new lr(r._location.bucket,n);return new lc(r.storage,s)}function yh(r,i){if(r instanceof qw){const n=r;if(null==n._bucket)throw new Vn("no-default-bucket","No default bucket found. Did you set the '"+xw+"' property when initializing the app?");const s=new lc(n,n._bucket);return null!=i?yh(s,i):s}return void 0!==i?iy(r,i):r}function oM(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof qw)return function(r,i){return new lc(r,i)}(r,i);throw Hp("To use ref(service, url), the first argument must be a Storage instance.")}return yh(r,i)}function ry(r,i){const n=null==i?void 0:i[xw];return null==n?null:lr.makeFromBucketSpec(n,r)}class qw{constructor(i,n,s,o,u,f){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=o,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=K_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?lr.makeFromBucketSpec(u,this._host):ry(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?lr.makeFromBucketSpec(this._url,i):ry(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){Ow("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){Ow("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,be.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,be.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new lc(this,i)}_makeRequest(i,n,s){if(this._deleted)return new eL(zs());{const o=function(r,i,n,s,o,u){const f=Gp(r.urlParams),g=r.url+f,w=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(w,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(w,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(w,u),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(w,s),new dh(g,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(i){var n=this;return(0,be.Z)(function*(){const[s,o]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,o)})()}}function sy(r,i){return oM(r=(0,Pt.m9)(r),i)}(0,Tu._registerComponent)(new W_.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new qw(n,s,o,new Hx,i,Tu.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Tu.registerVersion)("@firebase/storage","0.8.2");class Qp{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class hM{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Qp(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new Qp(s,this,this._ref))},n)}on(i,n,s,o){let u;return n&&(u="function"==typeof n?f=>n(new Qp(f,this,this._ref)):{next:n.next?f=>n.next(new Qp(f,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,u,s||void 0,o||void 0)}}class nC{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new ma(i,this._service))}get items(){return this._delegate.items.map(i=>new ma(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ma{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return iy(r,i)}(this._delegate,i);return new ma(n,this.storage)}get root(){return new ma(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new ma(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new hM(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new Xx(r,new Ir(i),n)}(r=(0,Pt.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=ur.RAW,s){this._throwIfRoot("putString");const o=qp(n,i),u=Object.assign({},s);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new hM(new Xx(this._delegate,new Ir(o.data,!0),u),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return Vw(r,i).then(()=>i)}(r=(0,Pt.m9)(r))}(this._delegate).then(i=>new nC(i,this.storage))}list(i){return function(r,i){return nM(r=(0,Pt.m9)(r),i)}(this._delegate,i||void 0).then(n=>new nC(n,this.storage))}getMetadata(){return function(r){return function(r){return Gw.apply(this,arguments)}(r=(0,Pt.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return jw.apply(this,arguments)}(r=(0,Pt.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return ny.apply(this,arguments)}(r=(0,Pt.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return sM.apply(this,arguments)}(r=(0,Pt.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw uR(i)}}class oy{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(ay(i))throw Hp("ref() expected a child path but got a URL, use refFromURL instead.");return new ma(sy(this._delegate,i),this)}refFromURL(i){if(!ay(i))throw Hp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lr.makeFromUrl(i,this._delegate.host)}catch(n){throw Hp("refFromUrl() expected a valid full URL but got an invalid one.")}return new ma(sy(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken="string"==typeof o?o:(0,Pt.Sg)(o,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function ay(r){return/^[A-Za-z]+:\/\//.test(r)}function gM(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new oy(n,s)}!function(r){const i={TaskState:hr,TaskEvent:ER,StringFormat:ur,Storage:oy,Reference:ma};r.INTERNAL.registerComponent(new W_.wA("storage-compat",gM,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(Dw.Z);var vh=N(7841);function iC(r){const i=function(r){return new cn.y(i=>{const n=f=>i.next(f);n(r.snapshot);const u=r.on("state_changed",n);return r.then(f=>{n(f),i.complete()},f=>{n(r.snapshot),(f=>{i.error(f)})(f)}),function(){u()}}).pipe(Su(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,it.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function rC(r){return{getDownloadURL:()=>(0,je.of)(void 0).pipe(Bn.fc,Sn(()=>r.getDownloadURL()),Bn.iC),getMetadata:()=>(0,je.of)(void 0).pipe(Bn.fc,Sn(()=>r.getMetadata()),Bn.iC),delete:()=>(0,Qt.D)(r.delete()),child:i=>rC(r.child(i)),updateMetadata:i=>(0,Qt.D)(r.updateMetadata(i)),put:(i,n)=>iC(r.put(i,n)),putString:(i,n,s)=>iC(r.putString(i,n,s)),listAll:()=>(0,Qt.D)(r.listAll())}}const TR=new a.OlP("angularfire2.storageBucket"),AR=new a.OlP("angularfire2.storage.maxUploadRetryTime"),vM=new a.OlP("angularfire2.storage.maxOperationRetryTime"),IR=new a.OlP("angularfire2.storage.use-emulator");let xi=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S){const I=(0,bs.on)(n,f,s);this.storage=(0,Bn.cc)(`${I.name}.storage.${o}`,"AngularFireStorage",I.name,()=>{const F=f.runOutsideAngular(()=>I.storage(o||void 0)),L=S;return L&&F.useEmulator(...L),w&&F.setMaxUploadRetryTime(w),x&&F.setMaxOperationRetryTime(x),F},[w,x])}ref(n){return rC(this.storage.ref(n))}refFromURL(n){return rC(this.storage.refFromURL(n))}upload(n,s,o){return rC(this.storage.ref(n)).put(s,o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(bs.Dh),a.LFG(bs.xv,8),a.LFG(TR,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Bn.HU),a.LFG(AR,8),a.LFG(vM,8),a.LFG(IR,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),sC=(()=>{class r{constructor(n){this.fireStorage=n}uploadFileToSend(n){const s=(new Date).getTime().toString()+"_"+n.name,o=vs.TOSEND+"/"+s;return{name:s,uploadProgress:this.fireStorage.upload(o,n).percentageChanges(),downloadUrl:this.fireStorage.ref(o).getDownloadURL()}}moveFileToSent(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){const o=yield fetch(s).then(x=>x.blob()),u=class{static getName(){let i,n,s;return null===yt.getDay()&&yt.setDay(function(){const r=new Date,n=new Date((new Date).getFullYear(),0,0),s=r-n+60*(n.getTimezoneOffset()-r.getTimezoneOffset())*1e3;return Math.floor(s/864e5)}().toString()),null===yt.getSeason()&&yt.setSeason(((new Date).getFullYear()-2016).toString()),n=parseInt(yt.getSeason(),10),i=parseInt(yt.getDay(),10),s="Season "+n+" Day "+i,yt.setDay((i+1).toString()),n%4==0?366===parseInt(yt.getDay(),10)&&yt.setSeason((n+1).toString()):365===parseInt(yt.getDay(),10)&&yt.setSeason((n+1).toString()),s}}.getName(),f=n.substr(n.length-4),g=`${vs.SENT}/${u}${f}`;return yield this.fireStorage.upload(g,o).then(()=>this.fireStorage.refFromURL(s).delete()),{drawable:yield this.fireStorage.ref(g).getDownloadURL().toPromise(),newName:u}})}deleteFile(n){this.fireStorage.refFromURL(n).delete()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(xi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class bM{constructor(i,n,s){this.id=i,this.author=n,this.message=s}}class wM{constructor(i,n,s){this.id=i,this.author=n,this.value=s}}function Jp(){return r=>r.lift(new bh)}class bh{call(i,n){return n.subscribe(new RR(i))}}class RR extends wi.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}function Ou(r,i){return n=>n.lift(new CM(r,i))}class CM{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new OR(i,this.compare,this.keySelector))}}class OR extends wi.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:o}=this;n=o?o(i):i}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,n)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}N(6780);var wh=N(300),Xp=function(r,i){return(Xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])})(r,i)};function Mo(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var qe,PR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ys=Ys||{},at=PR||self;function es(){}function ly(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function Ch(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var aC="closure_uid_"+(1e9*Math.random()>>>0),LR=0;function BR(r,i,n){return r.call.apply(r.bind,arguments)}function lC(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),r.apply(i,o)}}return function(){return r.apply(i,arguments)}}function ni(r,i,n){return(ni=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BR:lC).apply(null,arguments)}function cy(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Bi(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,o,u){for(var f=Array(arguments.length-2),g=2;g<arguments.length;g++)f[g-2]=arguments[g];return i.prototype[o].apply(s,f)}}function cc(){this.s=this.s,this.o=this.o}var DM={};cc.prototype.s=!1,cc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,aC)&&r[aC]||(r[aC]=++LR)}(this);delete DM[r]}},cc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var em=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},xM=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,o="string"==typeof r?r.split(""):r,u=0;u<s;u++)u in o&&i.call(n,o[u],u,r)};function cC(r){return Array.prototype.concat.apply([],arguments)}function tm(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function Fu(r){return/^[\s\xa0]*$/.test(r)}var pr,uC=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function fr(r,i){return-1!=r.indexOf(i)}function uy(r,i){return r<i?-1:r>i?1:0}e:{var dC=at.navigator;if(dC){var hC=dC.userAgent;if(hC){pr=hC;break e}}pr=""}function dy(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function fC(r){var i={};for(var n in r)i[n]=r[n];return i}var pC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SM(r,i){for(var n,s,o=1;o<arguments.length;o++){for(n in s=arguments[o])r[n]=s[n];for(var u=0;u<pC.length;u++)n=pC[u],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function mC(r){return mC[" "](r),r}mC[" "]=es;var hy,r,UR=fr(pr,"Opera"),Eh=fr(pr,"Trident")||fr(pr,"MSIE"),TM=fr(pr,"Edge"),gC=TM||Eh,AM=fr(pr,"Gecko")&&!(fr(pr.toLowerCase(),"webkit")&&!fr(pr,"Edge"))&&!(fr(pr,"Trident")||fr(pr,"MSIE"))&&!fr(pr,"Edge"),HR=fr(pr.toLowerCase(),"webkit")&&!fr(pr,"Edge");function IM(){var r=at.document;return r?r.documentMode:void 0}e:{var _C="",yC=(r=pr,AM?/rv:([^\);]+)(\)|;)/.exec(r):TM?/Edge\/([\d\.]+)/.exec(r):Eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):HR?/WebKit\/(\S+)/.exec(r):UR?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(yC&&(_C=yC?yC[1]:""),Eh){var vC=IM();if(null!=vC&&vC>parseFloat(_C)){hy=String(vC);break e}}hy=_C}var GR={};function jR(){return i=GR,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=uC(String(hy)).split("."),n=uC("9").split("."),s=Math.max(i.length,n.length),o=0;0==r&&o<s;o++){var u=i[o]||"",f=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;r=uy(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||uy(0==u[2].length,0==f[2].length)||uy(u[2],f[2]),u=u[3],f=f[3]}while(0==r)}return 0<=r}();var i}var kM=at.document&&Eh&&(IM()||parseInt(hy,10))||void 0,RM=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{at.addEventListener("test",es,i),at.removeEventListener("test",es,i)}catch(n){}return r}();function Ki(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function Dh(r,i){if(Ki.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(AM){e:{try{mC(i.nodeName);var o=!0;break e}catch(u){}o=!1}o||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:OM[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Dh.Z.h.call(this)}}Ki.prototype.h=function(){this.defaultPrevented=!0},Bi(Dh,Ki);var OM={2:"touch",3:"pen",4:"mouse"};Dh.prototype.h=function(){Dh.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var xh="closure_listenable_"+(1e6*Math.random()|0),FM=0;function PM(r,i,n,s,o){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=o,this.key=++FM,this.ca=this.fa=!1}function Mh(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Sh(r){this.src=r,this.g={},this.h=0}function ul(r,i){var n=i.type;if(n in r.g){var u,s=r.g[n],o=em(s,i);(u=0<=o)&&Array.prototype.splice.call(s,o,1),u&&(Mh(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function CC(r,i,n,s){for(var o=0;o<r.length;++o){var u=r[o];if(!u.ca&&u.listener==i&&u.capture==!!n&&u.ia==s)return o}return-1}Sh.prototype.add=function(r,i,n,s,o){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var f=CC(r,i,s,o);return-1<f?(i=r[f],n||(i.fa=!1)):((i=new PM(i,this.src,u,!!s,o)).fa=n,r.push(i)),i};var EC="closure_lm_"+(1e6*Math.random()|0),uc={};function zR(r,i,n,s,o){if(s&&s.once)return DC(r,i,n,s,o);if(Array.isArray(i)){for(var u=0;u<i.length;u++)zR(r,i[u],n,s,o);return null}return n=Th(n),r&&r[xh]?r.N(i,n,Ch(s)?!!s.capture:!!s,o):fy(r,i,n,!1,s,o)}function fy(r,i,n,s,o,u){if(!i)throw Error("Invalid event type");var f=Ch(o)?!!o.capture:!!o,g=MC(r);if(g||(r[EC]=g=new Sh(r)),(n=g.add(i,n,s,f,u)).proxy)return n;if(s=function(){var i=YR;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)RM||(o=f),void 0===o&&(o=!1),r.addEventListener(i.toString(),s,o);else if(r.attachEvent)r.attachEvent(ht(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function DC(r,i,n,s,o){if(Array.isArray(i)){for(var u=0;u<i.length;u++)DC(r,i[u],n,s,o);return null}return n=Th(n),r&&r[xh]?r.O(i,n,Ch(s)?!!s.capture:!!s,o):fy(r,i,n,!0,s,o)}function xC(r,i,n,s,o){if(Array.isArray(i))for(var u=0;u<i.length;u++)xC(r,i[u],n,s,o);else s=Ch(s)?!!s.capture:!!s,n=Th(n),r&&r[xh]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=CC(u=r.g[i],n,s,o))&&(Mh(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete r.g[i],r.h--))):r&&(r=MC(r))&&(i=r.g[i.toString()],r=-1,i&&(r=CC(i,n,s,o)),(n=-1<r?i[r]:null)&&NM(n))}function NM(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[xh])ul(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(ht(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=MC(i))?(ul(n,r),0==n.h&&(n.src=null,i[EC]=null)):Mh(r)}}}function ht(r){return r in uc?uc[r]:uc[r]="on"+r}function YR(r,i){if(r.ca)r=!0;else{i=new Dh(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&NM(r),r=n.call(s,i)}return r}function MC(r){return(r=r[EC])instanceof Sh?r:null}var SC="__closure_events_fn_"+(1e9*Math.random()>>>0);function Th(r){return"function"==typeof r?r:(r[SC]||(r[SC]=function(i){return r.handleEvent(i)}),r[SC])}function Vi(){cc.call(this),this.i=new Sh(this),this.P=this,this.I=null}function li(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new Ki(i,r);else if(i instanceof Ki)i.target=i.target||r;else{var o=i;SM(i=new Ki(s,r),o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var f=i.g=n[u];o=Pu(f,s,!0,i)&&o}if(o=Pu(f=i.g=r,s,!0,i)&&o,o=Pu(f,s,!1,i)&&o,n)for(u=0;u<n.length;u++)o=Pu(f=i.g=n[u],s,!1,i)&&o}function Pu(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var o=!0,u=0;u<i.length;++u){var f=i[u];if(f&&!f.ca&&f.capture==n){var g=f.listener,w=f.ia||f.src;f.fa&&ul(r.i,f),o=!1!==g.call(w,s)&&o}}return o&&!s.defaultPrevented}Bi(Vi,cc),Vi.prototype[xh]=!0,Vi.prototype.removeEventListener=function(r,i,n,s){xC(this,r,i,n,s)},Vi.prototype.M=function(){if(Vi.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)Mh(n[s]);delete r.g[i],r.h--}}this.I=null},Vi.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},Vi.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var In=at.JSON.stringify;function pL(){var r=UM,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var gy,LM=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=py.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),py=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new qR},function(r){return r.reset()}),qR=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function BM(r){at.setTimeout(function(){throw r},0)}function my(r,i){gy||function(){var r=at.Promise.resolve(void 0);gy=function(){r.then($R)}}(),TC||(gy(),TC=!0),UM.add(r,i)}var TC=!1,UM=new LM;function $R(){for(var r;r=pL();){try{r.h.call(r.g)}catch(n){BM(n)}var i=py;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}TC=!1}function dc(r,i){Vi.call(this),this.h=r||1,this.g=i||at,this.j=ni(this.kb,this),this.l=Date.now()}function AC(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function IC(r,i,n){if("function"==typeof r)n&&(r=ni(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ni(r.handleEvent,r)}return 2147483647<Number(i)?-1:at.setTimeout(r,i||0)}function HM(r){r.g=IC(function(){r.g=null,r.i&&(r.i=!1,HM(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}Bi(dc,Vi),(qe=dc.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),li(this,"tick"),this.da&&(AC(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){dc.Z.M.call(this),AC(this),delete this.g};var _y=function(r){function i(n,s){var o=r.call(this)||this;return o.m=n,o.j=s,o.h=null,o.i=!1,o.g=null,o}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}Xp(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:HM(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(cc);function Ah(r){cc.call(this),this.h=r,this.g={}}Bi(Ah,cc);var kC=[];function RC(r,i,n,s){Array.isArray(n)||(n&&(kC[0]=n.toString()),n=kC);for(var o=0;o<n.length;o++){var u=zR(i,n[o],s||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function GM(r){dy(r.g,function(i,n){this.g.hasOwnProperty(n)&&NM(i)},r),r.g={}}function hc(){this.g=!0}function Ih(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<o.length;f++)o[f]=""}}}return In(n)}catch(g){return i}}(r,n)+(s?" "+s:"")})}Ah.prototype.M=function(){Ah.Z.M.call(this),GM(this)},Ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hc.prototype.Aa=function(){this.g=!1},hc.prototype.info=function(){};var fc={},OC=null;function yy(){return OC=OC||new Vi}function FC(r){Ki.call(this,fc.Ma,r)}function im(r){var i=yy();li(i,new FC(i,r))}function zM(r,i){Ki.call(this,fc.STAT_EVENT,r),this.stat=i}function ts(r){var i=yy();li(i,new zM(i,r))}function KR(r,i){Ki.call(this,fc.Na,r),this.size=i}function vy(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){r()},i)}fc.Ma="serverreachability",Bi(FC,Ki),fc.STAT_EVENT="statevent",Bi(zM,Ki),fc.Na="timingevent",Bi(KR,Ki);var PC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},NC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kh(){}function qM(){}kh.prototype.h=null;var BC,Rh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Nu(){Ki.call(this,"d")}function LC(){Ki.call(this,"c")}function by(){}function rm(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new Ah(this),this.P=ZM,this.W=new dc(r=gC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $M}function $M(){this.i=null,this.g="",this.h=!1}Bi(Nu,Ki),Bi(LC,Ki),Bi(by,kh),by.prototype.g=function(){return new XMLHttpRequest},by.prototype.i=function(){return{}},BC=new by;var ZM=45e3,VC={},wy={};function pc(r,i,n){r.K=1,r.v=Sy(hl(i)),r.s=n,r.U=!0,WM(r,null)}function WM(r,i){r.F=Date.now(),sm(r),r.A=hl(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),Ty(n.h,"t",s),r.C=0,n=r.l.H,r.h=new $M,r.g=xS(r.l,n?i:null,!r.s),0<r.O&&(r.L=new _y(ni(r.Ia,r,r.g),r.O)),RC(r.V,r.g,"readystatechange",r.gb),i=r.H?fC(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),im(1),function(r,i,n,s,o,u){r.info(function(){if(r.g)if(u)for(var f="",g=u.split("&"),w=0;w<g.length;w++){var x=g[w].split("=");if(1<x.length){var S=x[0];x=x[1];var I=S.split("_");f=2<=I.length&&"type"==I[1]?f+(S+"=")+x+"&":f+(S+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+i+"\n"+n+"\n"+f})}(r.j,r.u,r.A,r.m,r.X,r.s)}function UC(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function KM(r,i,n){for(var o,s=!0;!r.I&&r.C<n.length;){if((o=QM(r,n))==wy){4==i&&(r.o=4,ts(14),s=!1),Ih(r.j,r.m,null,"[Incomplete Response]");break}if(o==VC){r.o=4,ts(15),Ih(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Ih(r.j,r.m,o,null),Ey(r,o)}UC(r)&&o!=wy&&o!=VC&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,ts(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),t0(i),i.L=!0,ts(11))):(Ih(r.j,r.m,n,"[Invalid Chunked Response]"),Bu(r),Lu(r))}function QM(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?wy:(n=Number(i.substring(n,s)),isNaN(n)?VC:(s+=1)+n>i.length?wy:(i=i.substr(s,n),r.C=s+n,i))}function sm(r){r.Y=Date.now()+r.P,HC(r,r.P)}function HC(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=vy(ni(r.eb,r),i)}function Cy(r){r.B&&(at.clearTimeout(r.B),r.B=null)}function Lu(r){0==r.l.G||r.I||wS(r.l,r)}function Bu(r){Cy(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,AC(r.W),GM(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function Ey(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||ZC(n.i,r)))if(n.I=r.N,!r.J&&ZC(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(me){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(n.u)n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=vy(ni(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;Fy(n),um(n)}vS(n),ts(18)}if(1>=eO(n.i)&&n.ka){try{n.ka()}catch(me){}n.ka=void 0}}else Uu(n,11)}else if((r.J||n.g==r)&&Fy(n),!Fu(i))for(o=n.Ca.g.parse(i),i=0;i<o.length;i++){var u=o[i];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];var f=u[3];null!=f&&(n.ma=f,n.h.info("VER="+n.ma));var g=u[4];null!=g&&(n.za=g,n.h.info("SVER="+n.za));var w=u[5];null!=w&&"number"==typeof w&&0<w&&(n.K=s=1.5*w,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var x=r.g;if(x){var S=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var I=s.i;!I.g&&(fr(S,"spdy")||fr(S,"quic")||fr(S,"h2"))&&(I.j=I.l,I.g=new Set,I.h&&(fl(I,I.h),I.h=null))}if(s.D){var F=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(s.sa=F,kn(s.F,s.D,F))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var L=r;if((s=n).oa=DS(s,s.H?s.la:null,s.W),L.J){tO(s.i,L);var j=L,ne=s.K;ne&&j.setTimeout(ne),j.B&&(Cy(j),sm(j)),s.g=L}else yS(s);0<n.l.length&&hm(n)}else"stop"!=u[0]&&"close"!=u[0]||Uu(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Uu(n,7):XC(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}im(4)}catch(me){}}function GC(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(ly(r)||"string"==typeof r)xM(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(ly(r)||"string"==typeof r){n=[];for(var s=r.length,o=0;o<s;o++)n.push(o)}else for(o in n=[],s=0,r)n[s++]=o;o=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(ly(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var u=0;u<o;u++)i.call(void 0,s[u],n&&n[u],r)}}function Oh(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Oh)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function jC(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];dl(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var o={};for(n=i=0;i<r.g.length;)dl(o,s=r.g[i])||(r.g[n++]=s,o[s]=1),i++;r.g.length=n}}function dl(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(qe=rm.prototype).setTimeout=function(r){this.P=r},qe.gb=function(r){r=r.target;var i=this.L;i&&3==pl(r)?i.l():this.Ia(r)},qe.Ia=function(r){try{if(r==this.g)e:{var i=pl(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||gC||this.g&&(this.h.h||this.g.ga()||pS(this.g)))){this.I||4!=i||7==n||im(8==n||0>=s?3:2),Cy(this);var o=this.g.ba();this.N=o;t:if(UC(this)){var u=pS(this.g);r="";var f=u.length,g=4==pl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bu(this),Lu(this);var w="";break t}this.h.i=new at.TextDecoder}for(n=0;n<f;n++)this.h.h=!0,r+=this.h.i.decode(u[n],{stream:g&&n==f-1});u.splice(0,f),this.h.g+=r,this.C=0,w=this.h.g}else w=this.g.ga();if(this.i=200==o,function(r,i,n,s,o,u,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+i+"\n"+n+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.X,i,o),this.i){if(this.$&&!this.J){t:{if(this.g){var x,S=this.g;if((x=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fu(x)){var I=x;break t}}I=null}if(!(o=I)){this.i=!1,this.o=3,ts(12),Bu(this),Lu(this);break e}Ih(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ey(this,o)}this.U?(KM(this,i,w),gC&&this.i&&3==i&&(RC(this.V,this.W,"tick",this.fb),this.W.start())):(Ih(this.j,this.m,w,null),Ey(this,w)),4==i&&Bu(this),this.i&&!this.I&&(4==i?wS(this.l,this):(this.i=!1,sm(this)))}else 400==o&&0<w.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),Bu(this),Lu(this)}}}catch(F){}},qe.fb=function(){if(this.g){var r=pl(this.g),i=this.g.ga();this.C<i.length&&(Cy(this),KM(this,r,i),this.i&&4!=r&&sm(this))}},qe.cancel=function(){this.I=!0,Bu(this)},qe.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(im(3),ts(17)),Bu(this),this.o=2,Lu(this)):HC(this,this.Y-r)},(qe=Oh.prototype).R=function(){jC(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},qe.T=function(){return jC(this),this.g.concat()},qe.get=function(r,i){return dl(this.h,r)?this.h[r]:i},qe.set=function(r,i){dl(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},qe.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var o=n[s],u=this.get(o);r.call(i,u,o,this)}};var XM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vu(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Vu){this.g=void 0!==i?i:r.g,Dy(this,r.j),this.s=r.s,xy(this,r.i),My(this,r.m),this.l=r.l,i=r.h;var n=new Fh;n.i=i.i,i.g&&(n.g=new Oh(i.g),n.h=i.h),tS(this,n),this.o=r.o}else r&&(n=String(r).match(XM))?(this.g=!!i,Dy(this,n[1]||"",!0),this.s=om(n[2]||""),xy(this,n[3]||"",!0),My(this,n[4]),this.l=om(n[5]||"",!0),tS(this,n[6]||"",!0),this.o=om(n[7]||"")):(this.g=!!i,this.h=new Fh(null,this.g))}function hl(r){return new Vu(r)}function Dy(r,i,n){r.j=n?om(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function xy(r,i,n){r.i=n?om(i,!0):i}function My(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function tS(r,i,n){i instanceof Fh?(r.h=i,function(r,i){i&&!r.j&&(ga(r),r.i=null,r.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(oS(this,s),Ty(this,o,n))},r)),r.j=i}(r.h,r.g)):(n||(i=am(i,zC)),r.h=new Fh(i,r.g))}function kn(r,i,n){r.h.set(i,n)}function Sy(r){return kn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function om(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function am(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,rS),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function rS(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Vu.prototype.toString=function(){var r=[],i=this.j;i&&r.push(am(i,sS,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(am(i,sS,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(am(n,"/"==n.charAt(0)?JR:QR,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",am(n,YC)),r.join("")};var sS=/[#\/\?@]/g,QR=/[#\?:]/g,JR=/[#\?]/g,zC=/[#\?@]/g,YC=/#/g;function Fh(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function ga(r){r.g||(r.g=new Oh,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),o=null;if(0<=s){var u=r[n].substring(0,s);o=r[n].substring(s+1)}else u=r[n];i(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function oS(r,i){ga(r),i=Ph(r,i),dl(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,dl((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&jC(r)))}function aS(r,i){return ga(r),i=Ph(r,i),dl(r.g.h,i)}function Ty(r,i,n){oS(r,i),0<n.length&&(r.i=null,r.g.set(Ph(r,i),tm(n)),r.h+=n.length)}function Ph(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}(qe=Fh.prototype).add=function(r,i){ga(this),this.i=null,r=Ph(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},qe.forEach=function(r,i){ga(this),this.g.forEach(function(n,s){xM(n,function(o){r.call(i,o,s,this)},this)},this)},qe.T=function(){ga(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var o=r[s],u=0;u<o.length;u++)n.push(i[s]);return n},qe.R=function(r){ga(this);var i=[];if("string"==typeof r)aS(this,r)&&(i=cC(i,this.g.get(Ph(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=cC(i,r[n])}return i},qe.set=function(r,i){return ga(this),this.i=null,aS(this,r=Ph(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},qe.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],o=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var f=o;""!==s[u]&&(f+="="+encodeURIComponent(String(s[u]))),r.push(f)}}return this.i=r.join("&")};var XR=function(i,n){this.h=i,this.g=n};function qC(r){this.l=r||cS,r=at.PerformanceNavigationTiming?0<(r=at.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(at.g&&at.g.Ea&&at.g.Ea()&&at.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cS=10;function $C(r){return!!r.h||!!r.g&&r.g.size>=r.j}function eO(r){return r.h?1:r.g?r.g.size:0}function ZC(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function fl(r,i){r.g?r.g.add(i):r.h=i}function tO(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function Ay(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var o=Mo(r.g.values()),u=o.next();!u.done;u=o.next())s=s.concat(u.value.D)}catch(g){i={error:g}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}return tm(r.i)}function Nh(){}function nO(){this.g=new Nh}function Lh(r,i,n){var s=n||"";try{GC(r,function(o,u){var f=o;Ch(o)&&(f=In(o)),i.push(s+u+"="+encodeURIComponent(f))})}catch(o){throw i.push(s+"type="+encodeURIComponent("_badmap")),o}}function WC(r,i,n,s,o){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,o(s)}catch(u){}}function lm(r){this.l=r.$b||null,this.j=r.ib||!1}function ws(r,i){Vi.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=Iy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qC.prototype.cancel=function(){var r,i;if(this.i=Ay(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Mo(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},Nh.prototype.stringify=function(r){return at.JSON.stringify(r,void 0)},Nh.prototype.parse=function(r){return at.JSON.parse(r,void 0)},Bi(lm,kh),lm.prototype.g=function(){return new ws(this.l,this.j)},lm.prototype.i=function(r){return function(){return r}}({}),Bi(ws,Vi);var Iy=0;function rO(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function mc(r){r.readyState=4,r.l=null,r.j=null,r.A=null,cm(r)}function cm(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(qe=ws.prototype).open=function(r,i){if(this.readyState!=Iy)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,cm(this)},qe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||at).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mc(this)),this.readyState=Iy},qe.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,cm(this)),this.g&&(this.readyState=3,cm(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==at.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rO(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?mc(this):cm(this),3==this.readyState&&rO(this)}},qe.Ua=function(r){this.g&&(this.response=this.responseText=r,mc(this))},qe.Ta=function(r){this.g&&(this.response=r,mc(this))},qe.ha=function(){this.g&&mc(this)},qe.setRequestHeader=function(r,i){this.v.append(r,i)},qe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var sO=at.JSON.parse;function Mi(r){Vi.call(this),this.headers=new Oh,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uS,this.K=this.L=!1}Bi(Mi,Vi);var uS="",oO=/^https?$/i,aO=["POST","PUT"];function dS(r){return"content-type"==r.toLowerCase()}function ky(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,QC(r),JC(r)}function QC(r){r.D||(r.D=!0,li(r,"complete"),li(r,"error"))}function hS(r){if(r.h&&void 0!==Ys&&(!r.C[1]||4!=pl(r)||2!=r.ba()))if(r.v&&4==pl(r))IC(r.Fa,0,r);else if(li(r,"readystatechange"),4==pl(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var o;if(o=0===i){var u=String(r.H).match(XM)[1]||null;if(!u&&at.self&&at.self.location){var f=at.self.location.protocol;u=f.substr(0,f.length-1)}o=!oO.test(u?u.toLowerCase():"")}s=o}if(s)li(r,"complete"),li(r,"success");else{r.m=6;try{var g=2<pl(r)?r.g.statusText:""}catch(w){g=""}r.j=g+" ["+r.ba()+"]",QC(r)}}finally{JC(r)}}}function JC(r,i){if(r.g){fS(r);var n=r.g,s=r.C[0]?es:null;r.g=null,r.C=null,i||li(r,"ready");try{n.onreadystatechange=s}catch(o){}}}function fS(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(at.clearTimeout(r.A),r.A=null)}function pl(r){return r.g?r.g.readyState:0}function pS(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case uS:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Ry(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return dy(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):kn(r,i,n))}function Bh(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function gS(r){this.za=0,this.l=[],this.h=new hc,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bh("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bh("baseRetryDelayMs",5e3,r),this.$a=Bh("retryDelaySeedMs",1e4,r),this.Ya=Bh("forwardChannelMaxRetries",2,r),this.ra=Bh("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new qC(r&&r.concurrentRequestLimit),this.Ca=new nO,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function XC(r){if(dm(r),3==r.G){var i=r.V++,n=hl(r.F);kn(n,"SID",r.J),kn(n,"RID",i),kn(n,"TYPE","terminate"),ml(r,n),(i=new rm(r,r.h,i,void 0)).K=2,i.v=Sy(hl(n)),n=!1,at.navigator&&at.navigator.sendBeacon&&(n=at.navigator.sendBeacon(i.v.toString(),"")),!n&&at.Image&&((new Image).src=i.v,n=!0),n||(i.g=xS(i.l,null),i.g.ea(i.v)),i.F=Date.now(),sm(i)}ES(r)}function um(r){r.g&&(t0(r),r.g.cancel(),r.g=null)}function dm(r){um(r),r.u&&(at.clearTimeout(r.u),r.u=null),Fy(r),r.i.cancel(),r.m&&("number"==typeof r.m&&at.clearTimeout(r.m),r.m=null)}function e0(r,i){r.l.push(new XR(r.Za++,i)),3==r.G&&hm(r)}function hm(r){$C(r.i)||r.m||(r.m=!0,my(r.Ha,r),r.C=0)}function fm(r,i){var n;n=i?i.m:r.V++;var s=hl(r.F);kn(s,"SID",r.J),kn(s,"RID",n),kn(s,"AID",r.U),ml(r,s),r.o&&r.s&&Ry(s,r.o,r.s),n=new rm(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=_S(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),fl(r.i,n),pc(n,s,i)}function ml(r,i){r.j&&GC({},function(n,s){kn(i,s,n)})}function _S(r,i,n){n=Math.min(r.l.length,n);var s=r.j?ni(r.j.Oa,r.j,r):null;e:for(var o=r.l,u=-1;;){var f=["count="+n];-1==u?0<n?f.push("ofs="+(u=o[0].h)):u=0:f.push("ofs="+u);for(var g=!0,w=0;w<n;w++){var x=o[w].h,S=o[w].g;if(0>(x-=u))u=Math.max(0,o[w].h-100),g=!1;else try{Lh(S,f,"req"+x+"_")}catch(I){s&&s(S)}}if(g){s=f.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function yS(r){r.g||r.u||(r.Y=1,my(r.Ga,r),r.A=0)}function vS(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=vy(ni(r.Ga,r),CS(r,r.A)),r.A++,0))}function t0(r){null!=r.B&&(at.clearTimeout(r.B),r.B=null)}function bS(r){r.g=new rm(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=hl(r.oa);kn(i,"RID","rpc"),kn(i,"SID",r.J),kn(i,"CI",r.N?"0":"1"),kn(i,"AID",r.U),ml(r,i),kn(i,"TYPE","xmlhttp"),r.o&&r.s&&Ry(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=Sy(hl(i)),n.s=null,n.U=!0,WM(n,r)}function Fy(r){null!=r.v&&(at.clearTimeout(r.v),r.v=null)}function wS(r,i){var n=null;if(r.g==i){Fy(r),t0(r),r.g=null;var s=2}else{if(!ZC(r.i,i))return;n=i.D,tO(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var o=r.C;li(s=yy(),new KR(s,n,i,o)),hm(r)}else yS(r);else if(3==(o=i.o)||0==o&&0<r.I||!(1==s&&function(r,i){return!(eO(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=vy(ni(r.Ha,r,i),CS(r,r.C)),r.C++,0)))}(r,i)||2==s&&vS(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),o){case 1:Uu(r,5);break;case 4:Uu(r,10);break;case 3:Uu(r,6);break;default:Uu(r,2)}}function CS(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function Uu(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=ni(r.jb,r);n||(n=new Vu("//www.google.com/images/cleardot.gif"),at.location&&"http"==at.location.protocol||Dy(n,"https"),Sy(n)),function(r,i){var n=new hc;if(at.Image){var s=new Image;s.onload=cy(WC,n,s,"TestLoadImage: loaded",!0,i),s.onerror=cy(WC,n,s,"TestLoadImage: error",!1,i),s.onabort=cy(WC,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=cy(WC,n,s,"TestLoadImage: timeout",!1,i),at.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else ts(2);r.G=0,r.j&&r.j.va(i),ES(r),dm(r)}function ES(r){r.G=0,r.I=-1,r.j&&((0!=Ay(r.i).length||0!=r.l.length)&&(r.i.i.length=0,tm(r.l),r.l.length=0),r.j.ua())}function DS(r,i,n){var s=function(r){return r instanceof Vu?hl(r):new Vu(r,void 0)}(n);if(""!=s.i)i&&xy(s,i+"."+s.i),My(s,s.m);else{var o=at.location;s=function(r,i,n,s){var o=new Vu(null,void 0);return r&&Dy(o,r),i&&xy(o,i),n&&My(o,n),s&&(o.l=s),o}(o.protocol,i?i+"."+o.hostname:o.hostname,+o.port,n)}return r.aa&&dy(r.aa,function(u,f){kn(s,f,u)}),n=r.sa,(i=r.D)&&n&&kn(s,i,n),kn(s,"VER",r.ma),ml(r,s),s}function xS(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new Mi(n&&r.Ba&&!r.qa?new lm({ib:!0}):r.qa)).L=r.H,i}function lO(){}function Py(){if(Eh&&!(10<=Number(kM)))throw Error("Environmental error: no available transport.")}function Qi(r,i){Vi.call(this),this.g=new gS(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!Fu(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Fu(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new Vh(this)}function MS(r){Nu.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function SS(){LC.call(this),this.status=1}function Vh(r){this.g=r}(qe=Mi.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():BC.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:BC),this.g.onreadystatechange=ni(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(u){return void ky(this,u)}r=n||"";var o=new Oh(this.headers);s&&GC(s,function(u,f){o.set(f,u)}),s=function(r){e:{for(var i=dS,n=r.length,s="string"==typeof r?r.split(""):r,o=0;o<n;o++)if(o in s&&i.call(void 0,s[o],o,r)){i=o;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(o.T()),n=at.FormData&&r instanceof at.FormData,!(0<=em(aO,i))||s||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,f){this.g.setRequestHeader(f,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fS(this),0<this.B&&((this.K=function(r){return Eh&&jR()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ni(this.pa,this)):this.A=IC(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){ky(this,u)}},qe.pa=function(){void 0!==Ys&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,li(this,"timeout"),this.abort(8))},qe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,li(this,"complete"),li(this,"abort"),JC(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),JC(this,!0)),Mi.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?hS(this):this.cb())},qe.cb=function(){hS(this)},qe.ba=function(){try{return 2<pl(this)?this.g.status:-1}catch(r){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},qe.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),sO(i)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=gS.prototype).ma=8,qe.G=1,qe.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},qe.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new rm(this,this.h,r,void 0),n=this.s;if(this.P&&(n?SM(n=fC(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,o=0;o<this.l.length;o++){var u=this.l[o];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(s+=u)){s=o;break e}if(4096===s||o===this.l.length-1){s=o+1;break e}}s=1e3}else s=1e3;s=_S(this,i,s),kn(o=hl(this.F),"RID",r),kn(o,"CVER",22),this.D&&kn(o,"X-HTTP-Session-Id",this.D),ml(this,o),this.o&&n&&Ry(o,this.o,n),fl(this.i,i),this.Ra&&kn(o,"TYPE","init"),this.ja?(kn(o,"$req",s),kn(o,"SID","null"),i.$=!0,pc(i,o,null)):pc(i,o,s),this.G=2}}else 3==this.G&&(r?fm(this,r):0==this.l.length||$C(this.i)||fm(this))},qe.Ga=function(){if(this.u=null,bS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=vy(ni(this.bb,this),r)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ts(10),um(this),bS(this))},qe.ab=function(){null!=this.v&&(this.v=null,um(this),vS(this),ts(19))},qe.jb=function(r){r?(this.h.info("Successfully pinged google.com"),ts(2)):(this.h.info("Failed to ping google.com"),ts(1))},(qe=lO.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},Py.prototype.g=function(r,i){return new Qi(r,i)},Bi(Qi,Vi),Qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),my(ni(r.hb,r,i))),ts(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=DS(r,null,r.W),hm(r)},Qi.prototype.close=function(){XC(this.g)},Qi.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,e0(this.g,i)}else this.v?((i={}).__data__=In(r),e0(this.g,i)):e0(this.g,r)},Qi.prototype.M=function(){this.g.j=null,delete this.j,XC(this.g),delete this.g,Qi.Z.M.call(this)},Bi(MS,Nu),Bi(SS,LC),Bi(Vh,lO),Vh.prototype.xa=function(){li(this.g,"a")},Vh.prototype.wa=function(r){li(this.g,new MS(r))},Vh.prototype.va=function(r){li(this.g,new SS(r))},Vh.prototype.ua=function(){li(this.g,"b")},Py.prototype.createWebChannel=Py.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,PC.NO_ERROR=0,PC.TIMEOUT=8,PC.HTTP_ERROR=6,NC.COMPLETE="complete",qM.EventType=Rh,Rh.OPEN="a",Rh.CLOSE="b",Rh.ERROR="c",Rh.MESSAGE="d",Vi.prototype.listen=Vi.prototype.N,Mi.prototype.listenOnce=Mi.prototype.O,Mi.prototype.getLastError=Mi.prototype.La,Mi.prototype.getLastErrorCode=Mi.prototype.Da,Mi.prototype.getStatus=Mi.prototype.ba,Mi.prototype.getResponseJson=Mi.prototype.Qa,Mi.prototype.getResponseText=Mi.prototype.ga,Mi.prototype.send=Mi.prototype.ea;var mm=PC,TS=NC,cO=fc,n0_PROXY=10,n0_NOPROXY=11,gm=lm,_m=qM,AS=Mi;class Si{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Si.UNAUTHENTICATED=new Si(null),Si.GOOGLE_CREDENTIALS=new Si("google-credentials-uid"),Si.FIRST_PARTY=new Si("first-party-uid"),Si.MOCK_USER=new Si("mock-user");let Hu="9.0.2";const gl=new wh.Yd("@firebase/firestore");function r0(){return gl.logLevel}function Pe(r,...i){if(gl.logLevel<=wh.in.DEBUG){const n=i.map(Hh);gl.debug(`Firestore (${Hu}): ${r}`,...n)}}function ci(r,...i){if(gl.logLevel<=wh.in.ERROR){const n=i.map(Hh);gl.error(`Firestore (${Hu}): ${r}`,...n)}}function Uh(r,...i){if(gl.logLevel<=wh.in.WARN){const n=i.map(Hh);gl.warn(`Firestore (${Hu}): ${r}`,...n)}}function Hh(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function We(r="Unexpected state"){const i=`FIRESTORE (${Hu}) INTERNAL ASSERTION FAILED: `+r;throw ci(i),new Error(i)}function Ct(r,i){r||We()}function Te(r,i){return r}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zn{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class fO{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class Tt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(Si.UNAUTHENTICATED))}shutdown(){}}class qs{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class s0{constructor(i){this.t=i,this.currentUser=Si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let o=this.i;const u=x=>this.i!==o?(o=this.i,n(x)):Promise.resolve();let f=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Zn,i.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const x=f;i.enqueueRetryable((0,be.Z)(function*(){yield x.promise,yield u(s.currentUser)}))},w=x=>{Pe("FirebaseCredentialsProvider","Auth detected"),this.auth=x,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(x=>w(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?w(x):(Pe("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Zn)}},0),g()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(Pe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ct("string"==typeof s.accessToken),new fO(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Ct(null===i||"string"==typeof i),new Si(i)}}class Gu{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=Si.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class mL{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new Gu(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(Si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ns{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function IS(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}ns.T=-1;class pO{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const o=IS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=i.charAt(o[u]%i.length))}return s}}function qt(r,i){return r<i?-1:r>i?1:0}function Gh(r,i,n){return r.length===i.length&&r.every((s,o)=>n(s,i[o]))}function Cs(r){return r+"\0"}class Vt{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Vt.fromMillis(Date.now())}static fromDate(i){return Vt.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new Vt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?qt(this.nanoseconds,i.nanoseconds):qt(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ft{constructor(i){this.timestamp=i}static fromTimestamp(i){return new ft(i)}static min(){return new ft(new Vt(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function o0(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function ju(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function a0(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class zu{constructor(i,n,s){void 0===n?n=0:n>i.length&&We(),void 0===s?s=i.length-n:s>i.length-n&&We(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===zu.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof zu?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let o=0;o<s;o++){const u=i.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class $t extends zu{construct(i,n,s){return new $t(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new $t(n)}static emptyPath(){return new $t([])}}const vm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends zu{construct(i,n,s){return new Ji(i,n,s)}static isValidIdentifier(i){return vm.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ji(["__name__"])}static fromServerFormat(i){const n=[];let s="",o=0;const u=()=>{if(0===s.length)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<i.length;){const g=i[o];if("\\"===g){if(o+1===i.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const w=i[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=w,o+=2}else"`"===g?(f=!f,o++):"."!==g||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Ji(n)}static emptyPath(){return new Ji([])}}class $s{constructor(i){this.fields=i,i.sort(Ji.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return Gh(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class Ti{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new Ti(n)}static fromUint8Array(i){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(i);return new Ti(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return qt(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Ti.EMPTY_BYTE_STRING=new Ti("");const l0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(r){if(Ct(!!r),"string"==typeof r){let i=0;const n=l0.exec(r);if(Ct(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),i=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:Wn(r.seconds),nanos:Wn(r.nanos)}}function Wn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Yu(r){return"string"==typeof r?Ti.fromBase64String(r):Ti.fromUint8Array(r)}function _c(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function kS(r){const i=r.mapValue.fields.__previous_value__;return _c(i)?kS(i):i}function yc(r){const i=Zs(r.mapValue.fields.__local_write_time__.timestampValue);return new Vt(i.seconds,i.nanos)}function vc(r){return null==r}function bm(r){return 0===r&&1/r==-1/0}function c0(r){return"number"==typeof r&&Number.isInteger(r)&&!bm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Ze{constructor(i){this.path=i}static fromPath(i){return new Ze($t.fromString(i))}static fromName(i){return new Ze($t.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===$t.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return $t.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Ze(new $t(i.slice()))}}function qu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_c(r)?4:10:We()}function Ws(r,i){const n=qu(r);if(n!==qu(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return yc(r).isEqual(yc(i));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Zs(s.timestampValue),f=Zs(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return o=i,Yu(r.bytesValue).isEqual(Yu(o.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,o){return Wn(s.geoPointValue.latitude)===Wn(o.geoPointValue.latitude)&&Wn(s.geoPointValue.longitude)===Wn(o.geoPointValue.longitude)}(r,i);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Wn(s.integerValue)===Wn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Wn(s.doubleValue),f=Wn(o.doubleValue);return u===f?bm(u)===bm(f):isNaN(u)&&isNaN(f)}return!1}(r,i);case 9:return Gh(r.arrayValue.values||[],i.arrayValue.values||[],Ws);case 10:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(o0(u)!==o0(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===f[g]||!Ws(u[g],f[g])))return!1;return!0}(r,i);default:return We()}var o}function $u(r,i){return void 0!==(r.values||[]).find(n=>Ws(n,i))}function wm(r,i){const n=qu(r),s=qu(i);if(n!==s)return qt(n,s);switch(n){case 0:return 0;case 1:return qt(r.booleanValue,i.booleanValue);case 2:return function(o,u){const f=Wn(o.integerValue||o.doubleValue),g=Wn(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,i);case 3:return gO(r.timestampValue,i.timestampValue);case 4:return gO(yc(r),yc(i));case 5:return qt(r.stringValue,i.stringValue);case 6:return function(o,u){const f=Yu(o),g=Yu(u);return f.compareTo(g)}(r.bytesValue,i.bytesValue);case 7:return function(o,u){const f=o.split("/"),g=u.split("/");for(let w=0;w<f.length&&w<g.length;w++){const x=qt(f[w],g[w]);if(0!==x)return x}return qt(f.length,g.length)}(r.referenceValue,i.referenceValue);case 8:return function(o,u){const f=qt(Wn(o.latitude),Wn(u.latitude));return 0!==f?f:qt(Wn(o.longitude),Wn(u.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(o,u){const f=o.values||[],g=u.values||[];for(let w=0;w<f.length&&w<g.length;++w){const x=wm(f[w],g[w]);if(x)return x}return qt(f.length,g.length)}(r.arrayValue,i.arrayValue);case 10:return function(o,u){const f=o.fields||{},g=Object.keys(f),w=u.fields||{},x=Object.keys(w);g.sort(),x.sort();for(let S=0;S<g.length&&S<x.length;++S){const I=qt(g[S],x[S]);if(0!==I)return I;const F=wm(f[g[S]],w[x[S]]);if(0!==F)return F}return qt(g.length,x.length)}(r.mapValue,i.mapValue);default:throw We()}}function gO(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return qt(r,i);const n=Zs(r),s=Zs(i),o=qt(n.seconds,s.seconds);return 0!==o?o:qt(n.nanos,s.nanos)}function wt(r){return RS(r)}function RS(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const o=Zs(s);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Yu(r.bytesValue).toBase64():"referenceValue"in r?Ze.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let o="[",u=!0;for(const f of s.values||[])u?u=!1:o+=",",o+=RS(f);return o+"]"}(r.arrayValue):"mapValue"in r?function(s){const o=Object.keys(s.fields||{}).sort();let u="{",f=!0;for(const g of o)f?f=!1:u+=",",u+=`${g}:${RS(s.fields[g])}`;return u+"}"}(r.mapValue):We();var i}function bc(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function u0(r){return!!r&&"integerValue"in r}function d0(r){return!!r&&"arrayValue"in r}function OS(r){return!!r&&"nullValue"in r}function _O(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function h0(r){return!!r&&"mapValue"in r}function Cm(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return ju(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=Cm(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=Cm(r.arrayValue.values[n]);return i}return Object.assign({},r)}class rn{constructor(i){this.value=i}static empty(){return new rn({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!h0(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=Cm(n)}setAll(i){let n=Ji.emptyPath(),s={},o=[];i.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const w=this.getFieldsMap(n);this.applyChanges(w,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=Cm(f):o.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(i){const n=this.field(i.popLast());h0(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return Ws(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let o=n.mapValue.fields[i.get(s)];h0(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(i,n,s){ju(n,(o,u)=>i[o]=u);for(const o of s)delete i[o]}clone(){return new rn(Cm(this.value))}}function FS(r){const i=[];return ju(r.fields,(n,s)=>{const o=new Ji([n]);if(h0(s)){const u=FS(s.mapValue).fields;if(0===u.length)i.push(o);else for(const f of u)i.push(o.child(f))}else i.push(o)}),new $s(i)}class Rn{constructor(i,n,s,o,u){this.key=i,this.documentType=n,this.version=s,this.data=o,this.documentState=u}static newInvalidDocument(i){return new Rn(i,0,ft.min(),rn.empty(),0)}static newFoundDocument(i,n,s){return new Rn(i,1,n,s,0)}static newNoDocument(i,n){return new Rn(i,2,n,rn.empty(),0)}static newUnknownDocument(i,n){return new Rn(i,3,n,rn.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Rn&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new Rn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class f0{constructor(i,n=null,s=[],o=[],u=null,f=null,g=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.A=null}}function PS(r,i=null,n=[],s=[],o=null,u=null,f=null){return new f0(r,i,n,s,o,u,f)}function Em(r){const i=Te(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+wt(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(o=s).field.canonicalString()+o.dir;var o}).join(","),vc(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=Vy(i.startAt)),i.endAt&&(n+="|ub:",n+=Vy(i.endAt)),i.A=n}return i.A}function Ny(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let o=0;o<r.orderBy.length;o++)if(!DO(r.orderBy[o],i.orderBy[o]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let o=0;o<r.filters.length;o++)if((n=r.filters[o]).op!==(s=i.filters[o]).op||!n.field.isEqual(s.field)||!Ws(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!LS(r.startAt,i.startAt)&&LS(r.endAt,i.endAt)}function Ly(r){return Ze.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class kr extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new vO(i,n,s):"array-contains"===n?new wO(i,s):"in"===n?new gL(i,s):"not-in"===n?new CO(i,s):"array-contains-any"===n?new EO(i,s):new kr(i,n,s)}static R(i,n,s){return"in"===n?new bO(i,s):new NS(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(wm(n,this.value)):null!==n&&qu(this.value)===qu(n)&&this.P(wm(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return We()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vO extends kr{constructor(i,n,s){super(i,n,s),this.key=Ze.fromName(s.referenceValue)}matches(i){const n=Ze.comparator(i.key,this.key);return this.P(n)}}class bO extends kr{constructor(i,n){super(i,"in",n),this.keys=By(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class NS extends kr{constructor(i,n){super(i,"not-in",n),this.keys=By(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function By(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Ze.fromName(s.referenceValue))}class wO extends kr{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return d0(n)&&$u(n.arrayValue,this.value)}}class gL extends kr{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&$u(this.value.arrayValue,n)}}class CO extends kr{constructor(i,n){super(i,"not-in",n)}matches(i){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!$u(this.value.arrayValue,n)}}class EO extends kr{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!d0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>$u(this.value.arrayValue,s))}}class Dm{constructor(i,n){this.position=i,this.before=n}}function Vy(r){return`${r.before?"b":"a"}:${r.position.map(i=>wt(i)).join(",")}`}class jh{constructor(i,n="asc"){this.field=i,this.dir=n}}function DO(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function zh(r,i,n){let s=0;for(let o=0;o<r.position.length;o++){const u=i[o],f=r.position[o];if(s=u.field.isKeyField()?Ze.comparator(Ze.fromName(f.referenceValue),n.key):wm(f,n.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function LS(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ws(r.position[n],i.position[n]))return!1;return!0}class _l{constructor(i,n=null,s=[],o=[],u=null,f="F",g=null,w=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=w,this.V=null,this.S=null}}function m0(r,i,n,s,o,u,f,g){return new _l(r,i,n,s,o,u,f,g)}function _a(r){return new _l(r)}function g0(r){return!vc(r.limit)&&"F"===r.limitType}function xm(r){return!vc(r.limit)&&"L"===r.limitType}function _0(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function y0(r){for(const i of r.filters)if(i.v())return i.field;return null}function v0(r){return null!==r.collectionGroup}function Yh(r){const i=Te(r);if(null===i.V){i.V=[];const n=y0(i),s=_0(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new jh(n)),i.V.push(new jh(Ji.keyField(),"asc"));else{let o=!1;for(const u of i.explicitOrderBy)i.V.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new jh(Ji.keyField(),u))}}}return i.V}function Ks(r){const i=Te(r);if(!i.S)if("F"===i.limitType)i.S=PS(i.path,i.collectionGroup,Yh(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const u of Yh(i))n.push(new jh(u.field,"desc"===u.dir?"asc":"desc"));const s=i.endAt?new Dm(i.endAt.position,!i.endAt.before):null,o=i.startAt?new Dm(i.startAt.position,!i.startAt.before):null;i.S=PS(i.path,i.collectionGroup,n,i.filters,i.limit,s,o)}return i.S}function b0(r,i,n){return new _l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function Mm(r,i){return Ny(Ks(r),Ks(i))&&r.limitType===i.limitType}function BS(r){return`${Em(Ks(r))}|lt:${r.limitType}`}function VS(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${wt(s.value)}`;var s}).join(", ")}]`),vc(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+Vy(r.startAt)),r.endAt&&(i+=", endAt: "+Vy(r.endAt)),`Target(${i})`}(Ks(r))}; limitType=${r.limitType})`}function Uy(r,i){return i.isFoundDocument()&&function(n,s){const o=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ze.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,i)&&function(n,s){for(const o of n.explicitOrderBy)if(!o.field.isKeyField()&&null===s.data.field(o.field))return!1;return!0}(r,i)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!zh(n.startAt,Yh(n),s)||n.endAt&&zh(n.endAt,Yh(n),s)));var n,s}function xO(r){return(i,n)=>{let s=!1;for(const o of Yh(r)){const u=w0(o,i,n);if(0!==u)return u;s=s||o.field.isKeyField()}return 0}}function w0(r,i,n){const s=r.field.isKeyField()?Ze.comparator(i.key,n.key):function(o,u,f){const g=u.data.field(o),w=f.data.field(o);return null!==g&&null!==w?wm(g,w):We()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return We()}}function US(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bm(i)?"-0":i}}function HS(r){return{integerValue:""+r}}function GS(r,i){return c0(i)?HS(i):US(r,i)}class Hy{constructor(){this._=void 0}}function MO(r,i,n){return r instanceof wc?function(s,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,i):r instanceof Zu?Wu(r,i):r instanceof Kn?E0(r,i):function(s,o){const u=C0(s,o),f=Gy(u)+Gy(s.C);return u0(u)&&u0(s.C)?HS(f):US(s.N,f)}(r,i)}function SO(r,i,n){return r instanceof Zu?Wu(r,i):r instanceof Kn?E0(r,i):n}function C0(r,i){return r instanceof mr?u0(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class wc extends Hy{}class Zu extends Hy{constructor(i){super(),this.elements=i}}function Wu(r,i){const n=jS(i);for(const s of r.elements)n.some(o=>Ws(o,s))||n.push(s);return{arrayValue:{values:n}}}class Kn extends Hy{constructor(i){super(),this.elements=i}}function E0(r,i){let n=jS(i);for(const s of r.elements)n=n.filter(o=>!Ws(o,s));return{arrayValue:{values:n}}}class mr extends Hy{constructor(i,n){super(),this.N=i,this.C=n}}function Gy(r){return Wn(r.integerValue||r.doubleValue)}function jS(r){return d0(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qh{constructor(i,n){this.field=i,this.transform=n}}class YS{constructor(i,n){this.version=i,this.transformResults=n}}class ui{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new ui}static exists(i){return new ui(void 0,i)}static updateTime(i){return new ui(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function jy(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class zy{}function qS(r,i,n){r instanceof ya?function(s,o,u){const f=s.value.clone(),g=WS(s.fieldTransforms,o,u.transformResults);f.setAll(g),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,i,n):r instanceof Ku?function(s,o,u){if(!jy(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=WS(s.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(x0(s)),g.setAll(f),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function D0(r,i,n){var o;r instanceof ya?function(s,o,u){if(!jy(s.precondition,o))return;const f=s.value.clone(),g=TO(s.fieldTransforms,u,o);f.setAll(g),o.convertToFoundDocument(ZS(o),f).setHasLocalMutations()}(r,i,n):r instanceof Ku?function(s,o,u){if(!jy(s.precondition,o))return;const f=TO(s.fieldTransforms,u,o),g=o.data;g.setAll(x0(s)),g.setAll(f),o.convertToFoundDocument(ZS(o),g).setHasLocalMutations()}(r,i,n):jy(r.precondition,o=i)&&o.convertToNoDocument(ft.min())}function _L(r,i){let n=null;for(const s of r.fieldTransforms){const o=i.data.field(s.field),u=C0(s.transform,o||null);null!=u&&(null==n&&(n=rn.empty()),n.set(s.field,u))}return n||null}function $S(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&Gh(n,s,(o,u)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof Zu&&s instanceof Zu||n instanceof Kn&&s instanceof Kn?Gh(n.elements,s.elements,Ws):n instanceof mr&&s instanceof mr?Ws(n.C,s.C):n instanceof wc&&s instanceof wc);var n,s}(o,u))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function ZS(r){return r.isFoundDocument()?r.version:ft.min()}class ya extends zy{constructor(i,n,s,o=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}}class Ku extends zy{constructor(i,n,s,o,u=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}}function x0(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function WS(r,i,n){const s=new Map;Ct(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=i.data.field(u.field);s.set(u.field,SO(f,g,n[o]))}return s}function TO(r,i,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,MO(u,f,i))}return s}class $h extends zy{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class M0 extends zy{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class S0{constructor(i){this.count=i}}var di,Zt;function T0(r){switch(r){case de.OK:return We();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return We()}}function KS(r){if(void 0===r)return ci("GRPC error has no .code"),de.UNKNOWN;switch(r){case di.OK:return de.OK;case di.CANCELLED:return de.CANCELLED;case di.UNKNOWN:return de.UNKNOWN;case di.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case di.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case di.INTERNAL:return de.INTERNAL;case di.UNAVAILABLE:return de.UNAVAILABLE;case di.UNAUTHENTICATED:return de.UNAUTHENTICATED;case di.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case di.NOT_FOUND:return de.NOT_FOUND;case di.ALREADY_EXISTS:return de.ALREADY_EXISTS;case di.PERMISSION_DENIED:return de.PERMISSION_DENIED;case di.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case di.ABORTED:return de.ABORTED;case di.OUT_OF_RANGE:return de.OUT_OF_RANGE;case di.UNIMPLEMENTED:return de.UNIMPLEMENTED;case di.DATA_LOSS:return de.DATA_LOSS;default:return We()}}(Zt=di||(di={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class Ai{constructor(i,n){this.comparator=i,this.root=n||Xi.EMPTY}insert(i,n){return new Ai(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(i){return new Ai(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(i,s.key);if(0===o)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new Yy(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new Yy(this.root,i,this.comparator,!1)}getReverseIterator(){return new Yy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new Yy(this.root,i,this.comparator,!0)}}class Yy{constructor(i,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!i.isEmpty();)if(u=n?s(i.key,n):1,o&&(u*=-1),u<0)i=this.isReverse?i.left:i.right;else{if(0===u){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Xi{constructor(i,n,s,o,u){this.key=i,this.value=n,this.color=null!=s?s:Xi.RED,this.left=null!=o?o:Xi.EMPTY,this.right=null!=u?u:Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,o,u){return new Xi(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let o=this;const u=s(i,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(i,n,s),null):0===u?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(i,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,o=this;if(n(i,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(i,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(i,o.key)){if(o.right.isEmpty())return Xi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(i,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const i=this.left.check();if(i!==this.right.check())throw We();return i+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(r,i,n,s,o){return this}insert(r,i,n){return new Xi(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qn{constructor(i){this.comparator=i,this.data=new Ai(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,i[1])>=0)return;n(o.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new QS(this.data.getIterator())}getIteratorFrom(i){return new QS(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof Qn)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new Qn(this.comparator);return n.data=i,n}}class QS{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const AO=new Ai(Ze.comparator);function gr(){return AO}const JS=new Ai(Ze.comparator);function qy(){return JS}const XS=new Ai(Ze.comparator);function A0(){return XS}const eT=new Qn(Ze.comparator);function an(...r){let i=eT;for(const n of r)i=i.add(n);return i}const IO=new Qn(qt);function Sm(){return IO}class Tm{constructor(i,n,s,o,u){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,Am.createSynthesizedTargetChangeForCurrentChange(i,n)),new Tm(ft.min(),s,Sm(),gr(),an())}}class Am{constructor(i,n,s,o,u){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(i,n){return new Am(Ti.EMPTY_BYTE_STRING,n,an(),an(),an())}}class $y{constructor(i,n,s,o){this.k=i,this.removedTargetIds=n,this.key=s,this.$=o}}class tT{constructor(i,n){this.targetId=i,this.O=n}}class Zh{constructor(i,n,s=Ti.EMPTY_BYTE_STRING,o=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Wh{constructor(){this.F=0,this.M=So(),this.L=Ti.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=an(),n=an(),s=an();return this.M.forEach((o,u)=>{switch(u){case 0:i=i.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:We()}}),new Am(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=So()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class kO{constructor(i){this.tt=i,this.et=new Map,this.nt=gr(),this.st=Zy(),this.it=new Qn(qt)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:We()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,o)=>{this.ht(o)&&n(o)})}ft(i){const n=i.targetId,s=i.O.count,o=this.dt(n);if(o){const u=o.target;if(Ly(u))if(0===s){const f=new Ze(u.path);this.at(n,f,Rn.newNoDocument(f,ft.min()))}else Ct(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((u,f)=>{const g=this.dt(f);if(g){if(u.current&&Ly(g.target)){const w=new Ze(g.target.path);null!==this.nt.get(w)||this.gt(f,w)||this.at(f,w,Rn.newNoDocument(w,i))}u.K&&(n.set(f,u.W()),u.G())}});let s=an();this.st.forEach((u,f)=>{let g=!0;f.forEachWhile(w=>{const x=this.dt(w);return!x||2===x.purpose||(g=!1,!1)}),g&&(s=s.add(u))});const o=new Tm(i,n,this.it,this.nt,s);return this.nt=gr(),this.st=Zy(),this.it=new Qn(qt),o}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const o=this.ut(i);this.gt(i,n)?o.H(n,1):o.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new Wh,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new Qn(qt),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||Pe("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new Wh),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function Zy(){return new Ai(Ze.comparator)}function So(){return new Ai(Ze.comparator)}const RO={asc:"ASCENDING",desc:"DESCENDING"},Im={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class OO{constructor(i,n){this.databaseId=i,this.D=n}}function km(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function FO(r,i){return r.D?i.toBase64():i.toUint8Array()}function I0(r,i){return km(r,i.toTimestamp())}function hi(r){return Ct(!!r),ft.fromTimestamp(function(i){const n=Zs(i);return new Vt(n.seconds,n.nanos)}(r))}function Wy(r,i){return(n=r,new $t(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function Ky(r){const i=$t.fromString(r);return Ct(L0(i)),i}function Qu(r,i){return Wy(r.databaseId,i.path)}function va(r,i){const n=Ky(i);if(n.get(1)!==r.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ze(R0(n))}function k0(r,i){return Wy(r.databaseId,i)}function nT(r){const i=Ky(r);return 4===i.length?$t.emptyPath():R0(i)}function Rm(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function R0(r){return Ct(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Qy(r,i,n){return{name:Qu(r,i),fields:n.value.mapValue.fields}}function O0(r,i,n){const s=va(r,i.name),o=hi(i.updateTime),u=new rn({mapValue:{fields:i.fields}}),f=Rn.newFoundDocument(s,o,u);return n&&f.setHasCommittedMutations(),n?f.setHasCommittedMutations():f}function Om(r,i){let n;if(i instanceof ya)n={update:Qy(r,i.key,i.value)};else if(i instanceof $h)n={delete:Qu(r,i.key)};else if(i instanceof Ku)n={update:Qy(r,i.key,i.data),updateMask:UO(i.fieldMask)};else{if(!(i instanceof M0))return We();n={verify:Qu(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(o,u){const f=u.transform;if(f instanceof wc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Zu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Kn)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof mr)return{fieldPath:u.field.canonicalString(),increment:f.C};throw We()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(o=i.precondition).updateTime?{updateTime:I0(r,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:We()),n;var o}function sT(r,i){const n=i.currentDocument?void 0!==(o=i.currentDocument).updateTime?ui.updateTime(hi(o.updateTime)):void 0!==o.exists?ui.exists(o.exists):ui.none():ui.none(),s=i.updateTransforms?i.updateTransforms.map(o=>function(u,f){let g=null;"setToServerValue"in f?(Ct("REQUEST_TIME"===f.setToServerValue),g=new wc):"appendMissingElements"in f?g=new Zu(f.appendMissingElements.values||[]):"removeAllFromArray"in f?g=new Kn(f.removeAllFromArray.values||[]):"increment"in f?g=new mr(u,f.increment):We();const w=Ji.fromServerFormat(f.fieldPath);return new qh(w,g)}(r,o)):[];var o;if(i.update){const o=va(r,i.update.name),u=new rn({mapValue:{fields:i.update.fields}});if(i.updateMask){const f=new $s((i.updateMask.fieldPaths||[]).map(x=>Ji.fromServerFormat(x)));return new Ku(o,u,f,n,s)}return new ya(o,u,n,s)}if(i.delete){const o=va(r,i.delete);return new $h(o,n)}if(i.verify){const o=va(r,i.verify);return new M0(o,n)}return We()}function F0(r,i){return{documents:[k0(r,i.path)]}}function aT(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=k0(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=k0(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(g){if(0===g.length)return;const w=g.map(x=>function(S){if("=="===S.op){if(_O(S.value))return{unaryFilter:{field:Fm(S.field),op:"IS_NAN"}};if(OS(S.value))return{unaryFilter:{field:Fm(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(_O(S.value))return{unaryFilter:{field:Fm(S.field),op:"IS_NOT_NAN"}};if(OS(S.value))return{unaryFilter:{field:Fm(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fm(S.field),op:BO(S.op),value:S.value}}}(x));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(i.filters);o&&(n.structuredQuery.where=o);const u=function(g){if(0!==g.length)return g.map(w=>{return{field:Fm((x=w).field),direction:LO(x.dir)};var x})}(i.orderBy);u&&(n.structuredQuery.orderBy=u);const f=(w=i.limit,r.D||vc(w)?w:{value:w});var w;return null!==f&&(n.structuredQuery.limit=f),i.startAt&&(n.structuredQuery.startAt=_r(i.startAt)),i.endAt&&(n.structuredQuery.endAt=_r(i.endAt)),n}function P0(r){let i=nT(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ct(1===s);const S=n.from[0];S.allDescendants?o=S.collectionId:i=i.child(S.collectionId)}let u=[];n.where&&(u=NO(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(S=>{return new jh(ba((I=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let g=null;n.limit&&(g=function(S){let I;return I="object"==typeof S?S.value:S,vc(I)?null:I}(n.limit));let w=null;n.startAt&&(w=Ju(n.startAt));let x=null;return n.endAt&&(x=Ju(n.endAt)),m0(i,o,f,u,g,"F",w,x)}function NO(r){return r?void 0!==r.unaryFilter?[N0(r)]:void 0!==r.fieldFilter?[VO(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>NO(i)).reduce((i,n)=>i.concat(n)):We():[]}function _r(r){return{before:r.before,values:r.position}}function Ju(r){return new Dm(r.values||[],!!r.before)}function LO(r){return RO[r]}function BO(r){return Im[r]}function Fm(r){return{fieldPath:r.canonicalString()}}function ba(r){return Ji.fromServerFormat(r.fieldPath)}function VO(r){return kr.create(ba(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return We()}}(r.fieldFilter.op),r.fieldFilter.value)}function N0(r){switch(r.unaryFilter.op){case"IS_NAN":const i=ba(r.unaryFilter.field);return kr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=ba(r.unaryFilter.field);return kr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ba(r.unaryFilter.field);return kr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ba(r.unaryFilter.field);return kr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return We()}}function UO(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function L0(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function To(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=Jy(i)),i=HO(r.get(n),i);return Jy(i)}function HO(r,i){let n=i;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function Jy(r){return r+"\x01\x01"}function wa(r){const i=r.length;if(Ct(i>=2),2===i)return Ct("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),$t.emptyPath();const n=i-2,s=[];let o="";for(let u=0;u<i;){const f=r.indexOf("\x01",u);switch((f<0||f>n)&&We(),r.charAt(f+1)){case"\x01":const g=r.substring(u,f);let w;0===o.length?w=g:(o+=g,w=o,o=""),s.push(w);break;case"\x10":o+=r.substring(u,f),o+="\0";break;case"\x11":o+=r.substring(u,f+1);break;default:We()}u=f+2}return new $t(s)}class lT{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class yr{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}yr.store="owner",yr.key="owner";class Ca{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}Ca.store="mutationQueues",Ca.keyPath="userId";class On{constructor(i,n,s,o,u){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=o,this.mutations=u}}On.store="mutations",On.keyPath="batchId",On.userMutationsIndex="userMutationsIndex",On.userMutationsKeyPath=["userId","batchId"];class er{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,To(n)]}static key(i,n,s){return[i,To(n),s]}}er.store="documentMutations",er.PLACEHOLDER=new er;class GO{constructor(i,n){this.path=i,this.readTime=n}}class cT{constructor(i,n){this.path=i,this.version=n}}class En{constructor(i,n,s,o,u,f){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=f}}En.store="remoteDocuments",En.readTimeIndex="readTimeIndex",En.readTimeIndexPath="readTime",En.collectionReadTimeIndex="collectionReadTimeIndex",En.collectionReadTimeIndexPath=["parentPath","readTime"];class Ao{constructor(i){this.byteSize=i}}Ao.store="remoteDocumentGlobal",Ao.key="remoteDocumentGlobalKey";class is{constructor(i,n,s,o,u,f,g){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=f,this.query=g}}is.store="targets",is.keyPath="targetId",is.queryTargetsIndexName="queryTargetsIndex",is.queryTargetsKeyPath=["canonicalId","targetId"];class Ii{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}Ii.store="targetDocuments",Ii.keyPath=["targetId","path"],Ii.documentTargetsIndex="documentTargetsIndex",Ii.documentTargetsKeyPath=["path","targetId"];class Rr{constructor(i,n,s,o){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=o}}Rr.key="targetGlobalKey",Rr.store="targetGlobal";class Xu{constructor(i,n){this.collectionId=i,this.parent=n}}Xu.store="collectionParents",Xu.keyPath=["collectionId","parent"];class yl{constructor(i,n,s,o){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=o}}yl.store="clientMetadata",yl.keyPath="clientId";class ed{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}ed.store="bundles",ed.keyPath="bundleId";class td{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}td.store="namedQueries",td.keyPath="name";const uT=[Ca.store,On.store,er.store,En.store,is.store,yr.store,Rr.store,Ii.store,yl.store,Ao.store,Xu.store,ed.store,td.store],dT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Ae{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Ae((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(i,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Ae.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Ae.reject(n)}static resolve(i){return new Ae((n,s)=>{n(i)})}static reject(i){return new Ae((n,s)=>{s(i)})}static waitFor(i){return new Ae((n,s)=>{let o=0,u=0,f=!1;i.forEach(g=>{++o,g.next(()=>{++u,f&&u===o&&n()},w=>s(w))}),f=!0,u===o&&n()})}static or(i){let n=Ae.resolve(!1);for(const s of i)n=n.next(o=>o?Ae.resolve(o):s());return n}static forEach(i,n){const s=[];return i.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}}class Xy{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new Zn,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new Pm(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const o=U0(s.target.error);this.Tt.reject(new Pm(i,o))}}static open(i,n,s,o){try{return new Xy(n,i.transaction(o,s))}catch(u){throw new Pm(n,u)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(Pe("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new fT(n)}}class Io{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===Io.Rt((0,Pt.z$)())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Pe("SimpleDb","Removing database:",i),Ec(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Io.Pt())return!0;const i=(0,Pt.z$)(),n=Io.Rt(i),s=0<n&&n<10,o=Io.vt(i),u=0<o&&o<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||u)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,be.Z)(function*(){return n.db||(Pe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,o)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=f=>{s(f.target.result)},u.onblocked=()=>{o(new Pm(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const g=f.target.error;o("VersionError"===g.name?new Se(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Se(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Pm(i,g))},u.onupgradeneeded=f=>{Pe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.At.Ct(f.target.result,u.transaction,f.oldVersion,n.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,o){var u=this;return(0,be.Z)(function*(){const f="readonly"===n;let g=0;for(;;){++g;try{u.db=yield u.Dt(i);const w=Xy.open(u.db,i,f?"readonly":"readwrite",s),x=o(w).catch(S=>(w.abort(S),Ae.reject(S))).toPromise();return x.catch(()=>{}),yield w.It,x}catch(w){const x="FirebaseError"!==w.name&&g<3;if(Pe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",x),u.close(),!x)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class hT{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return Ec(this.kt.delete())}}class Pm extends Se{constructor(i,n){super(de.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Cc(r){return"IndexedDbTransactionError"===r.name}class fT{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(Pe("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),Ec(s)}add(i){return Pe("SimpleDb","ADD",this.store.name,i,i),Ec(this.store.add(i))}get(i){return Ec(this.store.get(i)).next(n=>(void 0===n&&(n=null),Pe("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return Pe("SimpleDb","DELETE",this.store.name,i),Ec(this.store.delete(i))}count(){return Pe("SimpleDb","COUNT",this.store.name),Ec(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),o=[];return this.Bt(s,(u,f)=>{o.push(f)}).next(()=>o)}Ut(i,n){Pe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const o=this.cursor(s);return this.Bt(o,(u,f,g)=>g.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const o=this.cursor(s);return this.Bt(o,n)}jt(i){const n=this.cursor({});return new Ae((s,o)=>{n.onerror=u=>{const f=U0(u.target.error);o(f)},n.onsuccess=u=>{const f=u.target.result;f?i(f.primaryKey,f.value).next(g=>{g?f.continue():s()}):s()}})}Bt(i,n){const s=[];return new Ae((o,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{const g=f.target.result;if(!g)return void o();const w=new hT(g),x=n(g.primaryKey,g.value,w);if(x instanceof Ae){const S=x.catch(I=>(w.done(),Ae.reject(I)));s.push(S)}w.isDone?o():null===w.Ft?g.continue():g.continue(w.Ft)}}).next(()=>Ae.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function Ec(r){return new Ae((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const o=U0(s.target.error);n(o)}})}let V0=!1;function U0(r){const i=Io.Rt((0,Pt.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return V0||(V0=!0,setTimeout(()=>{throw s},0)),s}}return r}class pT extends B0{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function rs(r,i){const n=Te(r);return Io.St(n.Qt,i)}class ev{constructor(i,n,s,o){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(i.key)&&qS(u,i,s[o])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&D0(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&D0(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),o=s;this.applyToLocalView(o),s.isValidDocument()||o.convertToNoDocument(ft.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),an())}isEqual(i){return this.batchId===i.batchId&&Gh(this.mutations,i.mutations,(n,s)=>$S(n,s))&&Gh(this.baseMutations,i.baseMutations,(n,s)=>$S(n,s))}}class mT{constructor(i,n,s,o){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(i,n,s){Ct(i.mutations.length===s.length);let o=A0();const u=i.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new mT(i,n,s,o)}}class nd{constructor(i,n,s,o,u=ft.min(),f=ft.min(),g=Ti.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g}withSequenceNumber(i){return new nd(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new nd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class jO{constructor(i){this.Wt=i}}function gT(r,i){if(i.document)return O0(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=Ze.fromSegments(i.noDocument.path),s=Lm(i.noDocument.readTime),o=Rn.newNoDocument(n,s);return i.hasCommittedMutations?o.setHasCommittedMutations():o}if(i.unknownDocument){const n=Ze.fromSegments(i.unknownDocument.path),s=Lm(i.unknownDocument.version);return Rn.newUnknownDocument(n,s)}return We()}function zO(r,i,n){const s=_T(n),o=i.key.path.popLast().toArray();if(i.isFoundDocument()){const u={name:Qu(g=r.Wt,(w=i).key),fields:w.data.value.mapValue.fields,updateTime:km(g,w.version.toTimestamp())};return new En(null,null,u,i.hasCommittedMutations,s,o)}var g,w;if(i.isNoDocument()){const u=i.key.path.toArray(),f=Nm(i.version),g=i.hasCommittedMutations;return new En(null,new GO(u,f),null,g,s,o)}if(i.isUnknownDocument()){const u=i.key.path.toArray(),f=Nm(i.version);return new En(new cT(u,f),null,null,!0,s,o)}return We()}function _T(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function YO(r){const i=new Vt(r[0],r[1]);return ft.fromTimestamp(i)}function Nm(r){const i=r.toTimestamp();return new lT(i.seconds,i.nanoseconds)}function Lm(r){const i=new Vt(r.seconds,r.nanoseconds);return ft.fromTimestamp(i)}function Bm(r,i){const n=(i.baseMutations||[]).map(u=>sT(r.Wt,u));for(let u=0;u<i.mutations.length-1;++u){const f=i.mutations[u];u+1<i.mutations.length&&void 0!==i.mutations[u+1].transform&&(f.updateTransforms=i.mutations[u+1].transform.fieldTransforms,i.mutations.splice(u+1,1),++u)}const s=i.mutations.map(u=>sT(r.Wt,u)),o=Vt.fromMillis(i.localWriteTimeMs);return new ev(i.batchId,o,n,s)}function tv(r){const i=Lm(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?Lm(r.lastLimboFreeSnapshotVersion):ft.min();let s;var o;return void 0!==r.query.documents?(Ct(1===(o=r.query).documents.length),s=Ks(_a(nT(o.documents[0])))):s=Ks(P0(r.query)),new nd(s,r.targetId,0,r.lastListenSequenceNumber,i,n,Ti.fromBase64String(r.resumeToken))}function qO(r,i){const n=Nm(i.snapshotVersion),s=Nm(i.lastLimboFreeSnapshotVersion);let o;o=Ly(i.target)?F0(r.Wt,i.target):aT(r.Wt,i.target);const u=i.resumeToken.toBase64();return new is(i.targetId,Em(i.target),n,u,i.sequenceNumber,s,o)}function yT(r){const i=P0({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?b0(i,i.limit,"L"):i}class yL{getBundleMetadata(i,n){return $O(i).get(n).next(s=>{if(s)return{id:(o=s).bundleId,createTime:Lm(o.createTime),version:o.version};var o})}saveBundleMetadata(i,n){return $O(i).put({bundleId:(s=n).id,createTime:Nm(hi(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return ZO(i).get(n).next(s=>{if(s)return{name:(o=s).name,query:yT(o.bundledQuery),readTime:Lm(o.readTime)};var o})}saveNamedQuery(i,n){return ZO(i).put({name:(s=n).name,readTime:Nm(hi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function $O(r){return rs(r,ed.store)}function ZO(r){return rs(r,td.store)}class vL{constructor(){this.Gt=new H0}addToCollectionParentIndex(i,n){return this.Gt.add(n),Ae.resolve()}getCollectionParents(i,n){return Ae.resolve(this.Gt.getEntries(n))}}class H0{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n]||new Qn($t.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(i){return(this.index[i]||new Qn($t.comparator)).toArray()}}class WO{constructor(){this.zt=new H0}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),o=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const u={collectionId:s,parent:To(o)};return vT(i).put(u)}return Ae.resolve()}getCollectionParents(i,n){const s=[],o=IDBKeyRange.bound([n,""],[Cs(n),""],!1,!0);return vT(i).Lt(o).next(u=>{for(const f of u){if(f.collectionId!==n)break;s.push(wa(f.parent))}return s})}}function vT(r){return rs(r,Xu.store)}const KO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Es{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new Es(i,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function QO(r,i,n){const s=r.store(On.store),o=r.store(er.store),u=[],f=IDBKeyRange.only(n.batchId);let g=0;const w=s.Kt({range:f},(S,I,F)=>(g++,F.delete()));u.push(w.next(()=>{Ct(1===g)}));const x=[];for(const S of n.mutations){const I=er.key(i,S.key.path,n.batchId);u.push(o.delete(I)),x.push(S.key)}return Ae.waitFor(u).next(()=>x)}function nv(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw We();i=r.noDocument}return JSON.stringify(i).length}Es.DEFAULT_COLLECTION_PERCENTILE=10,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Es.DEFAULT=new Es(41943040,Es.DEFAULT_COLLECTION_PERCENTILE,Es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Es.DISABLED=new Es(-1,0,0);class G0{constructor(i,n,s,o){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=o,this.Jt={}}static Yt(i,n,s,o){Ct(""!==i.uid);const u=i.isAuthenticated()?i.uid:"";return new G0(u,n,s,o)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return id(i).Kt({index:On.userMutationsIndex,range:s},(o,u,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(i,n,s,o){const u=Vm(i),f=id(i);return f.add({}).next(g=>{Ct("number"==typeof g);const w=new ev(g,n,s,o),x=function(F,L,j){const ne=j.baseMutations.map(xe=>Om(F.Wt,xe)),me=j.mutations.map(xe=>Om(F.Wt,xe));return new On(L,j.batchId,j.localWriteTime.toMillis(),ne,me)}(this.N,this.userId,w),S=[];let I=new Qn((F,L)=>qt(F.canonicalString(),L.canonicalString()));for(const F of o){const L=er.key(this.userId,F.key.path,g);I=I.add(F.key.path.popLast()),S.push(f.put(x)),S.push(u.put(L,er.PLACEHOLDER))}return I.forEach(F=>{S.push(this.Ht.addToCollectionParentIndex(i,F))}),i.addOnCommittedListener(()=>{this.Jt[g]=w.keys()}),Ae.waitFor(S).next(()=>w)})}lookupMutationBatch(i,n){return id(i).get(n).next(s=>s?(Ct(s.userId===this.userId),Bm(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Ae.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const o=s.keys();return this.Jt[n]=o,o}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,o=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return id(i).Kt({index:On.userMutationsIndex,range:o},(f,g,w)=>{g.userId===this.userId&&(Ct(g.batchId>=s),u=Bm(this.N,g)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return id(i).Kt({index:On.userMutationsIndex,range:n,reverse:!0},(o,u,f)=>{s=u.batchId,f.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return id(i).Lt(On.userMutationsIndex,n).next(s=>s.map(o=>Bm(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=er.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(s),u=[];return Vm(i).Kt({range:o},(f,g,w)=>{const[x,S,I]=f,F=wa(S);if(x===this.userId&&n.path.isEqual(F))return id(i).get(I).next(L=>{if(!L)throw We();Ct(L.userId===this.userId),u.push(Bm(this.N,L))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Qn(qt);const o=[];return n.forEach(u=>{const f=er.prefixForPath(this.userId,u.path),g=IDBKeyRange.lowerBound(f),w=Vm(i).Kt({range:g},(x,S,I)=>{const[F,L,j]=x,ne=wa(L);F===this.userId&&u.path.isEqual(ne)?s=s.add(j):I.done()});o.push(w)}),Ae.waitFor(o).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1,u=er.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(u);let g=new Qn(qt);return Vm(i).Kt({range:f},(w,x,S)=>{const[I,F,L]=w,j=wa(F);I===this.userId&&s.isPrefixOf(j)?j.length===o&&(g=g.add(L)):S.done()}).next(()=>this.Zt(i,g))}Zt(i,n){const s=[],o=[];return n.forEach(u=>{o.push(id(i).get(u).next(f=>{if(null===f)throw We();Ct(f.userId===this.userId),s.push(Bm(this.N,f))}))}),Ae.waitFor(o).next(()=>s)}removeMutationBatch(i,n){return QO(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Ae.forEach(s,o=>this.referenceDelegate.markPotentiallyOrphaned(i,o))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Ae.resolve();const s=IDBKeyRange.lowerBound(er.prefixForUser(this.userId)),o=[];return Vm(i).Kt({range:s},(u,f,g)=>{if(u[0]===this.userId){const w=wa(u[1]);o.push(w)}else g.done()}).next(()=>{Ct(0===o.length)})})}containsKey(i,n){return bT(i,this.userId,n)}ee(i){return JO(i).get(this.userId).next(n=>n||new Ca(this.userId,-1,""))}}function bT(r,i,n){const s=er.prefixForPath(i,n.path),o=s[1],u=IDBKeyRange.lowerBound(s);let f=!1;return Vm(r).Kt({range:u,qt:!0},(g,w,x)=>{const[S,I,F]=g;S===i&&I===o&&(f=!0),x.done()}).next(()=>f)}function id(r){return rs(r,On.store)}function Vm(r){return rs(r,er.store)}function JO(r){return rs(r,Ca.store)}class Kh{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new Kh(0)}static ie(){return new Kh(-1)}}class XO{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new Kh(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>ft.fromTimestamp(new Vt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(o=>(o.highestListenSequenceNumber=n,s&&(o.lastRemoteSnapshotVersion=s.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.oe(i,o)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>Um(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(Ct(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let o=0;const u=[];return Um(i).Kt((f,g)=>{const w=tv(g);w.sequenceNumber<=n&&null===s.get(w.targetId)&&(o++,u.push(this.removeTargetData(i,w)))}).next(()=>Ae.waitFor(u)).next(()=>o)}forEachTarget(i,n){return Um(i).Kt((s,o)=>{const u=tv(o);n(u)})}re(i){return wT(i).get(Rr.key).next(n=>(Ct(null!==n),n))}oe(i,n){return wT(i).put(Rr.key,n)}ae(i,n){return Um(i).put(qO(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=Em(n),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return Um(i).Kt({range:o,index:is.queryTargetsIndexName},(f,g,w)=>{const x=tv(g);Ny(n,x.target)&&(u=x,w.done())}).next(()=>u)}addMatchingKeys(i,n,s){const o=[],u=Ea(i);return n.forEach(f=>{const g=To(f.path);o.push(u.put(new Ii(s,g))),o.push(this.referenceDelegate.addReference(i,s,f))}),Ae.waitFor(o)}removeMatchingKeys(i,n,s){const o=Ea(i);return Ae.forEach(n,u=>{const f=To(u.path);return Ae.waitFor([o.delete([s,f]),this.referenceDelegate.removeReference(i,s,u)])})}removeMatchingKeysForTargetId(i,n){const s=Ea(i),o=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(o)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ea(i);let u=an();return o.Kt({range:s,qt:!0},(f,g,w)=>{const x=wa(f[1]),S=new Ze(x);u=u.add(S)}).next(()=>u)}containsKey(i,n){const s=To(n.path),o=IDBKeyRange.bound([s],[Cs(s)],!1,!0);let u=0;return Ea(i).Kt({index:Ii.documentTargetsIndex,qt:!0,range:o},([f,g],w,x)=>{0!==f&&(u++,x.done())}).next(()=>u>0)}Et(i,n){return Um(i).get(n).next(s=>s?tv(s):null)}}function Um(r){return rs(r,is.store)}function wT(r){return rs(r,Rr.store)}function Ea(r){return rs(r,Ii.store)}function Qs(r){return iv.apply(this,arguments)}function iv(){return(iv=(0,be.Z)(function*(r){if(r.code!==de.FAILED_PRECONDITION||r.message!==dT)throw r;Pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function CT([r,i],[n,s]){const o=qt(r,n);return 0===o?qt(i,s):o}class e1{constructor(i){this.ue=i,this.buffer=new Qn(CT),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();CT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j0{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(o){Cc(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Qs(o)}yield n._e(i)}))}}class ET{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Ae.resolve(ns.T);const s=new e1(n);return this.me.forEachTarget(i,o=>s.fe(o.sequenceNumber)).next(()=>this.me.ye(i,o=>s.fe(o))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(KO)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KO):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,o,u,f,g,w,x;const S=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(i,o))).next(I=>(s=I,g=Date.now(),this.removeTargets(i,s,n))).next(I=>(u=I,w=Date.now(),this.removeOrphanedDocuments(i,s))).next(I=>(x=Date.now(),r0()<=wh.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-S}ms\n\tDetermined least recently used ${o} in `+(g-f)+`ms\n\tRemoved ${u} targets in `+(w-g)+`ms\n\tRemoved ${I} documents in `+(x-w)+`ms\nTotal Duration: ${x-S}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}class DT{constructor(i,n){this.db=i,this.garbageCollector=new ET(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(o=>s+o))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,o)=>n(o))}addReference(i,n,s){return Hm(i,s)}removeReference(i,n,s){return Hm(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return Hm(i,n)}Ie(i,n){return function(s,o){let u=!1;return JO(s).jt(f=>bT(s,f,o).next(g=>(g&&(u=!0),Ae.resolve(!g)))).next(()=>u)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Te(i,(f,g)=>{if(g<=n){const w=this.Ie(i,f).next(x=>{if(!x)return u++,s.getEntry(i,f).next(()=>(s.removeEntry(f),Ea(i).delete([0,To(f.path)])))});o.push(w)}}).next(()=>Ae.waitFor(o)).next(()=>s.apply(i)).next(()=>u)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return Hm(i,n)}Te(i,n){const s=Ea(i);let o,u=ns.T;return s.Kt({index:Ii.documentTargetsIndex},([f,g],{path:w,sequenceNumber:x})=>{0===f?(u!==ns.T&&n(new Ze(wa(o)),u),u=x,o=w):u=ns.T}).next(()=>{u!==ns.T&&n(new Ze(wa(o)),u)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function Hm(r,i){return Ea(r).put((s=r.currentSequenceNumber,new Ii(0,To(i.path),s)));var s}class Gm{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[o,u]of s)if(this.equalsFn(o,i))return u}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),o=this.inner[s];if(void 0!==o){for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],i))return void(o[u]=[i,n]);o.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],i))return 1===s.length?delete this.inner[n]:s.splice(o,1),!0;return!1}forEach(i){ju(this.inner,(n,s)=>{for(const[o,u]of s)i(o,u)})}isEmpty(){return a0(this.inner)}}class z0{constructor(){this.changes=new Gm(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:ft.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:Rn.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Ae.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class rv{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return rd(i).put(Y0(n),s)}removeEntry(i,n){const s=rd(i),o=Y0(n);return s.delete(o)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return rd(i).get(Y0(n)).next(s=>this.Re(n,s))}be(i,n){return rd(i).get(Y0(n)).next(s=>({document:this.Re(n,s),size:nv(s)}))}getEntries(i,n){let s=gr();return this.Pe(i,n,(o,u)=>{const f=this.Re(o,u);s=s.insert(o,f)}).next(()=>s)}ve(i,n){let s=gr(),o=new Ai(Ze.comparator);return this.Pe(i,n,(u,f)=>{const g=this.Re(u,f);s=s.insert(u,g),o=o.insert(u,nv(f))}).next(()=>({documents:s,Ve:o}))}Pe(i,n,s){if(n.isEmpty())return Ae.resolve();const o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator();let f=u.getNext();return rd(i).Kt({range:o},(g,w,x)=>{const S=Ze.fromSegments(g);for(;f&&Ze.comparator(f,S)<0;)s(f,null),f=u.getNext();f&&f.isEqual(S)&&(s(f,w),f=u.hasNext()?u.getNext():null),f?x.Mt(f.path.toArray()):x.done()}).next(()=>{for(;f;)s(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(i,n,s){let o=gr();const u=n.path.length+1,f={};if(s.isEqual(ft.min())){const g=n.path.toArray();f.range=IDBKeyRange.lowerBound(g)}else{const g=n.path.toArray(),w=_T(s);f.range=IDBKeyRange.lowerBound([g,w],!0),f.index=En.collectionReadTimeIndex}return rd(i).Kt(f,(g,w,x)=>{if(g.length!==u)return;const S=gT(this.N,w);n.path.isPrefixOf(S.key.path)?Uy(n,S)&&(o=o.insert(S.key,S)):x.done()}).next(()=>o)}newChangeBuffer(i){return new xT(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return t1(i).get(Ao.key).next(n=>(Ct(!!n),n))}Ae(i,n){return t1(i).put(Ao.key,n)}Re(i,n){if(n){const s=gT(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(ft.min()))return s}return Rn.newInvalidDocument(i)}}class xT extends z0{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new Gm(s=>s.toString(),(s,o)=>s.isEqual(o))}applyChanges(i){const n=[];let s=0,o=new Qn((u,f)=>qt(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const g=this.De.get(u);if(f.document.isValidDocument()){const w=zO(this.Se.N,f.document,this.getReadTime(u));o=o.add(u.path.popLast()),s+=nv(w)-g,n.push(this.Se.addEntry(i,u,w))}else if(s-=g,this.trackRemovals){const w=zO(this.Se.N,Rn.newNoDocument(u,ft.min()),this.getReadTime(u));n.push(this.Se.addEntry(i,u,w))}else n.push(this.Se.removeEntry(i,u))}),o.forEach(u=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,u))}),n.push(this.Se.updateMetadata(i,s)),Ae.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:o})=>(o.forEach((u,f)=>{this.De.set(u,f)}),s))}}function t1(r){return rs(r,Ao.store)}function rd(r){return rs(r,En.store)}function Y0(r){return r.path.toArray()}class n1{constructor(i){this.N=i}Ct(i,n,s,o){Ct(s<o&&s>=0&&o<=11);const u=new Xy("createOrUpgrade",n);var g;s<1&&o>=1&&(i.createObjectStore(yr.store),(g=i).createObjectStore(Ca.store,{keyPath:Ca.keyPath}),g.createObjectStore(On.store,{keyPath:On.keyPath,autoIncrement:!0}).createIndex(On.userMutationsIndex,On.userMutationsKeyPath,{unique:!0}),g.createObjectStore(er.store),i1(i),function(g){g.createObjectStore(En.store)}(i));let f=Ae.resolve();return s<3&&o>=3&&(0!==s&&(function(g){g.deleteObjectStore(Ii.store),g.deleteObjectStore(is.store),g.deleteObjectStore(Rr.store)}(i),i1(i)),f=f.next(()=>function(g){const w=g.store(Rr.store),x=new Rr(0,0,ft.min().toTimestamp(),0);return w.put(Rr.key,x)}(u))),s<4&&o>=4&&(0!==s&&(f=f.next(()=>function(g,w){return w.store(On.store).Lt().next(x=>{g.deleteObjectStore(On.store),g.createObjectStore(On.store,{keyPath:On.keyPath,autoIncrement:!0}).createIndex(On.userMutationsIndex,On.userMutationsKeyPath,{unique:!0});const S=w.store(On.store),I=x.map(F=>S.put(F));return Ae.waitFor(I)})}(i,u))),f=f.next(()=>{!function(g){g.createObjectStore(yl.store,{keyPath:yl.keyPath})}(i)})),s<5&&o>=5&&(f=f.next(()=>this.Ce(u))),s<6&&o>=6&&(f=f.next(()=>(function(g){g.createObjectStore(Ao.store)}(i),this.Ne(u)))),s<7&&o>=7&&(f=f.next(()=>this.xe(u))),s<8&&o>=8&&(f=f.next(()=>this.ke(i,u))),s<9&&o>=9&&(f=f.next(()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(i),function(g){const w=g.objectStore(En.store);w.createIndex(En.readTimeIndex,En.readTimeIndexPath,{unique:!1}),w.createIndex(En.collectionReadTimeIndex,En.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&o>=10&&(f=f.next(()=>this.$e(u))),s<11&&o>=11&&(f=f.next(()=>{(function(g){g.createObjectStore(ed.store,{keyPath:ed.keyPath})})(i),function(g){g.createObjectStore(td.store,{keyPath:td.keyPath})}(i)})),f}Ne(i){let n=0;return i.store(En.store).Kt((s,o)=>{n+=nv(o)}).next(()=>{const s=new Ao(n);return i.store(Ao.store).put(Ao.key,s)})}Ce(i){const n=i.store(Ca.store),s=i.store(On.store);return n.Lt().next(o=>Ae.forEach(o,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.Lt(On.userMutationsIndex,f).next(g=>Ae.forEach(g,w=>{Ct(w.userId===u.userId);const x=Bm(this.N,w);return QO(i,u.userId,x).next(()=>{})}))}))}xe(i){const n=i.store(Ii.store),s=i.store(En.store);return i.store(Rr.store).get(Rr.key).next(o=>{const u=[];return s.Kt((f,g)=>{const w=new $t(f),x=[0,To(w)];u.push(n.get(x).next(S=>S?Ae.resolve():n.put(new Ii(0,To(w),o.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(u))})}ke(i,n){i.createObjectStore(Xu.store,{keyPath:Xu.keyPath});const s=n.store(Xu.store),o=new H0,u=f=>{if(o.add(f)){const g=f.lastSegment(),w=f.popLast();return s.put({collectionId:g,parent:To(w)})}};return n.store(En.store).Kt({qt:!0},(f,g)=>{const w=new $t(f);return u(w.popLast())}).next(()=>n.store(er.store).Kt({qt:!0},([f,g,w],x)=>{const S=wa(g);return u(S.popLast())}))}$e(i){const n=i.store(is.store);return n.Kt((s,o)=>{const u=tv(o),f=qO(this.N,u);return n.put(f)})}}function i1(r){r.createObjectStore(Ii.store,{keyPath:Ii.keyPath}).createIndex(Ii.documentTargetsIndex,Ii.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(is.store,{keyPath:is.keyPath}).createIndex(is.queryTargetsIndexName,is.queryTargetsKeyPath,{unique:!0}),r.createObjectStore(Rr.store)}const Qh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class q0{constructor(i,n,s,o,u,f,g,w,x,S){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=u,this.window=f,this.document=g,this.Fe=x,this.Me=S,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=I=>Promise.resolve(),!q0.bt())throw new Se(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DT(this,o),this.We=n+"main",this.N=new jO(w),this.Ge=new Io(this.We,11,new n1(this.N)),this.ze=new XO(this.referenceDelegate,this.N),this.Ht=new WO,this.He=new rv(this.N,this.Ht),this.Je=new yL,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===S&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,Qh);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new ns(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,be.Z)(function*(o){if(n.started)return i(o)});return function(o){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,be.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,be.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>$0(i).put(new yl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(Cc(i))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return sv(i).get(yr.key).next(n=>Ae.resolve(this.cn(n)))}un(i){return $0(i).delete(this.clientId)}hn(){var i=this;return(0,be.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const o=rs(s,yl.store);return o.Lt().next(u=>{const f=i.fn(u,18e5),g=u.filter(w=>-1===f.indexOf(w));return Ae.forEach(g,w=>o.delete(w.clientId)).next(()=>g)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Ae.resolve(!0):sv(i).get(yr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,Qh);return!1}}return!(!this.networkEnabled||!this.inForeground)||$0(i).Lt().next(s=>void 0===this.fn(s,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&g)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Pe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,be.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[yr.store,yl.store],n=>{const s=new pT(n,ns.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>$0(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return G0.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let u;return Pe("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",uT,f=>(u=new pT(f,this.Le?this.Le.next():ns.T),"readwrite-primary"===n?this.sn(u).next(g=>!!g||this.rn(u)).next(g=>{if(!g)throw ci(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Se(de.FAILED_PRECONDITION,dT);return s(u)}).next(g=>this.an(u).next(()=>g)):this.En(u).next(()=>s(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}En(i){return sv(i).get(yr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Se(de.FAILED_PRECONDITION,Qh)})}an(i){const n=new yr(this.clientId,this.allowTabSynchronization,Date.now());return sv(i).put(yr.key,n)}static bt(){return Io.bt()}on(i){const n=sv(i);return n.get(yr.key).next(s=>this.cn(s)?(Pe("IndexedDbPersistence","Releasing primary lease."),n.delete(yr.key)):Ae.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(ci(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,Pt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return Pe("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ci("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){ci("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function sv(r){return rs(r,yr.store)}function $0(r){return rs(r,yl.store)}function jm(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class r1{constructor(i,n){this.progress=i,this.Tn=n}}class s1{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(o=>{for(const u of s)u.applyToLocalView(o);return o})}bn(i,n){i.forEach((s,o)=>{for(const u of n)u.applyToLocalView(o)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return Ze.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(i,n.path):v0(n)?this.Sn(i,n,s):this.Dn(i,n,s);var o}Vn(i,n){return this.An(i,new Ze(n)).next(s=>{let o=qy();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}Sn(i,n,s){const o=n.collectionGroup;let u=qy();return this.Ht.getCollectionParents(i,o).next(f=>Ae.forEach(f,g=>{const w=(x=n,S=g.child(o),new _l(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt));var x,S;return this.Dn(i,w,s).next(x=>{x.forEach((S,I)=>{u=u.insert(S,I)})})}).next(()=>u))}Dn(i,n,s){let o,u;return this.He.getDocumentsMatchingQuery(i,n,s).next(f=>(o=f,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(f=>(u=f,this.Cn(i,u,o).next(g=>{o=g;for(const w of u)for(const x of w.mutations){const S=x.key;let I=o.get(S);null==I&&(I=Rn.newInvalidDocument(S),o=o.insert(S,I)),D0(x,I,w.localWriteTime),I.isFoundDocument()||(o=o.remove(S))}}))).next(()=>(o.forEach((f,g)=>{Uy(n,g)||(o=o.remove(f))}),o))}Cn(i,n,s){let o=an();for(const f of n)for(const g of f.mutations)g instanceof Ku&&null===s.get(g.key)&&(o=o.add(g.key));let u=s;return this.He.getEntries(i,o).next(f=>(f.forEach((g,w)=>{w.isFoundDocument()&&(u=u.insert(g,w))}),u))}}class MT{constructor(i,n,s,o){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=o}static kn(i,n){let s=an(),o=an();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new MT(i,n.fromCache,s,o)}}class ST{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,o){return 0===(u=n).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||s.isEqual(ft.min())?this.Fn(i,n):this.On.Pn(i,o).next(u=>{const f=this.Mn(n,u);return(g0(n)||xm(n))&&this.Ln(n.limitType,f,o,s)?this.Fn(i,n):(r0()<=wh.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),VS(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(g=>(f.forEach(w=>{g=g.insert(w.key,w)}),g)))});var u}Mn(i,n){let s=new Qn(xO(i));return n.forEach((o,u)=>{Uy(i,u)&&(s=s.add(u))}),s}Ln(i,n,s,o){if(s.size!==n.size)return!0;const u="F"===i?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Fn(i,n){return r0()<=wh.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",VS(n)),this.On.getDocumentsMatchingQuery(i,n,ft.min())}}class bL{constructor(i,n,s,o){this.persistence=i,this.Bn=n,this.N=o,this.Un=new Ai(qt),this.qn=new Gm(u=>Em(u),Ny),this.Kn=ft.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new s1(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function Z0(r,i,n,s){return new bL(r,i,n,s)}function TT(r,i){return AT.apply(this,arguments)}function AT(){return(AT=(0,be.Z)(function*(r,i){const n=Te(r);let s=n.In,o=n.Qn;const u=yield n.persistence.runTransaction("Handle user change","readonly",f=>{let g;return n.In.getAllMutationBatches(f).next(w=>(g=w,s=n.persistence.getMutationQueue(i),o=new s1(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(w=>{const x=[],S=[];let I=an();for(const F of g){x.push(F.batchId);for(const L of F.mutations)I=I.add(L.key)}for(const F of w){S.push(F.batchId);for(const L of F.mutations)I=I.add(L.key)}return o.Pn(f,I).next(F=>({Wn:F,removedBatchIds:x,addedBatchIds:S}))})});return n.In=s,n.Qn=o,n.Bn.$n(n.Qn),u})).apply(this,arguments)}function wL(r,i){const n=Te(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=i.batch.keys(),u=n.jn.newChangeBuffer({trackRemovals:!0});return function(f,g,w,x){const S=w.batch,I=S.keys();let F=Ae.resolve();return I.forEach(L=>{F=F.next(()=>x.getEntry(g,L)).next(j=>{const ne=w.docVersions.get(L);Ct(null!==ne),j.version.compareTo(ne)<0&&(S.applyToRemoteDocument(j,w),j.isValidDocument()&&x.addEntry(j,w.commitVersion))})}),F.next(()=>f.In.removeMutationBatch(g,S))}(n,s,i,u).next(()=>u.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,o))})}function IT(r){const i=Te(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function zm(r,i){const n=Te(r),s=i.snapshotVersion;let o=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.jn.newChangeBuffer({trackRemovals:!0});o=n.Un;const g=[];i.targetChanges.forEach((x,S)=>{const I=o.get(S);if(!I)return;g.push(n.ze.removeMatchingKeys(u,x.removedDocuments,S).next(()=>n.ze.addMatchingKeys(u,x.addedDocuments,S)));const F=x.resumeToken;if(F.approximateByteSize()>0){const L=I.withResumeToken(F,s).withSequenceNumber(u.currentSequenceNumber);o=o.insert(S,L),j=I,me=x,Ct((ne=L).resumeToken.approximateByteSize()>0),(0===j.resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&g.push(n.ze.updateTargetData(u,L))}var j,ne,me});let w=gr();if(i.documentUpdates.forEach((x,S)=>{i.resolvedLimboDocuments.has(x)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,x))}),g.push(kT(u,f,i.documentUpdates,s,void 0).next(x=>{w=x})),!s.isEqual(ft.min())){const x=n.ze.getLastRemoteSnapshotVersion(u).next(S=>n.ze.setTargetsMetadata(u,u.currentSequenceNumber,s));g.push(x)}return Ae.waitFor(g).next(()=>f.apply(u)).next(()=>n.Qn.vn(u,w)).next(()=>w)}).then(u=>(n.Un=o,u))}function kT(r,i,n,s,o){let u=an();return n.forEach(f=>u=u.add(f)),i.getEntries(r,u).next(f=>{let g=gr();return n.forEach((w,x)=>{const S=f.get(w),I=(null==o?void 0:o.get(w))||s;x.isNoDocument()&&x.version.isEqual(ft.min())?(i.removeEntry(w,I),g=g.insert(w,x)):!S.isValidDocument()||x.version.compareTo(S.version)>0||0===x.version.compareTo(S.version)&&S.hasPendingWrites?(i.addEntry(x,I),g=g.insert(w,x)):Pe("LocalStore","Ignoring outdated watch update for ",w,". Current version:",S.version," Watch version:",x.version)}),g})}function o1(r,i){const n=Te(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function Jh(r,i){const n=Te(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ze.getTargetData(s,i).next(u=>u?(o=u,Ae.resolve(o)):n.ze.allocateTargetId(s).next(f=>(o=new nd(i,f,0,s.currentSequenceNumber),n.ze.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Un.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function Dc(r,i,n){return W0.apply(this,arguments)}function W0(){return(W0=(0,be.Z)(function*(r,i,n){const s=Te(r),o=s.Un.get(i),u=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Cc(f))throw f;Pe("LocalStore",`Failed to update sequence numbers for target ${i}: ${f}`)}s.Un=s.Un.remove(i),s.qn.delete(o.target)})).apply(this,arguments)}function vr(r,i,n){const s=Te(r);let o=ft.min(),u=an();return s.persistence.runTransaction("Execute query","readonly",f=>function(g,w,x){const S=Te(g),I=S.qn.get(x);return void 0!==I?Ae.resolve(S.Un.get(I)):S.ze.getTargetData(w,x)}(s,f,Ks(i)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,g.targetId).next(w=>{u=w})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,i,n?o:ft.min(),n?u:an())).next(g=>({documents:g,Gn:u})))}function RT(r,i){const n=Te(r),s=Te(n.ze),o=n.Un.get(i);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",u=>s.Et(u,i).next(f=>f?f.target:null))}function ov(r){const i=Te(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,o,u){const f=Te(s);let g=gr(),w=_T(u);const x=rd(o),S=IDBKeyRange.lowerBound(w,!0);return x.Kt({index:En.readTimeIndex,range:S},(I,F)=>{const L=gT(f.N,F);g=g.insert(L.key,L),w=F.readTime}).next(()=>({Tn:g,readTime:YO(w)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function K0(){return(K0=(0,be.Z)(function*(r){const i=Te(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const o=rd(s);let u=ft.min();return o.Kt({index:En.readTimeIndex,reverse:!0},(f,g,w)=>{g.readTime&&(u=YO(g.readTime)),w.done()}).next(()=>u)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function av(){return(av=(0,be.Z)(function*(r,i,n,s){const o=Te(r);let u=an(),f=gr(),g=A0();for(const S of n){const I=i.zn(S.metadata.name);S.document&&(u=u.add(I)),f=f.insert(I,i.Hn(S)),g=g.insert(I,i.Jn(S.metadata.readTime))}const w=o.jn.newChangeBuffer({trackRemovals:!0}),x=yield Jh(o,(S=s,Ks(_a($t.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>kT(S,w,f,ft.min(),g).next(I=>(w.apply(S),I)).next(I=>o.ze.removeMatchingKeysForTargetId(S,x.targetId).next(()=>o.ze.addMatchingKeys(S,u,x.targetId)).next(()=>o.Qn.vn(S,I)).next(()=>I)))})).apply(this,arguments)}function OT(r,i){return J0.apply(this,arguments)}function J0(){return(J0=(0,be.Z)(function*(r,i,n=an()){const s=yield Jh(r,Ks(yT(i.bundledQuery))),o=Te(r);return o.persistence.runTransaction("Save named query","readwrite",u=>{const f=hi(i.readTime);if(s.snapshotVersion.compareTo(f)>=0)return o.Je.saveNamedQuery(u,i);const g=s.withResumeToken(Ti.EMPTY_BYTE_STRING,f);return o.Un=o.Un.insert(g.targetId,g),o.ze.updateTargetData(u,g).next(()=>o.ze.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>o.ze.addMatchingKeys(u,n,s.targetId)).next(()=>o.Je.saveNamedQuery(u,i))})})).apply(this,arguments)}class FT{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Ae.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:hi(s.createTime)}),Ae.resolve()}getNamedQuery(i,n){return Ae.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:yT(s.bundledQuery),readTime:hi(s.readTime)}),Ae.resolve();var s}}class lv{constructor(){this.Zn=new Qn(Ui.ts),this.es=new Qn(Ui.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new Ui(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new Ui(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new Ze(new $t([])),s=new Ui(n,i),o=new Ui(n,i+1),u=[];return this.es.forEachInRange([s,o],f=>{this.rs(f),u.push(f.key)}),u}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new Ze(new $t([])),s=new Ui(n,i),o=new Ui(n,i+1);let u=an();return this.es.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(i){const n=new Ui(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class Ui{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return Ze.comparator(i.key,n.key)||qt(i.ls,n.ls)}static ns(i,n){return qt(i.ls,n.ls)||Ze.comparator(i.key,n.key)}}class l1{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Qn(Ui.ts)}checkEmpty(i){return Ae.resolve(0===this.In.length)}addMutationBatch(i,n,s,o){const u=this.fs;this.fs++;const f=new ev(u,n,s,o);this.In.push(f);for(const g of o)this.ds=this.ds.add(new Ui(g.key,u)),this.Ht.addToCollectionParentIndex(i,g.key.path.popLast());return Ae.resolve(f)}lookupMutationBatch(i,n){return Ae.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const o=this._s(n+1),u=o<0?0:o;return Ae.resolve(this.In.length>u?this.In[u]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new Ui(n,0),o=new Ui(n,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([s,o],f=>{const g=this.ws(f.ls);u.push(g)}),Ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Qn(qt);return n.forEach(o=>{const u=new Ui(o,0),f=new Ui(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,f],g=>{s=s.add(g.ls)})}),Ae.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1;let u=s;Ze.isDocumentKey(u)||(u=u.child(""));const f=new Ui(new Ze(u),0);let g=new Qn(qt);return this.ds.forEachWhile(w=>{const x=w.key.path;return!!s.isPrefixOf(x)&&(x.length===o&&(g=g.add(w.ls)),!0)},f),Ae.resolve(this.gs(g))}gs(i){const n=[];return i.forEach(s=>{const o=this.ws(s);null!==o&&n.push(o)}),n}removeMutationBatch(i,n){Ct(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Ae.forEach(n.mutations,o=>{const u=new Ui(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(i,o.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new Ui(n,0),o=this.ds.firstAfterOrEqual(s);return Ae.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(i){return Ae.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class X0{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new Ai(Ze.comparator),this.size=0}addEntry(i,n,s){const o=n.key,u=this.docs.get(o),f=u?u.size:0,g=this.ps(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:g,readTime:s}),this.size+=g-f,this.Ht.addToCollectionParentIndex(i,o.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Ae.resolve(s?s.document.clone():Rn.newInvalidDocument(n))}getEntries(i,n){let s=gr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.clone():Rn.newInvalidDocument(o))}),Ae.resolve(s)}getDocumentsMatchingQuery(i,n,s){let o=gr();const u=new Ze(n.path.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:g,value:{document:w,readTime:x}}=f.getNext();if(!n.path.isPrefixOf(g.path))break;x.compareTo(s)<=0||Uy(n,w)&&(o=o.insert(w.key,w.clone()))}return Ae.resolve(o)}Es(i,n){return Ae.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new PT(this)}getSize(i){return Ae.resolve(this.size)}}class PT extends z0{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,o)=>{o.document.isValidDocument()?n.push(this.Se.addEntry(i,o.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Ae.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class NT{constructor(i){this.persistence=i,this.Ts=new Gm(n=>Em(n),Ny),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Is=0,this.As=new lv,this.targetCount=0,this.Rs=Kh.se()}forEachTarget(i,n){return this.Ts.forEach((s,o)=>n(o)),Ae.resolve()}getLastRemoteSnapshotVersion(i){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Ae.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Ae.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new Kh(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Ae.resolve()}updateTargetData(i,n){return this.ae(n),Ae.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(i,n,s){let o=0;const u=[];return this.Ts.forEach((f,g)=>{g.sequenceNumber<=n&&null===s.get(g.targetId)&&(this.Ts.delete(f),u.push(this.removeMatchingKeysForTargetId(i,g.targetId)),o++)}),Ae.waitFor(u).next(()=>o)}getTargetCount(i){return Ae.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Ae.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Ae.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(i,f))}),Ae.waitFor(u)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Ae.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Ae.resolve(s)}containsKey(i,n){return Ae.resolve(this.As.containsKey(n))}}class eE{constructor(i,n){this.bs={},this.Le=new ns(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new NT(this),this.Ht=new vL,this.He=new X0(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new jO(n),this.Je=new FT(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new l1(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){Pe("MemoryPersistence","Starting transaction:",i);const o=new c1(this.Le.next());return this.referenceDelegate.vs(),s(o).next(u=>this.referenceDelegate.Vs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ss(i,n){return Ae.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class c1 extends B0{constructor(i){super(),this.currentSequenceNumber=i}}class Ds{constructor(i){this.persistence=i,this.Ds=new lv,this.Cs=null}static Ns(i){return new Ds(i)}get xs(){if(this.Cs)return this.Cs;throw We()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Ae.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Ae.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Ae.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(o=>this.xs.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(o=>{o.forEach(u=>this.xs.add(u.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,s=>{const o=Ze.fromPath(s);return this.ks(i,o).next(u=>{u||n.removeEntry(o)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function LT(r,i){return`firestore_clients_${r}_${i}`}function u1(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function tE(r,i){return`firestore_targets_${r}_${i}`}class nE{constructor(i,n,s,o){this.user=i,this.batchId=n,this.state=s,this.error=o}static $s(i,n,s){const o=JSON.parse(s);let u,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new Se(o.error.code,o.error.message))),f?new nE(i,n,o.state,u):(ci("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Ym{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let o,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(o=new Se(s.error.code,s.error.message))),u?new Ym(i,s.state,o):(ci("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class cv{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let o="object"==typeof s&&s.activeTargetIds instanceof Array,u=Sm();for(let f=0;o&&f<s.activeTargetIds.length;++f)o=c0(s.activeTargetIds[f]),u=u.add(s.activeTargetIds[f]);return o?new cv(i,u):(ci("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class iE{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new iE(n.clientId,n.onlineState):(ci("SharedClientState",`Failed to parse online state: ${i}`),null)}}class BT{constructor(){this.activeTargetIds=Sm()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class rE{constructor(i,n,s,o,u){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Ai(qt),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.js=LT(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new BT),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(g){return`firestore_bundle_loaded_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,be.Z)(function*(){const n=yield i.syncEngine.pn();for(const o of n){if(o===i.Ls)continue;const u=i.getItem(LT(i.persistenceKey,o));if(u){const f=cv.$s(o,u);f&&(i.qs=i.qs.insert(f.clientId,f))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const o=i.Xs(s);o&&i.Zs(o)}for(const o of i.Ks)i.Us(o);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,o)=>{o.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(tE(this.persistenceKey,i));if(s){const o=Ym.$s(i,s);o&&(n=o.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(tE(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(o=>{this.ni(o)}),this.currentUser=i,s.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return Pe("SharedClientState","READ",i,n),n}setItem(i,n){Pe("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){Pe("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(Pe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const o=n.ai(s.key);return n.ci(o,null)}{const o=n.ui(s.key,s.newValue);if(o)return n.ci(o.clientId,o)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const o=n.hi(s.key,s.newValue);if(o)return n.li(o)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const o=n.fi(s.key,s.newValue);if(o)return n.di(o)}}else if(s.key===n.Hs){if(null!==s.newValue){const o=n.Xs(s.newValue);if(o)return n.Zs(o)}}else if(s.key===n.Qs){const o=function(u){let f=ns.T;if(null!=u)try{const g=JSON.parse(u);Ct("number"==typeof g),f=g}catch(g){ci("SharedClientState","Failed to read sequence number from WebStorage",g)}return f}(s.newValue);o!==ns.T&&n.sequenceNumberHandler(o)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const o=new nE(this.currentUser,i,n,s),u=u1(this.persistenceKey,this.currentUser,i);this.setItem(u,o.Os())}ni(i){const n=u1(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const o=tE(this.persistenceKey,i),u=new Ym(i,n,s);this.setItem(o,u.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return cv.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),o=Number(s[1]);return nE.$s(new Si(void 0!==s[2]?s[2]:null),o,n)}fi(i,n){const s=this.zs.exec(i),o=Number(s[1]);return Ym.$s(o,n)}Xs(i){return iE.$s(i)}li(i){var n=this;return(0,be.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),o=this.ti(this.qs),u=this.ti(s),f=[],g=[];return u.forEach(w=>{o.has(w)||f.push(w)}),o.forEach(w=>{u.has(w)||g.push(w)}),this.syncEngine.gi(f,g).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=Sm();return i.forEach((s,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class sE{constructor(){this.yi=new BT,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new BT,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class d1{Ei(i){}shutdown(){}}class VT{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const UT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class h1{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class CL extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,o){const u=this.Bi(i,n);Pe("RestConnection","Sending: ",u,s);const f={};return this.Ui(f,o),this.qi(i,u,f,s).then(g=>(Pe("RestConnection","Received: ",g),g),g=>{throw Uh("RestConnection",`${i} failed with error: `,g,"url: ",u,"request:",s),g})}Ki(i,n,s,o){return this.Li(i,n,s,o)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+Hu,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${UT[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,o){return new Promise((u,f)=>{const g=new AS;g.listenOnce(TS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case mm.NO_ERROR:const x=g.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(x)),u(x);break;case mm.TIMEOUT:Pe("Connection",'RPC "'+i+'" timed out'),f(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:const S=g.getStatus();if(Pe("Connection",'RPC "'+i+'" failed with status:',S,"response text:",g.getResponseText()),S>0){const I=g.getResponseJson().error;if(I&&I.status&&I.message){const F=function(L){const j=L.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(j)>=0?j:de.UNKNOWN}(I.status);f(new Se(F,I.message))}else f(new Se(de.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new Se(de.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Pe("Connection",'RPC "'+i+'" completed.')}});const w=JSON.stringify(o);g.send(n,"POST",w,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=new Py,u=yy(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new gm({})),this.Ui(f.initMessageHeaders,n),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=s.join("");Pe("Connection","Creating WebChannel: "+g,f);const w=o.createWebChannel(g,f);let x=!1,S=!1;const I=new h1({vi:L=>{S?Pe("Connection","Not sending because WebChannel is closed:",L):(x||(Pe("Connection","Opening WebChannel transport."),w.open(),x=!0),Pe("Connection","WebChannel sending:",L),w.send(L))},Vi:()=>w.close()}),F=(L,j,ne)=>{L.listen(j,me=>{try{ne(me)}catch(xe){setTimeout(()=>{throw xe},0)}})};return F(w,_m.EventType.OPEN,()=>{S||Pe("Connection","WebChannel transport opened.")}),F(w,_m.EventType.CLOSE,()=>{S||(S=!0,Pe("Connection","WebChannel transport closed"),I.$i())}),F(w,_m.EventType.ERROR,L=>{S||(S=!0,Uh("Connection","WebChannel transport errored:",L),I.$i(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),F(w,_m.EventType.MESSAGE,L=>{var j;if(!S){const ne=L.data[0];Ct(!!ne);const me=ne,xe=me.error||(null===(j=me[0])||void 0===j?void 0:j.error);if(xe){Pe("Connection","WebChannel received error:",xe);const Ge=xe.status;let Be=function(mn){const mi=di[mn];if(void 0!==mi)return KS(mi)}(Ge),ze=xe.message;void 0===Be&&(Be=de.INTERNAL,ze="Unknown error status: "+Ge+" with message "+xe.message),S=!0,I.$i(new Se(Be,ze)),w.close()}else Pe("Connection","WebChannel received:",ne),I.Oi(ne)}}),F(u,cO.STAT_EVENT,L=>{L.stat===n0_PROXY?Pe("Connection","Detected buffering proxy"):L.stat===n0_NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.ki()},0),I}}function oE(){return"undefined"!=typeof window?window:null}function qm(){return"undefined"!=typeof document?document:null}function $m(r){return new OO(r,!0)}class aE{constructor(i,n,s=1e3,o=1.5,u=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=o,this.Gi=u,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),o=Math.max(0,n-s);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class lE{constructor(i,n,s,o,u,f){this.Oe=i,this.er=s,this.nr=o,this.credentialsProvider=u,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new aE(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,be.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,be.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(ci(n.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===de.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const o=new Se(de.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(o)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){i.state=0,i.start()}))}pr(i){return Pe("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zm extends lE{constructor(i,n,s,o,u){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,u),this.N=o}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(w=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:We(),o=i.targetChange.targetIds||[],u=function(w,x){return w.D?(Ct(void 0===x||"string"==typeof x),Ti.fromBase64String(x||"")):(Ct(void 0===x||x instanceof Uint8Array),Ti.fromUint8Array(x||new Uint8Array))}(r,i.targetChange.resumeToken),f=i.targetChange.cause,g=f&&function(w){const x=void 0===w.code?de.UNKNOWN:KS(w.code);return new Se(x,w.message||"")}(f);n=new Zh(s,o,u,g||null)}else if("documentChange"in i){const s=i.documentChange,o=va(r,s.document.name),u=hi(s.document.updateTime),f=new rn({mapValue:{fields:s.document.fields}}),g=Rn.newFoundDocument(o,u,f);n=new $y(s.targetIds||[],s.removedTargetIds||[],g.key,g)}else if("documentDelete"in i){const s=i.documentDelete,o=va(r,s.document),u=s.readTime?hi(s.readTime):ft.min(),f=Rn.newNoDocument(o,u);n=new $y([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in i){const s=i.documentRemove,o=va(r,s.document);n=new $y([],s.removedTargetIds||[],o,null)}else{if(!("filter"in i))return We();{const s=i.filter,u=new S0(s.count||0);n=new tT(s.targetId,u)}}var w;return n}(this.N,i),s=function(o){if(!("targetChange"in o))return ft.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?ft.min():u.readTime?hi(u.readTime):ft.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=Rm(this.N),n.addTarget=function(o,u){let f;const g=u.target;return f=Ly(g)?{documents:F0(o,g)}:{query:aT(o,g)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?f.resumeToken=FO(o,u.resumeToken):u.snapshotVersion.compareTo(ft.min())>0&&(f.readTime=km(o,u.snapshotVersion.toTimestamp())),f}(this.N,i);const s=function(r,i){const n=function(s,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return We()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=Rm(this.N),n.removeTarget=i,this.wr(n)}}class cE extends lE{constructor(i,n,s,o,u){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,u),this.N=o,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(Ct(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(Ct(void 0!==i),r.map(n=>function(s,o){let u=hi(s.updateTime?s.updateTime:o);return u.isEqual(ft.min())&&(u=hi(o)),new YS(u,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=hi(i.commitTime);return this.listener.vr(s,n)}return Ct(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=Rm(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>Om(this.N,s))};this.wr(n)}}class HT extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Se(de.UNKNOWN,o.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Se(de.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class f1{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ci(n),this.$r=!1):Pe("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class p1{constructor(i,n,s,o,u){var f=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=u,this.Qr.Ei(g=>{s.enqueueAndForget((0,be.Z)(function*(){var w;sd(f)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,be.Z)(function*(x){const S=Te(x);S.Kr.add(4),yield Wm(S),S.Wr.set("Unknown"),S.Kr.delete(4),yield uv(S)}),function(x){return w.apply(this,arguments)})(f))}))}),this.Wr=new f1(s,o)}}function uv(r){return GT.apply(this,arguments)}function GT(){return(GT=(0,be.Z)(function*(r){if(sd(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function Wm(r){return dv.apply(this,arguments)}function dv(){return(dv=(0,be.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function Km(r,i){const n=Te(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),hv(n)?dE(n):vl(n).cr()&&uE(n,i))}function Qm(r,i){const n=Te(r),s=vl(n);n.qr.delete(i),s.cr()&&jT(n,i),0===n.qr.size&&(s.cr()?s.lr():sd(n)&&n.Wr.set("Unknown"))}function uE(r,i){r.Gr.Y(i.targetId),vl(r).Ir(i)}function jT(r,i){r.Gr.Y(i),vl(r).Ar(i)}function dE(r){r.Gr=new kO({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),vl(r).start(),r.Wr.Or()}function hv(r){return sd(r)&&!vl(r).ar()&&r.qr.size>0}function sd(r){return 0===Te(r).Kr.size}function m1(r){r.Gr=void 0}function g1(r){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,be.Z)(function*(r){r.qr.forEach((i,n)=>{uE(r,i)})})).apply(this,arguments)}function Hi(r,i){return zT.apply(this,arguments)}function zT(){return(zT=(0,be.Z)(function*(r,i){m1(r),hv(r)?(r.Wr.Lr(i),dE(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function YT(r,i,n){return fv.apply(this,arguments)}function fv(){return(fv=(0,be.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof Zh&&2===i.state&&i.cause)try{yield(s=(0,be.Z)(function*(o,u){const f=u.cause;for(const g of u.targetIds)o.qr.has(g)&&(yield o.remoteSyncer.rejectListen(g,f),o.qr.delete(g),o.Gr.removeTarget(g))}),function(o,u){return s.apply(this,arguments)})(r,i)}catch(s){Pe("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield pv(r,s)}else if(i instanceof $y?r.Gr.rt(i):i instanceof tT?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(ft.min()))try{const s=yield IT(r.localStore);n.compareTo(s)>=0&&(yield function(o,u){const f=o.Gr._t(u);return f.targetChanges.forEach((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const x=o.qr.get(w);x&&o.qr.set(w,x.withResumeToken(g.resumeToken,u))}}),f.targetMismatches.forEach(g=>{const w=o.qr.get(g);if(!w)return;o.qr.set(g,w.withResumeToken(Ti.EMPTY_BYTE_STRING,w.snapshotVersion)),jT(o,g);const x=new nd(w.target,g,1,w.sequenceNumber);uE(o,x)}),o.remoteSyncer.applyRemoteEvent(f)}(r,n))}catch(s){Pe("RemoteStore","Failed to raise snapshot:",s),yield pv(r,s)}var s})).apply(this,arguments)}function pv(r,i,n){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,be.Z)(function*(r,i,n){if(!Cc(i))throw i;r.Kr.add(1),yield Wm(r),r.Wr.set("Offline"),n||(n=()=>IT(r.localStore)),r.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield uv(r)}))})).apply(this,arguments)}function qT(r,i){return i().catch(n=>pv(r,n,i))}function ef(r){return mv.apply(this,arguments)}function mv(){return(mv=(0,be.Z)(function*(r){const i=Te(r),n=xc(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;od(i);)try{const o=yield o1(i.localStore,s);if(null===o){0===i.Ur.length&&n.lr();break}s=o.batchId,$T(i,o)}catch(o){yield pv(i,o)}gv(i)&&_v(i)})).apply(this,arguments)}function od(r){return sd(r)&&r.Ur.length<10}function $T(r,i){r.Ur.push(i);const n=xc(r);n.cr()&&n.br&&n.Pr(i.mutations)}function gv(r){return sd(r)&&!xc(r).ar()&&r.Ur.length>0}function _v(r){xc(r).start()}function _1(r){return tf.apply(this,arguments)}function tf(){return(tf=(0,be.Z)(function*(r){xc(r).Sr()})).apply(this,arguments)}function y1(r){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,be.Z)(function*(r){const i=xc(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function ZT(r,i,n){return fi.apply(this,arguments)}function fi(){return(fi=(0,be.Z)(function*(r,i,n){const s=r.Ur.shift(),o=mT.from(s,i,n);yield qT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield ef(r)})).apply(this,arguments)}function EL(r,i){return hE.apply(this,arguments)}function hE(){return(hE=(0,be.Z)(function*(r,i){var n;i&&xc(r).br&&(yield(n=(0,be.Z)(function*(s,o){if(T0(u=o.code)&&u!==de.ABORTED){const f=s.Ur.shift();xc(s).hr(),yield qT(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield ef(s)}var u}),function(s,o){return n.apply(this,arguments)})(r,i)),gv(r)&&_v(r)})).apply(this,arguments)}function fE(r,i){return WT.apply(this,arguments)}function WT(){return(WT=(0,be.Z)(function*(r,i){const n=Te(r);i?(n.Kr.delete(2),yield uv(n)):i||(n.Kr.add(2),yield Wm(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function vl(r){return r.zr||(r.zr=function(i,n,s){const o=Te(i);return o.Cr(),new Zm(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:g1.bind(null,r),Ci:Hi.bind(null,r),Tr:YT.bind(null,r)}),r.jr.push(function(){var i=(0,be.Z)(function*(n){n?(r.zr.hr(),hv(r)?dE(r):r.Wr.set("Unknown")):(yield r.zr.stop(),m1(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function xc(r){return r.Hr||(r.Hr=function(i,n,s){const o=Te(i);return o.Cr(),new cE(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:_1.bind(null,r),Ci:EL.bind(null,r),Vr:y1.bind(null,r),vr:ZT.bind(null,r)}),r.jr.push(function(){var i=(0,be.Z)(function*(n){n?(r.Hr.hr(),yield ef(r)):(yield r.Hr.stop(),r.Ur.length>0&&(Pe("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class KT{constructor(i,n,s,o,u){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(i,n,s,o,u){const f=Date.now()+s,g=new KT(i,n,f,o,u);return g.start(s),g}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(r,i){if(ci("AsyncQueue",`${i}: ${r}`),Cc(r))return new Se(de.UNAVAILABLE,`${i}: ${r}`);throw r}class tg{constructor(i){this.comparator=i?(n,s)=>i(n,s)||Ze.comparator(n.key,s.key):(n,s)=>Ze.comparator(n.key,s.key),this.keyedMap=qy(),this.sortedSet=new Ai(this.comparator)}static emptySet(i){return new tg(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof tg)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new tg;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class QT{constructor(){this.Jr=new Ai(Ze.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):We():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class nf{constructor(i,n,s,o,u,f,g,w){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=w}static fromInitialDocuments(i,n,s,o){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new nf(i,n,tg.emptySet(n),u,s,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Mm(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class v1{constructor(){this.Xr=void 0,this.listeners=[]}}class b1{constructor(){this.queries=new Gm(i=>BS(i),Mm),this.onlineState="Unknown",this.Zr=new Set}}function pE(r,i){return JT.apply(this,arguments)}function JT(){return(JT=(0,be.Z)(function*(r,i){const n=Te(r),s=i.query;let o=!1,u=n.queries.get(s);if(u||(o=!0,u=new v1),o)try{u.Xr=yield n.onListen(s)}catch(f){const g=eg(f,`Initialization of query '${VS(i.query)}' failed`);return void i.onError(g)}n.queries.set(s,u),u.listeners.push(i),i.eo(n.onlineState),u.Xr&&i.no(u.Xr)&&XT(n)})).apply(this,arguments)}function mE(r,i){return gE.apply(this,arguments)}function gE(){return(gE=(0,be.Z)(function*(r,i){const n=Te(r),s=i.query;let o=!1;const u=n.queries.get(s);if(u){const f=u.listeners.indexOf(i);f>=0&&(u.listeners.splice(f,1),o=0===u.listeners.length)}if(o)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function w1(r,i){const n=Te(r);let s=!1;for(const o of i){const f=n.queries.get(o.query);if(f){for(const g of f.listeners)g.no(o)&&(s=!0);f.Xr=o}}s&&XT(n)}function DL(r,i,n){const s=Te(r),o=s.queries.get(i);if(o)for(const u of o.listeners)u.onError(n);s.queries.delete(i)}function XT(r){r.Zr.forEach(i=>{i.next()})}class _E{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const o of i.docChanges)3!==o.type&&s.push(o);i=new nf(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=nf.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class C1{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class eA{constructor(i){this.N=i}zn(i){return va(this.N,i)}Hn(i){return i.metadata.exists?O0(this.N,i.document,!1):Rn.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return hi(i)}}class E1{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=tA(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new eA(this.N);for(const o of i)if(o.metadata.queries){const u=s.zn(o.metadata.name);for(const f of o.metadata.queries){const g=(n.get(f)||an()).add(u);n.set(f,g)}}return n}complete(){var i=this;return(0,be.Z)(function*(){const n=yield function(r,i,n,s){return av.apply(this,arguments)}(i.localStore,new eA(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const o of i.queries)yield OT(i.localStore,o,s.get(o.name));return i.progress.taskState="Success",new r1(Object.assign({},i.progress),n)})()}}function tA(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class Js{constructor(i){this.key=i}}class nA{constructor(i){this.key=i}}class iA{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=an(),this.mutatedKeys=an(),this.po=xO(i),this.Eo=new tg(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new QT,o=n?n.Eo:this.Eo;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const w=g0(this.query)&&o.size===this.query.limit?o.last():null,x=xm(this.query)&&o.size===this.query.limit?o.first():null;if(i.inorderTraversal((S,I)=>{const F=o.get(S),L=Uy(this.query,I)?I:null,j=!!F&&this.mutatedKeys.has(F.key),ne=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let me=!1;F&&L?F.data.isEqual(L.data)?j!==ne&&(s.track({type:3,doc:L}),me=!0):this.Ro(F,L)||(s.track({type:2,doc:L}),me=!0,(w&&this.po(L,w)>0||x&&this.po(L,x)<0)&&(g=!0)):!F&&L?(s.track({type:0,doc:L}),me=!0):F&&!L&&(s.track({type:1,doc:F}),me=!0,(w||x)&&(g=!0)),me&&(L?(f=f.add(L),u=ne?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))}),g0(this.query)||xm(this.query))for(;f.size>this.query.limit;){const S=g0(this.query)?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),s.track({type:1,doc:S})}return{Eo:f,Ao:s,Ln:g,mutatedKeys:u}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const o=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const u=i.Ao.Yr();u.sort((x,S)=>function(I,F){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return L(I)-L(F)}(x.type,S.type)||this.po(x.doc,S.doc)),this.bo(s);const f=n?this.Po():[],g=0===this.yo.size&&this.current?1:0,w=g!==this.mo;return this.mo=g,0!==u.length||w?{snapshot:new nf(this.query,i.Eo,o,u,i.mutatedKeys,0===g,w,!1),vo:f}:{vo:f}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new QT,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=an(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new nA(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new Js(s))}),n}So(i){this._o=i.Gn,this.yo=an();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return nf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class D1{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class x1{constructor(i){this.key=i,this.Co=!1}}class xL{constructor(i,n,s,o,u,f){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new Gm(g=>BS(g),Mm),this.ko=new Map,this.$o=new Set,this.Oo=new Ai(Ze.comparator),this.Fo=new Map,this.Mo=new lv,this.Lo={},this.Bo=new Map,this.Uo=Kh.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function M1(r,i){return yE.apply(this,arguments)}function yE(){return(yE=(0,be.Z)(function*(r,i){const n=cf(r);let s,o;const u=n.xo.get(i);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),o=u.view.Do();else{const f=yield Jh(n.localStore,Ks(i)),g=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,o=yield vE(n,i,s,"current"===g),n.isPrimaryClient&&Km(n.remoteStore,f)}return o})).apply(this,arguments)}function vE(r,i,n,s){return ad.apply(this,arguments)}function ad(){return(ad=(0,be.Z)(function*(r,i,n,s){r.Ko=(S,I,F)=>{return(L=(0,be.Z)(function*(j,ne,me,xe){let Ge=ne.view.Io(me);Ge.Ln&&(Ge=yield vr(j.localStore,ne.query,!1).then(({documents:mn})=>ne.view.Io(mn,Ge)));const Be=xe&&xe.targetChanges.get(ne.targetId),ze=ne.view.applyChanges(Ge,j.isPrimaryClient,Be);return bv(j,ne.targetId,ze.vo),ze.snapshot}),function(j,ne,me,xe){return L.apply(this,arguments)})(r,S,I,F);var L};const o=yield vr(r.localStore,i,!0),u=new iA(i,o.Gn),f=u.Io(o.documents),g=Am.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),w=u.applyChanges(f,r.isPrimaryClient,g);bv(r,n,w.vo);const x=new D1(i,n,u);return r.xo.set(i,x),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),w.snapshot})).apply(this,arguments)}function rA(r,i){return sA.apply(this,arguments)}function sA(){return(sA=(0,be.Z)(function*(r,i){const n=Te(r),s=n.xo.get(i),o=n.ko.get(s.targetId);if(o.length>1)return n.ko.set(s.targetId,o.filter(u=>!Mm(u,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Dc(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Qm(n.remoteStore,s.targetId),rf(n,s.targetId)}).catch(Qs))):(rf(n,s.targetId),yield Dc(n.localStore,s.targetId,!0))})).apply(this,arguments)}function oA(){return(oA=(0,be.Z)(function*(r,i,n){const s=ME(r);try{const o=yield function(u,f){const g=Te(u),w=Vt.now(),x=f.reduce((I,F)=>I.add(F.key),an());let S;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>g.Qn.Pn(I,x).next(F=>{S=F;const L=[];for(const j of f){const ne=_L(j,S.get(j.key));null!=ne&&L.push(new Ku(j.key,ne,FS(ne.value.mapValue),ui.exists(!0)))}return g.In.addMutationBatch(I,w,L,f)})).then(I=>(I.applyToLocalDocumentSet(S),{batchId:I.batchId,changes:S}))}(s.localStore,i);s.sharedClientState.addPendingMutation(o.batchId),function(u,f,g){let w=u.Lo[u.currentUser.toKey()];w||(w=new Ai(qt)),w=w.insert(f,g),u.Lo[u.currentUser.toKey()]=w}(s,o.batchId,n),yield ko(s,o.changes),yield ef(s.remoteStore)}catch(o){const u=eg(o,"Failed to persist write");n.reject(u)}})).apply(this,arguments)}function T1(r,i){return aA.apply(this,arguments)}function aA(){return(aA=(0,be.Z)(function*(r,i){const n=Te(r);try{const s=yield zm(n.localStore,i);i.targetChanges.forEach((o,u)=>{const f=n.Fo.get(u);f&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Co=!0:o.modifiedDocuments.size>0?Ct(f.Co):o.removedDocuments.size>0&&(Ct(f.Co),f.Co=!1))}),yield ko(n,s,i)}catch(s){yield Qs(s)}})).apply(this,arguments)}function yv(r,i,n){const s=Te(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const o=[];s.xo.forEach((u,f)=>{const g=f.view.eo(i);g.snapshot&&o.push(g.snapshot)}),function(u,f){const g=Te(u);g.onlineState=f;let w=!1;g.queries.forEach((x,S)=>{for(const I of S.listeners)I.eo(f)&&(w=!0)}),w&&XT(g)}(s.eventManager,i),o.length&&s.No.Tr(o),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function A1(r,i,n){return bE.apply(this,arguments)}function bE(){return(bE=(0,be.Z)(function*(r,i,n){const s=Te(r);s.sharedClientState.updateQueryState(i,"rejected",n);const o=s.Fo.get(i),u=o&&o.key;if(u){let f=new Ai(Ze.comparator);f=f.insert(u,Rn.newNoDocument(u,ft.min()));const g=an().add(u),w=new Tm(ft.min(),new Map,new Qn(qt),f,g);yield T1(s,w),s.Oo=s.Oo.remove(u),s.Fo.delete(i),ng(s)}else yield Dc(s.localStore,i,!1).then(()=>rf(s,i,n)).catch(Qs)})).apply(this,arguments)}function I1(r,i){return lA.apply(this,arguments)}function lA(){return(lA=(0,be.Z)(function*(r,i){const n=Te(r),s=i.batch.batchId;try{const o=yield wL(n.localStore,i);vv(n,s,null),cA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield ko(n,o)}catch(o){yield Qs(o)}})).apply(this,arguments)}function k1(r,i,n){return wE.apply(this,arguments)}function wE(){return(wE=(0,be.Z)(function*(r,i,n){const s=Te(r);try{const o=yield function(u,f){const g=Te(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let x;return g.In.lookupMutationBatch(w,f).next(S=>(Ct(null!==S),x=S.keys(),g.In.removeMutationBatch(w,S))).next(()=>g.In.performConsistencyCheck(w)).next(()=>g.Qn.Pn(w,x))})}(s.localStore,i);vv(s,i,n),cA(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield ko(s,o)}catch(o){yield Qs(o)}})).apply(this,arguments)}function xs(){return(xs=(0,be.Z)(function*(r,i){const n=Te(r);sd(n.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const f=Te(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>f.In.getHighestUnacknowledgedBatchId(g))}(n.localStore);if(-1===s)return void i.resolve();const o=n.Bo.get(s)||[];o.push(i),n.Bo.set(s,o)}catch(s){const o=eg(s,"Initialization of waitForPendingWrites() operation failed");i.reject(o)}})).apply(this,arguments)}function cA(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function vv(r,i,n){const s=Te(r);let o=s.Lo[s.currentUser.toKey()];if(o){const u=o.get(i);u&&(n?u.reject(n):u.resolve(),o=o.remove(i)),s.Lo[s.currentUser.toKey()]=o}}function rf(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||CE(r,s)})}function CE(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(Qm(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),ng(r))}function bv(r,i,n){for(const s of n)s instanceof Js?(r.Mo.addReference(s.key,i),uA(r,s)):s instanceof nA?(Pe("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||CE(r,s.key)):We()}function uA(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(Pe("SyncEngine","New document in limbo: "+n),r.$o.add(s),ng(r))}function ng(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new Ze($t.fromString(i)),s=r.Uo.next();r.Fo.set(s,new x1(n)),r.Oo=r.Oo.insert(n,s),Km(r.remoteStore,new nd(Ks(_a(n.path)),s,2,ns.T))}}function ko(r,i,n){return ig.apply(this,arguments)}function ig(){return(ig=(0,be.Z)(function*(r,i,n){const s=Te(r),o=[],u=[],f=[];var g;s.xo.isEmpty()||(s.xo.forEach((g,w)=>{f.push(s.Ko(w,i,n).then(x=>{if(x){s.isPrimaryClient&&s.sharedClientState.updateQueryState(w.targetId,x.fromCache?"not-current":"current"),o.push(x);const S=MT.kn(w.targetId,x);u.push(S)}}))}),yield Promise.all(f),s.No.Tr(o),yield(g=(0,be.Z)(function*(w,x){const S=Te(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ae.forEach(x,F=>Ae.forEach(F.Nn,L=>S.persistence.referenceDelegate.addReference(I,F.targetId,L)).next(()=>Ae.forEach(F.xn,L=>S.persistence.referenceDelegate.removeReference(I,F.targetId,L)))))}catch(I){if(!Cc(I))throw I;Pe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of x){const F=I.targetId;if(!I.fromCache){const L=S.Un.get(F),ne=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);S.Un=S.Un.insert(F,ne)}}}),function(w,x){return g.apply(this,arguments)})(s.localStore,u))})).apply(this,arguments)}function wv(r,i){return sf.apply(this,arguments)}function sf(){return(sf=(0,be.Z)(function*(r,i){const n=Te(r);if(!n.currentUser.isEqual(i)){Pe("SyncEngine","User change. New user:",i.toKey());const s=yield TT(n.localStore,i);n.currentUser=i,(o=n).Bo.forEach(f=>{f.forEach(g=>{g.reject(new Se(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield ko(n,s.Wn)}var o})).apply(this,arguments)}function dA(r,i){const n=Te(r),s=n.Fo.get(i);if(s&&s.Co)return an().add(s.key);{let o=an();const u=n.ko.get(i);if(!u)return o;for(const f of u){const g=n.xo.get(f);o=o.unionWith(g.view.To)}return o}}function hA(r,i){return EE.apply(this,arguments)}function EE(){return(EE=(0,be.Z)(function*(r,i){const n=Te(r),s=yield vr(n.localStore,i.query,!0),o=i.view.So(s);return n.isPrimaryClient&&bv(n,i.targetId,o.vo),o})).apply(this,arguments)}function O1(r){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,be.Z)(function*(r){const i=Te(r);return ov(i.localStore).then(n=>ko(i,n))})).apply(this,arguments)}function F1(r,i,n,s){return DE.apply(this,arguments)}function DE(){return(DE=(0,be.Z)(function*(r,i,n,s){const o=Te(r),u=yield function(f,g){const w=Te(f),x=Te(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>x.Xt(S,g).next(I=>I?w.Qn.Pn(S,I):Ae.resolve(null)))}(o.localStore,i);var g;null!==u?("pending"===n?yield ef(o.remoteStore):"acknowledged"===n||"rejected"===n?(vv(o,i,s||null),cA(o,i),g=i,Te(Te(o.localStore).In).te(g)):We(),yield ko(o,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function rg(){return(rg=(0,be.Z)(function*(r,i){const n=Te(r);if(cf(n),ME(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),o=yield fA(n,s.toArray());n.qo=!0,yield fE(n.remoteStore,!0);for(const u of o)Km(n.remoteStore,u)}else if(!1===i&&!1!==n.qo){const s=[];let o=Promise.resolve();n.ko.forEach((u,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):o=o.then(()=>(rf(n,f),Dc(n.localStore,f,!0))),Qm(n.remoteStore,f)}),yield o,yield fA(n,s),function(u){const f=Te(u);f.Fo.forEach((g,w)=>{Qm(f.remoteStore,w)}),f.Mo.us(),f.Fo=new Map,f.Oo=new Ai(Ze.comparator)}(n),n.qo=!1,yield fE(n.remoteStore,!1)}})).apply(this,arguments)}function fA(r,i,n){return tr.apply(this,arguments)}function tr(){return(tr=(0,be.Z)(function*(r,i,n){const s=Te(r),o=[],u=[];for(const f of i){let g;const w=s.ko.get(f);if(w&&0!==w.length){g=yield Jh(s.localStore,Ks(w[0]));for(const x of w){const S=s.xo.get(x),I=yield hA(s,S);I.snapshot&&u.push(I.snapshot)}}else{const x=yield RT(s.localStore,f);g=yield Jh(s.localStore,x),yield vE(s,af(x),f,!1)}o.push(g)}return s.No.Tr(u),o})).apply(this,arguments)}function af(r){return m0(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ev(r){const i=Te(r);return Te(Te(i.localStore).persistence).pn()}function pA(r,i,n,s){return lf.apply(this,arguments)}function lf(){return(lf=(0,be.Z)(function*(r,i,n,s){const o=Te(r);if(o.qo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(o.ko.has(i))switch(n){case"current":case"not-current":{const u=yield ov(o.localStore),f=Tm.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield ko(o,u,f);break}case"rejected":yield Dc(o.localStore,i,!0),rf(o,i,s);break;default:We()}})).apply(this,arguments)}function xE(r,i,n){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,be.Z)(function*(r,i,n){const s=cf(r);if(s.qo){for(const o of i){if(s.ko.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const u=yield RT(s.localStore,o),f=yield Jh(s.localStore,u);yield vE(s,af(u),f.targetId,!1),Km(s.remoteStore,f)}for(const o of n)s.ko.has(o)&&(yield Dc(s.localStore,o,!1).then(()=>{Qm(s.remoteStore,o),rf(s,o)}).catch(Qs))}})).apply(this,arguments)}function cf(r){const i=Te(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=dA.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=A1.bind(null,i),i.No.Tr=w1.bind(null,i.eventManager),i.No.jo=DL.bind(null,i.eventManager),i}function ME(r){const i=Te(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=I1.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=k1.bind(null,i),i}class mA{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,be.Z)(function*(){n.N=$m(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return Z0(this.persistence,new ST,i.initialUser,this.N)}Go(i){return new eE(Ds.Ns,this.N)}Wo(i){return new sE}terminate(){var i=this;return(0,be.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class gA extends mA{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield n().call(s,i),yield function(r){return K0.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield ME(s.Jo.syncEngine),yield ef(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return Z0(this.persistence,new ST,i.initialUser,this.N)}zo(i){return new j0(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=jm(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Es.withCacheSize(this.cacheSizeBytes):Es.DEFAULT;return new q0(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,oE(),qm(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new sE}}class _A extends gA{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield n().call(s,i);const o=s.Jo.syncEngine;s.sharedClientState instanceof rE&&(s.sharedClientState.syncEngine={_i:F1.bind(null,o),mi:pA.bind(null,o),gi:xE.bind(null,o),pn:Ev.bind(null,o),wi:O1.bind(null,o)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var u=(0,be.Z)(function*(f){yield function(r,i){return rg.apply(this,arguments)}(s.Jo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}Wo(i){const n=oE();if(!rE.bt(n))throw new Se(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=jm(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new rE(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class SE{initialize(i,n){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=o=>yv(s.syncEngine,o,1),s.remoteStore.remoteSyncer.handleCredentialChange=wv.bind(null,s.syncEngine),yield fE(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new b1}createDatastore(i){const n=$m(i.databaseInfo.databaseId),s=new CL(i.databaseInfo);return new HT(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,o=i.asyncQueue,u=g=>yv(this.syncEngine,g,0),f=VT.bt()?new VT:new d1,new p1(n,s,o,u,f);var n,s,o,u,f}createSyncEngine(i,n){return function(s,o,u,f,g,w,x){const S=new xL(s,o,u,f,g,w);return x&&(S.qo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,be.Z)(function*(n){const s=Te(n);Pe("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield Wm(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function yA(r,i=10240){let n=0;return{read:()=>(0,be.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class xv{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class Mc{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new Zn,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,be.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,be.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,be.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),o=Number(s);isNaN(o)&&i.sa(`length string (${s}) is not valid number`);const u=yield i.ia(o);return new C1(JSON.parse(u),n.length+o)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,be.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,be.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,be.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class sg{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Se(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(o=(0,be.Z)(function*(u,f){const g=Te(u),w=Rm(g.N)+"/documents",x={documents:f.map(L=>Qu(g.N,L))},S=yield g.Ki("BatchGetDocuments",w,x),I=new Map;S.forEach(L=>{const j=function(r,i){return"found"in i?function(n,s){Ct(!!s.found);const o=va(n,s.found.name),u=hi(s.found.updateTime),f=new rn({mapValue:{fields:s.found.fields}});return Rn.newFoundDocument(o,u,f)}(r,i):"missing"in i?function(n,s){Ct(!!s.missing),Ct(!!s.readTime);const o=va(n,s.missing),u=hi(s.readTime);return Rn.newNoDocument(o,u)}(r,i):We()}(g.N,L);I.set(j.key.toString(),j)});const F=[];return f.forEach(L=>{const j=I.get(L.toString());Ct(!!j),F.push(j)}),F}),function(u,f){return o.apply(this,arguments)})(n.datastore,i);var o;return s.forEach(o=>n.recordVersion(o)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new $h(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,be.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,o)=>{const u=Ze.fromPath(o);i.mutations.push(new M0(u,i.precondition(u)))}),yield(s=(0,be.Z)(function*(o,u){const f=Te(o),g=Rm(f.N)+"/documents",w={writes:u.map(x=>Om(f.N,x))};yield f.Li("Commit",g,w)}),function(o,u){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw We();n=ft.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Se(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?ui.updateTime(n):ui.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(ft.min()))throw new Se(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ui.updateTime(n)}return ui.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class TE{constructor(i,n,s,o){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=o,this.aa=5,this.rr=new aE(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,be.Z)(function*(){const n=new sg(i.datastore),s=i.ua(n);s&&s.then(o=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(o)}).catch(u=>{i.ha(u)}))}).catch(o=>{i.ha(o)})}))}ua(i){try{const n=this.updateFunction(i);return!vc(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!T0(n)}return!1}}class L1{constructor(i,n,s){var o=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=Si.UNAUTHENTICATED,this.clientId=pO.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var u=(0,be.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield o.credentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,be.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const o=eg(s,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function vA(r,i){return AE.apply(this,arguments)}function AE(){return(AE=(0,be.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var o=(0,be.Z)(function*(u){s.isEqual(u)||(yield TT(i.localStore,u),s=u)});return function(u){return o.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function Mv(r,i){return IE.apply(this,arguments)}function IE(){return(IE=(0,be.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield Sv(r);Pe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(o=>{return(u=(0,be.Z)(function*(f,g){const w=Te(f);w.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const x=sd(w);w.Kr.add(3),yield Wm(w),x&&w.Wr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(g),w.Kr.delete(3),yield uv(w)}),function(f,g){return u.apply(this,arguments)})(i.remoteStore,o);var u}),r.onlineComponents=i})).apply(this,arguments)}function Sv(r){return Tv.apply(this,arguments)}function Tv(){return(Tv=(0,be.Z)(function*(r){return r.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield vA(r,new mA)),r.offlineComponents})).apply(this,arguments)}function Av(r){return kE.apply(this,arguments)}function kE(){return(kE=(0,be.Z)(function*(r){return r.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield Mv(r,new SE)),r.onlineComponents})).apply(this,arguments)}function bA(r){return Sv(r).then(i=>i.persistence)}function Ro(r){return Sv(r).then(i=>i.localStore)}function uf(r){return Av(r).then(i=>i.remoteStore)}function Sc(r){return Av(r).then(i=>i.syncEngine)}function bl(r){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,be.Z)(function*(r){const i=yield Av(r),n=i.eventManager;return n.onListen=M1.bind(null,i.syncEngine),n.onUnlisten=rA.bind(null,i.syncEngine),n})).apply(this,arguments)}function RE(r,i,n={}){const s=new Zn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,f,g,w){const x=new xv({next:I=>{u.enqueueAndForget(()=>mE(o,S));const F=I.docs.has(f);!F&&I.fromCache?w.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&I.fromCache&&g&&"server"===g.source?w.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(I)},error:I=>w.reject(I)}),S=new _E(_a(f.path),x,{includeMetadataChanges:!0,uo:!0});return pE(o,S)}(yield bl(r),r.asyncQueue,i,n,s)})),s.promise}function OE(r,i,n={}){const s=new Zn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,f,g,w){const x=new xv({next:I=>{u.enqueueAndForget(()=>mE(o,S)),I.fromCache&&"server"===g.source?w.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(I)},error:I=>w.reject(I)}),S=new _E(f,x,{includeMetadataChanges:!0,uo:!0});return pE(o,S)}(yield bl(r),r.asyncQueue,i,n,s)})),s.promise}class EA{constructor(i,n,s,o,u,f,g,w){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.useFetchStreams=w}}class Xs{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Xs&&i.projectId===this.projectId&&i.database===this.database}}const Iv=new Map;function PE(r,i,n){if(!n)throw new Se(de.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function DA(r,i,n,s){if(!0===i&&!0===s)throw new Se(de.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function j1(r){if(!Ze.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function z1(r){if(Ze.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function NE(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":We()}function tn(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=NE(r);throw new Se(de.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function xA(r,i){if(i<=0)throw new Se(de.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class MA{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,DA("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class kv{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MA({}),this._settingsFrozen=!1,i instanceof Xs?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xs(s.options.projectId)}(i))}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MA(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new Tt;switch(n.type){case"gapi":const s=n.client;return Ct(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new mL(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Se(de.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=Iv.get(i);n&&(Pe("ComponentProvider","Removing Datastore"),Iv.delete(i),n.terminate())}(this),Promise.resolve()}}class Fn{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Fn(this.firestore,i,this._key)}}class Or{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Or(this.firestore,i,this._query)}}class Da extends Or{constructor(i,n,s){super(i,n,_a(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Fn(this.firestore,null,new Ze(i))}withConverter(i){return new Da(this.firestore,i,this._path)}}function Y1(r,i,...n){if(r=(0,Pt.m9)(r),PE("collection","path",i),r instanceof kv){const s=$t.fromString(i,...n);return z1(s),new Da(r,null,s)}{if(!(r instanceof Fn||r instanceof Da))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(i,...n));return z1(s),new Da(r.firestore,null,s)}}function LE(r,i,...n){if(r=(0,Pt.m9)(r),1===arguments.length&&(i=pO.I()),PE("doc","path",i),r instanceof kv){const s=$t.fromString(i,...n);return j1(s),new Fn(r,null,new Ze(s))}{if(!(r instanceof Fn||r instanceof Da))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(i,...n));return j1(s),new Fn(r.firestore,r instanceof Da?r.converter:null,new Ze(s))}}function q1(r,i){return r=(0,Pt.m9)(r),i=(0,Pt.m9)(i),(r instanceof Fn||r instanceof Da)&&(i instanceof Fn||i instanceof Da)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function l(r,i){return r=(0,Pt.m9)(r),i=(0,Pt.m9)(i),r instanceof Or&&i instanceof Or&&r.firestore===i.firestore&&Mm(r._query,i._query)&&r.converter===i.converter}class c{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new aE(this,"async_queue_retry"),this.Ea=()=>{const n=qm();n&&Pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=qm();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=qm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new Zn;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,be.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!Cc(n))throw n;Pe("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,ci("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const o=KT.createAndSchedule(this,i,n,s,u=>this.Ra(u));return this._a.push(o),o}Ta(){this.ma&&We()}verifyOperationInProgress(){}ba(){var i=this;return(0,be.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function d(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const o of["next","error","complete"])if(o in s&&"function"==typeof s[o])return!0;return!1}(r)}class h{constructor(){this._progressObserver={},this._taskCompletionResolver=new Zn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class m extends kv{constructor(i,n){super(i,n),this.type="firestore",this._queue=new c,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||T(this),this._firestoreClient.terminate()}}function D(r){return r._firestoreClient||T(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function T(r){var i;const n=r._freezeSettings(),s=(u=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new EA(r._databaseId,u,r._persistenceKey,(g=n).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;r._firestoreClient=new L1(r._credentials,r._queue,s)}function P(r,i,n){const s=new Zn;return r.asyncQueue.enqueue((0,be.Z)(function*(){try{yield vA(r,n),yield Mv(r,i),s.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===de.FAILED_PRECONDITION||u.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),s.reject(o)}var u})).then(()=>s.promise)}function vt(r){if(r._initialized||r._terminated)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class At{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class ii{constructor(i){this._byteString=i}static fromBase64String(i){try{return new ii(Ti.fromBase64String(i))}catch(n){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new ii(Ti.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Oo{constructor(i){this._methodName=i}}class wl{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return qt(this._lat,i._lat)||qt(this._long,i._long)}}const df=/^__.*__$/;class hf{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new Ku(i,this.data,this.fieldMask,n,this.fieldTransforms):new ya(i,this.data,n,this.fieldTransforms)}}class Rv{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new Ku(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ov(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class ff{constructor(i,n,s,o,u,f){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=o,void 0===u&&this.Sa(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new ff(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.ka(i),o}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.Sa(),o}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return TA(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(Ov(this.Da)&&df.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class BE{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||$m(i)}Ba(i,n,s,o=!1){return new ff({Da:i,methodName:n,La:s,path:Ji.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Cl(r){const i=r._freezeSettings(),n=$m(r._databaseId);return new BE(r._databaseId,!!i.ignoreUndefinedProperties,n)}function SA(r,i,n,s,o,u={}){const f=r.Ba(u.merge||u.mergeFields?2:0,i,n,o);K1("Data must be an object, but it was:",f,s);const g=IL(s,f);let w,x;if(u.merge)w=new $s(f.fieldMask),x=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const I of u.mergeFields){const F=Q1(i,I,n);if(!f.contains(F))throw new Se(de.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);RL(S,F)||S.push(F)}w=new $s(S),x=f.fieldTransforms.filter(I=>w.covers(I.field))}else w=null,x=f.fieldTransforms;return new hf(new rn(g),w,x)}class VE extends Oo{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof VE}}function TL(r,i,n){return new ff({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class $1 extends Oo{_toFieldTransform(i){return new qh(i.path,new wc)}isEqual(i){return i instanceof $1}}class HH extends Oo{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=TL(this,i,!0),s=this.Ua.map(u=>og(u,n)),o=new Zu(s);return new qh(i.path,o)}isEqual(i){return this===i}}class GH extends Oo{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=TL(this,i,!0),s=this.Ua.map(u=>og(u,n)),o=new Kn(s);return new qh(i.path,o)}isEqual(i){return this===i}}class jH extends Oo{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new mr(i.N,GS(i.N,this.qa));return new qh(i.path,n)}isEqual(i){return this===i}}function Z1(r,i,n,s){const o=r.Ba(1,i,n);K1("Data must be an object, but it was:",o,s);const u=[],f=rn.empty();ju(s,(w,x)=>{const S=J1(i,w,n);x=(0,Pt.m9)(x);const I=o.$a(S);if(x instanceof VE)u.push(S);else{const F=og(x,I);null!=F&&(u.push(S),f.set(S,F))}});const g=new $s(u);return new Rv(f,g,o.fieldTransforms)}function W1(r,i,n,s,o,u){const f=r.Ba(1,i,n),g=[Q1(i,s,n)],w=[o];if(u.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)g.push(Q1(i,u[F])),w.push(u[F+1]);const x=[],S=rn.empty();for(let F=g.length-1;F>=0;--F)if(!RL(x,g[F])){const L=g[F];let j=w[F];j=(0,Pt.m9)(j);const ne=f.$a(L);if(j instanceof VE)x.push(L);else{const me=og(j,ne);null!=me&&(x.push(L),S.set(L,me))}}const I=new $s(x);return new Rv(S,I,f.fieldTransforms)}function AL(r,i,n,s=!1){return og(n,r.Ba(s?4:3,i))}function og(r,i){if(kL(r=(0,Pt.m9)(r)))return K1("Unsupported field value:",i,r),IL(r,i);if(r instanceof Oo)return function(n,s){if(!Ov(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const o=[];let u=0;for(const f of n){let g=og(f,s.Oa(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(r,i)}return function(n,s){if(null===(n=(0,Pt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return GS(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=Vt.fromDate(n);return{timestampValue:km(s.N,o)}}if(n instanceof Vt){const o=new Vt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:km(s.N,o)}}if(n instanceof wl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ii)return{bytesValue:FO(s.N,n._byteString)};if(n instanceof Fn){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.Fa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wy(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${NE(n)}`)}(r,i)}function IL(r,i){const n={};return a0(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):ju(r,(s,o)=>{const u=og(o,i.Na(s));null!=u&&(n[s]=u)}),{mapValue:{fields:n}}}function kL(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Vt||r instanceof wl||r instanceof ii||r instanceof Fn||r instanceof Oo)}function K1(r,i,n){if(!kL(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=NE(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function Q1(r,i,n){if((i=(0,Pt.m9)(i))instanceof At)return i._internalPath;if("string"==typeof i)return J1(r,i);throw TA("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const zH=new RegExp("[~\\*/\\[\\]]");function J1(r,i,n){if(i.search(zH)>=0)throw TA(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new At(...i.split("."))._internalPath}catch(s){throw TA(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function TA(r,i,n,s,o){const u=s&&!s.isEmpty(),f=void 0!==o;let g=`Function ${i}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let w="";return(u||f)&&(w+=" (found",u&&(w+=` in field ${s}`),f&&(w+=` in document ${o}`),w+=")"),new Se(de.INVALID_ARGUMENT,g+r+w)}function RL(r,i){return r.some(n=>n.isEqual(i))}class UE{constructor(i,n,s,o,u){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new YH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(AA("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class YH extends UE{data(){return super.data()}}function AA(r,i){return"string"==typeof i?J1(r,i):i instanceof At?i._internalPath:i._delegate._internalPath}class ag{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class ld extends UE{constructor(i,n,s,o,u,f){super(i,n,s,o,f),this._firestore=i,this._firestoreImpl=i,this.metadata=u}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new HE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(AA("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class HE extends ld{data(i={}){return super.data(i)}}class pf{constructor(i,n,s,o){this._firestore=i,this._userDataWriter=n,this._snapshot=o,this.metadata=new ag(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new HE(this._firestore,this._userDataWriter,s.key,s,new ag(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new HE(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ag(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const g=new HE(s._firestore,s._userDataWriter,f.doc.key,f.doc,new ag(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,x=-1;return 0!==f.type&&(w=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:qH(f.type),doc:g,oldIndex:w,newIndex:x}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qH(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function OL(r,i){return r instanceof ld&&i instanceof ld?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof pf&&i instanceof pf&&r._firestore===i._firestore&&l(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function FL(r){if(xm(r)&&0===r.explicitOrderBy.length)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GE{}function mf(r,...i){for(const n of i)r=n._apply(r);return r}class $H extends GE{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=Cl(i.firestore),s=function(o,u,f,g,w,x,S){let I;if(w.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on FieldPath.documentId().`);if("in"===x||"not-in"===x){UL(S,x);const L=[];for(const j of S)L.push(VL(g,o,j));I={arrayValue:{values:L}}}else I=VL(g,o,S)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||UL(S,x),I=AL(f,"where",S,"in"===x||"not-in"===x);const F=kr.create(w,x,I);return function(L,j){if(j.v()){const me=y0(L);if(null!==me&&!me.isEqual(j.field))throw new Se(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${me.toString()}' and '${j.field.toString()}'`);const xe=_0(L);null!==xe&&HL(0,j.field,xe)}const ne=function(me,xe){for(const Ge of me.filters)if(xe.indexOf(Ge.op)>=0)return Ge.op;return null}(L,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==ne)throw new Se(de.INVALID_ARGUMENT,ne===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${ne.toString()}' filters.`)}(o,F),F}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Or(i.firestore,i.converter,function(o,u){const f=o.filters.concat([u]);return new _l(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(i._query,s))}}class WH extends GE{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,o,u){if(null!==s.startAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new jh(o,u);return function(g,w){if(null===_0(g)){const x=y0(g);null!==x&&HL(0,x,w.field)}}(s,f),f}(i._query,this.Ka,this.Wa);return new Or(i.firestore,i.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new _l(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class PL extends GE{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Or(i.firestore,i.converter,b0(i._query,this.Ga,this.za))}}class NL extends GE{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=BL(i,this.type,this.Ha,this.Ja);return new Or(i.firestore,i.converter,(o=n,new _l((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)));var s,o}}class LL extends GE{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=BL(i,this.type,this.Ha,this.Ja);return new Or(i.firestore,i.converter,(o=n,new _l((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)));var s,o}}function BL(r,i,n,s){if(n[0]=(0,Pt.m9)(n[0]),n[0]instanceof UE)return function(o,u,f,g,w){if(!g)throw new Se(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const x=[];for(const S of Yh(o))if(S.field.isKeyField())x.push(bc(u,g.key));else{const I=g.data.field(S.field);if(_c(I))throw new Se(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const F=S.field.canonicalString();throw new Se(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}x.push(I)}return new Dm(x,w)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const o=Cl(r.firestore);return function(u,f,g,w,x,S){const I=u.explicitOrderBy;if(x.length>I.length)throw new Se(de.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let L=0;L<x.length;L++){const j=x[L];if(I[L].field.isKeyField()){if("string"!=typeof j)throw new Se(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof j}`);if(!v0(u)&&-1!==j.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${j}' contains a slash.`);const ne=u.path.child($t.fromString(j));if(!Ze.isDocumentKey(ne))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const me=new Ze(ne);F.push(bc(f,me))}else{const ne=AL(g,w,j);F.push(ne)}}return new Dm(F,S)}(r._query,r.firestore._databaseId,o,i,n,s)}}function VL(r,i,n){if("string"==typeof(n=(0,Pt.m9)(n))){if(""===n)throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!v0(i)&&-1!==n.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child($t.fromString(n));if(!Ze.isDocumentKey(s))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bc(r,new Ze(s))}if(n instanceof Fn)return bc(r,n._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${NE(n)}.`)}function UL(r,i){if(!Array.isArray(r)||0===r.length)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function HL(r,i,n){if(!n.isEqual(i))throw new Se(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class X1{convertValue(i,n="none"){switch(qu(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Wn(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(Yu(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw We()}}convertObject(i,n){const s={};return ju(i.fields,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertGeoPoint(i){return new wl(Wn(i.latitude),Wn(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=kS(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yc(i));default:return null}}convertTimestamp(i){const n=Zs(i);return new Vt(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=$t.fromString(i);Ct(L0(s));const o=new Xs(s.get(1),s.get(3)),u=new Ze(s.popFirst(5));return o.isEqual(n)||ci(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function IA(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class iG extends X1{constructor(i){super(),this.firestore=i}convertBytes(i){return new ii(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}class GL{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cl(i)}set(i,n,s){this._verifyNotCommitted();const o=gf(i,this._firestore),u=IA(o.converter,n,s),f=SA(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,s);return this._mutations.push(f.toMutation(o._key,ui.none())),this}update(i,n,s,...o){this._verifyNotCommitted();const u=gf(i,this._firestore);let f;return f="string"==typeof(n=(0,Pt.m9)(n))||n instanceof At?W1(this._dataReader,"WriteBatch.update",u._key,n,s,o):Z1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,ui.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=gf(i,this._firestore);return this._mutations=this._mutations.concat(new $h(n._key,ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gf(r,i){if((r=(0,Pt.m9)(r)).firestore!==i)throw new Se(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class lg extends X1{constructor(i){super(),this.firestore=i}convertBytes(i){return new ii(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function jL(r,i,n){r=tn(r,Fn);const s=tn(r.firestore,m),o=IA(r.converter,i,n);return Fv(s,[SA(Cl(s),"setDoc",r._key,o,null!==r.converter,n).toMutation(r._key,ui.none())])}function zL(r,i,n,...s){r=tn(r,Fn);const o=tn(r.firestore,m),u=Cl(o);let f;return f="string"==typeof(i=(0,Pt.m9)(i))||i instanceof At?W1(u,"updateDoc",r._key,i,n,s):Z1(u,"updateDoc",r._key,i),Fv(o,[f.toMutation(r._key,ui.exists(!0))])}function YL(r,...i){var n,s,o;r=(0,Pt.m9)(r);let u={includeMetadataChanges:!1},f=0;"object"!=typeof i[f]||d(i[f])||(u=i[f],f++);const g={includeMetadataChanges:u.includeMetadataChanges};if(d(i[f])){const I=i[f];i[f]=null===(n=I.next)||void 0===n?void 0:n.bind(I),i[f+1]=null===(s=I.error)||void 0===s?void 0:s.bind(I),i[f+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}let w,x,S;if(r instanceof Fn)x=tn(r.firestore,m),S=_a(r._key.path),w={next:I=>{i[f]&&i[f](eF(x,r,I))},error:i[f+1],complete:i[f+2]};else{const I=tn(r,Or);x=tn(I.firestore,m),S=I._query;const F=new lg(x);w={next:L=>{i[f]&&i[f](new pf(x,F,I,L))},error:i[f+1],complete:i[f+2]},FL(r._query)}return function(I,F,L,j){const ne=new xv(j),me=new _E(F,ne,L);return I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return pE(yield bl(I),me)})),()=>{ne.Xo(),I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return mE(yield bl(I),me)}))}}(D(x),S,g,w)}function Fv(r,i){return function(n,s){const o=new Zn;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,i,n){return oA.apply(this,arguments)}(yield Sc(n),s,o)})),o.promise}(D(r),i)}function eF(r,i,n){const s=n.docs.get(i._key),o=new lg(r);return new ld(r,o,i._key,s,new ag(n.hasPendingWrites,n.fromCache),i.converter)}class fG extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=Cl(i)}get(i){const n=gf(i,this._firestore),s=new iG(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return We();const u=o[0];if(u.isFoundDocument())return new UE(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new UE(this._firestore,s,n._key,null,n.converter);throw We()})}set(i,n,s){const o=gf(i,this._firestore),u=IA(o.converter,n,s),f=SA(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,s);return this._transaction.set(o._key,f),this}update(i,n,s,...o){const u=gf(i,this._firestore);let f;return f="string"==typeof(n=(0,Pt.m9)(n))||n instanceof At?W1(this._dataReader,"Transaction.update",u._key,n,s,o):Z1(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(i){const n=gf(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=gf(i,this._firestore),s=new lg(this._firestore);return super.get(i).then(o=>new ld(this._firestore,s,n._key,o._document,new ag(!1,!1),n.converter))}}function tF(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Se("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function qL(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function $L(){if("undefined"==typeof atob)throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){Hu=r})(Tu.SDK_VERSION),(0,Tu._registerComponent)(new W_.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new m(n,new s0(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,Tu.registerVersion)("@firebase/firestore","3.0.2",void 0);class jE{constructor(i){this._delegate=i}static fromBase64String(i){return $L(),new jE(ii.fromBase64String(i))}static fromUint8Array(i){return qL(),new jE(ii.fromUint8Array(i))}toBase64(){return $L(),this._delegate.toBase64()}toUint8Array(){return qL(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nF(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class DG{enableIndexedDbPersistence(i,n){return function(r,i){vt(r=tn(r,m));const n=D(r),s=r._freezeSettings(),o=new SE;return P(n,o,new gA(o,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){vt(r=tn(r,m));const i=D(r),n=r._freezeSettings(),s=new SE;return P(i,s,new _A(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Se(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Zn;return r._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(n=(0,be.Z)(function*(s){if(!Io.bt())return Promise.resolve();const o=s+"main";yield Io.delete(o)}),function(s){return n.apply(this,arguments)})(jm(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class ZL{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof Xs||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&Uh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var o;const u=(r=tn(r,kv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==i&&Uh("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let f,g;if("string"==typeof s.mockUserToken)f=s.mockUserToken,g=Si.MOCK_USER;else{f=(0,Pt.Sg)(s.mockUserToken,null===(o=r._app)||void 0===o?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Si(w)}r._credentials=new qs(new fO(f,g))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const i=yield bA(r),n=yield uf(r);return i.setNetworkEnabled(!0),function(s){const o=Te(s);return o.Kr.delete(0),uv(o)}(n)}))}(D(r=tn(r,m)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const i=yield bA(r),n=yield uf(r);return i.setNetworkEnabled(!1),(s=(0,be.Z)(function*(o){const u=Te(o);u.Kr.add(0),yield Wm(u),u.Wr.set("Offline")}),function(o){return s.apply(this,arguments)})(n);var s}))}(D(r=tn(r,m)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,DA("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new Zn;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,i){return xs.apply(this,arguments)}(yield Sc(i),n)})),n.promise}(D(r=tn(r,m)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new xv(i);return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield bl(r),o=n,Te(s).Zr.add(o),void o.next();var s,o})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield bl(r),o=n,void Te(s).Zr.delete(o);var s,o}))}}(D(r=tn(r,m)),d(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new Pv(this,Y1(this._delegate,i))}catch(n){throw Ms(n,"collection()","Firestore.collection()")}}doc(i){try{return new xa(this,LE(this._delegate,i))}catch(n){throw Ms(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Ss(this,function(r,i){if(r=tn(r,kv),PE("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Or(r,null,(n=i,new _l($t.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw Ms(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new Zn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(o=r,Av(o).then(u=>u.datastore));var o;new TE(r.asyncQueue,s,i,n).run()})),n.promise}(D(r),n=>i(new fG(r,n)))}(this._delegate,n=>i(new WL(this,n)))}batch(){return D(this._delegate),new KL(new GL(this._delegate,i=>Fv(this._delegate,i)))}loadBundle(i){return function(r,i){const n=D(r=tn(r,m)),s=new h;return function(r,i,n,s){const o=function(u,f){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,x){if(w instanceof Uint8Array)return yA(w,x);if(w instanceof ArrayBuffer)return yA(new Uint8Array(w),x);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new Mc(w,f);var w}(n,$m(i));r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(r,i,n){const s=Te(r);var o;(o=(0,be.Z)(function*(u,f,g){try{const w=yield f.getMetadata();if(yield function(F,L){const j=Te(F),ne=hi(L.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",me=>j.Je.getBundleMetadata(me,L.id)).then(me=>!!me&&me.createTime.compareTo(ne)>=0)}(u.localStore,w))return yield f.close(),void g._completeWith((F=w,{taskState:"Success",documentsLoaded:F.totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}));g._updateProgress(tA(w));const x=new E1(w,u.localStore,f.N);let S=yield f.Qo();for(;S;){const F=yield x.fo(S);F&&g._updateProgress(F),S=yield f.Qo()}const I=yield x.complete();yield ko(u,I.Tn,void 0),yield function(F,L){const j=Te(F);return j.persistence.runTransaction("Save bundle","readwrite",ne=>j.Je.saveBundleMetadata(ne,L))}(u.localStore,w),g._completeWith(I.progress)}catch(w){Uh("SyncEngine",`Loading bundle failed with ${w}`),g._failWith(w)}var F}),function(u,f,g){return o.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield Sc(r),o,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,be.Z)(function*(){return function(n,s){const o=Te(n);return o.persistence.runTransaction("Get named query","readonly",u=>o.Je.getNamedQuery(u,s))}(yield Ro(r),i)}))}(D(r=tn(r,m)),i).then(n=>n?new Or(r,null,n.query):null)}(this._delegate,i).then(n=>n?new Ss(this,n):null)}}class kA extends X1{constructor(i){super(),this.firestore=i}convertBytes(i){return new jE(new ii(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return xa.forKey(n,this.firestore,null)}}class WL{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new kA(i)}get(i){const n=ug(i);return this._delegate.get(n).then(s=>new zE(this._firestore,new ld(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const o=ug(i);return s?(tF("Transaction.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const u=ug(i);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...o),this}delete(i){const n=ug(i);return this._delegate.delete(n),this}}class KL{constructor(i){this._delegate=i}set(i,n,s){const o=ug(i);return s?(tF("WriteBatch.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const u=ug(i);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...o),this}delete(i){const n=ug(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class cg{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new HE(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new YE(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=cg.INSTANCES;let o=s.get(i);o||(o=new WeakMap,s.set(i,o));let u=o.get(n);return u||(u=new cg(i,new kA(i),n),o.set(n,u)),u}}cg.INSTANCES=new WeakMap;class xa{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new kA(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new xa(n,new Fn(n._delegate,s,new Ze(i)))}static forKey(i,n,s){return new xa(n,new Fn(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new Pv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new Pv(this.firestore,Y1(this._delegate,i))}catch(n){throw Ms(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,Pt.m9)(i))instanceof Fn&&q1(this._delegate,i)}set(i,n){n=tF("DocumentReference.set",n);try{return n?jL(this._delegate,i,n):jL(this._delegate,i)}catch(s){throw Ms(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?zL(this._delegate,i):zL(this._delegate,i,n,...s)}catch(o){throw Ms(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return Fv(tn(r.firestore,m),[new $h(r._key,ui.none())])}(this._delegate)}onSnapshot(...i){const n=QL(i),s=JL(i,o=>new zE(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return YL(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=tn(r,Fn);const i=tn(r.firestore,m),n=D(i),s=new lg(i);return function(r,i){const n=new Zn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(o,u,f){try{const g=yield function(w,x){const S=Te(w);return S.persistence.runTransaction("read document","readonly",I=>S.Qn.An(I,x))}(o,u);g.isFoundDocument()?f.resolve(g):g.isNoDocument()?f.resolve(null):f.reject(new Se(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const w=eg(g,`Failed to get document '${u} from cache`);f.reject(w)}}),function(o,u,f){return s.apply(this,arguments)})(yield Ro(r),i,n);var s})),n.promise}(n,r._key).then(o=>new ld(i,s,r._key,o,new ag(null!==o&&o.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=tn(r,Fn);const i=tn(r.firestore,m);return RE(D(i),r._key,{source:"server"}).then(n=>eF(i,r,n))}(this._delegate):function(r){r=tn(r,Fn);const i=tn(r.firestore,m);return RE(D(i),r._key).then(n=>eF(i,r,n))}(this._delegate),n.then(s=>new zE(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new xa(this.firestore,this._delegate.withConverter(i?cg.getInstance(this.firestore,i):null))}}function Ms(r,i,n){return r.message=r.message.replace(i,n),r}function QL(r){for(const i of r)if("object"==typeof i&&!nF(i))return i;return{}}function JL(r,i){var n,s;let o;return o=nF(r[0])?r[0]:nF(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{o.next&&o.next(i(u))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(s=o.complete)||void 0===s?void 0:s.bind(o)}}class zE{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return OL(this._delegate,i._delegate)}}class YE extends zE{data(i){const n=this._delegate.data(i);return function(r,i){r||We()}(void 0!==n),n}}class Ss{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new kA(i)}where(i,n,s){try{return new Ss(this.firestore,mf(this._delegate,function(r,i,n){const s=i,o=AA("where",r);return new $H(o,s,n)}(i,n,s)))}catch(o){throw Ms(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new Ss(this.firestore,mf(this._delegate,function(r,i="asc"){const n=i,s=AA("orderBy",r);return new WH(s,n)}(i,n)))}catch(s){throw Ms(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Ss(this.firestore,mf(this._delegate,function(r){return xA("limit",r),new PL("limit",r,"F")}(i)))}catch(n){throw Ms(n,"limit()","Query.limit()")}}limitToLast(i){try{return new Ss(this.firestore,mf(this._delegate,function(r){return xA("limitToLast",r),new PL("limitToLast",r,"L")}(i)))}catch(n){throw Ms(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Ss(this.firestore,mf(this._delegate,function(...r){return new NL("startAt",r,!0)}(...i)))}catch(n){throw Ms(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Ss(this.firestore,mf(this._delegate,function(...r){return new NL("startAfter",r,!1)}(...i)))}catch(n){throw Ms(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Ss(this.firestore,mf(this._delegate,function(...r){return new LL("endBefore",r,!0)}(...i)))}catch(n){throw Ms(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Ss(this.firestore,mf(this._delegate,function(...r){return new LL("endAt",r,!1)}(...i)))}catch(n){throw Ms(n,"endAt()","Query.endAt()")}}isEqual(i){return l(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=tn(r,Or);const i=tn(r.firestore,m),n=D(i),s=new lg(i);return function(r,i){const n=new Zn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(o,u,f){try{const g=yield vr(o,u,!0),w=new iA(u,g.Gn),x=w.Io(g.documents),S=w.applyChanges(x,!1);f.resolve(S.snapshot)}catch(g){const w=eg(g,`Failed to execute query '${u} against cache`);f.reject(w)}}),function(o,u,f){return s.apply(this,arguments)})(yield Ro(r),i,n);var s})),n.promise}(n,r._query).then(o=>new pf(i,s,r,o))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=tn(r,Or);const i=tn(r.firestore,m),n=D(i),s=new lg(i);return OE(n,r._query,{source:"server"}).then(o=>new pf(i,s,r,o))}(this._delegate):function(r){r=tn(r,Or);const i=tn(r.firestore,m),n=D(i),s=new lg(i);return FL(r._query),OE(n,r._query).then(o=>new pf(i,s,r,o))}(this._delegate),n.then(s=>new iF(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=QL(i),s=JL(i,o=>new iF(this.firestore,new pf(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return YL(this._delegate,n,s)}withConverter(i){return new Ss(this.firestore,this._delegate.withConverter(i?cg.getInstance(this.firestore,i):null))}}class MG{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new YE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iF{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new Ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new YE(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new MG(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new YE(this._firestore,s))})}isEqual(i){return OL(this._delegate,i._delegate)}}class Pv extends Ss{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new xa(this.firestore,i):null}doc(i){try{return new xa(this.firestore,void 0===i?LE(this._delegate):LE(this._delegate,i))}catch(n){throw Ms(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=tn(r.firestore,m),s=LE(r),o=IA(r.converter,i);return Fv(n,[SA(Cl(r.firestore),"addDoc",s._key,o,null!==r.converter,{}).toMutation(s._key,ui.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new xa(this.firestore,n))}isEqual(i){return q1(this._delegate,i._delegate)}withConverter(i){return new Pv(this.firestore,this._delegate.withConverter(i?cg.getInstance(this.firestore,i):null))}}function ug(r){return tn(r,Fn)}class rF{constructor(...i){this._delegate=new At(...i)}static documentId(){return new rF(Ji.keyField().canonicalString())}isEqual(i){return(i=(0,Pt.m9)(i))instanceof At&&this._delegate._internalPath.isEqual(i._internalPath)}}class dg{constructor(i){this._delegate=i}static serverTimestamp(){const i=new $1("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new dg(i)}static delete(){const i=new VE("deleteField");return i._methodName="FieldValue.delete",new dg(i)}static arrayUnion(...i){const n=function(...r){return new HH("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new dg(n)}static arrayRemove(...i){const n=function(...r){return new GH("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new dg(n)}static increment(i){const n=function(r){return new jH("increment",r)}(i);return n._methodName="FieldValue.increment",new dg(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const SG={Firestore:ZL,GeoPoint:wl,Timestamp:Vt,Blob:jE,Transaction:WL,WriteBatch:KL,DocumentReference:xa,DocumentSnapshot:zE,Query:Ss,QueryDocumentSnapshot:YE,QuerySnapshot:iF,CollectionReference:Pv,FieldPath:rF,FieldValue:dg,setLogLevel:function(r){!function(r){gl.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function(r){(function(r,i){r.INTERNAL.registerComponent(new W_.wA("firestore-compat",n=>((i,n)=>new ZL(i,n,new DG))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},SG)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(Dw.Z);var qE=N(9746),IG=N(7771),kG=N(8858);class RG extends Re.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new OG(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=s.length;let f;if(this.closed)throw new Pd.N;if(this.isStopped||this.hasError?f=Jt.w.EMPTY:(this.observers.push(i),f=new kG.W(this,i)),o&&i.add(i=new qE.ht(i,o)),n)for(let g=0;g<u&&!i.closed;g++)i.next(s[g]);else for(let g=0;g<u&&!i.closed;g++)i.next(s[g].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),f}_getNow(){return(this.scheduler||IG.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,o=this._events,u=o.length;let f=0;for(;f<u&&!(i-o[f].time<s);)f++;return u>n&&(f=Math.max(f,u-n)),f>0&&o.splice(0,f),o}}class OG{constructor(i,n){this.time=i,this.value=n}}function sF(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},o=>o.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let o,f,u=0,g=!1,w=!1;return function(S){let I;u++,!o||g?(g=!1,o=new RG(r,i,s),I=o.subscribe(this),f=S.subscribe({next(F){o.next(F)},error(F){g=!0,o.error(F)},complete(){w=!0,f=void 0,o.complete()}}),w&&(f=void 0)):I=o.subscribe(this),this.add(()=>{u--,I.unsubscribe(),I=void 0,f&&!w&&n&&0===u&&(f.unsubscribe(),f=void 0,o=void 0)})}}(s))}function XL(r,i){return i?Sn(()=>r,i):Sn(()=>r)}var oF=N(9673);const eB=new a.OlP("angularfire2.auth.use-emulator"),tB=new a.OlP("angularfire2.auth.settings"),nB=new a.OlP("angularfire2.auth.tenant-id"),iB=new a.OlP("angularfire2.auth.langugage-code"),rB=new a.OlP("angularfire2.auth.use-device-language"),sB=new a.OlP("angularfire.auth.persistence"),oB=(r,i,n,s,o,u,f,g)=>(0,Bn.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const w=i.runOutsideAngular(()=>r.auth());if(n&&w.useEmulator(...n),s&&(w.tenantId=s),w.languageCode=o,u&&w.useDeviceLanguage(),f)for(const[x,S]of Object.entries(f))w.settings[x]=S;return g&&w.setPersistence(g),w},[n,s,o,u,f,g]);let aF=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S,I,F){const L=new Re.xQ,j=(0,je.of)(void 0).pipe((0,qE.QV)(f.outsideAngular),Sn(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,6780)))),(0,it.U)(()=>(0,bs.on)(n,u,s)),(0,it.U)(ne=>oB(ne,u,g,x,S,I,w,F)),sF({bufferSize:1,refCount:!1}));if(zc(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{j.pipe(Tn()).subscribe();const me=j.pipe(Sn(Be=>Be.getRedirectResult().then(ze=>ze,()=>null)),Bn.iC,sF({bufferSize:1,refCount:!1})),xe=j.pipe(Sn(Be=>new cn.y(ze=>({unsubscribe:u.runOutsideAngular(()=>Be.onAuthStateChanged(mn=>ze.next(mn),mn=>ze.error(mn),()=>ze.complete()))})))),Ge=j.pipe(Sn(Be=>new cn.y(ze=>({unsubscribe:u.runOutsideAngular(()=>Be.onIdTokenChanged(mn=>ze.next(mn),mn=>ze.error(mn),()=>ze.complete()))}))));this.authState=me.pipe(XL(xe),(0,oF.R)(f.outsideAngular),(0,qE.QV)(f.insideAngular)),this.user=me.pipe(XL(Ge),(0,oF.R)(f.outsideAngular),(0,qE.QV)(f.insideAngular)),this.idToken=this.user.pipe(Sn(Be=>Be?(0,Qt.D)(Be.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(Sn(Be=>Be?(0,Qt.D)(Be.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,Cn.T)(me,L,this.authState.pipe(Bt(Be=>!Be))).pipe((0,it.U)(Be=>(null==Be?void 0:Be.user)?Be:null),(0,oF.R)(f.outsideAngular),(0,qE.QV)(f.insideAngular))}return(0,bs.pX)(this,j,u,{spy:{apply:(ne,me,xe)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&xe.then(Ge=>L.next(Ge))}}})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(bs.Dh),a.LFG(bs.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Bn.HU),a.LFG(eB,8),a.LFG(tB,8),a.LFG(nB,8),a.LFG(iB,8),a.LFG(rB,8),a.LFG(sB,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function aB(r,i){return function(r,i=Up.z){return new cn.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function lF(r,i){return aB(r,i).pipe((0,it.U)(n=>({payload:n,type:"query"})))}function RA(r,i){return lF(r,i).pipe(en(void 0),Jp(),(0,it.U)(([n,s])=>{const o=s.payload.docChanges(),u=o.map(f=>({type:f.type,payload:f}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,g)=>{const w=o.find(S=>S.doc.ref.isEqual(f.ref)),x=null==n?void 0:n.payload.docs.find(S=>S.ref.isEqual(f.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(f.metadata)||!w&&x&&JSON.stringify(x.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:f}})}),u}))}function lB(r,i,n){return RA(r,n).pipe(Ld((s,o)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return cF(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return cF(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return cF(r,i.oldIndex,1)}return r}(r,s))}),r}(s,o.map(u=>u.payload),i),[]),Ou(),(0,it.U)(s=>s.map(o=>({type:o.type,payload:o}))))}function cF(r,i,n,...s){const o=r.slice();return o.splice(i,n,...s),o}function cB(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class uB{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=RA(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,it.U)(s=>s.filter(o=>i.indexOf(o.type)>-1)))),n.pipe(en(void 0),Jp(),Bt(([s,o])=>o.length>0||!s),(0,it.U)(([s,o])=>o),Bn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Ld((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=cB(i);return lB(this.query,n,this.afs.schedulers.outsideAngular).pipe(Bn.iC)}valueChanges(i={}){return lF(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),Bn.iC)}get(i){return(0,Qt.D)(this.query.get(i)).pipe(Bn.iC)}add(i){return this.ref.add(i)}doc(i){return new dB(this.ref.doc(i),this.afs)}}class dB{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:o,query:u}=pB(s,n);return new uB(o,u,this.afs)}snapshotChanges(){return function(r,i){return aB(r,i).pipe(en(void 0),Jp(),(0,it.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Bn.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,it.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,Qt.D)(this.ref.get(i)).pipe(Bn.iC)}}class UG{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?RA(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),Bt(n=>n.length>0),Bn.iC):RA(this.query,this.afs.schedulers.outsideAngular).pipe(Bn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Ld((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=cB(i);return lB(this.query,n,this.afs.schedulers.outsideAngular).pipe(Bn.iC)}valueChanges(i={}){return lF(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(s=>s.payload.docs.map(o=>i.idField?Object.assign({[i.idField]:o.id},o.data()):o.data())),Bn.iC)}get(i){return(0,Qt.D)(this.query.get(i)).pipe(Bn.iC)}}const hB=new a.OlP("angularfire2.enableFirestorePersistence"),fB=new a.OlP("angularfire2.firestore.persistenceSettings"),HG=new a.OlP("angularfire2.firestore.settings"),GG=new a.OlP("angularfire2.firestore.use-emulator");function pB(r,i=(n=>n)){return{query:i(r),ref:r}}let mB=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S,I,F,L,j,ne,me,xe){this.schedulers=w;const Ge=(0,bs.on)(n,g,s),Be=S;I&&oB(Ge,g,F,j,ne,me,L,xe),[this.firestore,this.persistenceEnabled$]=(0,Bn.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const ze=g.runOutsideAngular(()=>Ge.firestore());if(u&&ze.settings(u),Be&&ze.useEmulator(...Be),o&&!zc(f)){const mn=()=>{try{return(0,Qt.D)(ze.enablePersistence(x||void 0).then(()=>!0,()=>!1))}catch(mi){return"undefined"!=typeof console&&console.warn(mi),(0,je.of)(!1)}};return[ze,g.runOutsideAngular(mn)]}return[ze,(0,je.of)(!1)]},[u,Be,o])}collection(n,s){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:f}=pB(o,s),g=this.schedulers.ngZone.run(()=>u);return new uB(g,f,this)}collectionGroup(n,s){const o=s||(f=>f),u=this.firestore.collectionGroup(n);return new UG(o(u),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>s);return new dB(o,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(bs.Dh),a.LFG(bs.xv,8),a.LFG(hB,8),a.LFG(HG,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Bn.HU),a.LFG(fB,8),a.LFG(GG,8),a.LFG(aF,8),a.LFG(eB,8),a.LFG(tB,8),a.LFG(nB,8),a.LFG(iB,8),a.LFG(rB,8),a.LFG(sB,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),jG=(()=>{class r{constructor(){vh.Z.registerVersion("angularfire",Bn.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:hB,useValue:!0},{provide:fB,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[mB]}),r})(),hg=(()=>{class r{constructor(n){this.angularFirestore=n,this.toSendCollection=n.collection(vs.TOSEND),this.toSend=this.toSendCollection.valueChanges({idField:"id"}),this.sentCollection=n.collection(vs.SENT),this.sent=this.sentCollection.valueChanges({idField:"id"})}addImageToSend(n){return(0,Qt.D)(this.toSendCollection.add(Object.assign({},n)))}deleteImageToSend(n){return(0,Qt.D)(this.toSendCollection.doc(n.id).delete())}addImageSent(n){return(0,Qt.D)(this.sentCollection.add(Object.assign({},n)))}deleteImageSent(n){return(0,Qt.D)(this.sentCollection.doc(n.id).delete())}moveImageFromToSendToSent(n,s,o){return(0,Li.mG)(this,void 0,void 0,function*(){yield this.deleteImageSent(n).toPromise().then(()=>{n.name=o,n.drawable=s,n.date=Ix.format(),this.addImageSent(n).toPromise().then(()=>this.deleteImageToSend(n))}).catch(()=>console.warn("firestore"))})}addReply(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){const o=new bM(this.angularFirestore.createId(),yt.getDisplayName(),s);return n.replies.push(o),yield this.angularFirestore.doc(vs.SENT+"/"+n.id).update({replies:vh.Z.firestore.FieldValue.arrayUnion(...n.replies.map(u=>Object.assign({},u)))})})}editReply(n){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(vs.SENT+"/"+n.id).update({replies:n.replies})})}deleteReply(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(vs.SENT+"/"+n.id).update({replies:vh.Z.firestore.FieldValue.arrayRemove(s)})})}addGrade(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){const o=new wM(this.angularFirestore.createId(),yt.getDisplayName(),s);return n.grades.push(o),yield this.angularFirestore.doc(vs.SENT+"/"+n.id).update({grades:vh.Z.firestore.FieldValue.arrayUnion(...n.grades.map(u=>Object.assign({},u)))})})}editGrade(n){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(vs.SENT+"/"+n.id).update({grades:n.grades})})}deleteGrade(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(vs.SENT+"/"+n.id).update({replies:vh.Z.firestore.FieldValue.arrayRemove(s)})})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(mB))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ue(r){return null!=r&&"false"!=`${r}`}function ri(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function OA(r){return Array.isArray(r)?r:[r]}function ji(r){return null==r?"":"string"==typeof r?r:`${r}px`}function cd(r){return r instanceof a.SBq?r.nativeElement:r}var qG=N(9105);function Ac(r,i,n,s){return(0,qG.m)(n)&&(s=n,n=void 0),s?Ac(r,i,n).pipe((0,it.U)(o=>(0,Ul.k)(o)?s(...o):s(o))):new cn.y(o=>{gB(r,i,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,n)})}function gB(r,i,n,s,o){let u;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const f=r;r.addEventListener(i,n,o),u=()=>f.removeEventListener(i,n,o)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const f=r;r.on(i,n),u=()=>f.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const f=r;r.addListener(i,n),u=()=>f.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let f=0,g=r.length;f<g;f++)gB(r[f],i,n,s,o)}s.add(u)}var KG=N(6465),JG=N(6102);const e6=new class extends JG.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,o=-1,u=n.length;i=i||n.shift();do{if(s=i.execute(i.state,i.delay))break}while(++o<u&&(i=n.shift()));if(this.active=!1,s){for(;++o<u&&(i=n.shift());)i.unsubscribe();throw s}}}(class extends KG.o{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,s=0){return null!==s&&s>0?super.requestAsyncId(i,n,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,n,s);0===i.actions.length&&(cancelAnimationFrame(n),i.scheduled=void 0)}});var uF=N(4581);function dF(r){return!!r&&(r instanceof cn.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}class n6{constructor(i){this.durationSelector=i}call(i,n){return n.subscribe(new i6(i,this.durationSelector))}}class i6 extends Wr.Ds{constructor(i,n){super(i),this.durationSelector=n,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:o}=this;n=o(i)}catch(o){return this.destination.error(o)}const s=(0,Wr.ft)(n,new Wr.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var _B=N(6561);function r6(r){const{index:i,period:n,subscriber:s}=r;if(s.next(i),!s.closed){if(-1===n)return s.complete();r.index=i+1,this.schedule(r,n)}}function FA(r,i=Up.P){return function(r){return function(n){return n.lift(new n6(r))}}(()=>function(r=0,i,n){let s=-1;return(0,_B.k)(i)?s=Number(i)<1?1:Number(i):(0,Va.K)(i)&&(n=i),(0,Va.K)(n)||(n=Up.P),new cn.y(o=>{const u=(0,_B.k)(r)?r:+r-n.now();return n.schedule(r6,u,{index:0,period:s,subscriber:o})})}(r,i))}let hF;try{hF="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){hF=!1}let Lv,Gt=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?lo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hF)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.Lbi))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.Lbi))},token:r,providedIn:"root"}),r})(),Nv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const vB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function bB(){if(Lv)return Lv;if("object"!=typeof document||!document)return Lv=new Set(vB),Lv;let r=document.createElement("input");return Lv=new Set(vB.filter(i=>(r.setAttribute("type",i),r.type===i))),Lv}let $E,PA,pg,fF;function fg(r){return function(){if(null==$E&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$E=!0}))}finally{$E=$E||!1}return $E}()?r:!!r.capture}function wB(){if(null==pg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return pg=!1,pg;if("scrollBehavior"in document.documentElement.style)pg=!0;else{const r=Element.prototype.scrollTo;pg=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return pg}function ZE(){if("object"!=typeof document||!document)return 0;if(null==PA){const r=document.createElement("div"),i=r.style;r.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const n=document.createElement("div"),s=n.style;s.width="2px",s.height="1px",r.appendChild(n),document.body.appendChild(r),PA=0,0===r.scrollLeft&&(r.scrollLeft=1,PA=0===r.scrollLeft?1:2),r.parentNode.removeChild(r)}return PA}function WE(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const i=r.shadowRoot.activeElement;if(i===r)break;r=i}return r}function Bv(r){return r.composedPath?r.composedPath()[0]:r.target}class c6 extends class{}{constructor(i){super(),this._data=i}connect(){return dF(this._data)?this._data:(0,je.of)(this._data)}disconnect(){}}class pF{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(i,n,s,o,u){i.forEachOperation((f,g,w)=>{let x,S;null==f.previousIndex?(x=this._insertView(()=>s(f,g,w),w,n,o(f)),S=x?1:0):null==w?(this._detachAndCacheView(g,n),S=3):(x=this._moveView(g,w,n,o(f)),S=2),u&&u({context:null==x?void 0:x.context,operation:S,record:f})})}detach(){for(const i of this._viewCache)i.destroy();this._viewCache=[]}_insertView(i,n,s,o){const u=this._insertViewFromCache(n,s);if(u)return void(u.context.$implicit=o);const f=i();return s.createEmbeddedView(f.templateRef,f.context,f.index)}_detachAndCacheView(i,n){const s=n.detach(i);this._maybeCacheView(s,n)}_moveView(i,n,s,o){const u=s.get(i);return s.move(u,n),u.context.$implicit=o,u}_maybeCacheView(i,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(i);else{const s=n.indexOf(i);-1===s?i.destroy():n.remove(s)}}_insertViewFromCache(i,n){const s=this._viewCache.pop();return s&&n.insert(s,i),s||null}}const mg=new a.OlP("_ViewRepeater"),u6=["contentWrapper"],d6=["*"],EB=new a.OlP("VIRTUAL_SCROLL_STRATEGY");class h6{constructor(i,n,s){this._scrolledIndexChange=new Re.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Ou()),this._viewport=null,this._itemSize=i,this._minBufferPx=n,this._maxBufferPx=s}attach(i){this._viewport=i,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(i,n,s){this._itemSize=i,this._minBufferPx=n,this._maxBufferPx=s,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(i,n){this._viewport&&this._viewport.scrollToOffset(i*this._itemSize,n)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const i=this._viewport.getRenderedRange(),n={start:i.start,end:i.end},s=this._viewport.getViewportSize(),o=this._viewport.getDataLength();let u=this._viewport.measureScrollOffset(),f=this._itemSize>0?u/this._itemSize:0;if(n.end>o){const w=Math.ceil(s/this._itemSize),x=Math.max(0,Math.min(f,o-w));f!=x&&(f=x,u=x*this._itemSize,n.start=Math.floor(f)),n.end=Math.max(0,Math.min(o,n.start+w))}const g=u-n.start*this._itemSize;if(g<this._minBufferPx&&0!=n.start){const w=Math.ceil((this._maxBufferPx-g)/this._itemSize);n.start=Math.max(0,n.start-w),n.end=Math.min(o,Math.ceil(f+(s+this._minBufferPx)/this._itemSize))}else{const w=n.end*this._itemSize-(u+s);if(w<this._minBufferPx&&n.end!=o){const x=Math.ceil((this._maxBufferPx-w)/this._itemSize);x>0&&(n.end=Math.min(o,n.end+x),n.start=Math.max(0,Math.floor(f-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(f))}}function f6(r){return r._scrollStrategy}let VA=(()=>{class r{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new h6(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=ri(n)}get minBufferPx(){return this._minBufferPx}set minBufferPx(n){this._minBufferPx=ri(n)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(n){this._maxBufferPx=ri(n)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[a._Bn([{provide:EB,useFactory:f6,deps:[(0,a.Gpc)(()=>r)]}]),a.TTD]}),r})(),_f=(()=>{class r{constructor(n,s,o){this._ngZone=n,this._platform=s,this._scrolled=new Re.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new cn.y(s=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(FA(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,je.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const o=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(Bt(u=>!u||o.indexOf(u)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((o,u)=>{this._scrollableContainsElement(u,n)&&s.push(u)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let o=cd(s),u=n.getElementRef().nativeElement;do{if(o==u)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ac(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(Gt),a.LFG(q,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.R0b),a.LFG(Gt),a.LFG(q,8))},token:r,providedIn:"root"}),r})(),Vv=(()=>{class r{constructor(n,s,o,u){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=o,this.dir=u,this._destroyed=new Re.xQ,this._elementScrolled=new cn.y(f=>this.ngZone.runOutsideAngular(()=>Ac(this.elementRef.nativeElement,"scroll").pipe(Je(this._destroyed)).subscribe(f)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const s=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=o?n.end:n.start),null==n.right&&(n.right=o?n.start:n.end),null!=n.bottom&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),o&&0!=ZE()?(null!=n.left&&(n.right=s.scrollWidth-s.clientWidth-n.left),2==ZE()?n.left=n.right:1==ZE()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const s=this.elementRef.nativeElement;wB()?s.scrollTo(n):(null!=n.top&&(s.scrollTop=n.top),null!=n.left&&(s.scrollLeft=n.left))}measureScrollOffset(n){const s="left",o="right",u=this.elementRef.nativeElement;if("top"==n)return u.scrollTop;if("bottom"==n)return u.scrollHeight-u.clientHeight-u.scrollTop;const f=this.dir&&"rtl"==this.dir.value;return"start"==n?n=f?o:s:"end"==n&&(n=f?s:o),f&&2==ZE()?n==s?u.scrollWidth-u.clientWidth-u.scrollLeft:u.scrollLeft:f&&1==ZE()?n==s?u.scrollLeft+u.scrollWidth-u.clientWidth:-u.scrollLeft:n==s?u.scrollLeft:u.scrollWidth-u.clientWidth-u.scrollLeft}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(_f),a.Y36(a.R0b),a.Y36(Xt,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),Fo=(()=>{class r{constructor(n,s,o){this._platform=n,this._change=new Re.xQ,this._changeListener=u=>{this._change.next(u)},this._document=o,s.runOutsideAngular(()=>{if(n.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),o=n.documentElement,u=o.getBoundingClientRect();return{top:-u.top||n.body.scrollTop||s.scrollY||o.scrollTop||0,left:-u.left||n.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(FA(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Gt),a.LFG(a.R0b),a.LFG(q,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Gt),a.LFG(a.R0b),a.LFG(q,8))},token:r,providedIn:"root"}),r})();const _6="undefined"!=typeof requestAnimationFrame?e6:uF.E;let KE=(()=>{class r extends Vv{constructor(n,s,o,u,f,g,w){super(n,g,o,f),this.elementRef=n,this._changeDetectorRef=s,this._scrollStrategy=u,this._detachedSubject=new Re.xQ,this._renderedRangeSubject=new Re.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new cn.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(S=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(S))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Jt.w.EMPTY,this._viewportChanges=w.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(n){this._orientation!==n&&(this._orientation=n,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(n){this._appendOnly=Ue(n)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(en(null),FA(0,_6)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(n){this.ngZone.runOutsideAngular(()=>{this._forOf=n,this._forOf.dataStream.pipe(Je(this._detachedSubject)).subscribe(s=>{const o=s.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(n){this._totalContentSize!==n&&(this._totalContentSize=n,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(n){(function(r,i){return r.start==i.start&&r.end==i.end})(this._renderedRange,n)||(this.appendOnly&&(n={start:0,end:Math.max(this._renderedRange.end,n.end)}),this._renderedRangeSubject.next(this._renderedRange=n),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(n,s="to-start"){const u="horizontal"==this.orientation,f=u?"X":"Y";let w=`translate${f}(${Number((u&&this.dir&&"rtl"==this.dir.value?-1:1)*n)}px)`;this._renderedContentOffset=n,"to-end"===s&&(w+=` translate${f}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=w&&(this._renderedContentTransform=w,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(n,s="auto"){const o={behavior:s};"horizontal"===this.orientation?o.start=n:o.top=n,this.scrollTo(o)}scrollToIndex(n,s="auto"){this._scrollStrategy.scrollToIndex(n,s)}measureScrollOffset(n){return super.measureScrollOffset(n||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const n=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?n.offsetWidth:n.offsetHeight}measureRangeSize(n){return this._forOf?this._forOf.measureRangeSize(n,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const n=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?n.clientWidth:n.clientHeight}_markChangeDetectionNeeded(n){n&&this._runAfterChangeDetection.push(n),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const n=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of n)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(EB,8),a.Y36(Xt,8),a.Y36(_f),a.Y36(Fo))},r.\u0275cmp=a.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(n,s){if(1&n&&a.Gf(u6,7),2&n){let o;a.iGM(o=a.CRH())&&(s._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(n,s){2&n&&a.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[a._Bn([{provide:Vv,useExisting:r}]),a.qOj],ngContentSelectors:d6,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(n,s){1&n&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&n&&(a.xp6(3),a.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),r})();function DB(r,i,n){if(!n.getBoundingClientRect)return 0;const o=n.getBoundingClientRect();return"horizontal"===r?"start"===i?o.left:o.right:"start"===i?o.top:o.bottom}let mF=(()=>{class r{constructor(n,s,o,u,f,g){this._viewContainerRef=n,this._template=s,this._differs=o,this._viewRepeater=u,this._viewport=f,this.viewChange=new Re.xQ,this._dataSourceChanges=new Re.xQ,this.dataStream=this._dataSourceChanges.pipe(en(null),Jp(),Sn(([w,x])=>this._changeDataSource(w,x)),sF(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Re.xQ,this.dataStream.subscribe(w=>{this._data=w,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Je(this._destroyed)).subscribe(w=>{this._renderedRange=w,g.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(n){this._cdkVirtualForOf=n,function(r){return r&&"function"==typeof r.connect}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new c6(dF(n)?n:Array.from(n||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(n){this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?(s,o)=>n(s+(this._renderedRange?this._renderedRange.start:0),o):void 0}set cdkVirtualForTemplate(n){n&&(this._needsUpdate=!0,this._template=n)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(n){this._viewRepeater.viewCacheSize=ri(n)}measureRangeSize(n,s){if(n.start>=n.end)return 0;const o=n.start-this._renderedRange.start,u=n.end-n.start;let f,g;for(let w=0;w<u;w++){const x=this._viewContainerRef.get(w+o);if(x&&x.rootNodes.length){f=g=x.rootNodes[0];break}}for(let w=u-1;w>-1;w--){const x=this._viewContainerRef.get(w+o);if(x&&x.rootNodes.length){g=x.rootNodes[x.rootNodes.length-1];break}}return f&&g?DB(s,"end",g)-DB(s,"start",f):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((n,s)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(n,s):s)),this._needsUpdate=!0)}_changeDataSource(n,s){return n&&n.disconnect(this),this._needsUpdate=!0,s?s.connect(this):(0,je.of)()}_updateContext(){const n=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const o=this._viewContainerRef.get(s);o.context.index=this._renderedRange.start+s,o.context.count=n,this._updateComputedContextProperties(o.context),o.detectChanges()}}_applyChanges(n){this._viewRepeater.applyChanges(n,this._viewContainerRef,(u,f,g)=>this._getEmbeddedViewArgs(u,g),u=>u.item),n.forEachIdentityChange(u=>{this._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});const s=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const u=this._viewContainerRef.get(o);u.context.index=this._renderedRange.start+o,u.context.count=s,this._updateComputedContextProperties(u.context)}}_updateComputedContextProperties(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}_getEmbeddedViewArgs(n,s){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:s}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(mg),a.Y36(KE,4),a.Y36(a.R0b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[a._Bn([{provide:mg,useClass:pF}])]}),r})(),yf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),UA=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Co,Nv,yf],Co,yf]}),r})();class gF{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class vf extends gF{constructor(i,n,s,o){super(),this.component=i,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=o}}class Ic extends gF{constructor(i,n,s){super(),this.templateRef=i,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,n=this.context){return this.context=n,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class y6 extends gF{constructor(i){super(),this.element=i instanceof a.SBq?i.nativeElement:i}}class HA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof vf?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof Ic?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof y6?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class xB extends HA{constructor(i,n,s,o,u){super(),this.outletElement=i,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=o,this.attachDomPortal=f=>{const g=f.element,w=this._document.createComment("dom-portal");g.parentNode.insertBefore(w,g),this.outletElement.appendChild(g),this._attachedPortal=f,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(g,w)})},this._document=u}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let o;return i.viewContainerRef?(o=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=s.create(i.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=i,o}attachTemplatePortal(i){let n=i.viewContainerRef,s=n.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(o=>this.outletElement.appendChild(o)),s.detectChanges(),this.setDisposeFn(()=>{let o=n.indexOf(s);-1!==o&&n.remove(o)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let Ma=(()=>{class r extends HA{constructor(n,s,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");u.setAttachedHost(this),f.parentNode.insertBefore(g,f),this._getRootNode().appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(n){n.setAttachedHost(this);const s=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,u=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),f=s.createComponent(u,s.length,n.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=n,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(n){n.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(q))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),r})(),Uv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const SB=wB();class k6{constructor(i,n){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=ji(-this._previousScrollPosition.left),i.style.top=ji(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,o=this._document.body.style,u=s.scrollBehavior||"",f=o.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),SB&&(s.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),SB&&(s.scrollBehavior=u,o.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class R6{constructor(i,n,s,o){this._scrollDispatcher=i,this._ngZone=n,this._viewportRuler=s,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TB{enable(){}disable(){}attach(){}}function wF(r,i){return i.some(n=>r.bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}function AB(r,i){return i.some(n=>r.top<n.top||r.bottom>n.bottom||r.left<n.left||r.right>n.right)}class O6{constructor(i,n,s,o){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=s,this._config=o,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:o}=this._viewportRuler.getViewportSize();wF(n,[{width:s,height:o,bottom:o,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let F6=(()=>{class r{constructor(n,s,o,u){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=o,this.noop=()=>new TB,this.close=f=>new R6(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new k6(this._viewportRuler,this._document),this.reposition=f=>new O6(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=u}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(_f),a.LFG(Fo),a.LFG(a.R0b),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(_f),a.LFG(Fo),a.LFG(a.R0b),a.LFG(q))},token:r,providedIn:"root"}),r})();class Hv{constructor(i){if(this.scrollStrategy=new TB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const n=Object.keys(i);for(const s of n)void 0!==i[s]&&(this[s]=i[s])}}}class P6{constructor(i,n,s,o,u){this.offsetX=s,this.offsetY=o,this.panelClass=u,this.originX=i.originX,this.originY=i.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class N6{constructor(i,n){this.connectionPair=i,this.scrollableViewProperties=n}}let IB=(()=>{class r{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q))},token:r,providedIn:"root"}),r})(),L6=(()=>{class r extends IB{constructor(n){super(n),this._keydownListener=s=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){o[u]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q))},token:r,providedIn:"root"}),r})(),B6=(()=>{class r extends IB{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=o=>{const u=Bv(o),f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const w=f[g];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(u))break;w._outsidePointerEvents.next(o)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(Gt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q),a.LFG(Gt))},token:r,providedIn:"root"}),r})();const bf="undefined"!=typeof window?window:{},kB=void 0!==bf.__karma__&&!!bf.__karma__||void 0!==bf.jasmine&&!!bf.jasmine||void 0!==bf.jest&&!!bf.jest||void 0!==bf.Mocha&&!!bf.Mocha;let QE=(()=>{class r{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||kB){const o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let u=0;u<o.length;u++)o[u].parentNode.removeChild(o[u])}const s=this._document.createElement("div");s.classList.add(n),kB?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(Gt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q),a.LFG(Gt))},token:r,providedIn:"root"}),r})();class V6{constructor(i,n,s,o,u,f,g,w,x){this._portalOutlet=i,this._host=n,this._pane=s,this._config=o,this._ngZone=u,this._keyboardDispatcher=f,this._document=g,this._location=w,this._outsideClickDispatcher=x,this._backdropElement=null,this._backdropClick=new Re.xQ,this._attachments=new Re.xQ,this._detachments=new Re.xQ,this._locationChanges=Jt.w.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._keydownEvents=new Re.xQ,this._outsidePointerEvents=new Re.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let n=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(fn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=ji(this._config.width),i.height=ji(this._config.height),i.minWidth=ji(this._config.minWidth),i.minHeight=ji(this._config.minHeight),i.maxWidth=ji(this._config.maxWidth),i.maxHeight=ji(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let n,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(n)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,n,s){const o=i.classList;OA(n).forEach(u=>{u&&(s?o.add(u):o.remove(u))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Je((0,Cn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const RB="cdk-overlay-connected-position-bounding-box",U6=/([A-Za-z%]+)$/;class CF{constructor(i,n,s,o,u){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Re.xQ,this._resizeSubscription=Jt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(RB),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,n=this._overlayRect,s=this._viewportRect,o=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(i,f),w=this._getOverlayPoint(g,n,f),x=this._getOverlayFit(w,n,s,f);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(x,w,s)?o.push({position:f,origin:g,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<x.visibleArea)&&(u={overlayFit:x,overlayPoint:w,originPoint:g,position:f,overlayRect:n})}if(o.length){let f=null,g=-1;for(const w of o){const x=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);x>g&&(g=x,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(RB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,i);this._applyPosition(i,n)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,n){let s,o;if("center"==n.originX)s=i.left+i.width/2;else{const u=this._isRtl()?i.right:i.left,f=this._isRtl()?i.left:i.right;s="start"==n.originX?u:f}return o="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,{x:s,y:o}}_getOverlayPoint(i,n,s){let o,u;return o="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,u="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:i.x+o,y:i.y+u}}_getOverlayFit(i,n,s,o){const u=FB(n);let{x:f,y:g}=i,w=this._getOffset(o,"x"),x=this._getOffset(o,"y");w&&(f+=w),x&&(g+=x);let F=0-g,L=g+u.height-s.height,j=this._subtractOverflows(u.width,0-f,f+u.width-s.width),ne=this._subtractOverflows(u.height,F,L),me=j*ne;return{visibleArea:me,isCompletelyWithinViewport:u.width*u.height===me,fitsInViewportVertically:ne===u.height,fitsInViewportHorizontally:j==u.width}}_canFitWithFlexibleDimensions(i,n,s){if(this._hasFlexibleDimensions){const o=s.bottom-n.y,u=s.right-n.x,f=OB(this._overlayRef.getConfig().minHeight),g=OB(this._overlayRef.getConfig().minWidth),x=i.fitsInViewportHorizontally||null!=g&&g<=u;return(i.fitsInViewportVertically||null!=f&&f<=o)&&x}return!1}_pushOverlayOnScreen(i,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const o=FB(n),u=this._viewportRect,f=Math.max(i.x+o.width-u.width,0),g=Math.max(i.y+o.height-u.height,0),w=Math.max(u.top-s.top-i.y,0),x=Math.max(u.left-s.left-i.x,0);let S=0,I=0;return S=o.width<=u.width?x||-f:i.x<this._viewportMargin?u.left-s.left-i.x:0,I=o.height<=u.height?w||-g:i.y<this._viewportMargin?u.top-s.top-i.y:0,this._previousPushAmount={x:S,y:I},{x:i.x+S,y:i.y+I}}_applyPosition(i,n){if(this._setTransformOrigin(i),this._setOverlayElementStyles(n,i),this._setBoundingBoxStyles(n,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),o=new N6(i,s);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,o=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let u=0;u<n.length;u++)n[u].style.transformOrigin=`${s} ${o}`}_calculateBoundingBoxRect(i,n){const s=this._viewportRect,o=this._isRtl();let u,f,g,S,I,F;if("top"===n.overlayY)f=i.y,u=s.height-f+this._viewportMargin;else if("bottom"===n.overlayY)g=s.height-i.y+2*this._viewportMargin,u=s.height-g+this._viewportMargin;else{const L=Math.min(s.bottom-i.y+s.top,i.y),j=this._lastBoundingBoxSize.height;u=2*L,f=i.y-L,u>j&&!this._isInitialRender&&!this._growAfterOpen&&(f=i.y-j/2)}if("end"===n.overlayX&&!o||"start"===n.overlayX&&o)F=s.width-i.x+this._viewportMargin,S=i.x-this._viewportMargin;else if("start"===n.overlayX&&!o||"end"===n.overlayX&&o)I=i.x,S=s.right-i.x;else{const L=Math.min(s.right-i.x+s.left,i.x),j=this._lastBoundingBoxSize.width;S=2*L,I=i.x-L,S>j&&!this._isInitialRender&&!this._growAfterOpen&&(I=i.x-j/2)}return{top:f,left:I,bottom:g,right:F,width:S,height:u}}_setBoundingBoxStyles(i,n){const s=this._calculateBoundingBoxRect(i,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;o.height=ji(s.height),o.top=ji(s.top),o.bottom=ji(s.bottom),o.width=ji(s.width),o.left=ji(s.left),o.right=ji(s.right),o.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",o.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",u&&(o.maxHeight=ji(u)),f&&(o.maxWidth=ji(f))}this._lastBoundingBoxSize=s,vg(this._boundingBox.style,o)}_resetBoundingBoxStyles(){vg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,n){const s={},o=this._hasExactPosition(),u=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(o){const S=this._viewportRuler.getViewportScrollPosition();vg(s,this._getExactOverlayY(n,i,S)),vg(s,this._getExactOverlayX(n,i,S))}else s.position="static";let g="",w=this._getOffset(n,"x"),x=this._getOffset(n,"y");w&&(g+=`translateX(${w}px) `),x&&(g+=`translateY(${x}px)`),s.transform=g.trim(),f.maxHeight&&(o?s.maxHeight=ji(f.maxHeight):u&&(s.maxHeight="")),f.maxWidth&&(o?s.maxWidth=ji(f.maxWidth):u&&(s.maxWidth="")),vg(this._pane.style,s)}_getExactOverlayY(i,n,s){let o={top:"",bottom:""},u=this._getOverlayPoint(n,this._overlayRect,i);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=f,"bottom"===i.overlayY?o.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":o.top=ji(u.y),o}_getExactOverlayX(i,n,s){let f,o={left:"",right:""},u=this._getOverlayPoint(n,this._overlayRect,i);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s)),f=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===f?o.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":o.left=ji(u.x),o}_getScrollVisibility(){const i=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:AB(i,s),isOriginOutsideView:wF(i,s),isOverlayClipped:AB(n,s),isOverlayOutsideView:wF(n,s)}}_subtractOverflows(i,...n){return n.reduce((s,o)=>s-Math.max(o,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:i-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,n){return"x"===n?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&OA(i).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof a.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const n=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+n,height:s,width:n}}}function vg(r,i){for(let n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);return r}function OB(r){if("number"!=typeof r&&null!=r){const[i,n]=r.split(U6);return n&&"px"!==n?null:parseFloat(i)}return r||null}function FB(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}class H6{constructor(i,n,s,o,u,f,g){this._preferredPositions=[],this._positionStrategy=new CF(s,o,u,f,g).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,n,s,o){const u=new P6(i,n,s,o);return this._preferredPositions.push(u),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const PB="cdk-global-overlay-wrapper";class G6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const n=i.getConfig();this._overlayRef=i,this._width&&!n.width&&i.updateSize({width:this._width}),this._height&&!n.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(PB),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:o,height:u,maxWidth:f,maxHeight:g}=s,w=!("100%"!==o&&"100vw"!==o||f&&"100%"!==f&&"100vw"!==f),x=!("100%"!==u&&"100vh"!==u||g&&"100%"!==g&&"100vh"!==g);i.position=this._cssPosition,i.marginLeft=w?"0":this._leftOffset,i.marginTop=x?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,w?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=x?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(PB),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let j6=(()=>{class r{constructor(n,s,o,u){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=u}global(){return new G6}connectedTo(n,s,o){return new H6(s,o,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new CF(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Fo),a.LFG(q),a.LFG(Gt),a.LFG(QE))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Fo),a.LFG(q),a.LFG(Gt),a.LFG(QE))},token:r,providedIn:"root"}),r})(),z6=0,ss=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S,I,F){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=o,this._positionBuilder=u,this._keyboardDispatcher=f,this._injector=g,this._ngZone=w,this._document=x,this._directionality=S,this._location=I,this._outsideClickDispatcher=F}create(n){const s=this._createHostElement(),o=this._createPaneElement(s),u=this._createPortalOutlet(o),f=new Hv(n);return f.direction=f.direction||this._directionality.value,new V6(u,s,o,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+z6++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new xB(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(F6),a.LFG(QE),a.LFG(a._Vd),a.LFG(j6),a.LFG(L6),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(q),a.LFG(Xt),a.LFG(lt),a.LFG(B6))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Z6={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ss],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let Gv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[ss,Z6],imports:[[Co,Uv,UA],UA]}),r})();function BB(r){return i=>i.lift(new W6(r))}class W6{constructor(i){this.total=i}call(i,n){return n.subscribe(new K6(i,this.total))}}class K6 extends wi.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}let EF=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),VB=(()=>{class r{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,s)=>this._cleanupObserver(s))}observe(n){const s=cd(n);return new cn.y(o=>{const f=this._observeElement(s).subscribe(o);return()=>{f.unsubscribe(),this._unobserveElement(s)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const s=new Re.xQ,o=this._mutationObserverFactory.create(u=>s.next(u));o&&o.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:o,stream:s,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:s,stream:o}=this._observedElements.get(n);s&&s.disconnect(),o.complete(),this._observedElements.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(EF))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(EF))},token:r,providedIn:"root"}),r})(),JE=(()=>{class r{constructor(n,s,o){this._contentObserver=n,this._elementRef=s,this._ngZone=o,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=Ue(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=ri(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(Su(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(VB),a.Y36(a.SBq),a.Y36(a.R0b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),XE=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[EF]}),r})(),qB=(()=>{class r{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(i){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(n));if(s&&(-1===ZB(s)||!this.isVisible(s)))return!1;let o=n.nodeName.toLowerCase(),u=ZB(n);return n.hasAttribute("contenteditable")?-1!==u:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let i=r.nodeName.toLowerCase(),n="input"===i&&r.type;return"text"===n||"password"===n||"select"===i||"textarea"===i}(n))&&("audio"===o?!!n.hasAttribute("controls")&&-1!==u:"video"===o?-1!==u&&(null!==u||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let i=r.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||$B(r))}(n)&&!this.isDisabled(n)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(n))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Gt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Gt))},token:r,providedIn:"root"}),r})();function $B(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let i=r.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function ZB(r){if(!$B(r))return null;const i=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class dj{constructor(i,n,s,o,u=!1){this._element=i,this._checker=n,this._ngZone=s,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,n=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let n=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<n.length;s++)n[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]):n[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]);return"start"==i?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const s=this._getFirstTabbableElement(n);return null==s||s.focus(i),!!s}return n.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const n=this._getRegionBoundary("start");return n&&n.focus(i),!!n}focusLastTabbableElement(i){const n=this._getRegionBoundary("end");return n&&n.focus(i),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=0;s<n.length;s++){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[s]):null;if(o)return o}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=n.length-1;s>=0;s--){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[s]):null;if(o)return o}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,n){i?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(fn(1)).subscribe(i)}}let xF=(()=>{class r{constructor(n,s,o){this._checker=n,this._ngZone=s,this._document=o}create(n,s=!1){return new dj(n,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(qB),a.LFG(a.R0b),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(qB),a.LFG(a.R0b),a.LFG(q))},token:r,providedIn:"root"}),r})();function MF(r){return 0===r.offsetX&&0===r.offsetY}function SF(r){const i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const WB=new a.OlP("cdk-input-modality-detector-options"),_j={ignoreKeys:[18,17,224,91,16]},jv=fg({passive:!0,capture:!0});let QB=(()=>{class r{constructor(n,s,o,u){this._platform=n,this._mostRecentTarget=null,this._modality=new Zi(null),this._lastTouchMs=0,this._onKeydown=f=>{var g,w;(null===(w=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===w?void 0:w.some(x=>x===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Bv(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(MF(f)?"keyboard":"mouse"),this._mostRecentTarget=Bv(f))},this._onTouchstart=f=>{SF(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bv(f))},this._options=Object.assign(Object.assign({},_j),u),this.modalityDetected=this._modality.pipe(BB(1)),this.modalityChanged=this.modalityDetected.pipe(Ou()),n.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,jv),o.addEventListener("mousedown",this._onMousedown,jv),o.addEventListener("touchstart",this._onTouchstart,jv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,jv),document.removeEventListener("mousedown",this._onMousedown,jv),document.removeEventListener("touchstart",this._onTouchstart,jv))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Gt),a.LFG(a.R0b),a.LFG(q),a.LFG(WB,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Gt),a.LFG(a.R0b),a.LFG(q),a.LFG(WB,8))},token:r,providedIn:"root"}),r})();const JB=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),XB=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let $A=(()=>{class r{constructor(n,s,o,u){this._ngZone=s,this._defaultOptions=u,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...s){const o=this._defaultOptions;let u,f;return 1===s.length&&"number"==typeof s[0]?f=s[0]:[u,f]=s,this.clear(),clearTimeout(this._previousTimeout),u||(u=o&&o.politeness?o.politeness:"polite"),null==f&&o&&(f=o.duration),this._liveElement.setAttribute("aria-live",u),this._ngZone.runOutsideAngular(()=>new Promise(g=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,g(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const n="cdk-live-announcer-element",s=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let u=0;u<s.length;u++)s[u].parentNode.removeChild(s[u]);return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(JB,8),a.LFG(a.R0b),a.LFG(q),a.LFG(XB,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(JB,8),a.LFG(a.R0b),a.LFG(q),a.LFG(XB,8))},token:r,providedIn:"root"}),r})();const eV=new a.OlP("cdk-focus-monitor-default-options"),ZA=fg({passive:!0,capture:!0});let Pr=(()=>{class r{constructor(n,s,o,u,f){this._ngZone=n,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Re.xQ,this._rootNodeFocusAndBlurListener=g=>{const w=Bv(g),x="focus"===g.type?this._onFocus:this._onBlur;for(let S=w;S;S=S.parentElement)x.call(this,g,S)},this._document=u,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(n,s=!1){const o=cd(n);if(!this._platform.isBrowser||1!==o.nodeType)return(0,je.of)(null);const u=function(r){if(function(){if(null==fF){const r="undefined"!=typeof document?document.head:null;fF=!(!r||!r.createShadowRoot&&!r.attachShadow)}return fF}()){const i=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return s&&(f.checkChildren=!0),f.subject;const g={checkChildren:s,subject:new Re.xQ,rootNode:u};return this._elementInfo.set(o,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(n){const s=cd(n),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(n,s,o){const u=cd(n);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([g,w])=>this._originChanged(g,s,w)):(this._setOrigin(s),"function"==typeof u.focus&&u.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(n,s,o){o?n.classList.add(s):n.classList.remove(s)}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,s){this._toggleClass(n,"cdk-focused",!!s),this._toggleClass(n,"cdk-touch-focused","touch"===s),this._toggleClass(n,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(n,"cdk-mouse-focused","mouse"===s),this._toggleClass(n,"cdk-program-focused","program"===s)}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,s){const o=this._elementInfo.get(s),u=Bv(n);!o||!o.checkChildren&&s!==u||this._originChanged(s,this._getFocusOrigin(u),o)}_onBlur(n,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(n,s){this._ngZone.run(()=>n.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const s=n.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,ZA),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,ZA)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Je(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(n){const s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ZA),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ZA),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,o){this._setClasses(n,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){const s=[];return this._elementInfo.forEach((o,u)=>{(u===n||o.checkChildren&&u.contains(n))&&s.push([u,o])}),s}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(Gt),a.LFG(QB),a.LFG(q,8),a.LFG(eV,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.R0b),a.LFG(Gt),a.LFG(QB),a.LFG(q,8),a.LFG(eV,8))},token:r,providedIn:"root"}),r})();const tV="cdk-high-contrast-black-on-white",nV="cdk-high-contrast-white-on-black",AF="cdk-high-contrast-active";let iV=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(n):null,u=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(AF),n.remove(tV),n.remove(nV),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(AF),n.add(tV)):2===s&&(n.add(AF),n.add(nV))}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Gt),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Gt),a.LFG(q))},token:r,providedIn:"root"}),r})(),IF=(()=>{class r{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(iV))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Nv,XE]]}),r})();const rV=new a.GfV("12.2.5");class sV{}const hd="*";function no(r,i){return{type:7,name:r,definitions:i,options:{}}}function si(r,i=null){return{type:4,styles:i,timings:r}}function oV(r,i=null){return{type:2,steps:r,options:i}}function Rt(r){return{type:6,styles:r,offset:null}}function oi(r,i,n){return{type:0,name:r,styles:i,options:n}}function Jn(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function aV(r){Promise.resolve(null).then(r)}class zv{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){aV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class lV{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,o=0;const u=this.players.length;0==u?aV(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++n==u&&this._onFinish()}),f.onDestroy(()=>{++s==u&&this._onDestroy()}),f.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((f,g)=>Math.max(f,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(o)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function cV(){return"undefined"!=typeof window&&void 0!==window.document}function OF(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wf(r){switch(r.length){case 0:return new zv;case 1:return r[0];default:return new lV(r)}}function uV(r,i,n,s,o={},u={}){const f=[],g=[];let w=-1,x=null;if(s.forEach(S=>{const I=S.offset,F=I==w,L=F&&x||{};Object.keys(S).forEach(j=>{let ne=j,me=S[j];if("offset"!==j)switch(ne=i.normalizePropertyName(ne,f),me){case"!":me=o[j];break;case hd:me=u[j];break;default:me=i.normalizeStyleValue(j,ne,me,f)}L[ne]=me}),F||g.push(L),x=L,w=I}),f.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${f.join(S)}`)}return g}function FF(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&PF(n,"start",r)));break;case"done":r.onDone(()=>s(n&&PF(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&PF(n,"destroy",r)))}}function PF(r,i,n){const s=n.totalTime,u=NF(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),f=r._data;return null!=f&&(u._data=f),u}function NF(r,i,n,s,o="",u=0,f){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:o,totalTime:u,disabled:!!f}}function Po(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function dV(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let LF=(r,i)=>!1,BF=(r,i)=>!1,hV=(r,i,n)=>[];const fV=OF();(fV||"undefined"!=typeof Element)&&(LF=cV()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),BF=(()=>{if(fV||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):BF}})(),hV=(r,i,n)=>{let s=[];if(n){const o=r.querySelectorAll(i);for(let u=0;u<o.length;u++)s.push(o[u])}else{const o=r.querySelector(i);o&&s.push(o)}return s});let bg=null,pV=!1;function VF(r){bg||(bg=("undefined"!=typeof document?document.body:null)||{},pV=!!bg.style&&"WebkitAppearance"in bg.style);let i=!0;return bg.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in bg.style,!i&&pV&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in bg.style)),i}const UF=BF,HF=LF,GF=hV;function mV(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let gV=(()=>{class r{validateStyleProperty(n){return VF(n)}matchesElement(n,s){return UF(n,s)}containsElement(n,s){return HF(n,s)}query(n,s,o){return GF(n,s,o)}computeStyle(n,s,o){return o||""}animate(n,s,o,u,f,g=[],w){return new zv(o,u)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class WA{}WA.NOOP=new gV;const jF="ng-enter",KA="ng-leave",QA="ng-trigger",JA=".ng-trigger",yV="ng-animating",zF=".ng-animating";function wg(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:YF(parseFloat(i[1]),i[2])}function YF(r,i){switch(i){case"s":return 1e3*r;default:return r}}function XA(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let o,u=0,f="";if("string"==typeof r){const g=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};o=YF(parseFloat(g[1]),g[2]);const w=g[3];null!=w&&(u=YF(parseFloat(w),g[4]));const x=g[5];x&&(f=x)}else o=r;if(!n){let g=!1,w=i.length;o<0&&(i.push("Duration values below 0 are not allowed for this animation step."),g=!0),u<0&&(i.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&i.splice(w,0,`The provided timing value "${r}" is invalid.`)}return{duration:o,delay:u,easing:f}}(r,i,n)}function Yv(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function Cf(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else Yv(r,n);return n}function bV(r,i,n){return n?i+":"+n+";":""}function wV(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=bV(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=bV(0,Ij(n),r.style[n]));r.setAttribute("style",i)}function Rc(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const o=$F(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[o]),r.style[o]=i[s]}),OF()&&wV(r))}function Cg(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=$F(n);r.style[s]=""}),OF()&&wV(r))}function tD(r){return Array.isArray(r)?1==r.length?r[0]:oV(r):r}const qF=new RegExp("{{\\s*(.+?)\\s*}}","g");function CV(r){let i=[];if("string"==typeof r){let n;for(;n=qF.exec(r);)i.push(n[1]);qF.lastIndex=0}return i}function eI(r,i,n){const s=r.toString(),o=s.replace(qF,(u,f)=>{let g=i[f];return i.hasOwnProperty(f)||(n.push(`Please provide a value for the animation param ${f}`),g=""),g.toString()});return o==s?r:o}function tI(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const Aj=/-+([a-z0-9])/g;function $F(r){return r.replace(Aj,(...i)=>i[1].toUpperCase())}function Ij(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function EV(r,i){return 0===r||0===i}function DV(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let u=i[0],f=[];if(s.forEach(g=>{u.hasOwnProperty(g)||f.push(g),u[g]=n[g]}),f.length)for(var o=1;o<i.length;o++){let g=i[o];f.forEach(function(w){g[w]=ZF(r,w)})}}return i}function No(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function ZF(r,i){return window.getComputedStyle(r)[i]}function kj(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const w=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof w)return void i.push(w);r=w}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const o=s[1],u=s[2],f=s[3];i.push(xV(o,f));"<"==u[0]&&!("*"==o&&"*"==f)&&i.push(xV(f,o))}(s,n,i)):n.push(r),n}const iI=new Set(["true","1"]),rI=new Set(["false","0"]);function xV(r,i){const n=iI.has(r)||rI.has(r),s=iI.has(i)||rI.has(i);return(o,u)=>{let f="*"==r||r==o,g="*"==i||i==u;return!f&&n&&"boolean"==typeof o&&(f=o?iI.has(r):rI.has(r)),!g&&s&&"boolean"==typeof u&&(g=u?iI.has(i):rI.has(i)),f&&g}}const Fj=new RegExp("s*:selfs*,?","g");function WF(r,i,n){return new Pj(r).build(i,n)}class Pj{constructor(i){this._driver=i}build(i,n){const s=new Bj(n);return this._resetContextStyleTimingState(s),No(this,tD(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,o=n.depCount=0;const u=[],f=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(g=>{if(this._resetContextStyleTimingState(n),0==g.type){const w=g,x=w.name;x.toString().split(/\s*,\s*/).forEach(S=>{w.name=S,u.push(this.visitState(w,n))}),w.name=x}else if(1==g.type){const w=this.visitTransition(g,n);s+=w.queryCount,o+=w.depCount,f.push(w)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:u,transitions:f,queryCount:s,depCount:o,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),o=i.options&&i.options.params||null;if(s.containsDynamicStyles){const u=new Set,f=o||{};if(s.styles.forEach(g=>{if(sI(g)){const w=g;Object.keys(w).forEach(x=>{CV(w[x]).forEach(S=>{f.hasOwnProperty(S)||u.add(S)})})}}),u.size){const g=tI(u.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:i.name,style:s,options:o?{params:o}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=No(this,tD(i.animation),n);return{type:1,matchers:kj(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:Eg(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>No(this,s,n)),options:Eg(i.options)}}visitGroup(i,n){const s=n.currentTime;let o=0;const u=i.steps.map(f=>{n.currentTime=s;const g=No(this,f,n);return o=Math.max(o,n.currentTime),g});return n.currentTime=o,{type:3,steps:u,options:Eg(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return KF(XA(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=KF(0,0,"");return u.dynamic=!0,u.strValue=s,u}return n=n||XA(s,i),KF(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let o,u=i.styles?i.styles:Rt({});if(5==u.type)o=this.visitKeyframes(u,n);else{let f=i.styles,g=!1;if(!f){g=!0;const x={};s.easing&&(x.easing=s.easing),f=Rt(x)}n.currentTime+=s.duration+s.delay;const w=this.visitStyle(f,n);w.isEmptyStep=g,o=w}return n.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(f=>{"string"==typeof f?f==hd?s.push(f):n.errors.push(`The provided style string value ${f} is not allowed.`):s.push(f)}):s.push(i.styles);let o=!1,u=null;return s.forEach(f=>{if(sI(f)){const g=f,w=g.easing;if(w&&(u=w,delete g.easing),!o)for(let x in g)if(g[x].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:u,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let o=n.currentTime,u=n.currentTime;s&&u>0&&(u-=s.duration+s.delay),i.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void n.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const w=n.collectedStyles[n.currentQuerySelector],x=w[g];let S=!0;x&&(u!=o&&u>=x.startTime&&o<=x.endTime&&(n.errors.push(`The CSS property "${g}" that exists between the times of "${x.startTime}ms" and "${x.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),S=!1),u=x.startTime),S&&(w[g]={startTime:u,endTime:o}),n.options&&function(r,i,n){const s=i.params||{},o=CV(r);o.length&&o.forEach(u=>{s.hasOwnProperty(u)||n.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(f[g],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let u=0;const f=[];let g=!1,w=!1,x=0;const S=i.steps.map(xe=>{const Ge=this._makeStyleAst(xe,n);let Be=null!=Ge.offset?Ge.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(sI(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(sI(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(Ge.styles),ze=0;return null!=Be&&(u++,ze=Ge.offset=Be),w=w||ze<0||ze>1,g=g||ze<x,x=ze,f.push(ze),Ge});w&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&n.errors.push("Please ensure that all keyframe offsets are in order");const I=i.steps.length;let F=0;u>0&&u<I?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(F=1/(I-1));const L=I-1,j=n.currentTime,ne=n.currentAnimateTimings,me=ne.duration;return S.forEach((xe,Ge)=>{const Be=F>0?Ge==L?1:F*Ge:f[Ge],ze=Be*me;n.currentTime=j+ne.delay+ze,ne.duration=ze,this._validateStyleAst(xe,n),xe.offset=Be,s.styles.push(xe)}),s}visitReference(i,n){return{type:8,animation:No(this,tD(i.animation),n),options:Eg(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:Eg(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:Eg(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,o=i.options||{};n.queryCount++,n.currentQuery=i;const[u,f]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(Fj,"")),[r=r.replace(/@\*/g,JA).replace(/@\w+/g,n=>JA+"-"+n.substr(1)).replace(/:animating/g,zF),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+u:u,Po(n.collectedStyles,n.currentQuerySelector,{});const g=No(this,tD(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:g,originalSelector:i.selector,options:Eg(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:XA(i.timings,n.errors,!0);return{type:12,animation:No(this,tD(i.animation),n),timings:s,options:null}}}class Bj{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sI(r){return!Array.isArray(r)&&"object"==typeof r}function Eg(r){return r?(r=Yv(r)).params&&(r.params=function(r){return r?Yv(r):null}(r.params)):r={},r}function KF(r,i,n){return{duration:r,delay:i,easing:n}}function QF(r,i,n,s,o,u,f=null,g=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:o,delay:u,totalTime:o+u,easing:f,subTimeline:g}}class oI{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const jj=new RegExp(":enter","g"),Yj=new RegExp(":leave","g");function JF(r,i,n,s,o,u={},f={},g,w,x=[]){return(new qj).buildKeyframes(r,i,n,s,o,u,f,g,w,x)}class qj{buildKeyframes(i,n,s,o,u,f,g,w,x,S=[]){x=x||new oI;const I=new XF(i,n,x,o,u,S,[]);I.options=w,I.currentTimeline.setStyles([f],null,I.errors,w),No(this,s,I);const F=I.timelines.filter(L=>L.containsAnimation());if(F.length&&Object.keys(g).length){const L=F[F.length-1];L.allowOnlyTimelineStyles()||L.setStyles([g],null,I.errors,w)}return F.length?F.map(L=>L.buildKeyframes()):[QF(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const o=n.createSubContext(i.options),u=n.currentTimeline.currentTime,f=this._visitSubInstructions(s,o,o.options);u!=f&&n.transformIntoNewTimeline(f)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let u=n.currentTimeline.currentTime;const f=null!=s.duration?wg(s.duration):null,g=null!=s.delay?wg(s.delay):null;return 0!==f&&i.forEach(w=>{const x=n.appendInstructionToTimeline(w,f,g);u=Math.max(u,x.duration+x.delay)}),u}visitReference(i,n){n.updateOptions(i.options,!0),No(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let o=n;const u=i.options;if(u&&(u.params||u.delay)&&(o=n.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=aI);const f=wg(u.delay);o.delayNextStep(f)}i.steps.length&&(i.steps.forEach(f=>No(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let o=n.currentTimeline.currentTime;const u=i.options&&i.options.delay?wg(i.options.delay):0;i.steps.forEach(f=>{const g=n.createSubContext(i.options);u&&g.delayNextStep(u),No(this,f,g),o=Math.max(o,g.currentTimeline.currentTime),s.push(g.currentTimeline)}),s.forEach(f=>n.currentTimeline.mergeTimelineCollectedStyles(f)),n.transformIntoNewTimeline(o),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return XA(n.params?eI(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),o=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),o.snapshotCurrentStyles());const u=i.style;5==u.type?this.visitKeyframes(u,n):(n.incrementTime(s.duration),this.visitStyle(u,n),o.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,o=n.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const u=o&&o.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(u):s.setStyles(i.styles,u,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,o=n.currentTimeline.duration,u=s.duration,g=n.createSubContext().currentTimeline;g.easing=s.easing,i.styles.forEach(w=>{g.forwardTime((w.offset||0)*u),g.setStyles(w.styles,w.easing,n.errors,n.options),g.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(g),n.transformIntoNewTimeline(o+u),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,o=i.options||{},u=o.delay?wg(o.delay):0;u&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=aI);let f=s;const g=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=g.length;let w=null;g.forEach((x,S)=>{n.currentQueryIndex=S;const I=n.createSubContext(i.options,x);u&&I.delayNextStep(u),x===n.element&&(w=I.currentTimeline),No(this,i.animation,I),I.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,I.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(f),w&&(n.currentTimeline.mergeTimelineCollectedStyles(w),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,o=n.currentTimeline,u=i.timings,f=Math.abs(u.duration),g=f*(n.currentQueryTotal-1);let w=f*n.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=g-w;break;case"full":w=s.currentStaggerTime}const S=n.currentTimeline;w&&S.delayNextStep(w);const I=S.currentTime;No(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=o.currentTime-I+(o.startTime-s.currentTimeline.startTime)}}const aI={};class XF{constructor(i,n,s,o,u,f,g,w){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=u,this.errors=f,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=aI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new lI(this._driver,n,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let o=this.options;null!=s.duration&&(o.duration=wg(s.duration)),null!=s.delay&&(o.delay=wg(s.delay));const u=s.params;if(u){let f=o.params;f||(f=this.options.params={}),Object.keys(u).forEach(g=>{(!n||!f.hasOwnProperty(g))&&(f[g]=eI(u[g],f,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(o=>{s[o]=n[o]})}}return i}createSubContext(i=null,n,s){const o=n||this.element,u=new XF(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(i),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(i){return this.previousNode=aI,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const o={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},u=new $j(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,o,u,f){let g=[];if(o&&g.push(this.element),i.length>0){i=(i=i.replace(jj,"."+this._enterClassName)).replace(Yj,"."+this._leaveClassName);let x=this._driver.query(this.element,i,1!=s);0!==s&&(x=s<0?x.slice(x.length+s,x.length):x.slice(0,s)),g.push(...x)}return!u&&0==g.length&&f.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),g}}class lI{constructor(i,n,s,o){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new lI(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||hd,this._currentKeyframe[n]=hd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,o){n&&(this._previousKeyframe.easing=n);const u=o&&o.params||{},f=function(r,i){const n={};let s;return r.forEach(o=>{"*"===o?(s=s||Object.keys(i),s.forEach(u=>{n[u]=hd})):Cf(o,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(f).forEach(g=>{const w=eI(f[g],u,s);this._pendingStyles[g]=w,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:hd),this._updateStyle(g,w)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],o=i._styleSummary[n];(!s||o.time>s.time)&&this._updateStyle(n,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((g,w)=>{const x=Cf(g,!0);Object.keys(x).forEach(S=>{const I=x[S];"!"==I?i.add(S):I==hd&&n.add(S)}),s||(x.offset=w/this.duration),o.push(x)});const u=i.size?tI(i.values()):[],f=n.size?tI(n.values()):[];if(s){const g=o[0],w=Yv(g);g.offset=0,w.offset=1,o=[g,w]}return QF(this.element,o,u,f,this.duration,this.startTime,this.easing,!1)}}class $j extends lI{constructor(i,n,s,o,u,f,g=!1){super(i,n,f.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&n){const u=[],f=s+n,g=n/f,w=Cf(i[0],!1);w.offset=0,u.push(w);const x=Cf(i[0],!1);x.offset=TV(g),u.push(x);const S=i.length-1;for(let I=1;I<=S;I++){let F=Cf(i[I],!1);F.offset=TV((n+F.offset*s)/f),u.push(F)}s=f,n=0,o="",i=u}return QF(this.element,i,this.preStyleProps,this.postStyleProps,s,n,o,!0)}}function TV(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class eP{}class Wj extends eP{normalizePropertyName(i,n){return $F(i)}normalizeStyleValue(i,n,s,o){let u="";const f=s.toString().trim();if(Kj[n]&&0!==s&&"0"!==s)if("number"==typeof s)u="px";else{const g=s.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&o.push(`Please provide a CSS unit value for ${i}:${s}`)}return f+u}}const Kj=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function AV(r,i,n,s,o,u,f,g,w,x,S,I,F){return{type:0,element:r,triggerName:i,isRemovalTransition:o,fromState:n,fromStyles:u,toState:s,toStyles:f,timelines:g,queriedElements:w,preStyleProps:x,postStyleProps:S,totalTime:I,errors:F}}const tP={};class IV{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,o){return function(r,i,n,s,o){return r.some(u=>u(i,n,s,o))}(this.ast.matchers,i,n,s,o)}buildStyles(i,n,s){const o=this._stateStyles["*"],u=this._stateStyles[i],f=o?o.buildStyles(n,s):{};return u?u.buildStyles(n,s):f}build(i,n,s,o,u,f,g,w,x,S){const I=[],F=this.ast.options&&this.ast.options.params||tP,j=this.buildStyles(s,g&&g.params||tP,I),ne=w&&w.params||tP,me=this.buildStyles(o,ne,I),xe=new Set,Ge=new Map,Be=new Map,ze="void"===o,mn={params:Object.assign(Object.assign({},F),ne)},mi=S?[]:JF(i,n,this.ast.animation,u,f,j,me,mn,x,I);let nr=0;if(mi.forEach(Uo=>{nr=Math.max(Uo.duration+Uo.delay,nr)}),I.length)return AV(n,this._triggerName,s,o,ze,j,me,[],[],Ge,Be,nr,I);mi.forEach(Uo=>{const _d=Uo.element,PH=Po(Ge,_d,{});Uo.preStyleProps.forEach(kg=>PH[kg]=!0);const bD=Po(Be,_d,{});Uo.postStyleProps.forEach(kg=>bD[kg]=!0),_d!==n&&xe.add(_d)});const As=tI(xe.values());return AV(n,this._triggerName,s,o,ze,j,me,mi,As,Ge,Be,nr)}}class Xj{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},o=Yv(this.defaultParams);return Object.keys(i).forEach(u=>{const f=i[u];null!=f&&(o[u]=f)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const f=u;Object.keys(f).forEach(g=>{let w=f[g];w.length>1&&(w=eI(w,o,n));const x=this.normalizer.normalizePropertyName(g,n);w=this.normalizer.normalizeStyleValue(g,x,w,n),s[x]=w})}}),s}}class tz{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(o=>{this.states[o.name]=new Xj(o.style,o.options&&o.options.params||{},s)}),kV(this.states,"true","1"),kV(this.states,"false","0"),n.transitions.forEach(o=>{this.transitionFactories.push(new IV(i,o,this.states))}),this.fallbackTransition=function(r,i,n){return new IV(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,g)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,o){return this.transitionFactories.find(f=>f.match(i,n,s,o))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function kV(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const iz=new oI;class rz{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],o=WF(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=o}_buildPlayer(i,n,s){const o=i.element,u=uV(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(o,u,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const o=[],u=this._animations[i];let f;const g=new Map;if(u?(f=JF(this._driver,n,u,jF,KA,{},{},s,iz,o),f.forEach(S=>{const I=Po(g,S.element,{});S.postStyleProps.forEach(F=>I[F]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),f=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);g.forEach((S,I)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(I,F,hd)})});const x=wf(f.map(S=>{const I=g.get(S.element);return this._buildPlayer(S,{},I)}));return this._playersById[i]=x,x.onDestroy(()=>this.destroy(i)),this.players.push(x),x}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,o){const u=NF(n,"","","");return FF(this._getPlayer(i),s,u,o),()=>{}}command(i,n,s,o){if("register"==s)return void this.register(i,o[0]);if("create"==s)return void this.create(i,n,o[0]||{});const u=this._getPlayer(i);switch(s){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const RV="ng-animate-queued",OV="ng-animate-disabled",FV=".ng-animate-disabled",lz=[],PV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sa="__ng_removed";class nP{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(s?i.value:i),s){const u=Yv(i);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(o=>{null==s[o]&&(s[o]=n[o])})}}}const nD="void",iP=new nP(nD);class uz{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ta(n,this._hostClassName)}listen(i,n,s,o){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const u=Po(this._elementListeners,i,[]),f={name:n,phase:s,callback:o};u.push(f);const g=Po(this._engine.statesByElement,i,{});return g.hasOwnProperty(n)||(Ta(i,QA),Ta(i,QA+"-"+n),g[n]=iP),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(f);w>=0&&u.splice(w,1),this._triggers[n]||delete g[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,o=!0){const u=this._getTrigger(n),f=new rP(this.id,n,i);let g=this._engine.statesByElement.get(i);g||(Ta(i,QA),Ta(i,QA+"-"+n),this._engine.statesByElement.set(i,g={}));let w=g[n];const x=new nP(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&w&&x.absorbOptions(w.options),g[n]=x,w||(w=iP),x.value!==nD&&w.value===x.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let o=0;o<n.length;o++){const u=n[o];if(!i.hasOwnProperty(u)||r[u]!==i[u])return!1}return!0}(w.params,x.params)){const ne=[],me=u.matchStyles(w.value,w.params,ne),xe=u.matchStyles(x.value,x.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Cg(i,me),Rc(i,xe)})}return}const F=Po(this._engine.playersByElement,i,[]);F.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==n&&ne.queued&&ne.destroy()});let L=u.matchTransition(w.value,x.value,i,x.params),j=!1;if(!L){if(!o)return;L=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:L,fromState:w,toState:x,player:f,isFallbackTransition:j}),j||(Ta(i,RV),f.onStart(()=>{qv(i,RV)})),f.onDone(()=>{let ne=this.players.indexOf(f);ne>=0&&this.players.splice(ne,1);const me=this._engine.playersByElement.get(i);if(me){let xe=me.indexOf(f);xe>=0&&me.splice(xe,1)}}),this.players.push(f),F.push(f),f}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,JA,!0);s.forEach(o=>{if(o[Sa])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(f=>f.triggerLeaveAnimation(o,n,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,n,s,o){const u=this._engine.statesByElement.get(i);if(u){const f=[];if(Object.keys(u).forEach(g=>{if(this._triggers[g]){const w=this.trigger(i,g,nD,o);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&wf(f).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const o=new Set;n.forEach(u=>{const f=u.name;if(o.has(f))return;o.add(f);const w=this._triggers[f].fallbackTransition,x=s[f]||iP,S=new nP(nD),I=new rP(this.id,f,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:f,transition:w,fromState:x,toState:S,player:I,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let o=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(i):[];if(u&&u.length)o=!0;else{let f=i;for(;f=f.parentNode;)if(s.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)s.markElementAsRemoved(this.id,i,!1,n);else{const u=i[Sa];(!u||u===PV)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Ta(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const u=s.element,f=this._elementListeners.get(u);f&&f.forEach(g=>{if(g.name==s.triggerName){const w=NF(u,s.triggerName,s.fromState.value,s.toState.value);w._data=i,FF(s.player,g.phase,w,g.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):n.push(s)}),this._queue=[],n.sort((s,o)=>{const u=s.transition.ast.depCount,f=o.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class dz{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new uz(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let u=s;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,n)){this._namespaceList.splice(u+1,0,i),o=!0;break}o||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let o=this._namespaceLookup[i];o&&o.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const o=Object.keys(s);for(let u=0;u<o.length;u++){const f=s[o[u]].namespaceId;if(f){const g=this._fetchNamespace(f);g&&n.add(g)}}}return n}trigger(i,n,s,o){if(cI(n)){const u=this._fetchNamespace(i);if(u)return u.trigger(n,s,o),!0}return!1}insertNode(i,n,s,o){if(!cI(n))return;const u=n[Sa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(n);f>=0&&this.collectedLeaveElements.splice(f,1)}if(i){const f=this._fetchNamespace(i);f&&f.insertNode(n,s)}o&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ta(i,OV)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),qv(i,OV))}removeNode(i,n,s,o){if(cI(n)){const u=i?this._fetchNamespace(i):null;if(u?u.removeNode(n,o):this.markElementAsRemoved(i,n,!1,o),s){const f=this.namespacesByHostElement.get(n);f&&f.id!==i&&f.removeNode(n,o)}}else this._onRemovalComplete(n,o)}markElementAsRemoved(i,n,s,o){this.collectedLeaveElements.push(n),n[Sa]={namespaceId:i,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,o,u){return cI(n)?this._fetchNamespace(i).listen(n,s,o,u):()=>{}}_buildInstruction(i,n,s,o,u){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,o,i.fromState.options,i.toState.options,n,u)}destroyInnerAnimations(i){let n=this.driver.query(i,JA,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,zF,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return wf(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Sa];if(n&&n.setForRemoval){if(i[Sa]=PV,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,FV)&&this.markElementAsDisabled(i,!1),this.driver.query(i,FV,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ta(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?wf(n).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new oI,o=[],u=new Map,f=[],g=new Map,w=new Map,x=new Map,S=new Set;this.disabledNodes.forEach(Xe=>{S.add(Xe);const mt=this.driver.query(Xe,".ng-animate-queued",!0);for(let It=0;It<mt.length;It++)S.add(mt[It])});const I=this.bodyNode,F=Array.from(this.statesByElement.keys()),L=BV(F,this.collectedEnterElements),j=new Map;let ne=0;L.forEach((Xe,mt)=>{const It=jF+ne++;j.set(mt,It),Xe.forEach(sn=>Ta(sn,It))});const me=[],xe=new Set,Ge=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const mt=this.collectedLeaveElements[Xe],It=mt[Sa];It&&It.setForRemoval&&(me.push(mt),xe.add(mt),It.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(sn=>xe.add(sn)):Ge.add(mt))}const Be=new Map,ze=BV(F,Array.from(xe));ze.forEach((Xe,mt)=>{const It=KA+ne++;Be.set(mt,It),Xe.forEach(sn=>Ta(sn,It))}),i.push(()=>{L.forEach((Xe,mt)=>{const It=j.get(mt);Xe.forEach(sn=>qv(sn,It))}),ze.forEach((Xe,mt)=>{const It=Be.get(mt);Xe.forEach(sn=>qv(sn,It))}),me.forEach(Xe=>{this.processLeaveNode(Xe)})});const mn=[],mi=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(n).forEach(It=>{const sn=It.player,wr=It.element;if(mn.push(sn),this.collectedEnterElements.length){const Nc=wr[Sa];if(Nc&&Nc.setForMove)return void sn.destroy()}const Pc=!I||!this.driver.containsElement(I,wr),Ho=Be.get(wr),If=j.get(wr),gi=this._buildInstruction(It,s,If,Ho,Pc);if(gi.errors&&gi.errors.length)mi.push(gi);else{if(Pc)return sn.onStart(()=>Cg(wr,gi.fromStyles)),sn.onDestroy(()=>Rc(wr,gi.toStyles)),void o.push(sn);if(It.isFallbackTransition)return sn.onStart(()=>Cg(wr,gi.fromStyles)),sn.onDestroy(()=>Rc(wr,gi.toStyles)),void o.push(sn);gi.timelines.forEach(Nc=>Nc.stretchStartingKeyframe=!0),s.append(wr,gi.timelines),f.push({instruction:gi,player:sn,element:wr}),gi.queriedElements.forEach(Nc=>Po(g,Nc,[]).push(sn)),gi.preStyleProps.forEach((Nc,wD)=>{const nk=Object.keys(Nc);if(nk.length){let Rg=w.get(wD);Rg||w.set(wD,Rg=new Set),nk.forEach(xN=>Rg.add(xN))}}),gi.postStyleProps.forEach((Nc,wD)=>{const nk=Object.keys(Nc);let Rg=x.get(wD);Rg||x.set(wD,Rg=new Set),nk.forEach(xN=>Rg.add(xN))})}});if(mi.length){const Xe=[];mi.forEach(mt=>{Xe.push(`@${mt.triggerName} has failed due to:\n`),mt.errors.forEach(It=>Xe.push(`- ${It}\n`))}),mn.forEach(mt=>mt.destroy()),this.reportError(Xe)}const nr=new Map,As=new Map;f.forEach(Xe=>{const mt=Xe.element;s.has(mt)&&(As.set(mt,mt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,nr))}),o.forEach(Xe=>{const mt=Xe.element;this._getPreviousPlayers(mt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(sn=>{Po(nr,mt,[]).push(sn),sn.destroy()})});const Uo=me.filter(Xe=>UV(Xe,w,x)),_d=new Map;LV(_d,this.driver,Ge,x,hd).forEach(Xe=>{UV(Xe,w,x)&&Uo.push(Xe)});const bD=new Map;L.forEach((Xe,mt)=>{LV(bD,this.driver,new Set(Xe),w,"!")}),Uo.forEach(Xe=>{const mt=_d.get(Xe),It=bD.get(Xe);_d.set(Xe,Object.assign(Object.assign({},mt),It))});const kg=[],NH=[],LH={};f.forEach(Xe=>{const{element:mt,player:It,instruction:sn}=Xe;if(s.has(mt)){if(S.has(mt))return It.onDestroy(()=>Rc(mt,sn.toStyles)),It.disabled=!0,It.overrideTotalTime(sn.totalTime),void o.push(It);let wr=LH;if(As.size>1){let Ho=mt;const If=[];for(;Ho=Ho.parentNode;){const gi=As.get(Ho);if(gi){wr=gi;break}If.push(Ho)}If.forEach(gi=>As.set(gi,wr))}const Pc=this._buildAnimation(It.namespaceId,sn,nr,u,bD,_d);if(It.setRealPlayer(Pc),wr===LH)kg.push(It);else{const Ho=this.playersByElement.get(wr);Ho&&Ho.length&&(It.parentPlayer=wf(Ho)),o.push(It)}}else Cg(mt,sn.fromStyles),It.onDestroy(()=>Rc(mt,sn.toStyles)),NH.push(It),S.has(mt)&&o.push(It)}),NH.forEach(Xe=>{const mt=u.get(Xe.element);if(mt&&mt.length){const It=wf(mt);Xe.setRealPlayer(It)}}),o.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<me.length;Xe++){const mt=me[Xe],It=mt[Sa];if(qv(mt,KA),It&&It.hasAnimation)continue;let sn=[];if(g.size){let Pc=g.get(mt);Pc&&Pc.length&&sn.push(...Pc);let Ho=this.driver.query(mt,zF,!0);for(let If=0;If<Ho.length;If++){let gi=g.get(Ho[If]);gi&&gi.length&&sn.push(...gi)}}const wr=sn.filter(Pc=>!Pc.destroyed);wr.length?mz(this,mt,wr):this.processLeaveNode(mt)}return me.length=0,kg.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const mt=this.players.indexOf(Xe);this.players.splice(mt,1)}),Xe.play()}),kg}elementContainsData(i,n){let s=!1;const o=n[Sa];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,o,u){let f=[];if(n){const g=this.playersByQueriedElement.get(i);g&&(f=g)}else{const g=this.playersByElement.get(i);if(g){const w=!u||u==nD;g.forEach(x=>{x.queued||!w&&x.triggerName!=o||f.push(x)})}}return(s||o)&&(f=f.filter(g=>!(s&&s!=g.namespaceId||o&&o!=g.triggerName))),f}_beforeAnimationBuild(i,n,s){const u=n.element,f=n.isRemovalTransition?void 0:i,g=n.isRemovalTransition?void 0:n.triggerName;for(const w of n.timelines){const x=w.element,S=x!==u,I=Po(s,x,[]);this._getPreviousPlayers(x,S,f,g,n.toState).forEach(L=>{const j=L.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),L.destroy(),I.push(L)})}Cg(u,n.fromStyles)}_buildAnimation(i,n,s,o,u,f){const g=n.triggerName,w=n.element,x=[],S=new Set,I=new Set,F=n.timelines.map(j=>{const ne=j.element;S.add(ne);const me=ne[Sa];if(me&&me.removedBeforeQueried)return new zv(j.duration,j.delay);const xe=ne!==w,Ge=function(r){const i=[];return VV(r,i),i}((s.get(ne)||lz).map(nr=>nr.getRealPlayer())).filter(nr=>!!nr.element&&nr.element===ne),Be=u.get(ne),ze=f.get(ne),mn=uV(0,this._normalizer,0,j.keyframes,Be,ze),mi=this._buildPlayer(j,mn,Ge);if(j.subTimeline&&o&&I.add(ne),xe){const nr=new rP(i,g,ne);nr.setRealPlayer(mi),x.push(nr)}return mi});x.forEach(j=>{Po(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,j.element,j))}),S.forEach(j=>Ta(j,yV));const L=wf(F);return L.onDestroy(()=>{S.forEach(j=>qv(j,yV)),Rc(w,n.toStyles)}),I.forEach(j=>{Po(o,j,[]).push(L)}),L}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new zv(i.duration,i.delay)}}class rP{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new zv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>FF(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){Po(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function cI(r){return r&&1===r.nodeType}function NV(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function LV(r,i,n,s,o){const u=[];n.forEach(w=>u.push(NV(w)));const f=[];s.forEach((w,x)=>{const S={};w.forEach(I=>{const F=S[I]=i.computeStyle(x,I,o);(!F||0==F.length)&&(x[Sa]=cz,f.push(x))}),r.set(x,S)});let g=0;return n.forEach(w=>NV(w,u[g++])),f}function BV(r,i){const n=new Map;if(r.forEach(g=>n.set(g,[])),0==i.length)return n;const o=new Set(i),u=new Map;function f(g){if(!g)return 1;let w=u.get(g);if(w)return w;const x=g.parentNode;return w=n.has(x)?x:o.has(x)?1:f(x),u.set(g,w),w}return i.forEach(g=>{const w=f(g);1!==w&&n.get(w).push(g)}),n}const uI="$$classes";function Ta(r,i){if(r.classList)r.classList.add(i);else{let n=r[uI];n||(n=r[uI]={}),n[i]=!0}}function qv(r,i){if(r.classList)r.classList.remove(i);else{let n=r[uI];n&&delete n[i]}}function mz(r,i,n){wf(n).onDone(()=>r.processLeaveNode(i))}function VV(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof lV?VV(s.players,i):i.push(s)}}function UV(r,i,n){const s=n.get(r);if(!s)return!1;let o=i.get(r);return o?s.forEach(u=>o.add(u)):i.set(r,s),n.delete(r),!0}class dI{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new dz(i,n,s),this._timelineEngine=new rz(i,n,s),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(i,n,s,o,u){const f=i+"-"+o;let g=this._triggerCache[f];if(!g){const w=[],x=WF(this._driver,u,w);if(w.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);g=function(r,i,n){return new tz(r,i,n)}(o,x,this._normalizer),this._triggerCache[f]=g}this._transitionEngine.registerTrigger(n,o,g)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,o){this._transitionEngine.insertNode(i,n,s,o)}onRemove(i,n,s,o){this._transitionEngine.removeNode(i,n,o||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,o){if("@"==s.charAt(0)){const[u,f]=dV(s);this._timelineEngine.command(u,n,f,o)}else this._transitionEngine.trigger(i,n,s,o)}listen(i,n,s,o,u){if("@"==s.charAt(0)){const[f,g]=dV(s);return this._timelineEngine.listen(f,n,g,u)}return this._transitionEngine.listen(i,n,s,o,u)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function HV(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=sP(i[0]),i.length>1&&(s=sP(i[i.length-1]))):i&&(n=sP(i)),n||s?new $v(r,n,s):null}class $v{constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let o=$v.initialStylesByElement.get(i);o||$v.initialStylesByElement.set(i,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Rc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rc(this._element,this._initialStyles),this._endStyles&&(Rc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($v.initialStylesByElement.delete(this._element),this._startStyles&&(Cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cg(this._element,this._endStyles),this._endStyles=null),Rc(this._element,this._initialStyles),this._state=3)}}function sP(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const o=n[s];yz(o)&&(i=i||{},i[o]=r[o])}return i}function yz(r){return"display"===r||"position"===r}$v.initialStylesByElement=new WeakMap;const GV="animation",jV="animationend";class wz{constructor(i,n,s,o,u,f,g){this._element=i,this._name=n,this._duration=s,this._delay=o,this._easing=u,this._fillMode=f,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(r,i){const n=aP(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),hI(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),qV(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zV(this._element,this._name,"paused")}resume(){zV(this._element,this._name,"running")}setPosition(i){const n=YV(this._element,this._name);this._position=i*this._duration,hI(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),qV(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=aP(r,"").split(","),o=oP(s,i);o>=0&&(s.splice(o,1),hI(r,"",s.join(",")))}(this._element,this._name))}}function zV(r,i,n){hI(r,"PlayState",n,YV(r,i))}function YV(r,i){const n=aP(r,"");return n.indexOf(",")>0?oP(n.split(","),i):oP([n],i)}function oP(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function qV(r,i,n){n?r.removeEventListener(jV,i):r.addEventListener(jV,i)}function hI(r,i,n,s){const o=GV+i;if(null!=s){const u=r.style[o];if(u.length){const f=u.split(",");f[s]=n,n=f.join(",")}}r.style[o]=n}function aP(r,i){return r.style[GV+i]||""}class $V{constructor(i,n,s,o,u,f,g,w){this.element=i,this.keyframes=n,this.animationName=s,this._duration=o,this._delay=u,this._finalStyles=g,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=o+u,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wz(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:ZF(this.element,s))})}this.currentSnapshot=i}}class Sz extends zv{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=mV(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class WV{constructor(){this._count=0}validateStyleProperty(i){return VF(i)}matchesElement(i,n){return UF(i,n)}containsElement(i,n){return HF(i,n)}query(i,n,s){return GF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(g=>mV(g));let o=`@keyframes ${n} {\n`,u="";s.forEach(g=>{u=" ";const w=parseFloat(g.offset);o+=`${u}${100*w}% {\n`,u+=" ",Object.keys(g).forEach(x=>{const S=g[x];switch(x){case"offset":return;case"easing":return void(S&&(o+=`${u}animation-timing-function: ${S};\n`));default:return void(o+=`${u}${x}: ${S};\n`)}}),o+=`${u}}\n`}),o+="}\n";const f=document.createElement("style");return f.textContent=o,f}animate(i,n,s,o,u,f=[],g){const w=f.filter(me=>me instanceof $V),x={};EV(s,o)&&w.forEach(me=>{let xe=me.currentSnapshot;Object.keys(xe).forEach(Ge=>x[Ge]=xe[Ge])});const S=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(i[o]=s[o])})}),i}(n=DV(i,n,x));if(0==s)return new Sz(i,S);const I="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(i,I,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(F);const j=HV(i,n),ne=new $V(i,n,I,s,o,u,S,j);return ne.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(F)),ne}}class QV{constructor(i,n,s,o){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:ZF(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class Rz{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(JV().toString()),this._cssKeyframesDriver=new WV}validateStyleProperty(i){return VF(i)}matchesElement(i,n){return UF(i,n)}containsElement(i,n){return HF(i,n)}query(i,n,s){return GF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,o,u,f=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,o,u,f);const S={duration:s,delay:o,fill:0==o?"both":"forwards"};u&&(S.easing=u);const I={},F=f.filter(j=>j instanceof QV);EV(s,o)&&F.forEach(j=>{let ne=j.currentSnapshot;Object.keys(ne).forEach(me=>I[me]=ne[me])});const L=HV(i,n=DV(i,n=n.map(j=>Cf(j,!1)),I));return new QV(i,n,S,L)}}function JV(){return cV()&&Element.prototype.animate||{}}let Fz=(()=>{class r extends sV{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?oV(n):n;return XV(this._renderer,null,s,"register",[o]),new Pz(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.FYo),a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class Pz extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new Nz(this._id,i,n||{},this._renderer)}}class Nz{constructor(i,n,s,o){this.id=i,this.element=n,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return XV(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function XV(r,i,n,s,o){return r.setProperty(i,`@@${n}:${s}`,o)}const e2="@.disabled";let Lz=(()=>{class r{constructor(n,s,o){this.delegate=n,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(u,f)=>{f&&f.parentNode(u)&&f.removeChild(u.parentNode,u)}}createRenderer(n,s){const u=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let S=this._rendererCache.get(u);return S||(S=new t2("",u,this.engine),this._rendererCache.set(u,S)),S}const f=s.id,g=s.id+"-"+this._currentId;this._currentId++,this.engine.register(g,n);const w=S=>{Array.isArray(S)?S.forEach(w):this.engine.registerTrigger(f,g,n,S.name,S)};return s.data.animation.forEach(w),new Bz(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,o){n>=0&&n<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,g]=u;f(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.FYo),a.LFG(dI),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class t2{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,o=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,o)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,o){this.delegate.setAttribute(i,n,s,o)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,o){this.delegate.setStyle(i,n,s,o)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==e2?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class Bz extends t2{constructor(i,n,s,o){super(n,s,o),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==e2?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const o=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let u=n.substr(1),f="";return"@"!=u.charAt(0)&&([u,f]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(u)),this.engine.listen(this.namespaceId,o,u,f,g=>{this.factory.scheduleListenerCallback(g._data||-1,s,g)})}return this.delegate.listen(i,n,s)}}let Hz=(()=>{class r extends dI{constructor(n,s,o){super(n.body,s,o)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(WA),a.LFG(eP))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Pn=new a.OlP("AnimationModuleType"),n2=[{provide:sV,useClass:Fz},{provide:eP,useFactory:function(){return new Wj}},{provide:dI,useClass:Hz},{provide:a.FYo,useFactory:function(r,i,n){return new Lz(r,i,n)},deps:[ho,dI,a.R0b]}],r2=[{provide:WA,useFactory:function(){return"function"==typeof JV()?new Rz:new WV}},{provide:Pn,useValue:"BrowserAnimations"},...n2],s2=[{provide:WA,useClass:gV},{provide:Pn,useValue:"NoopAnimations"},...n2];let Yz=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?s2:r2}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:r2,imports:[Xf]}),r})();const o2=new a.GfV("12.2.5"),Jz=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let xg,bt=(()=>{class r{constructor(n,s,o){this._hasDoneGlobalChecks=!1,this._document=o,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,a.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&o2.full!==rV.full&&console.warn("The Angular Material version ("+o2.full+") does not match the Angular CDK version ("+rV.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(iV),a.LFG(Jz,8),a.LFG(q))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Co],Co]}),r})();function El(r){return class extends r{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=Ue(i)}}}function Oc(r,i){return class extends r{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const s=n||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Lo(r){return class extends r{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=Ue(i)}}}function pI(r){return class extends r{constructor(...i){super(...i),this.stateChanges=new Re.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==i&&(this.errorState=u,this.stateChanges.next())}}}try{xg="undefined"!=typeof Intl}catch(r){xg=!1}let Ef=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),gI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();class uY{constructor(i,n,s){this._renderer=i,this.element=n,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const a2={enterDuration:225,exitDuration:150},uP=fg({passive:!0}),l2=["mousedown","touchstart"],c2=["mouseup","mouseleave","touchend","touchcancel"];class dP{constructor(i,n,s,o){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=cd(s))}fadeInRipple(i,n,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},a2),s.animation);s.centered&&(i=o.left+o.width/2,n=o.top+o.height/2);const f=s.radius||function(r,i,n){const s=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),o=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(s*s+o*o)}(i,n,o),g=i-o.left,w=n-o.top,x=u.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=g-f+"px",S.style.top=w-f+"px",S.style.height=2*f+"px",S.style.width=2*f+"px",null!=s.color&&(S.style.backgroundColor=s.color),S.style.transitionDuration=`${x}ms`,this._containerElement.appendChild(S),function(r){window.getComputedStyle(r).getPropertyValue("opacity")}(S),S.style.transform="scale(1)";const I=new uY(this,S,s);return I.state=0,this._activeRipples.add(I),s.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const F=I===this._mostRecentTransientRipple;I.state=1,!s.persistent&&(!F||!this._isPointerDown)&&I.fadeOut()},x),I}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const s=i.element,o=Object.assign(Object.assign({},a2),i.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=cd(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(l2))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(c2),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=MF(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!SF(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let s=0;s<n.length;s++)this.fadeInRipple(n[s].clientX,n[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,uP)})})}_removeTriggerEvents(){this._triggerElement&&(l2.forEach(i=>{this._triggerElement.removeEventListener(i,this,uP)}),this._pointerUpEventsRegistered&&c2.forEach(i=>{this._triggerElement.removeEventListener(i,this,uP)}))}}const _I=new a.OlP("mat-ripple-global-options");let io=(()=>{class r{constructor(n,s,o,u,f){this._elementRef=n,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new dP(this,s,n,o)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,s=0,o){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Gt),a.Y36(_I,8),a.Y36(Pn,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&a.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r})(),Df=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt,Nv],bt]}),r})(),hP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt]]}),r})(),p2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Df,Oi,bt,hP]]}),r})();const m2=["mat-button",""],g2=["*"],wY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],CY=Oc(El(Lo(class{constructor(r){this._elementRef=r}})));let Ts=(()=>{class r extends CY{constructor(n,s,o){super(n),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of wY)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,s){n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Pr),a.Y36(Pn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,s){if(1&n&&a.Gf(io,5),2&n){let o;a.iGM(o=a.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,s){2&n&&(a.uIk("disabled",s.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:m2,ngContentSelectors:g2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,s){1&n&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&n&&(a.xp6(2),a.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),a.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[io],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),yI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Df,bt],bt]}),r})();const y2=new Set;let Zv,v2=(()=>{class r{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DY}matchMedia(n){return this._platform.WEBKIT&&function(r){if(!y2.has(r))try{Zv||(Zv=document.createElement("style"),Zv.setAttribute("type","text/css"),document.head.appendChild(Zv)),Zv.sheet&&(Zv.sheet.insertRule(`@media ${r} {.fx-query-test{ }}`,0),y2.add(r))}catch(i){console.error(i)}}(n),this._matchMedia(n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Gt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Gt))},token:r,providedIn:"root"}),r})();function DY(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let mP=(()=>{class r{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new Re.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return b2(OA(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let u=Ua(b2(OA(n)).map(f=>this._registerQuery(f).observable));return u=ta(u.pipe(fn(1)),u.pipe(BB(1),Su(0))),u.pipe((0,it.U)(f=>{const g={matches:!1,breakpoints:{}};return f.forEach(({matches:w,query:x})=>{g.matches=g.matches||w,g.breakpoints[x]=w}),g}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const s=this._mediaMatcher.matchMedia(n),u={observable:new cn.y(f=>{const g=w=>this._zone.run(()=>f.next(w));return s.addListener(g),()=>{s.removeListener(g)}}).pipe(en(s),(0,it.U)(({matches:f})=>({query:n,matches:f})),Je(this._destroySubject)),mql:s};return this._queries.set(n,u),u}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(v2),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(v2),a.LFG(a.R0b))},token:r,providedIn:"root"}),r})();function b2(r){return r.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}function xY(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div",1),a.TgZ(1,"button",2),a.NdJ("click",function(){return a.CHM(n),a.oxw().action()}),a._uU(2),a.qZA(),a.qZA()}if(2&r){const n=a.oxw();a.xp6(2),a.Oqu(n.data.action)}}function MY(r,i){}const C2=new a.OlP("MatSnackBarData");class vI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const SY=Math.pow(2,31)-1;class gP{constructor(i,n){this._overlayRef=n,this._afterDismissed=new Re.xQ,this._afterOpened=new Re.xQ,this._onAction=new Re.xQ,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,SY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let TY=(()=>{class r{constructor(n,s){this.snackBarRef=n,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(gP),a.Y36(C2))},r.\u0275cmp=a.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a.YNc(2,xY,3,1,"div",0)),2&n&&(a.xp6(1),a.Oqu(s.data.message),a.xp6(1),a.Q6J("ngIf",s.hasAction))},directives:[ai,Ts],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),r})();const AY={snackBarState:no("state",[oi("void, hidden",Rt({transform:"scale(0.8)",opacity:0})),oi("visible",Rt({transform:"scale(1)",opacity:1})),Jn("* => visible",si("150ms cubic-bezier(0, 0, 0.2, 1)")),Jn("* => void, * => hidden",si("75ms cubic-bezier(0.4, 0.0, 1, 1)",Rt({opacity:0})))])};let IY=(()=>{class r extends HA{constructor(n,s,o,u,f){super(),this._ngZone=n,this._elementRef=s,this._changeDetectorRef=o,this._platform=u,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Re.xQ,this._onExit=new Re.xQ,this._onEnter=new Re.xQ,this._animationState="void",this.attachDomPortal=g=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(g)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(n)}onAnimationEnd(n){const{fromState:s,toState:o}=n;if(("void"===o&&"void"!==s||"hidden"===o)&&this._completeExit(),"visible"===o){const u=this._onEnter;this._ngZone.run(()=>{u.next(),u.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(fn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const n=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(o=>n.classList.add(o)):n.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&n.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&n.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&s){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),s.appendChild(n),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Gt),a.Y36(vI))},r.\u0275cmp=a.Xpm({type:r,selectors:[["snack-bar-container"]],viewQuery:function(n,s){if(1&n&&a.Gf(Ma,7),2&n){let o;a.iGM(o=a.CRH())&&(s._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(n,s){1&n&&a.WFA("@state.done",function(u){return s.onAnimationEnd(u)}),2&n&&a.d8E("@state",s._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.YNc(1,MY,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&n&&(a.xp6(2),a.uIk("aria-live",s._live)("role",s._role))},directives:[Ma],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[AY.snackBarState]}}),r})(),E2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Gv,Uv,Oi,yI,bt],bt]}),r})();const D2=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new vI}});let RY=(()=>{class r{constructor(n,s,o,u,f,g){this._overlay=n,this._live=s,this._injector=o,this._breakpointObserver=u,this._parentSnackBar=f,this._defaultConfig=g,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=TY,this.snackBarContainerComponent=IY,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}openFromComponent(n,s){return this._attach(n,s)}openFromTemplate(n,s){return this._attach(n,s)}open(n,s="",o){const u=Object.assign(Object.assign({},this._defaultConfig),o);return u.data={message:n,action:s},u.announcementMessage===n&&(u.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,u)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,s){const u=a.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:vI,useValue:s}]}),f=new vf(this.snackBarContainerComponent,s.viewContainerRef,u),g=n.attach(f);return g.instance.snackBarConfig=s,g.instance}_attach(n,s){const o=Object.assign(Object.assign(Object.assign({},new vI),this._defaultConfig),s),u=this._createOverlay(o),f=this._attachSnackBarContainer(u,o),g=new gP(f,u);if(n instanceof a.Rgc){const w=new Ic(n,null,{$implicit:o.data,snackBarRef:g});g.instance=f.attachTemplatePortal(w)}else{const w=this._createInjector(o,g),x=new vf(n,void 0,w),S=f.attachComponentPortal(x);g.instance=S.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Je(u.detachments())).subscribe(w=>{const x=u.overlayElement.classList;w.matches?x.add(this.handsetCssClass):x.remove(this.handsetCssClass)}),o.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(g,o),this._openedSnackBarRef=g,this._openedSnackBarRef}_animateSnackBar(n,s){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),s.duration&&s.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(s.duration))}_createOverlay(n){const s=new Hv;s.direction=n.direction;let o=this._overlay.position().global();const u="rtl"===n.direction,f="left"===n.horizontalPosition||"start"===n.horizontalPosition&&!u||"end"===n.horizontalPosition&&u,g=!f&&"center"!==n.horizontalPosition;return f?o.left("0"):g?o.right("0"):o.centerHorizontally(),"top"===n.verticalPosition?o.top("0"):o.bottom("0"),s.positionStrategy=o,this._overlay.create(s)}_createInjector(n,s){return a.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:gP,useValue:s},{provide:C2,useValue:n.data}]})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(ss),a.LFG($A),a.LFG(a.zs3),a.LFG(mP),a.LFG(r,12),a.LFG(D2))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(ss),a.LFG($A),a.LFG(a.gxx),a.LFG(mP),a.LFG(r,12),a.LFG(D2))},token:r,providedIn:E2}),r})(),rD=(()=>{class r{constructor(n){this.snackBar=n}open(n,s){this.snackBar.open(n,s,{duration:2e3})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(RY))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),sD=(()=>{class r{constructor(n,s,o){this.fireStorageService=n,this.fireStoreService=s,this.snackBar=o}upload(n){let s,o;const u=this.fireStorageService.uploadFileToSend(n);return u.uploadProgress.toPromise().then(f=>(0,Li.mG)(this,void 0,void 0,function*(){yield u.downloadUrl.toPromise().then(g=>o=g),100===f&&(s=new Mu(u.name,o,Ix.format()),this.fireStoreService.addImageToSend(s))})),u.uploadProgress}deleteFromToSend(n){this.fireStoreService.deleteImageToSend(n),this.fireStorageService.deleteFile(n.drawable)}deleteFromSent(n){this.fireStoreService.deleteImageSent(n),this.fireStorageService.deleteFile(n.drawable)}draw(){return(0,Li.mG)(this,void 0,void 0,function*(){this.snackBar.open("Drawing...","Close"),yield this.fireStoreService.toSend.pipe(Tn()).subscribe(n=>(0,Li.mG)(this,void 0,void 0,function*(){let s,o;const u=class{static randomize(i){return i[function(r,i){return r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r}(0,i.length)]}}.randomize(n);yield this.fireStorageService.moveFileToSent(u.name,u.drawable).then(f=>{s=f.drawable,o=f.newName,this.fireStoreService.moveImageFromToSendToSent(u,s,o),this.snackBar.open("Successfully drawn!","Close")}).catch(()=>this.snackBar.open("Failed to draw :C","Close"))}))})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(sC),a.LFG(hg),a.LFG(rD))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function OY(r,i){}class _P{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const FY={dialogContainer:no("dialogContainer",[oi("void, exit",Rt({opacity:0,transform:"scale(0.7)"})),oi("enter",Rt({transform:"none"})),Jn("* => enter",si("150ms cubic-bezier(0, 0, 0.2, 1)",Rt({transform:"none",opacity:1}))),Jn("* => void, * => exit",si("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Rt({opacity:0})))])};let PY=(()=>{class r extends HA{constructor(n,s,o,u,f,g){super(),this._elementRef=n,this._focusTrapFactory=s,this._changeDetectorRef=o,this._config=f,this._focusMonitor=g,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(w)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=u}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(n)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const n=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=WE(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=WE())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=WE();return n===s||n.contains(s)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(xF),a.Y36(a.sBO),a.Y36(q,8),a.Y36(_P),a.Y36(Pr))},r.\u0275dir=a.lG2({type:r,viewQuery:function(n,s){if(1&n&&a.Gf(Ma,7),2&n){let o;a.iGM(o=a.CRH())&&(s._portalOutlet=o.first)}},features:[a.qOj]}),r})(),NY=(()=>{class r extends PY{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:n,totalTime:s}){"enter"===n?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===n&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:n,totalTime:s}){"enter"===n?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===n||"void"===n)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(n,s){1&n&&a.WFA("@dialogContainer.start",function(u){return s._onAnimationStart(u)})("@dialogContainer.done",function(u){return s._onAnimationDone(u)}),2&n&&(a.Ikx("id",s._id),a.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),a.d8E("@dialogContainer",s._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){1&n&&a.YNc(0,OY,0,0,"ng-template",0)},directives:[Ma],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[FY.dialogContainer]}}),r})(),LY=0;class bI{constructor(i,n,s="mat-dialog-"+LY++){this._overlayRef=i,this._containerInstance=n,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Re.xQ,this._afterClosed=new Re.xQ,this._beforeClosed=new Re.xQ,this._state=0,n._id=s,n._animationStateChanged.pipe(Bt(o=>"opened"===o.state),fn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Bt(o=>"closed"===o.state),fn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(Bt(o=>27===o.keyCode&&!this.disableClose&&!function(r,...i){return i.length?i.some(n=>r[n]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}(o))).subscribe(o=>{o.preventDefault(),yP(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():yP(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Bt(n=>"closing"===n.state),fn(1)).subscribe(n=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let n=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?n.left(i.left):n.right(i.right):n.centerHorizontally(),i&&(i.top||i.bottom)?i.top?n.top(i.top):n.bottom(i.bottom):n.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",n=""){return this._overlayRef.updateSize({width:i,height:n}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function yP(r,i,n){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=i),r.close(n)}const BY=new a.OlP("MatDialogData"),VY=new a.OlP("mat-dialog-default-options"),x2=new a.OlP("mat-dialog-scroll-strategy"),HY={provide:x2,deps:[ss],useFactory:function(r){return()=>r.scrollStrategies.block()}};let GY=(()=>{class r{constructor(n,s,o,u,f,g,w,x,S){this._overlay=n,this._injector=s,this._defaultOptions=o,this._parentDialog=u,this._overlayContainer=f,this._dialogRefConstructor=w,this._dialogContainerType=x,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Re.xQ,this._afterOpenedAtThisLevel=new Re.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Zr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(en(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(n,s){(s=function(r,i){return Object.assign(Object.assign({},i),r)}(s,this._defaultOptions||new _P)).id&&this.getDialogById(s.id);const o=this._createOverlay(s),u=this._attachDialogContainer(o,s),f=this._attachDialogContent(n,u,o,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),u._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(n){const s=this._getOverlayConfig(n);return this._overlay.create(s)}_getOverlayConfig(n){const s=new Hv({positionStrategy:this._overlay.position().global(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachDialogContainer(n,s){const u=a.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:_P,useValue:s}]}),f=new vf(this._dialogContainerType,s.viewContainerRef,u,s.componentFactoryResolver);return n.attach(f).instance}_attachDialogContent(n,s,o,u){const f=new this._dialogRefConstructor(o,s,u.id);if(n instanceof a.Rgc)s.attachTemplatePortal(new Ic(n,null,{$implicit:u.data,dialogRef:f}));else{const g=this._createInjector(u,f,s),w=s.attachComponentPortal(new vf(n,u.viewContainerRef,g));f.componentInstance=w.instance}return f.updateSize(u.width,u.height).updatePosition(u.position),f}_createInjector(n,s,o){const u=n&&n.viewContainerRef&&n.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:n.data},{provide:this._dialogRefConstructor,useValue:s}];return n.direction&&(!u||!u.get(Xt,null,a.XFs.Optional))&&f.push({provide:Xt,useValue:{value:n.direction,change:(0,je.of)()}}),a.zs3.create({parent:u||this._injector,providers:f})}_removeOpenDialog(n){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let o=s.length-1;o>-1;o--){let u=s[o];u!==n&&"SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName&&!u.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}}}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ss),a.Y36(a.zs3),a.Y36(void 0),a.Y36(void 0),a.Y36(QE),a.Y36(void 0),a.Y36(a.DyG),a.Y36(a.DyG),a.Y36(a.OlP))},r.\u0275dir=a.lG2({type:r}),r})(),Wv=(()=>{class r extends GY{constructor(n,s,o,u,f,g,w){super(n,s,u,g,w,f,bI,NY,BY)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(ss),a.LFG(a.zs3),a.LFG(lt,8),a.LFG(VY,8),a.LFG(x2),a.LFG(r,12),a.LFG(QE))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),YY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Wv,HY],imports:[[Gv,Uv,bt],bt]}),r})(),qY=(()=>{class r{constructor(){this.fileOver=!1,this.fileDropped=new a.vpe}onDragOver(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!0}onDragLeave(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1}ondrop(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1;const s=n.dataTransfer.files;s.length>0&&this.fileDropped.emit(s)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","appDragAndDrop",""]],hostVars:2,hostBindings:function(n,s){1&n&&a.NdJ("dragover",function(u){return s.onDragOver(u)})("dragleave",function(u){return s.onDragLeave(u)})("drop",function(u){return s.ondrop(u)}),2&n&&a.ekj("fileover",s.fileOver)},outputs:{fileDropped:"fileDropped"}}),r})();var $Y=N(205),ZY=N(1555);function S2(...r){if(1===r.length){const i=r[0];if((0,Ul.k)(i))return wI(i,null);if((0,ZY.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return wI(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return wI(r=1===r.length&&(0,Ul.k)(r[0])?r[0]:r,null).pipe((0,it.U)(n=>i(...n)))}return wI(r,null)}function wI(r,i){return new cn.y(n=>{const s=r.length;if(0===s)return void n.complete();const o=new Array(s);let u=0,f=0;for(let g=0;g<s;g++){const w=(0,Qt.D)(r[g]);let x=!1;n.add(w.subscribe({next:S=>{x||(x=!0,f++),o[g]=S},error:S=>n.error(S),complete:()=>{u++,(u===s||!x)&&(f===s&&n.next(i?i.reduce((S,I,F)=>(S[I]=o[F],S),{}):o),n.complete())}}))}})}var WY=N(8819);class T2{}class fd{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const o=n.slice(0,s),u=o.toLowerCase(),f=n.slice(s+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const o=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(n,o))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof fd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new fd;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof fd?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const o=("a"===i.op?this.headers.get(n):void 0)||[];o.push(...s),this.headers.set(n,o);break;case"d":const u=i.value;if(u){let f=this.headers.get(n);if(!f)return;f=f.filter(g=>-1===u.indexOf(g)),0===f.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class KY{encodeKey(i){return I2(i)}encodeValue(i){return I2(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const JY=/%(\d[a-f0-9])/gi,XY={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function I2(r){return encodeURIComponent(r).replace(JY,(i,n)=>{var s;return null!==(s=XY[n])&&void 0!==s?s:i})}function k2(r){return`${r}`}class xf{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new KY,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[f,g]=-1==u?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,u)),i.decodeValue(o.slice(u+1))],w=n.get(f)||[];w.push(g),n.set(f,w)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const o=i[s];Array.isArray(o)?o.forEach(u=>{n.push({param:s,value:u,op:"a"})}):n.push({param:s,value:o,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new xf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(k2(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const o=s.indexOf(k2(i.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class eq{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function R2(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function O2(r){return"undefined"!=typeof Blob&&r instanceof Blob}function F2(r){return"undefined"!=typeof FormData&&r instanceof FormData}class oD{constructor(i,n,s,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,u=o):u=s,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new fd),this.context||(this.context=new eq),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=n;else{const g=n.indexOf("?");this.urlWithParams=n+(-1===g?"?":g<n.length-1?"&":"")+f}}else this.params=new xf,this.urlWithParams=n}serializeBody(){return null===this.body?null:R2(this.body)||O2(this.body)||F2(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||F2(this.body)?null:O2(this.body)?this.body.type||null:R2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,o=i.url||this.url,u=i.responseType||this.responseType,f=void 0!==i.body?i.body:this.body,g=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,w=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let x=i.headers||this.headers,S=i.params||this.params;const I=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(x=Object.keys(i.setHeaders).reduce((F,L)=>F.set(L,i.setHeaders[L]),x)),i.setParams&&(S=Object.keys(i.setParams).reduce((F,L)=>F.set(L,i.setParams[L]),S)),new oD(s,o,f,{params:S,headers:x,context:I,reportProgress:w,responseType:u,withCredentials:g})}}var zi=(()=>((zi=zi||{})[zi.Sent=0]="Sent",zi[zi.UploadProgress=1]="UploadProgress",zi[zi.ResponseHeader=2]="ResponseHeader",zi[zi.DownloadProgress=3]="DownloadProgress",zi[zi.Response=4]="Response",zi[zi.User=5]="User",zi))();class CI extends class{constructor(i,n=200,s="OK"){this.headers=i.headers||new fd,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=zi.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new CI({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function wP(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let EI=(()=>{class r{constructor(n){this.handler=n}request(n,s,o={}){let u;if(n instanceof oD)u=n;else{let w,x;w=o.headers instanceof fd?o.headers:new fd(o.headers),o.params&&(x=o.params instanceof xf?o.params:new xf({fromObject:o.params})),u=new oD(n,s,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:x,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=(0,je.of)(u).pipe(ja(w=>this.handler.handle(w)));if(n instanceof oD||"events"===o.observe)return f;const g=f.pipe(Bt(w=>w instanceof CI));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,it.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return g.pipe((0,it.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return g.pipe((0,it.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));case"json":default:return g.pipe((0,it.U)(w=>w.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new xf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,o={}){return this.request("PATCH",n,wP(o,s))}post(n,s,o={}){return this.request("POST",n,wP(o,s))}put(n,s,o={}){return this.request("PUT",n,wP(o,s))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(T2))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const cq=["*"];function U2(r){return Error(`Unable to find icon with the name "${r}"`)}function H2(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function G2(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Mg{constructor(i,n,s){this.url=i,this.svgText=n,this.options=s}}let DI=(()=>{class r{constructor(n,s,o,u){this._httpClient=n,this._sanitizer=s,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(n,s,o){return this.addSvgIconInNamespace("",n,s,o)}addSvgIconLiteral(n,s,o){return this.addSvgIconLiteralInNamespace("",n,s,o)}addSvgIconInNamespace(n,s,o,u){return this._addSvgIconConfig(n,s,new Mg(o,null,u))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,s,o,u){const f=this._sanitizer.sanitize(a.q3G.HTML,o);if(!f)throw G2(o);return this._addSvgIconConfig(n,s,new Mg("",f,u))}addSvgIconSet(n,s){return this.addSvgIconSetInNamespace("",n,s)}addSvgIconSetLiteral(n,s){return this.addSvgIconSetLiteralInNamespace("",n,s)}addSvgIconSetInNamespace(n,s,o){return this._addSvgIconSetConfig(n,new Mg(s,null,o))}addSvgIconSetLiteralInNamespace(n,s,o){const u=this._sanitizer.sanitize(a.q3G.HTML,s);if(!u)throw G2(s);return this._addSvgIconSetConfig(n,new Mg("",u,o))}registerFontClassAlias(n,s=n){return this._fontCssClassesByAlias.set(n,s),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const s=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,n);if(!s)throw H2(n);const o=this._cachedIconsByUrl.get(s);return o?(0,je.of)(xI(o)):this._loadSvgIconFromConfig(new Mg(n,null)).pipe((0,Yn.b)(u=>this._cachedIconsByUrl.set(s,u)),(0,it.U)(u=>xI(u)))}getNamedSvgIcon(n,s=""){const o=j2(s,n);let u=this._svgIconConfigs.get(o);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(s,n),u)return this._svgIconConfigs.set(o,u),this._getSvgFromConfig(u);const f=this._iconSetConfigs.get(s);return f?this._getSvgFromIconSetConfigs(n,f):(0,$Y._)(U2(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,je.of)(xI(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,it.U)(s=>xI(s)))}_getSvgFromIconSetConfigs(n,s){const o=this._extractIconWithNameFromAnySet(n,s);return o?(0,je.of)(o):S2(s.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(Ga(g=>{const x=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,f.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(x)),(0,je.of)(null)})))).pipe((0,it.U)(()=>{const f=this._extractIconWithNameFromAnySet(n,s);if(!f)throw U2(n);return f}))}_extractIconWithNameFromAnySet(n,s){for(let o=s.length-1;o>=0;o--){const u=s[o];if(u.svgText&&u.svgText.indexOf(n)>-1){const f=this._svgElementFromConfig(u),g=this._extractSvgIconFromSet(f,n,u.options);if(g)return g}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,Yn.b)(s=>n.svgText=s),(0,it.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,je.of)(null):this._fetchIcon(n).pipe((0,Yn.b)(s=>n.svgText=s))}_extractSvgIconFromSet(n,s,o){const u=n.querySelector(`[id="${s}"]`);if(!u)return null;const f=u.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const g=this._svgElementFromString("<svg></svg>");return g.appendChild(f),this._setSvgAttributes(g,o)}_svgElementFromString(n){const s=this._document.createElement("DIV");s.innerHTML=n;const o=s.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){const s=this._svgElementFromString("<svg></svg>"),o=n.attributes;for(let u=0;u<o.length;u++){const{name:f,value:g}=o[u];"id"!==f&&s.setAttribute(f,g)}for(let u=0;u<n.childNodes.length;u++)n.childNodes[u].nodeType===this._document.ELEMENT_NODE&&s.appendChild(n.childNodes[u].cloneNode(!0));return s}_setSvgAttributes(n,s){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),s&&s.viewBox&&n.setAttribute("viewBox",s.viewBox),n}_fetchIcon(n){var s;const{url:o,options:u}=n,f=null!==(s=null==u?void 0:u.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const g=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,o);if(!g)throw H2(o);const w=this._inProgressUrlFetches.get(g);if(w)return w;const x=this._httpClient.get(g,{responseType:"text",withCredentials:f}).pipe(ap(()=>this._inProgressUrlFetches.delete(g)),(0,WY.B)());return this._inProgressUrlFetches.set(g,x),x}_addSvgIconConfig(n,s,o){return this._svgIconConfigs.set(j2(n,s),o),this}_addSvgIconSetConfig(n,s){const o=this._iconSetConfigs.get(n);return o?o.push(s):this._iconSetConfigs.set(n,[s]),this}_svgElementFromConfig(n){if(!n.svgElement){const s=this._svgElementFromString(n.svgText);this._setSvgAttributes(s,n.options),n.svgElement=s}return n.svgElement}_getIconConfigFromResolvers(n,s){for(let o=0;o<this._resolvers.length;o++){const u=this._resolvers[o](s,n);if(u)return hq(u)?new Mg(u.url,null,u.options):new Mg(u,null)}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(EI,8),a.LFG(Yr),a.LFG(q,8),a.LFG(a.qLn))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(EI,8),a.LFG(Yr),a.LFG(q,8),a.LFG(a.qLn))},token:r,providedIn:"root"}),r})();function xI(r){return r.cloneNode(!0)}function j2(r,i){return r+":"+i}function hq(r){return!(!r.url||!r.options)}const fq=Oc(class{constructor(r){this._elementRef=r}}),pq=new a.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,a.f3M)(q),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),z2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_q=z2.map(r=>`[${r}]`).join(", "),yq=/^url\(['"]?#(.*?)['"]?\)$/;let Sg=(()=>{class r extends fq{constructor(n,s,o,u,f){super(n),this._iconRegistry=s,this._location=u,this._errorHandler=f,this._inline=!1,this._currentIconFetch=Jt.w.EMPTY,o||n.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(n){this._inline=Ue(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const s=this._cleanupFontValue(n);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const s=this._cleanupFontValue(n);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(n){if(!n)return["",""];const s=n.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const s=n.querySelectorAll("style");for(let u=0;u<s.length;u++)s[u].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let s=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const o=n.childNodes[s];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&n.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&n.classList.remove(this._previousFontSetClass),s&&n.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const s=this._elementsWithExternalReferences;s&&s.forEach((o,u)=>{o.forEach(f=>{u.setAttribute(f.name,`url('${n}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(n){const s=n.querySelectorAll(_q),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<s.length;u++)z2.forEach(f=>{const g=s[u],w=g.getAttribute(f),x=w?w.match(yq):null;if(x){let S=o.get(g);S||(S=[],o.set(g,S)),S.push({name:f,value:x[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[s,o]=this._splitIconName(n);s&&(this._svgNamespace=s),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,s).pipe(fn(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${o}! ${u.message}`))})}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(DI),a.$8M("aria-hidden"),a.Y36(pq),a.Y36(a.qLn))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(n,s){2&n&&(a.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),a.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:cq,decls:1,vars:0,template:function(n,s){1&n&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),vq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();const bq=["primaryValueBar"],wq=Oc(class{constructor(r){this._elementRef=r}},"primary"),Cq=new a.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=(0,a.f3M)(q),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let Dq=0,xq=(()=>{class r extends wq{constructor(n,s,o,u){super(n),this._ngZone=s,this._animationMode=o,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new a.vpe,this._animationEndSubscription=Jt.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Dq++;const f=u?u.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${f}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===o}get value(){return this._value}set value(n){this._value=Y2(ri(n)||0)}get bufferValue(){return this._bufferValue}set bufferValue(n){this._bufferValue=Y2(n||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=this._primaryValueBar.nativeElement;this._animationEndSubscription=Ac(n,"transitionend").pipe(Bt(s=>s.target===n)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Pn,8),a.Y36(Cq,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(n,s){if(1&n&&a.Gf(bq,5),2&n){let o;a.iGM(o=a.CRH())&&(s._primaryValueBar=o.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(n,s){2&n&&(a.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),a.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[a.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1),a.TgZ(2,"defs"),a.TgZ(3,"pattern",2),a._UZ(4,"circle",3),a.qZA(),a.qZA(),a._UZ(5,"rect",4),a.qZA(),a.kcU(),a._UZ(6,"div",5),a._UZ(7,"div",6,7),a._UZ(9,"div",8),a.qZA()),2&n&&(a.xp6(3),a.Q6J("id",s.progressbarId),a.xp6(2),a.uIk("fill",s._rectangleFillValue),a.xp6(1),a.Q6J("ngStyle",s._bufferTransform()),a.xp6(1),a.Q6J("ngStyle",s._primaryTransform()))},directives:[Gc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function Y2(r,i=0,n=100){return Math.max(i,Math.min(n,r))}let Mq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Oi,bt],bt]}),r})();const Sq=["drop"],Tq=["dropzone"];function Aq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div",11),a.TgZ(1,"div",12),a.TgZ(2,"div",13),a.TgZ(3,"h3"),a._uU(4),a.qZA(),a.TgZ(5,"h3"),a._uU(6),a.qZA(),a.qZA(),a._UZ(7,"mat-progress-bar",14),a.ALo(8,"async"),a.qZA(),a.TgZ(9,"div"),a.TgZ(10,"button",15),a.NdJ("click",function(){const u=a.CHM(n).index;return a.oxw().deleteFile(u)}),a._uU(11,"x"),a.qZA(),a.qZA(),a.qZA()}if(2&r){const n=i.$implicit,s=a.oxw();a.xp6(4),a.hij("",n.name,"\xa0"),a.xp6(2),a.Oqu(s.formatBytes(n.size)),a.xp6(1),a.Q6J("value",a.lcZ(8,5,n.progress))("bufferValue",100),a.xp6(3),a.Q6J("disabled",s.startedUploading)}}let Iq=(()=>{class r{constructor(n,s,o,u){this.imageRepository=n,this.matDialog=s,this.dialogRef=o,this.snackbar=u,this.elementReference={},this.dropzone={},this.files=[],this.startedUploading=!1}ngOnInit(){}onFileDropped(n){this.prepareFilesList(n)}fileBrowseHandler(n){this.prepareFilesList(n.target.files)}deleteFile(n){this.files.splice(n,1)}prepareFilesList(n){for(const s of n)s.progress=0,this.files.push(s)}formatBytes(n,s=2){if(0===n)return"0 Bytes";const u=s<=0?0:s,g=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,g)).toFixed(u))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][g]}upload(){return(0,Li.mG)(this,void 0,void 0,function*(){this.startedUploading=!0,this.dialogRef.disableClose=!0;const n=[];this.files.forEach(o=>{o.progress=this.imageRepository.upload(o),n.push(o.progress)});let s=0;for(const o of n)yield o.toPromise().then(()=>s++);this.snackbar.open("Successfully uploaded all files!","Close"),function(r,i=Up.P){const s=function(r){return r instanceof Date&&!isNaN(+r)}(r)?+r-i.now():Math.abs(r)}(1e3),this.matDialog.closeAll()})}onDrag(){null!==this.dropzone&&(this.dropzone.nativeElement.style.backgroundColor="#AAAAAA")}onLeave(){null!==this.dropzone&&(this.dropzone.nativeElement.style.backgroundColor="transparent")}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(sD),a.Y36(Wv),a.Y36(bI),a.Y36(rD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-upload"]],viewQuery:function(n,s){if(1&n&&(a.Gf(Sq,5),a.Gf(Tq,5)),2&n){let o;a.iGM(o=a.CRH())&&(s.elementReference=o.first),a.iGM(o=a.CRH())&&(s.dropzone=o.first)}},decls:19,vars:2,consts:[["appDragAndDrop","","fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","16px",2,"min-width","600px",3,"fileDropped"],["fxFill","","fxLayout","column",2,"border-style","dashed"],["fxLayout","column","fxLayoutAlign","center center",2,"height","200px",3,"dragover","dragleave","drop"],["dropzone",""],["hidden","","id","drop","type","file","multiple","",3,"change"],["drop",""],["mat-raised-button","","color","primary"],["for","drop"],["itemSize","50",2,"min-height","300px","min-width","650px"],["fxFill","","fxLayout","row",4,"ngFor","ngForOf"],["mat-raised-button","",3,"disabled","click"],["fxFill","","fxLayout","row"],["fxLayout","column","fxFlex","90"],["fxLayoutAlign","space-between center"],["color","primary",3,"value","bufferValue"],["mat-button","","fxFlex","10",3,"disabled","click"]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.NdJ("fileDropped",function(u){return s.onFileDropped(u)}),a.TgZ(1,"div",1),a.TgZ(2,"div",2,3),a.NdJ("dragover",function(){return s.onDrag()})("dragleave",function(){return s.onLeave()})("drop",function(){return s.onLeave()}),a.TgZ(4,"h3"),a._uU(5,"Drag and drop to upload"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"h3"),a._uU(7,"or"),a.qZA(),a.TgZ(8,"input",4,5),a.NdJ("change",function(u){return s.fileBrowseHandler(u)}),a.qZA(),a.TgZ(10,"button",6),a.TgZ(11,"label",7),a._uU(12," Browse files "),a.qZA(),a.qZA(),a.TgZ(13,"cdk-virtual-scroll-viewport",8),a.YNc(14,Aq,12,7,"div",9),a.qZA(),a.TgZ(15,"button",10),a.NdJ("click",function(){return s.upload()}),a.TgZ(16,"mat-icon"),a._uU(17,"upload"),a.qZA(),a._uU(18," Upload! "),a.qZA(),a.qZA()),2&n&&(a.xp6(14),a.Q6J("ngForOf",s.files),a.xp6(1),a.Q6J("disabled",0===s.files.length||s.startedUploading))},directives:[qY,Ni,Eo,ys,yw,Ts,KE,VA,Yt,Sg,ch,xq],pipes:[Oa],styles:[""]}),r})();var Bo=(()=>(function(r){r.EMPTY="",r.DASHBOARD="dashboard",r.START="start",r.MANAGER="manager"}(Bo||(Bo={})),Bo))();let q2=(()=>{class r{constructor(n,s,o,u){this.angularFireAuth=n,this.snackBar=s,this.router=o,this.matDialog=u}signUp(n){this.angularFireAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{var o;null===(o=s.user)||void 0===o||o.updateProfile({displayName:n.displayName})}).catch(s=>{this.snackBar.open(s.message,"Close")})}signIn(n){this.angularFireAuth.signInWithEmailAndPassword(n.email,n.password).then(s=>{var o;yt.setDisplayName(null===(o=s.user)||void 0===o?void 0:o.displayName),yt.setIsSignedIn("true"),this.snackBar.open("Successfully signed in.","Close"),this.router.navigate([Bo.DASHBOARD]).then()}).catch(s=>{this.snackBar.open(s.message,"Close")})}signOut(){localStorage.clear(),this.router.navigate([Bo.START]).then(()=>{yt.setIsSignedIn("false"),this.snackBar.open("User Signed out.","Close"),this.matDialog.closeAll()})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(aF),a.LFG(rD),a.LFG(Wi),a.LFG(Wv))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const kq=["*",[["mat-toolbar-row"]]],Rq=["*","mat-toolbar-row"],Oq=Oc(class{constructor(r){this._elementRef=r}});let Fq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),Kv=(()=>{class r extends Oq{constructor(n,s,o){super(n),this._platform=s,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Gt),a.Y36(q))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(n,s,o){if(1&n&&a.Suo(o,Fq,5),2&n){let u;a.iGM(u=a.CRH())&&(s._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,s){2&n&&a.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:Rq,decls:2,vars:0,template:function(n,s){1&n&&(a.F$t(kq),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),Pq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();function Nq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().openUploadDialog()}),a.TgZ(1,"mat-icon"),a._uU(2,"upload"),a.qZA(),a._uU(3," Upload "),a.qZA()}}function Lq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().toManager()}),a.TgZ(1,"mat-icon"),a._uU(2,"settings"),a.qZA(),a._uU(3," Manager "),a.qZA()}}function Bq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().draw()}),a.TgZ(1,"mat-icon"),a._uU(2,"casino"),a.qZA(),a._uU(3," Draw "),a.qZA()}}function Vq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",4),a.NdJ("click",function(){return a.CHM(n),a.oxw().back()}),a.TgZ(1,"mat-icon"),a._uU(2,"arrow_back"),a.qZA(),a._uU(3," Back "),a.qZA()}}function Uq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",5),a.NdJ("click",function(){return a.CHM(n),a.oxw().signOut()}),a.TgZ(1,"mat-icon"),a._uU(2,"exit_to_app"),a.qZA(),a._uU(3," Sign out "),a.qZA()}}let xP=(()=>{class r{constructor(n,s,o,u){this.authenticationService=n,this.matDialog=s,this.router=o,this.imageRepository=u,this.showLogoutButton=!1,this.showUploadButton=!1,this.showManagerButton=!1,this.showBackButton=!1,this.showDrawButton=!1}ngOnInit(){}signOut(){this.authenticationService.signOut()}openUploadDialog(){this.matDialog.open(Iq,{})}toManager(){this.router.navigate([Bo.MANAGER])}back(){this.router.navigate([Bo.DASHBOARD])}draw(){this.imageRepository.draw()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(q2),a.Y36(Wv),a.Y36(Wi),a.Y36(sD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-toolbar"]],inputs:{showLogoutButton:"showLogoutButton",showUploadButton:"showUploadButton",showManagerButton:"showManagerButton",showBackButton:"showBackButton",showDrawButton:"showDrawButton"},decls:9,vars:5,consts:[["fxLayoutAlign","space-between center","color","primary"],["fxLayoutGap","16px"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["mat-stroked-button","",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-toolbar",0),a.TgZ(1,"div"),a._uU(2," Daily Girl\n"),a.qZA(),a.TgZ(3,"div",1),a.YNc(4,Nq,4,0,"button",2),a.YNc(5,Lq,4,0,"button",2),a.YNc(6,Bq,4,0,"button",2),a.YNc(7,Vq,4,0,"button",2),a.YNc(8,Uq,4,0,"button",3),a.qZA(),a.qZA()),2&n&&(a.xp6(4),a.Q6J("ngIf",s.showUploadButton),a.xp6(1),a.Q6J("ngIf",s.showManagerButton),a.xp6(1),a.Q6J("ngIf",s.showDrawButton),a.xp6(1),a.Q6J("ngIf",s.showBackButton),a.xp6(1),a.Q6J("ngIf",s.showLogoutButton))},directives:[Kv,Ni,ys,ai,Ts,Sg],styles:[""]}),r})();class Hq{constructor(i,n){this.email=i,this.password=n}}const Gq=["*",[["mat-card-footer"]]],jq=["*","mat-card-footer"];let Qv=(()=>{class r{constructor(n){this._animationMode=n}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Pn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,s){2&n&&a.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:jq,decls:2,vars:0,template:function(n,s){1&n&&(a.F$t(Gq),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),Zq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();const Wq=["underline"],Kq=["connectionContainer"],Qq=["inputContainer"],Jq=["label"];function Xq(r,i){1&r&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15),a._UZ(3,"div",16),a._UZ(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15),a._UZ(7,"div",16),a._UZ(8,"div",17),a.qZA(),a.BQk())}function e$(r,i){1&r&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function t$(r,i){if(1&r&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&r){const n=a.oxw(2);a.xp6(3),a.Oqu(n._control.placeholder)}}function n$(r,i){1&r&&a.Hsn(0,3,["*ngSwitchCase","true"])}function i$(r,i){1&r&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function r$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(n),a.oxw().updateOutlineGap()}),a.YNc(2,t$,4,1,"ng-container",12),a.YNc(3,n$,1,0,"ng-content",12),a.YNc(4,i$,2,0,"span",22),a.qZA()}if(2&r){const n=a.oxw();a.ekj("mat-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-form-field-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-accent","accent"==n.color)("mat-warn","warn"==n.color),a.Q6J("cdkObserveContentDisabled","outline"!=n.appearance)("id",n._labelId)("ngSwitch",n._hasLabel()),a.uIk("for",n._control.id)("aria-owns",n._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}}function s$(r,i){1&r&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function o$(r,i){if(1&r&&(a.TgZ(0,"div",25,26),a._UZ(2,"span",27),a.qZA()),2&r){const n=a.oxw();a.xp6(2),a.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function a$(r,i){if(1&r&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&r){const n=a.oxw();a.Q6J("@transitionMessages",n._subscriptAnimationState)}}function l$(r,i){if(1&r&&(a.TgZ(0,"div",31),a._uU(1),a.qZA()),2&r){const n=a.oxw(2);a.Q6J("id",n._hintLabelId),a.xp6(1),a.Oqu(n.hintLabel)}}function c$(r,i){if(1&r&&(a.TgZ(0,"div",28),a.YNc(1,l$,2,2,"div",29),a.Hsn(2,6),a._UZ(3,"div",30),a.Hsn(4,7),a.qZA()),2&r){const n=a.oxw();a.Q6J("@transitionMessages",n._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",n.hintLabel)}}const u$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],d$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],$2=new a.OlP("MatError"),f$={transitionMessages:no("transitionMessages",[oi("enter",Rt({opacity:1,transform:"translateY(0%)"})),Jn("void => enter",[Rt({opacity:0,transform:"translateY(-5px)"}),si("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Jv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r}),r})();const Z2=new a.OlP("MatHint");let MP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-label"]]}),r})(),m$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const W2=new a.OlP("MatPrefix"),K2=new a.OlP("MatSuffix");let Q2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:K2,useExisting:r}])]}),r})(),J2=0;const _$=Oc(class{constructor(r){this._elementRef=r}},"primary"),y$=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),aD=new a.OlP("MatFormField");let MI=(()=>{class r extends _${constructor(n,s,o,u,f,g,w,x){super(n),this._changeDetectorRef=s,this._dir=u,this._defaults=f,this._platform=g,this._ngZone=w,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Re.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+J2++,this._labelId="mat-form-field-label-"+J2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==x,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(n){const s=this._appearance;this._appearance=n||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==n&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Ue(n)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(n){this._explicitFormFieldControl=n}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${n.controlType}`),n.stateChanges.pipe(en(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Je(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Je(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Cn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(en(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(en(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Je(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(n){const s=this._control?this._control.ngControl:null;return s&&s[n]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ac(this._label.nativeElement,"transitionend").pipe(fn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,o=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;s?n.push(s.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(n)}}_validateControlChild(){}updateOutlineGap(){const n=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const u=this._connectionContainerRef.nativeElement,f=u.querySelectorAll(".mat-form-field-outline-start"),g=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const w=u.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(w),S=n.children,I=this._getStartEnd(S[0].getBoundingClientRect());let F=0;for(let L=0;L<S.length;L++)F+=S[L].offsetWidth;s=Math.abs(I-x)-5,o=F>0?.75*F+10:0}for(let w=0;w<f.length;w++)f[w].style.width=`${s}px`;for(let w=0;w<g.length;w++)g[w].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(n){return this._dir&&"rtl"===this._dir.value?n.right:n.left}_isAttachedToDOM(){const n=this._elementRef.nativeElement;if(n.getRootNode){const s=n.getRootNode();return s&&s!==n}return document.documentElement.contains(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Xt,8),a.Y36(y$,8),a.Y36(Gt),a.Y36(a.R0b),a.Y36(Pn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,s,o){if(1&n&&(a.Suo(o,Jv,5),a.Suo(o,Jv,7),a.Suo(o,MP,5),a.Suo(o,MP,7),a.Suo(o,m$,5),a.Suo(o,$2,5),a.Suo(o,Z2,5),a.Suo(o,W2,5),a.Suo(o,K2,5)),2&n){let u;a.iGM(u=a.CRH())&&(s._controlNonStatic=u.first),a.iGM(u=a.CRH())&&(s._controlStatic=u.first),a.iGM(u=a.CRH())&&(s._labelChildNonStatic=u.first),a.iGM(u=a.CRH())&&(s._labelChildStatic=u.first),a.iGM(u=a.CRH())&&(s._placeholderChild=u.first),a.iGM(u=a.CRH())&&(s._errorChildren=u),a.iGM(u=a.CRH())&&(s._hintChildren=u),a.iGM(u=a.CRH())&&(s._prefixChildren=u),a.iGM(u=a.CRH())&&(s._suffixChildren=u)}},viewQuery:function(n,s){if(1&n&&(a.Gf(Wq,5),a.Gf(Kq,7),a.Gf(Qq,5),a.Gf(Jq,5)),2&n){let o;a.iGM(o=a.CRH())&&(s.underlineRef=o.first),a.iGM(o=a.CRH())&&(s._connectionContainerRef=o.first),a.iGM(o=a.CRH())&&(s._inputContainerRef=o.first),a.iGM(o=a.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(n,s){2&n&&a.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:aD,useExisting:r}]),a.qOj],ngContentSelectors:d$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(n,s){1&n&&(a.F$t(u$),a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(u){return s._control.onContainerClick&&s._control.onContainerClick(u)}),a.YNc(3,Xq,9,0,"ng-container",3),a.YNc(4,e$,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,r$,5,16,"label",8),a.qZA(),a.qZA(),a.YNc(10,s$,2,0,"div",9),a.qZA(),a.YNc(11,o$,3,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,a$,2,1,"div",12),a.YNc(14,c$,5,2,"div",13),a.qZA(),a.qZA()),2&n&&(a.xp6(3),a.Q6J("ngIf","outline"==s.appearance),a.xp6(1),a.Q6J("ngIf",s._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",s._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",s._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=s.appearance),a.xp6(1),a.Q6J("ngSwitch",s._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[ai,Gr,Nn,JE],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[f$.transitionMessages]},changeDetection:0}),r})(),SI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Oi,bt,XE],bt]}),r})();const eU=fg({passive:!0});let tU=(()=>{class r{constructor(n,s){this._platform=n,this._ngZone=s,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return $r.E;const s=cd(n),o=this._monitoredElements.get(s);if(o)return o.subject;const u=new Re.xQ,f="cdk-text-field-autofilled",g=w=>{"cdk-text-field-autofill-start"!==w.animationName||s.classList.contains(f)?"cdk-text-field-autofill-end"===w.animationName&&s.classList.contains(f)&&(s.classList.remove(f),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!1}))):(s.classList.add(f),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",g,eU),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:u,unlisten:()=>{s.removeEventListener("animationstart",g,eU)}}),u}stopMonitoring(n){const s=cd(n),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((n,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Gt),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Gt),a.LFG(a.R0b))},token:r,providedIn:"root"}),r})(),nU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Nv]]}),r})(),iU=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.Qsj),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r}),r})(),Tg=(()=>{class r extends iU{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();const Nr=new a.OlP("NgValueAccessor"),w$={provide:Nr,useExisting:(0,a.Gpc)(()=>Xv),multi:!0},E$=new a.OlP("CompositionEventMode");let Xv=(()=>{class r extends iU{constructor(n,s,o){super(n,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(E$,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&a.NdJ("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[a._Bn([w$]),a.qOj]}),r})();const ki=new a.OlP("NgValidators"),Sf=new a.OlP("NgAsyncValidators");function pU(r){return null!=r}function mU(r){const i=(0,a.QGY)(r)?(0,Qt.D)(r):r;return(0,a.CqO)(i),i}function gU(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function _U(r,i){return i.map(n=>n(r))}function yU(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function TP(r){return null!=r?function(r){if(!r)return null;const i=r.filter(pU);return 0==i.length?null:function(n){return gU(_U(n,i))}}(yU(r)):null}function AP(r){return null!=r?function(r){if(!r)return null;const i=r.filter(pU);return 0==i.length?null:function(n){return S2(_U(n,i).map(mU)).pipe((0,it.U)(gU))}}(yU(r)):null}function wU(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function CU(r){return r._rawValidators}function EU(r){return r._rawAsyncValidators}function IP(r){return r?Array.isArray(r)?r:[r]:[]}function TI(r,i){return Array.isArray(r)?r.includes(i):r===i}function DU(r,i){const n=IP(i);return IP(r).forEach(o=>{TI(n,o)||n.push(o)}),n}function xU(r,i){return IP(i).filter(n=>!TI(r,n))}let MU=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=TP(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=AP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r}),r})(),os=(()=>{class r extends MU{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();class Aa extends MU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class SU{constructor(i){this._cd=i}is(i){var n,s,o;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[i])}}let AI=(()=>{class r extends SU{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Aa,2))},r.\u0275dir=a.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&a.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[a.qOj]}),r})(),kP=(()=>{class r extends SU{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(os,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&a.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[a.qOj]}),r})();function lD(r,i){FP(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&TU(r,i)})}(r,i),function(r,i){const n=(s,o)=>{i.valueAccessor.writeValue(s),o&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&TU(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function RI(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),FI(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function OI(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function FP(r,i){const n=CU(r);null!==i.validator?r.setValidators(wU(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=EU(r);null!==i.asyncValidator?r.setAsyncValidators(wU(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const o=()=>r.updateValueAndValidity();OI(i._rawValidators,o),OI(i._rawAsyncValidators,o)}function FI(r,i){let n=!1;if(null!==r){if(null!==i.validator){const o=CU(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==i.validator);u.length!==o.length&&(n=!0,r.setValidators(u))}}if(null!==i.asyncValidator){const o=EU(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==i.asyncValidator);u.length!==o.length&&(n=!0,r.setAsyncValidators(u))}}}const s=()=>{};return OI(i._rawValidators,s),OI(i._rawAsyncValidators,s),n}function TU(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function AU(r,i){FP(r,i)}function IU(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function PI(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const cD="VALID",NI="INVALID",eb="PENDING",uD="DISABLED";function LP(r){return(VP(r)?r.validators:r)||null}function kU(r){return Array.isArray(r)?TP(r):r||null}function BP(r,i){return(VP(i)?i.asyncValidators:r)||null}function RU(r){return Array.isArray(r)?AP(r):r||null}function VP(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class UP{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=kU(this._rawValidators),this._composedAsyncValidatorFn=RU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===cD}get invalid(){return this.status===NI}get pending(){return this.status==eb}get disabled(){return this.status===uD}get enabled(){return this.status!==uD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=kU(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=RU(i)}addValidators(i){this.setValidators(DU(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(DU(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(xU(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(xU(i,this._rawAsyncValidators))}hasValidator(i){return TI(this._rawValidators,i)}hasAsyncValidator(i){return TI(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=eb,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=uD,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=cD,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cD||this.status===eb)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uD:cD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=eb,this._hasOwnPendingAsyncValidator=!0;const n=mU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(o=>{s=s instanceof HP?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof L$&&s.at(o)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?uD:this.errors?NI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eb)?eb:this._anyControlsHaveStatus(NI)?NI:cD}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){VP(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class LI extends UP{constructor(i=null,n,s){super(LP(n),BP(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){PI(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){PI(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class HP extends UP{constructor(i,n,s){super(LP(n),BP(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof LI?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((o,u)=>{s=n(s,o,u)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class L$ extends UP{constructor(i,n,s){super(LP(n),BP(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof LI?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const B$={provide:os,useExisting:(0,a.Gpc)(()=>Dl)},dD=(()=>Promise.resolve(null))();let Dl=(()=>{class r extends os{constructor(n,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new HP({},TP(n),AP(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){dD.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),lD(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){dD.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),PI(this._directives,n)})}addFormGroup(n){dD.then(()=>{const s=this._findContainer(n.path),o=new HP({});AU(o,n),s.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){dD.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){dD.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,IU(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ki,10),a.Y36(Sf,10))},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&a.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([B$]),a.qOj]}),r})();const U$={provide:Aa,useExisting:(0,a.Gpc)(()=>hD)},PU=(()=>Promise.resolve(null))();let hD=(()=>{class r extends Aa{constructor(n,s,o,u){super(),this.control=new LI,this._registered=!1,this.update=new a.vpe,this._parent=n,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function(r,i){if(!i)return null;let n,s,o;return Array.isArray(i),i.forEach(u=>{u.constructor===Xv?n=u:function(r){return Object.getPrototypeOf(r.constructor)===Tg}(u)?s=u:o=u}),o||s||n||null}(0,u)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(r,i){return[...i.path,r]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lD(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){PU.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const s=n.isDisabled.currentValue,o=""===s||s&&"false"!==s;PU.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(os,9),a.Y36(ki,10),a.Y36(Sf,10),a.Y36(Nr,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([U$]),a.qOj,a.TTD]}),r})(),GP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),LU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const q$={provide:os,useExisting:(0,a.Gpc)(()=>pd)};let pd=(()=>{class r extends os{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(FI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return lD(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){RI(n.control||null,n,!1),PI(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,IU(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,o=this.form.get(n.path);s!==o&&(RI(s||null,n),o instanceof LI&&(lD(o,n),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);AU(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return FI(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FP(this.form,this),this._oldForm&&FI(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ki,10),a.Y36(Sf,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&a.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([q$]),a.qOj,a.TTD]}),r})(),XU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[LU]]}),r})(),u4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[XU]}),r})();const e3=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),d4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let h4=0;const f4=pI(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let WP=(()=>{class r extends f4{constructor(n,s,o,u,f,g,w,x,S,I){super(g,u,f,o),this._elementRef=n,this._platform=s,this._autofillMonitor=x,this._formField=I,this._uid="mat-input-"+h4++,this.focused=!1,this.stateChanges=new Re.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>bB().has(j));const F=this._elementRef.nativeElement,L=F.nodeName.toLowerCase();this._inputValueAccessor=w||F,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&S.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",j=>{const ne=j.target;!ne.value&&0===ne.selectionStart&&0===ne.selectionEnd&&(ne.setSelectionRange(1,1),ne.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=Ue(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required}set required(n){this._required=Ue(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&bB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Ue(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,s;const o=(null===(s=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===s?void 0:s.call(n))?null:this.placeholder;if(o!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=o,o?u.setAttribute("placeholder",o):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){d4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,s=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Gt),a.Y36(Aa,10),a.Y36(Dl,8),a.Y36(pd,8),a.Y36(Ef),a.Y36(e3,10),a.Y36(tU),a.Y36(a.R0b),a.Y36(aD,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(n,s){1&n&&a.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(a.Ikx("disabled",s.disabled)("required",s.required),a.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),a.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:Jv,useExisting:r}]),a.qOj,a.TTD]}),r})(),p4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Ef],imports:[[nU,SI,bt],nU,SI]}),r})(),m4=(()=>{class r{constructor(n){this.authenticationService=n,this.hide=!0,this.signInRequest=new Hq("","")}ngOnInit(){}onLogIn(){this.authenticationService.signIn(this.signInRequest)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(q2))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-sign-in"]],decls:18,vars:6,consts:[["fxLayout","column"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","disabled",""],["matInput","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"h1"),a._uU(2,"Sign in"),a.qZA(),a.TgZ(3,"mat-form-field",1),a.TgZ(4,"mat-label"),a._uU(5,"Enter your email"),a.qZA(),a.TgZ(6,"input",2),a.NdJ("ngModelChange",function(u){return s.signInRequest.email=u}),a.qZA(),a.TgZ(7,"button",3),a._UZ(8,"mat-icon"),a.qZA(),a.qZA(),a.TgZ(9,"mat-form-field",1),a.TgZ(10,"mat-label"),a._uU(11,"Enter your password"),a.qZA(),a.TgZ(12,"input",4),a.NdJ("ngModelChange",function(u){return s.signInRequest.password=u}),a.qZA(),a.TgZ(13,"button",5),a.NdJ("click",function(){return s.hide=!s.hide}),a.TgZ(14,"mat-icon"),a._uU(15),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"button",6),a.NdJ("click",function(){return s.onLogIn()}),a._uU(17,"Sign in"),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("ngModel",s.signInRequest.email),a.xp6(6),a.Q6J("type",s.hide?"password":"text")("ngModel",s.signInRequest.password),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",s.hide),a.xp6(2),a.Oqu(s.hide?"visibility_off":"visibility"))},directives:[Qv,Eo,MI,MP,WP,Xv,AI,hD,Ts,Q2,Sg],styles:[""]}),r})(),g4=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-sign-up"]],decls:2,vars:0,template:function(n,s){1&n&&(a.TgZ(0,"p"),a._uU(1,"sign-up works!"),a.qZA())},styles:[""]}),r})(),_4=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-start"]],decls:5,vars:0,consts:[["fxLayout","column","fxLayoutGap","16px"],["fxFlex","90","fxLayout","row","fxLayoutAlign","space-around center"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"app-toolbar"),a.TgZ(2,"div",1),a._UZ(3,"app-sign-in"),a._UZ(4,"app-sign-up"),a.qZA(),a.qZA())},directives:[Eo,ys,xP,ch,Ni,m4,g4],styles:[""]}),r})(),y4=(()=>{class r{constructor(n){this.fireStoreService=n}addGrade(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.addGrade(n,s)})}editGrade(n){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.editGrade(n)})}deleteGrade(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.deleteGrade(n,s)})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(hg))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),v4=(()=>{class r{constructor(n){this.gradeRepository=n,this.grades=[],this.image=new Mu("","","")}ngOnInit(){}onCLick(n){let s=!1;console.log("started"),this.grades.forEach(o=>{o.value===n&&o.author===yt.getDisplayName()?(console.log("deleting"),s=!0,this.gradeRepository.deleteGrade(this.image,o)):o.value!==n&&o.author===yt.getDisplayName()&&(console.log("changing"),s=!0,o.value=n,this.gradeRepository.editGrade(this.image))}),s||(console.log("adding"),this.gradeRepository.addGrade(this.image,n))}countGrade(n){let s=0;return this.grades.forEach(o=>{o.value===n&&s++}),s}hasUsersGradeButtonStyle(n){let s="mat-stroked-button";return this.grades.forEach(o=>{o.value===n&&o.author===yt.getDisplayName()&&(s="mat-raised-button")}),s}hasUserGradeColour(n){let s="";return this.grades.forEach(o=>{o.value===n&&o.author===yt.getDisplayName()&&(s="primary")}),s}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(y4))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-grade-bar"]],inputs:{grades:"grades",image:"image"},decls:19,vars:18,consts:[["fxLayoutGap","16px","fxLayoutAlign","space-around center",2,"width","100%"],["mat-button","","fxLayoutAlign","center center",3,"ngClass","color","click"],["src","assets/SS.png","alt","",1,"grade"],["src","assets/S.png","alt","",1,"grade"],["src","assets/A.png","alt","",1,"grade"],["src","assets/B.png","alt","",1,"grade"],["src","assets/C.png","alt","",1,"grade"],["src","assets/D.png","alt","",1,"grade"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"button",1),a.NdJ("click",function(){return s.onCLick(6)}),a._UZ(2,"img",2),a._uU(3),a.qZA(),a.TgZ(4,"button",1),a.NdJ("click",function(){return s.onCLick(5)}),a._UZ(5,"img",3),a._uU(6),a.qZA(),a.TgZ(7,"button",1),a.NdJ("click",function(){return s.onCLick(4)}),a._UZ(8,"img",4),a._uU(9),a.qZA(),a.TgZ(10,"button",1),a.NdJ("click",function(){return s.onCLick(3)}),a._UZ(11,"img",5),a._uU(12),a.qZA(),a.TgZ(13,"button",1),a.NdJ("click",function(){return s.onCLick(2)}),a._UZ(14,"img",6),a._uU(15),a.qZA(),a.TgZ(16,"button",1),a.NdJ("click",function(){return s.onCLick(1)}),a._UZ(17,"img",7),a._uU(18),a.qZA(),a.qZA()),2&n&&(a.xp6(1),a.s9C("color",s.hasUserGradeColour(6)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(6)),a.xp6(2),a.hij(" : ",s.countGrade(6)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(5)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(5)),a.xp6(2),a.hij(" : ",s.countGrade(5)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(4)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(4)),a.xp6(2),a.hij(" : ",s.countGrade(4)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(3)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(3)),a.xp6(2),a.hij(" : ",s.countGrade(3)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(2)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(2)),a.xp6(2),a.hij(" : ",s.countGrade(2)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(1)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(1)),a.xp6(2),a.hij(" : ",s.countGrade(1)," "))},directives:[Qv,ys,Ni,Ts,ds],styles:[""]}),r})(),KP=(()=>{class r{constructor(n){this.fireStoreService=n}addReply(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.addReply(n,s)})}editReply(n){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.editReply(n)})}deleteReply(n,s){return(0,Li.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.deleteReply(n,s)})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(hg))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),b4=(()=>{class r{constructor(n,s){this.replyRepository=n,this.snackBar=s,this.image=new Mu("","",""),this.text=""}ngOnInit(){}addReply(){this.replyRepository.addReply(this.image,this.text).then(()=>this.text="").catch(n=>{this.snackBar.open("Something went wrong.","Close"),console.log(n)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(KP),a.Y36(rD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-reply-create"]],inputs:{image:"image"},decls:7,vars:1,consts:[["appearance","outline",1,"comment-form",2,"width","400px"],["fxLayoutAlign","center center","fxFlex","90","matInput","","placeholder","Enter your comment...","name","text",3,"ngModel","ngModelChange"],["mat-icon-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"div"),a.TgZ(1,"form"),a.TgZ(2,"mat-form-field",0),a.TgZ(3,"input",1),a.NdJ("ngModelChange",function(u){return s.text=u}),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return s.addReply()}),a.TgZ(5,"mat-icon"),a._uU(6,"send"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(3),a.Q6J("ngModel",s.text))},directives:[GP,kP,Dl,MI,WP,Xv,Ni,ch,AI,hD,Ts,Sg],styles:[""]}),r})();function w4(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().switchEditing()}),a.TgZ(1,"mat-icon"),a._uU(2,"edit"),a.qZA(),a.qZA()}}function C4(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().deleteReply()}),a.TgZ(1,"mat-icon"),a._uU(2,"delete"),a.qZA(),a.qZA()}}function E4(r,i){if(1&r&&(a.TgZ(0,"div",7),a._uU(1),a.qZA()),2&r){const n=a.oxw();a.xp6(1),a.hij(" ",n.reply.message," ")}}function D4(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"form",8),a.NdJ("keydown.enter",function(){return a.CHM(n),a.oxw().editReply()}),a.TgZ(2,"mat-form-field",9),a.TgZ(3,"input",10),a.NdJ("ngModelChange",function(o){return a.CHM(n),a.oxw().reply.message=o}),a.qZA(),a.TgZ(4,"button",11),a.NdJ("click",function(){return a.CHM(n),a.oxw().editReply()}),a.TgZ(5,"mat-icon"),a._uU(6,"send"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&r){const n=a.oxw();a.xp6(3),a.Q6J("ngModel",n.reply.message)}}let x4=(()=>{class r{constructor(n,s){this.replyRepository=n,this.snackBar=s,this.reply=new bM("","",""),this.image=new Mu("","",""),this.username=yt.getDisplayName(),this.isEditing=!1}ngOnInit(){}isAuthor(){return this.reply.author===this.username}switchEditing(){this.isEditing=!this.isEditing}deleteReply(){this.replyRepository.deleteReply(this.image,this.reply).catch(()=>this.snackBar.open("Something went wrong.","Close"))}editReply(){this.replyRepository.editReply(this.image).then(()=>this.isEditing=!1).catch(()=>this.snackBar.open("Something went wrong.","Close"))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(KP),a.Y36(rD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-reply-element"]],inputs:{reply:"reply",image:"image"},decls:9,vars:5,consts:[["fxLayout","column","fxLayoutGap","16px",1,"comment-container",2,"width","400px"],["fxLayoutAlign","space-between center"],["mat-flat-button","","color","primary"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutGap","16px",4,"ngIf"],[4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutGap","16px"],[3,"keydown.enter"],["appearance","outline",1,"edit-comment-form"],["matInput","","fxFlex","90","name","editComment","fxLayoutAlign","start center",3,"ngModel","ngModelChange"],["mat-icon-button","","color","primary","fxLayoutAlign","center center",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"div",1),a.TgZ(2,"button",2),a._uU(3),a.qZA(),a.TgZ(4,"div"),a.YNc(5,w4,3,0,"button",3),a.YNc(6,C4,3,0,"button",3),a.qZA(),a.qZA(),a.YNc(7,E4,2,1,"div",4),a.YNc(8,D4,7,1,"div",5),a.qZA()),2&n&&(a.xp6(3),a.Oqu(s.reply.author),a.xp6(2),a.Q6J("ngIf",s.isAuthor()),a.xp6(1),a.Q6J("ngIf",s.isAuthor()),a.xp6(1),a.Q6J("ngIf",!1===s.isEditing),a.xp6(1),a.Q6J("ngIf",s.isEditing&&s.isAuthor()))},directives:[Qv,Eo,ys,Ni,Ts,ai,Q2,Sg,GP,kP,Dl,MI,WP,Xv,ch,AI,hD],styles:[""]}),r})();function M4(r,i){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-reply-element",8),a.qZA()),2&r){const n=i.$implicit,s=a.oxw();a.xp6(1),a.Q6J("reply",n)("image",s.image)}}let S4=(()=>{class r{constructor(){this.image=new Mu("","","")}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-dashboard-element"]],inputs:{image:"image"},decls:11,vars:7,consts:[["fxLayoutAlign","center"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","8px",2,"width","55vw"],["color","accent"],["mat-raised-button","","disabled","",2,"width","100%"],["alt","",1,"image",3,"src"],[3,"grades","image"],[4,"ngFor","ngForOf"],[3,"image"],[3,"reply","image"]],template:function(n,s){1&n&&(a._UZ(0,"br"),a.TgZ(1,"div",0),a.TgZ(2,"mat-card",1),a.TgZ(3,"mat-toolbar",2),a._uU(4),a.qZA(),a.TgZ(5,"button",3),a._uU(6),a.qZA(),a._UZ(7,"img",4),a._UZ(8,"app-grade-bar",5),a.YNc(9,M4,2,2,"div",6),a._UZ(10,"app-reply-create",7),a.qZA(),a.qZA()),2&n&&(a.xp6(4),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH),a.xp6(1),a.Q6J("grades",s.image.grades)("image",s.image),a.xp6(1),a.Q6J("ngForOf",s.image.replies),a.xp6(1),a.Q6J("image",s.image))},directives:[Ni,Qv,Eo,ys,Kv,Ts,v4,Yt,b4,x4],styles:[""]}),r})();function T4(r,i){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-dashboard-element",3),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let A4=(()=>{class r{constructor(n){this.fireStoreService=n,this.elements=this.fireStoreService.sent}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(hg))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-dashboard"]],decls:4,vars:6,consts:[[3,"showUploadButton","showManagerButton","showLogoutButton"],["itemSize","900",2,"width","100vw","height","90vh"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"image"]],template:function(n,s){1&n&&(a._UZ(0,"app-toolbar",0),a.TgZ(1,"cdk-virtual-scroll-viewport",1),a.YNc(2,T4,2,1,"div",2),a.ALo(3,"async"),a.qZA()),2&n&&(a.Q6J("showUploadButton",!0)("showManagerButton",!0)("showLogoutButton",!0),a.xp6(2),a.Q6J("cdkVirtualForOf",a.lcZ(3,4,s.elements)))},directives:[xP,KE,VA,mF,S4],pipes:[Oa],styles:[""]}),r})(),t3=(()=>{class r{constructor(n){this.router=n}canActivate(){return!!this.isSignedIn()||(this.router.navigate([Bo.START]),!1)}isSignedIn(){return"true"===yt.getIsSignedIn()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Wi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),I4=(()=>{class r{constructor(n){this.imageRepository=n,this.image=new Mu("","","")}ngOnInit(){}deleteItem(){this.imageRepository.deleteFromToSend(this.image)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(sD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-to-send-element"]],inputs:{image:"image"},decls:11,vars:3,consts:[["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","8px",2,"width","45vw"],["color","primary","fxLayoutAlign","center center"],["alt","",1,"manager-image",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-toolbar",1),a._uU(2),a.qZA(),a.TgZ(3,"h4"),a._uU(4),a.qZA(),a._UZ(5,"img",2),a.TgZ(6,"button",3),a.NdJ("click",function(){return s.deleteItem()}),a.TgZ(7,"mat-icon"),a._uU(8,"delete"),a.qZA(),a._uU(9," Delete "),a.qZA(),a.qZA(),a._UZ(10,"br")),2&n&&(a.xp6(2),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH))},directives:[Qv,Ni,Eo,ys,Kv,Ts,Sg],styles:[""]}),r})();function k4(r,i){if(1&r&&(a.TgZ(0,"div",5),a._UZ(1,"app-manager-to-send-element",6),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let R4=(()=>{class r{constructor(n){this.fireStoreService=n,this.toSendCollection=this.fireStoreService.toSend}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(hg))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-to-send"]],decls:8,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","center center","fxLayout","column"],["color","accent","fxLayoutAlign","center center","fxLayoutGap","16px"],["itemSize","900",2,"width","50vw","height","85vh"],["fxLayoutAlign","center",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["fxLayoutAlign","center"],[3,"image"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a.TgZ(1,"div",1),a.TgZ(2,"mat-toolbar",2),a._uU(3,"To Send"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"cdk-virtual-scroll-viewport",3),a.YNc(6,k4,2,1,"div",4),a.ALo(7,"async"),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("cdkVirtualForOf",a.lcZ(7,2,s.toSendCollection))("cdkVirtualForTemplateCacheSize",10))},directives:[Eo,Ni,Kv,ys,KE,VA,mF,I4],pipes:[Oa],styles:[""]}),r})(),O4=(()=>{class r{constructor(n){this.imageRepository=n,this.image=new Mu("","","")}ngOnInit(){}deleteItem(){this.imageRepository.deleteFromSent(this.image)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(sD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-sent-element"]],inputs:{image:"image"},decls:11,vars:3,consts:[["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","8px",2,"width","45vw"],["color","primary","fxLayoutAlign","center center"],["alt","",1,"manager-image",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-toolbar",1),a._uU(2),a.qZA(),a.TgZ(3,"h4"),a._uU(4),a.qZA(),a._UZ(5,"img",2),a.TgZ(6,"button",3),a.NdJ("click",function(){return s.deleteItem()}),a.TgZ(7,"mat-icon"),a._uU(8,"delete"),a.qZA(),a._uU(9," Delete "),a.qZA(),a.qZA(),a._UZ(10,"br")),2&n&&(a.xp6(2),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH))},directives:[Qv,Ni,Eo,ys,Kv,Ts,Sg],styles:[""]}),r})();function F4(r,i){if(1&r&&(a.TgZ(0,"div",5),a._UZ(1,"app-manager-sent-element",6),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let P4=(()=>{class r{constructor(n){this.fireStoreService=n,this.sentCollection=this.fireStoreService.sent}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(hg))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-sent"]],decls:8,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","center center","fxLayout","column"],["color","accent","fxLayoutAlign","center center","fxLayoutGap","16px"],["itemSize","900",2,"width","50vw","height","85vh"],["fxLayoutAlign","center",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["fxLayoutAlign","center"],[3,"image"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a.TgZ(1,"div",1),a.TgZ(2,"mat-toolbar",2),a._uU(3,"Sent"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"cdk-virtual-scroll-viewport",3),a.YNc(6,F4,2,1,"div",4),a.ALo(7,"async"),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("cdkVirtualForOf",a.lcZ(7,2,s.sentCollection))("cdkVirtualForTemplateCacheSize",10))},directives:[Eo,Ni,Kv,ys,KE,VA,mF,O4],pipes:[Oa],styles:[""]}),r})();const L4=[{path:Bo.EMPTY,redirectTo:Bo.START,pathMatch:"full"},{path:Bo.START,component:_4},{path:Bo.DASHBOARD,component:A4,canActivate:[t3]},{path:Bo.MANAGER,component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager"]],decls:5,vars:2,consts:[["fxLayout","column","fxLayoutGap","16px"],[3,"showDrawButton","showBackButton"],["fxFlex","90","fxLayout","row","fxLayoutAlign","center center"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"app-toolbar",1),a.TgZ(2,"div",2),a._UZ(3,"app-manager-to-send"),a._UZ(4,"app-manager-sent"),a.qZA(),a.qZA()),2&n&&(a.xp6(1),a.Q6J("showDrawButton",!0)("showBackButton",!0))},directives:[Eo,ys,xP,ch,Ni,R4,P4],styles:[""]}),r})(),canActivate:[t3]}];let B4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Kb.forRoot(L4)],Kb]}),r})(),V4=(()=>{class r{constructor(){this.title="Daily Girl"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"mat-app-background"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"router-outlet"),a.qZA())},directives:[oh],styles:[""]}),r})(),e8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Oi,bt,Nv,yf],yf,bt]}),r})(),t8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})(),p8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[gI,Df,bt,hP,Oi],gI,bt,hP,t8]}),r})(),x8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[gI,bt],gI,bt]}),r})();const V8={provide:new a.OlP("mat-select-scroll-strategy"),deps:[ss],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let E3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[V8],imports:[[Oi,Gv,p2,bt],yf,SI,p2,bt]}),r})(),tZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Df,bt],bt]}),r})(),pD=(()=>{class r{constructor(){this.changes=new Re.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(n,s){return`${n} \u2013 ${s}`}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const OZ={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[ss],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let GZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[pD,OZ],imports:[[Oi,yI,Gv,IF,Uv,bt],yf]}),r})();const z3=new a.OlP("mat-chips-default-options"),t5={separatorKeyCodes:[13]};let n5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Ef,{provide:z3,useValue:t5}],imports:[[bt]]}),r})();const a5={provide:new a.OlP("mat-tooltip-scroll-strategy"),deps:[ss],useFactory:function(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}};let Z3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[a5],imports:[[IF,Oi,Gv,bt],bt,yf]}),r})(),S5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[UA]]}),r})(),z5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[S5,bt],bt]}),r})(),yD=(()=>{class r{constructor(){this.changes=new Re.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,s,o)=>{if(0==o||0==s)return`0 of ${o}`;const u=n*s;return`${u+1} \u2013 ${u<(o=Math.max(o,0))?Math.min(u+s,o):u+s} of ${o}`}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const X5={provide:yD,deps:[[new a.FiY,new a.tp0,yD]],useFactory:function(r){return r||new yD}};let rW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[X5],imports:[[Oi,yI,E3,Z3,bt]]}),r})(),sH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),yW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[sH,Df,bt,XE],sH,bt]}),r})(),DW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),VW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Oi,bt,DW,Uv]]}),r})();const fH={provide:new a.OlP("mat-menu-scroll-strategy"),deps:[ss],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let gH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[fH],imports:[bt]}),r})(),$W=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[fH],imports:[[Oi,bt,Df,Gv,gH],yf,bt,gH]}),r})(),M7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Oi,bt,Uv,Df,XE,IF],bt]}),r})(),OH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),B7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Df,bt,XE,OH],bt,OH]}),r})(),V7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[yI,Pq,e8,Zq,p8,x8,p4,SI,E3,tZ,GZ,n5,Z3,z5,rW,vq,E2,yW,Mq,VW,$W,YY,UA,M7,B7]}),r})();const FH_firebaseConfig={apiKey:"AIzaSyAGgVzKLjB3cOhtQBb3_89p-li2yPq7LWM",authDomain:"daily-girl-v2.firebaseapp.com",databaseURL:"https://daily-girl-v2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"daily-girl-v2",storageBucket:"daily-girl-v2.appspot.com",messagingSenderId:"873670599787",appId:"1:873670599787:web:eb04fb86de2b537764bd2e",measurementId:"G-6N8DVMJ878"};let U7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r,bootstrap:[V4]}),r.\u0275inj=a.cJS({providers:[sD,KP,sC,hg],imports:[[Xf,B4,Yz,V7,bs.hO.initializeApp(FH_firebaseConfig),bw,u4,jG]]}),r})();(0,a.G48)(),Jc().bootstrapModule(U7).catch(r=>console.error(r))},4762:(Ye,De,N)=>{"use strict";N.d(De,{ZT:()=>oe,pi:()=>U,_T:()=>se,mG:()=>W,Jh:()=>Y,XA:()=>V,CR:()=>K,ev:()=>he});var a=function(ce,le){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,fe){Ce.__proto__=fe}||function(Ce,fe){for(var ge in fe)Object.prototype.hasOwnProperty.call(fe,ge)&&(Ce[ge]=fe[ge])})(ce,le)};function oe(ce,le){if("function"!=typeof le&&null!==le)throw new TypeError("Class extends value "+String(le)+" is not a constructor or null");function Ce(){this.constructor=ce}a(ce,le),ce.prototype=null===le?Object.create(le):(Ce.prototype=le.prototype,new Ce)}var U=function(){return(U=Object.assign||function(le){for(var Ce,fe=1,ge=arguments.length;fe<ge;fe++)for(var ee in Ce=arguments[fe])Object.prototype.hasOwnProperty.call(Ce,ee)&&(le[ee]=Ce[ee]);return le}).apply(this,arguments)};function se(ce,le){var Ce={};for(var fe in ce)Object.prototype.hasOwnProperty.call(ce,fe)&&le.indexOf(fe)<0&&(Ce[fe]=ce[fe]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(fe=Object.getOwnPropertySymbols(ce);ge<fe.length;ge++)le.indexOf(fe[ge])<0&&Object.prototype.propertyIsEnumerable.call(ce,fe[ge])&&(Ce[fe[ge]]=ce[fe[ge]])}return Ce}function W(ce,le,Ce,fe){return new(Ce||(Ce=Promise))(function(ee,Ne){function Ke(ut){try{ot(fe.next(ut))}catch(ct){Ne(ct)}}function Ot(ut){try{ot(fe.throw(ut))}catch(ct){Ne(ct)}}function ot(ut){ut.done?ee(ut.value):function(ee){return ee instanceof Ce?ee:new Ce(function(Ne){Ne(ee)})}(ut.value).then(Ke,Ot)}ot((fe=fe.apply(ce,le||[])).next())})}function Y(ce,le){var fe,ge,ee,Ne,Ce={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return Ne={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(Ne[Symbol.iterator]=function(){return this}),Ne;function Ke(ot){return function(ut){return function(ot){if(fe)throw new TypeError("Generator is already executing.");for(;Ce;)try{if(fe=1,ge&&(ee=2&ot[0]?ge.return:ot[0]?ge.throw||((ee=ge.return)&&ee.call(ge),0):ge.next)&&!(ee=ee.call(ge,ot[1])).done)return ee;switch(ge=0,ee&&(ot=[2&ot[0],ee.value]),ot[0]){case 0:case 1:ee=ot;break;case 4:return Ce.label++,{value:ot[1],done:!1};case 5:Ce.label++,ge=ot[1],ot=[0];continue;case 7:ot=Ce.ops.pop(),Ce.trys.pop();continue;default:if(!(ee=(ee=Ce.trys).length>0&&ee[ee.length-1])&&(6===ot[0]||2===ot[0])){Ce=0;continue}if(3===ot[0]&&(!ee||ot[1]>ee[0]&&ot[1]<ee[3])){Ce.label=ot[1];break}if(6===ot[0]&&Ce.label<ee[1]){Ce.label=ee[1],ee=ot;break}if(ee&&Ce.label<ee[2]){Ce.label=ee[2],Ce.ops.push(ot);break}ee[2]&&Ce.ops.pop(),Ce.trys.pop();continue}ot=le.call(ce,Ce)}catch(ut){ot=[6,ut],ge=0}finally{fe=ee=0}if(5&ot[0])throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}([ot,ut])}}}function V(ce){var le="function"==typeof Symbol&&Symbol.iterator,Ce=le&&ce[le],fe=0;if(Ce)return Ce.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&fe>=ce.length&&(ce=void 0),{value:ce&&ce[fe++],done:!ce}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(ce,le){var Ce="function"==typeof Symbol&&ce[Symbol.iterator];if(!Ce)return ce;var ge,Ne,fe=Ce.call(ce),ee=[];try{for(;(void 0===le||le-- >0)&&!(ge=fe.next()).done;)ee.push(ge.value)}catch(Ke){Ne={error:Ke}}finally{try{ge&&!ge.done&&(Ce=fe.return)&&Ce.call(fe)}finally{if(Ne)throw Ne.error}}return ee}function he(ce,le,Ce){if(Ce||2===arguments.length)for(var ee,fe=0,ge=le.length;fe<ge;fe++)(ee||!(fe in le))&&(ee||(ee=Array.prototype.slice.call(le,0,fe)),ee[fe]=le[fe]);return ce.concat(ee||Array.prototype.slice.call(le))}},8239:(Ye,De,N)=>{"use strict";function a(U,se,ae,J,q,W,Y){try{var B=U[W](Y),$=B.value}catch(V){return void ae(V)}B.done?se($):Promise.resolve($).then(J,q)}function oe(U){return function(){var se=this,ae=arguments;return new Promise(function(J,q){var W=U.apply(se,ae);function Y($){a(W,J,q,Y,B,"next",$)}function B($){a(W,J,q,Y,B,"throw",$)}Y(void 0)})}}N.d(De,{Z:()=>oe})}},Ye=>{Ye(Ye.s=7956)}]);
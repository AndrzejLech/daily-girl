(self.webpackChunkdaily_girl_v2=self.webpackChunkdaily_girl_v2||[]).push([[179],{8255:Ye=>{function De(N){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+N+"'");throw a.code="MODULE_NOT_FOUND",a})}De.keys=()=>[],De.resolve=De,De.id=8255,Ye.exports=De},7716:(Ye,De,N)=>{"use strict";N.d(De,{deG:()=>KD,tb:()=>td,AFp:()=>Z0,ip1:()=>yl,CZH:()=>Tc,hGG:()=>C1,z2F:()=>Jm,sBO:()=>Zy,Sil:()=>cf,_Vd:()=>gc,EJc:()=>K0,SBq:()=>js,qLn:()=>_,vpe:()=>ya,gxx:()=>Oi,tBr:()=>Ga,XFs:()=>tt,OlP:()=>En,zs3:()=>an,ZZ4:()=>Vh,aQg:()=>Em,soG:()=>Cv,YKP:()=>y0,v3s:()=>Xm,h0i:()=>fa,PXZ:()=>VT,R0b:()=>es,FiY:()=>Os,Lbi:()=>$m,g9A:()=>ET,n_E:()=>Pm,Qsj:()=>cO,FYo:()=>_c,JOm:()=>Ls,Tiy:()=>u0,q3G:()=>In,tp0:()=>Ci,EAV:()=>fE,Rgc:()=>Hh,dDg:()=>xv,DyG:()=>ea,q4F:()=>jy,GfV:()=>d0,s_b:()=>vc,ifc:()=>Ve,eFA:()=>UT,G48:()=>oE,Gpc:()=>$,f3M:()=>Gd,X6Q:()=>sE,_c5:()=>mf,VLi:()=>h1,c2e:()=>DT,zSh:()=>Wp,wAp:()=>pt,vHH:()=>ye,EiD:()=>gu,mCW:()=>ql,qzn:()=>hu,JVY:()=>E_,pB0:()=>$a,eBb:()=>fu,L6k:()=>kp,LAX:()=>vo,cg1:()=>VC,Tjo:()=>DE,kL8:()=>UC,yhl:()=>aa,dqk:()=>dn,sIi:()=>Xp,CqO:()=>fC,QGY:()=>dC,F4k:()=>hC,RDi:()=>Zg,AaK:()=>W,z3N:()=>yo,qOj:()=>jw,TTD:()=>Ii,_Bn:()=>aS,xp6:()=>ec,uIk:()=>$w,Gre:()=>IC,ekj:()=>py,Suo:()=>Vm,Xpm:()=>qt,lG2:()=>vd,Yz7:()=>un,cJS:()=>Bt,oAB:()=>xl,Yjl:()=>Ml,Y36:()=>Ch,_UZ:()=>DR,GkF:()=>CM,BQk:()=>uC,ynx:()=>cC,qZA:()=>wM,TgZ:()=>hy,EpF:()=>EM,n5z:()=>pp,Ikx:()=>Ih,LFG:()=>fn,$8M:()=>l_,$Z:()=>bM,NdJ:()=>DM,CRH:()=>V0,kcU:()=>Ib,O4$:()=>qD,oxw:()=>mC,ALo:()=>KS,lcZ:()=>Jh,Hsn:()=>_C,F$t:()=>gC,Q6J:()=>sm,s9C:()=>yC,VKq:()=>O0,WLB:()=>F0,iGM:()=>iT,MAs:()=>Kw,CHM:()=>Xf,LSH:()=>Qd,kYT:()=>yd,Udp:()=>wC,WFA:()=>pC,d8E:()=>hm,YNc:()=>ay,_uU:()=>my,Oqu:()=>Mh,hij:()=>um,Gf:()=>rT});var a=N(9765),ae=N(5319),U=N(7574),oe=N(6682),le=N(8819);function J(l){for(let c in l)if(l[c]===J)return c;throw Error("Could not find renamed property on target object.")}function q(l,c){for(const d in c)c.hasOwnProperty(d)&&!l.hasOwnProperty(d)&&(l[d]=c[d])}function W(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(W).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const d=c.indexOf("\n");return-1===d?c:c.substring(0,d)}function Y(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const B=J({__forward_ref__:J});function $(l){return l.__forward_ref__=$,l.toString=function(){return W(this())},l}function V(l){return K(l)?l():l}function K(l){return"function"==typeof l&&l.hasOwnProperty(B)&&l.__forward_ref__===$}class ye extends Error{constructor(c,d){super(function(l,c){return`${l?`NG0${l}: `:""}${c}`}(c,d)),this.code=c}}function ve(l){return"string"==typeof l?l:null==l?"":String(l)}function Ie(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ve(l)}function Lt(l,c){const d=c?` in ${c}`:"";throw new ye("201",`No provider for ${Ie(l)} found${d}`)}function ht(l,c){null==l&&function(l,c,d,h){throw new Error(`ASSERTION ERROR: ${l}`+(null==h?"":` [Expected=> ${d} ${h} ${c} <=Actual]`))}(c,l,null,"!=")}function un(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function Bt(l){return{providers:l.providers||[],imports:l.imports||[]}}function _i(l){return so(l,oo)||so(l,Go)}function so(l,c){return l.hasOwnProperty(c)?l[c]:null}function Uo(l){return l&&(l.hasOwnProperty(Ho)||l.hasOwnProperty(Ma))?l[Ho]:null}const oo=J({\u0275prov:J}),Ho=J({\u0275inj:J}),Go=J({ngInjectableDef:J}),Ma=J({ngInjectorDef:J});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let yi;function nr(l){const c=yi;return yi=l,c}function Ct(l,c,d){const h=_i(l);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&tt.Optional?null:void 0!==c?c:void Lt(W(l),"Injector")}function Yt(l){return{toString:l}.toString()}var Ht=(()=>((Ht=Ht||{})[Ht.OnPush=0]="OnPush",Ht[Ht.Default=1]="Default",Ht))(),Ve=(()=>((Ve=Ve||{})[Ve.Emulated=0]="Emulated",Ve[Ve.None=2]="None",Ve[Ve.ShadowDom=3]="ShadowDom",Ve))();const ft="undefined"!=typeof globalThis&&globalThis,ss="undefined"!=typeof window&&window,jo="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,os="undefined"!=typeof global&&global,dn=ft||os||ss||jo,en={},z=[],H=J({\u0275cmp:J}),ne=J({\u0275dir:J}),pe=J({\u0275pipe:J}),re=J({\u0275mod:J}),Ne=J({\u0275loc:J}),Qe=J({\u0275fac:J}),Dt=J({__NG_ELEMENT_ID__:J});let Ut=0;function qt(l){return Yt(()=>{const d={},h={type:l.type,providersResolver:null,decls:l.decls,vars:l.vars,factory:null,template:l.template||null,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:l.exportAs||null,onPush:l.changeDetection===Ht.OnPush,directiveDefs:null,pipeDefs:null,selectors:l.selectors||z,viewQuery:l.viewQuery||null,features:l.features||null,data:l.data||{},encapsulation:l.encapsulation||Ve.Emulated,id:"c",styles:l.styles||z,_:null,setInput:null,schemas:l.schemas||null,tView:null},p=l.directives,g=l.features,b=l.pipes;return h.id+=Ut++,h.inputs=Gf(l.inputs,d),h.outputs=Gf(l.outputs),g&&g.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(jn):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(ei):null,h})}function jn(l){return vi(l)||function(l){return l[ne]||null}(l)}function ei(l){return function(l){return l[pe]||null}(l)}const zo={};function xl(l){return Yt(()=>{const c={type:l.type,bootstrap:l.bootstrap||z,declarations:l.declarations||z,imports:l.imports||z,exports:l.exports||z,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null};return null!=l.id&&(zo[l.id]=l.type),c})}function yd(l,c){return Yt(()=>{const d=Lr(l,!0);d.declarations=c.declarations||z,d.imports=c.imports||z,d.exports=c.exports||z})}function Gf(l,c){if(null==l)return en;const d={};for(const h in l)if(l.hasOwnProperty(h)){let p=l[h],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),d[p]=h,c&&(c[p]=g)}return d}const vd=qt;function Ml(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,onDestroy:l.type.prototype.ngOnDestroy||null}}function vi(l){return l[H]||null}function Lr(l,c){const d=l[re]||null;if(!d&&!0===c)throw new Error(`Type ${W(l)} does not have '\u0275mod' property.`);return d}function cs(l){return Array.isArray(l)&&"object"==typeof l[1]}function Ur(l){return Array.isArray(l)&&!0===l[1]}function zc(l){return 0!=(8&l.flags)}function Yc(l){return 2==(2&l.flags)}function Al(l){return 1==(1&l.flags)}function rr(l){return null!==l.template}function ni(l){return 0!=(512&l[2])}function Zo(l,c){return l.hasOwnProperty(Qe)?l[Qe]:null}class $g{constructor(c,d,h){this.previousValue=c,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function Ii(){return Wo}function Wo(l){return l.type.prototype.ngOnChanges&&(l.setInput=Yf),wb}function wb(){const l=co(this),c=null==l?void 0:l.current;if(c){const d=l.previous;if(d===en)l.previous=c;else for(let h in c)d[h]=c[h];l.current=null,this.ngOnChanges(c)}}function Yf(l,c,d,h){const p=co(l)||function(l,c){return l[qf]=c}(l,{previous:en,current:null}),g=p.current||(p.current={}),b=p.previous,C=this.declaredInputs[d],M=b[C];g[C]=new $g(M&&M.currentValue,c,b===en),l[h]=c}Ii.ngInherit=!0;const qf="__ngSimpleChanges__";function co(l){return l[qf]||null}const Zc="http://www.w3.org/2000/svg";let Kc;function Zg(l){Kc=l}function bn(l){return!!l.listen}const uo={createRenderer:(l,c)=>void 0!==Kc?Kc:"undefined"!=typeof document?document:void 0};function wn(l){for(;Array.isArray(l);)l=l[0];return l}function kl(l,c){return wn(c[l])}function ji(l,c){return wn(c[l.index])}function Ed(l,c){return l.data[c]}function Ko(l,c){return l[c]}function sr(l,c){const d=c[l];return cs(d)?d:d[0]}function Kf(l){return 4==(4&l[2])}function Qg(l){return 128==(128&l[2])}function Ia(l,c){return null==c?null:l[c]}function Dd(l){l[18]=0}function Ol(l,c){l[5]+=c;let d=l,h=l[3];for(;null!==h&&(1===c&&1===d[5]||-1===c&&0===d[5]);)h[5]+=c,d=h,h=h[3]}const yt={lFrame:e_(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Jf(){return yt.bindingsEnabled}function Me(){return yt.lFrame.lView}function Pt(){return yt.lFrame.tView}function Xf(l){return yt.lFrame.contextLView=l,l[8]}function _n(){let l=ep();for(;null!==l&&64===l.type;)l=l.parent;return l}function ep(){return yt.lFrame.currentTNode}function Hr(l,c){const d=yt.lFrame;d.currentTNode=l,d.isParent=c}function Md(){return yt.lFrame.isParent}function Fl(){yt.lFrame.isParent=!1}function Pl(){return yt.isInCheckNoChangesMode}function Sd(l){yt.isInCheckNoChangesMode=l}function zn(){const l=yt.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function fo(){return yt.lFrame.bindingIndex++}function yr(l){const c=yt.lFrame,d=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,d}function Jg(l,c){const d=yt.lFrame;d.bindingIndex=d.bindingRootIndex=l,ip(c)}function ip(l){yt.lFrame.currentDirectiveIndex=l}function Jc(l){const c=yt.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}function Xg(){return yt.lFrame.currentQueryIndex}function Xc(l){yt.lFrame.currentQueryIndex=l}function rp(l){const c=l[1];return 2===c.type?c.declTNode:1===c.type?l[6]:null}function Ad(l,c,d){if(d&tt.SkipSelf){let p=c,g=l;for(;!(p=p.parent,null!==p||d&tt.Host||(p=rp(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;c=p,l=g}const h=yt.lFrame=Ra();return h.currentTNode=c,h.lView=l,!0}function Id(l){const c=Ra(),d=l[1];yt.lFrame=c,c.currentTNode=d.firstChild,c.lView=l,c.tView=d,c.contextLView=l,c.bindingIndex=d.bindingStartIndex,c.inI18n=!1}function Ra(){const l=yt.lFrame,c=null===l?null:l.child;return null===c?e_(l):c}function e_(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function t_(){const l=yt.lFrame;return yt.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const Sb=t_;function eu(){const l=t_();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function zi(){return yt.lFrame.selectedIndex}function Nl(l){yt.lFrame.selectedIndex=l}function Yn(){const l=yt.lFrame;return Ed(l.tView,l.selectedIndex)}function qD(){yt.lFrame.currentNamespace=Zc}function Ib(){yt.lFrame.currentNamespace=null}function Ll(l,c){for(let d=c.directiveStart,h=c.directiveEnd;d<h;d++){const g=l.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:M,ngAfterViewChecked:T,ngOnDestroy:A}=g;b&&(l.contentHooks||(l.contentHooks=[])).push(-d,b),C&&((l.contentHooks||(l.contentHooks=[])).push(d,C),(l.contentCheckHooks||(l.contentCheckHooks=[])).push(d,C)),M&&(l.viewHooks||(l.viewHooks=[])).push(-d,M),T&&((l.viewHooks||(l.viewHooks=[])).push(d,T),(l.viewCheckHooks||(l.viewCheckHooks=[])).push(d,T)),null!=A&&(l.destroyHooks||(l.destroyHooks=[])).push(d,A)}}function Bl(l,c,d){n_(l,c,3,d)}function kd(l,c,d,h){(3&l[2])===d&&n_(l,c,d,h)}function op(l,c){let d=l[2];(3&d)===c&&(d&=2047,d+=1,l[2]=d)}function n_(l,c,d,h){const g=null!=h?h:-1,b=c.length-1;let C=0;for(let M=void 0!==h?65535&l[18]:0;M<b;M++)if("number"==typeof c[M+1]){if(C=c[M],null!=h&&C>=h)break}else c[M]<0&&(l[18]+=65536),(C<g||-1==g)&&(ap(l,d,c,M),l[18]=(4294901760&l[18])+M+2),M++}function ap(l,c,d,h){const p=d[h]<0,g=d[h+1],C=l[p?-d[h]:d[h]];if(p){if(l[2]>>11<l[18]>>16&&(3&l[2])===c){l[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class Rd{constructor(c,d,h){this.factory=c,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Is(l,c,d){const h=bn(l);let p=0;for(;p<d.length;){const g=d[p];if("number"==typeof g){if(0!==g)break;p++;const b=d[p++],C=d[p++],M=d[p++];h?l.setAttribute(c,C,M,b):c.setAttributeNS(b,C,M)}else{const b=g,C=d[++p];ks(b)?h&&l.setProperty(c,b,C):h?l.setAttribute(c,b,C):c.setAttribute(b,C),p++}}return p}function r_(l){return 3===l||4===l||6===l}function ks(l){return 64===l.charCodeAt(0)}function Qo(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let d=-1;for(let h=0;h<c.length;h++){const p=c[h];"number"==typeof p?d=p:0===d||s_(l,d,p,null,-1===d||2===d?c[++h]:null)}}return l}function s_(l,c,d,h,p){let g=0,b=l.length;if(-1===c)b=-1;else for(;g<l.length;){const C=l[g++];if("number"==typeof C){if(C===c){b=-1;break}if(C>c){b=g-1;break}}}for(;g<l.length;){const C=l[g];if("number"==typeof C)break;if(C===d){if(null===h)return void(null!==p&&(l[g+1]=p));if(h===l[g+1])return void(l[g+2]=p)}g++,null!==h&&g++,null!==p&&g++}-1!==b&&(l.splice(b,0,c),g=b+1),l.splice(g++,0,d),null!==h&&l.splice(g++,0,h),null!==p&&l.splice(g++,0,p)}function Sn(l){return-1!==l}function Oa(l){return 32767&l}function nu(l,c){let d=function(l){return l>>16}(l),h=c;for(;d>0;)h=h[15],d--;return h}let Od=!0;function Fd(l){const c=Od;return Od=l,c}let fp=0;function po(l,c){const d=$t(l,c);if(-1!==d)return d;const h=c[1];h.firstCreatePass&&(l.injectorIndex=c.length,iu(h.data,l),iu(c,null),iu(h.blueprint,null));const p=je(l,c),g=l.injectorIndex;if(Sn(p)){const b=Oa(p),C=nu(p,c),M=C[1].data;for(let T=0;T<8;T++)c[g+T]=C[b+T]|M[b+T]}return c[g+8]=p,g}function iu(l,c){l.push(0,0,0,0,0,0,0,0,c)}function $t(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function je(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let d=0,h=null,p=c;for(;null!==p;){const g=p[1],b=g.type;if(h=2===b?g.declTNode:1===b?p[6]:null,null===h)return-1;if(d++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return-1}function ke(l,c,d){!function(l,c,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Dt)&&(h=d[Dt]),null==h&&(h=d[Dt]=fp++);const p=255&h;c.data[l+(p>>5)]|=1<<p}(l,c,d)}function Yi(l,c,d){if(d&tt.Optional)return l;Lt(c,"NodeInjector")}function Fa(l,c,d,h){if(d&tt.Optional&&void 0===h&&(h=null),0==(d&(tt.Self|tt.Host))){const p=l[9],g=nr(void 0);try{return p?p.get(c,h,d&tt.Optional):Ct(c,h,d&tt.Optional)}finally{nr(g)}}return Yi(h,c,d)}function Vl(l,c,d,h=tt.Default,p){if(null!==l){const g=function(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(Dt)?l[Dt]:void 0;return"number"==typeof c?c>=0?255&c:Ob:c}(d);if("function"==typeof g){if(!Ad(c,l,h))return h&tt.Host?Yi(p,d,h):Fa(c,d,h,p);try{const b=g(h);if(null!=b||h&tt.Optional)return b;Lt(d)}finally{Sb()}}else if("number"==typeof g){let b=null,C=$t(l,c),M=-1,T=h&tt.Host?c[16][6]:null;for((-1===C||h&tt.SkipSelf)&&(M=-1===C?je(l,c):c[C+8],-1!==M&&ru(h,!1)?(b=c[1],C=Oa(M),c=nu(M,c)):C=-1);-1!==C;){const A=c[1];if(a_(g,C,A.data)){const R=ZD(C,c,d,b,h,T);if(R!==wi)return R}M=c[C+8],-1!==M&&ru(h,c[1].data[C+8]===T)&&a_(g,C,c)?(b=A,C=Oa(M),c=nu(M,c)):C=-1}}}return Fa(c,d,h,p)}const wi={};function Ob(){return new Pa(_n(),Me())}function ZD(l,c,d,h,p,g){const b=c[1],C=b.data[l+8],A=Jo(C,b,d,null==h?Yc(C)&&Od:h!=b&&0!=(3&C.type),p&tt.Host&&g===C);return null!==A?on(c,b,A,C):wi}function Jo(l,c,d,h,p){const g=l.providerIndexes,b=c.data,C=1048575&g,M=l.directiveStart,A=g>>20,P=p?C+A:l.directiveEnd;for(let G=h?C:C+A;G<P;G++){const Z=b[G];if(G<M&&d===Z||G>=M&&Z.type===d)return G}if(p){const G=b[M];if(G&&rr(G)&&G.type===d)return M}return null}function on(l,c,d,h){let p=l[d];const g=c.data;if(function(l){return l instanceof Rd}(p)){const b=p;b.resolving&&function(l,c){throw new ye("200",`Circular dependency in DI detected for ${l}`)}(Ie(g[d]));const C=Fd(b.canSeeViewProviders);b.resolving=!0;const M=b.injectImpl?nr(b.injectImpl):null;Ad(l,h,tt.Default);try{p=l[d]=b.factory(void 0,g,l,h),c.firstCreatePass&&d>=h.directiveStart&&function(l,c,d){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:g}=c.type.prototype;if(h){const b=Wo(c);(d.preOrderHooks||(d.preOrderHooks=[])).push(l,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,b)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-l,p),g&&((d.preOrderHooks||(d.preOrderHooks=[])).push(l,g),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(l,g))}(d,g[d],c)}finally{null!==M&&nr(M),Fd(C),b.resolving=!1,Sb()}}return p}function a_(l,c,d){return!!(d[c+(l>>5)]&1<<l)}function ru(l,c){return!(l&tt.Self||l&tt.Host&&c)}class Pa{constructor(c,d){this._tNode=c,this._lView=d}get(c,d){return Vl(this._tNode,this._lView,c,void 0,d)}}function pp(l){return Yt(()=>{const c=l.prototype.constructor,d=c[Qe]||Nd(c),h=Object.prototype;let p=Object.getPrototypeOf(l.prototype).constructor;for(;p&&p!==h;){const g=p[Qe]||Nd(p);if(g&&g!==d)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function Nd(l){return K(l)?()=>{const c=Nd(V(l));return c&&c()}:Zo(l)}function l_(l){return function(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const d=l.attrs;if(d){const h=d.length;let p=0;for(;p<h;){const g=d[p];if(r_(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<h&&"string"==typeof d[p];)p++;else{if(g===c)return d[p+1];p+=2}}}return null}(_n(),l)}const jr="__parameters__";function Yr(l,c,d){return Yt(()=>{const h=function(l){return function(...d){if(l){const h=l(...d);for(const p in h)this[p]=h[p]}}}(c);function p(...g){if(this instanceof p)return h.apply(this,g),this;const b=new p(...g);return C.annotation=b,C;function C(M,T,A){const R=M.hasOwnProperty(jr)?M[jr]:Object.defineProperty(M,jr,{value:[]})[jr];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(b),M}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=l,p.annotationCls=p,p})}class En{constructor(c,d){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=un({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const KD=new En("AnalyzeForEntryComponents"),ea=Function;function $r(l,c){void 0===c&&(c=l);for(let d=0;d<l.length;d++){let h=l[d];Array.isArray(h)?(c===l&&(c=l.slice(0,d)),$r(h,c)):c!==l&&c.push(h)}return c}function Rs(l,c){l.forEach(d=>Array.isArray(d)?Rs(d,c):c(d))}function Va(l,c,d){c>=l.length?l.push(d):l.splice(c,0,d)}function ta(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function na(l,c){const d=[];for(let h=0;h<l;h++)d.push(c);return d}function An(l,c,d){let h=ia(l,c);return h>=0?l[1|h]=d:(h=~h,function(l,c,d,h){let p=l.length;if(p==c)l.push(d,h);else if(1===p)l.push(h,l[0]),l[0]=d;else{for(p--,l.push(l[p-1],l[p]);p>c;)l[p]=l[p-2],p--;l[c]=d,l[c+1]=h}}(l,h,c,d)),h}function qn(l,c){const d=ia(l,c);if(d>=0)return l[1|d]}function ia(l,c){return function(l,c,d){let h=0,p=l.length>>d;for(;p!==h;){const g=h+(p-h>>1),b=l[g<<d];if(c===b)return g<<d;b>c?p=g:h=g+1}return~(p<<d)}(l,c,1)}const su={},Ep="__NG_DI_FLAG__",ra="ngTempTokenPath",m_=/\n/gm,xp="__source",Hl=J({provide:String,useValue:J});let sa;function Et(l){const c=sa;return sa=l,c}function Mp(l,c=tt.Default){if(void 0===sa)throw new Error("inject() must be called from an injection context");return null===sa?Ct(l,void 0,c):sa.get(l,c&tt.Optional?null:void 0,c)}function fn(l,c=tt.Default){return(yi||Mp)(V(l),c)}const Gd=fn;function oa(l){const c=[];for(let d=0;d<l.length;d++){const h=V(l[d]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,g=tt.Default;for(let b=0;b<h.length;b++){const C=h[b],M=__(C);"number"==typeof M?-1===M?p=C.token:g|=M:p=C}c.push(fn(p,g))}else c.push(fn(h))}return c}function ou(l,c){return l[Ep]=c,l.prototype[Ep]=c,l}function __(l){return l[Ep]}function vr(l,c,d,h){const p=l[ra];throw c[xp]&&p.unshift(c[xp]),l.message=function(l,c,d,h=null){l=l&&"\n"===l.charAt(0)&&"\u0275"==l.charAt(1)?l.substr(2):l;let p=W(c);if(Array.isArray(c))p=c.map(W).join(" -> ");else if("object"==typeof c){let g=[];for(let b in c)if(c.hasOwnProperty(b)){let C=c[b];g.push(b+":"+("string"==typeof C?JSON.stringify(C):W(C)))}p=`{${g.join(", ")}}`}return`${d}${h?"("+h+")":""}[${p}]: ${l.replace(m_,"\n  ")}`}("\n"+l.message,p,d,h),l.ngTokenPath=p,l[ra]=null,l}const Ga=ou(Yr("Inject",l=>({token:l})),-1),Os=ou(Yr("Optional"),8),Ci=ou(Yr("SkipSelf"),4);let zl;function go(l){var c;return(null===(c=function(){if(void 0===zl&&(zl=null,dn.trustedTypes))try{zl=dn.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch(l){}return zl}())||void 0===c?void 0:c.createHTML(l))||l}class _o{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hb extends _o{getTypeName(){return"HTML"}}class Gb extends _o{getTypeName(){return"Style"}}class qd extends _o{getTypeName(){return"Script"}}class jb extends _o{getTypeName(){return"URL"}}class zb extends _o{getTypeName(){return"ResourceURL"}}function yo(l){return l instanceof _o?l.changingThisBreaksApplicationSecurity:l}function hu(l,c){const d=aa(l);if(null!=d&&d!==c){if("ResourceURL"===d&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===c}function aa(l){return l instanceof _o&&l.getTypeName()||null}function E_(l){return new Hb(l)}function kp(l){return new Gb(l)}function fu(l){return new qd(l)}function vo(l){return new jb(l)}function $a(l){return new zb(l)}class D_{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const d=(new window.DOMParser).parseFromString(go(c),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(c):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class Op{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const h=this.inertDocument.createElement("body");d.appendChild(h)}}getInertBodyElement(c){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=go(c),d;const h=this.inertDocument.createElement("body");return h.innerHTML=go(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(c){const d=c.attributes;for(let p=d.length-1;0<p;p--){const b=d.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&c.removeAttribute(b)}let h=c.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const x_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$d=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ql(l){return(l=String(l)).match(x_)||l.match($d)?l:"unsafe:"+l}function fs(l){const c={};for(const d of l.split(","))c[d]=!0;return c}function Za(...l){const c={};for(const d of l)for(const h in d)d.hasOwnProperty(h)&&(c[h]=!0);return c}const pu=fs("area,br,col,hr,img,wbr"),Wd=fs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mu=fs("rp,rt"),Fp=Za(pu,Za(Wd,fs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Za(mu,fs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Za(mu,Wd)),$l=fs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fs=fs("srcset"),Pp=Za($l,Fs,fs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),I_=fs("script,style,template");class Np{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let d=c.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(c){const d=c.nodeName.toLowerCase();if(!Fp.hasOwnProperty(d))return this.sanitizedSomething=!0,!I_.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=c.attributes;for(let p=0;p<h.length;p++){const g=h.item(p),b=g.name,C=b.toLowerCase();if(!Pp.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let M=g.value;$l[C]&&(M=ql(M)),Fs[C]&&(l=M,M=(l=String(l)).split(",").map(c=>ql(c.trim())).join(", ")),this.buf.push(" ",b,'="',k_(M),'"')}var l;return this.buf.push(">"),!0}endElement(c){const d=c.nodeName.toLowerCase();Fp.hasOwnProperty(d)&&!pu.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(c){this.buf.push(k_(c))}checkClobberedElement(c,d){if(d&&(c.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return d}}const $b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zb=/([^\#-~ |!])/g;function k_(l){return l.replace(/&/g,"&amp;").replace($b,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Zb,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let la;function gu(l,c){let d=null;try{la=la||function(l){const c=new Op(l);return function(){try{return!!(new window.DOMParser).parseFromString(go(""),"text/html")}catch(l){return!1}}()?new D_(c):c}(l);let h=c?String(c):"";d=la.getInertBodyElement(h);let p=5,g=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=g,g=d.innerHTML,d=la.getInertBodyElement(h)}while(h!==g);return go((new Np).sanitizeChildren(Kd(d)||d))}finally{if(d){const h=Kd(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Kd(l){return"content"in l&&function(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function Qd(l){const c=function(){const l=Me();return l&&l[12]}();return c?c.sanitize(In.URL,l)||"":hu(l,"URL")?yo(l):ql(ve(l))}const Wa="__ngContext__";function Di(l,c){l[Wa]=c}function eh(l){const c=function(l){return l[Wa]||null}(l);return c?Array.isArray(c)?c:c.lView:null}function Ja(l){return l.ngOriginalError}function E(l,...c){l.error(...c)}class _{constructor(){this._console=console}handleError(c){const d=this._findOriginalError(c),h=this._findContext(c),p=(l=c)&&l.ngErrorLogger||E;var l;p(this._console,"ERROR",c),d&&p(this._console,"ORIGINAL ERROR",d),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(c){return c?c.ngDebugContext||this._findContext(Ja(c)):null}_findOriginalError(c){let d=c&&Ja(c);for(;d&&Ja(d);)d=Ja(d);return d||null}}const vu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dn))();function Zr(l){return l instanceof Function?l():l}var Ls=(()=>((Ls=Ls||{})[Ls.Important=1]="Important",Ls[Ls.DashCase=2]="DashCase",Ls))();function sh(l,c){return undefined(l,c)}function jp(l){const c=l[3];return Ur(c)?c[3]:c}function B_(l){return tw(l[13])}function ix(l){return tw(l[4])}function tw(l){for(;null!==l&&!Ur(l);)l=l[4];return l}function wu(l,c,d,h,p){if(null!=h){let g,b=!1;Ur(h)?g=h:cs(h)&&(b=!0,h=h[0]);const C=wn(h);0===l&&null!==d?null==p?lx(c,d,C):Jl(c,d,C,p||null,!0):1===l&&null!==d?Jl(c,d,C,p||null,!0):2===l?function(l,c,d){const h=G_(l,c);h&&function(l,c,d,h){bn(l)?l.removeChild(c,d,h):c.removeChild(d)}(l,h,c,d)}(c,C,b):3===l&&c.destroyNode(C),null!=g&&function(l,c,d,h,p){const g=d[7];g!==wn(d)&&wu(c,l,h,g,p);for(let C=10;C<d.length;C++){const M=d[C];Eu(M[1],M,l,c,h,g)}}(c,l,g,d,p)}}function nw(l,c,d){return bn(l)?l.createElement(c,d):null===d?l.createElement(c):l.createElementNS(d,c)}function U_(l,c){const d=l[9],h=d.indexOf(c),p=c[3];1024&c[2]&&(c[2]&=-1025,Ol(p,-1)),d.splice(h,1)}function H_(l,c){if(l.length<=10)return;const d=10+c,h=l[d];if(h){const p=h[17];null!==p&&p!==l&&U_(p,h),c>0&&(l[d-1][4]=h[4]);const g=ta(l,10+c);!function(l,c){Eu(l,c,c[11],2,null,null),c[0]=null,c[6]=null}(h[1],h);const b=g[19];null!==b&&b.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function sx(l,c){if(!(256&c[2])){const d=c[11];bn(d)&&d.destroyNode&&Eu(l,c,d,3,null,null),function(l){let c=l[13];if(!c)return Ql(l[1],l);for(;c;){let d=null;if(cs(c))d=c[13];else{const h=c[10];h&&(d=h)}if(!d){for(;c&&!c[4]&&c!==l;)cs(c)&&Ql(c[1],c),c=c[3];null===c&&(c=l),cs(c)&&Ql(c[1],c),d=c&&c[4]}c=d}}(c)}}function Ql(l,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(l,c){let d;if(null!=l&&null!=(d=l.destroyHooks))for(let h=0;h<d.length;h+=2){const p=c[d[h]];if(!(p instanceof Rd)){const g=d[h+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const C=p[g[b]],M=g[b+1];try{M.call(C)}finally{}}else try{g.call(p)}finally{}}}}(l,c),function(l,c){const d=l.cleanup,h=c[7];let p=-1;if(null!==d)for(let g=0;g<d.length-1;g+=2)if("string"==typeof d[g]){const b=d[g+1],C="function"==typeof b?b(c):wn(c[b]),M=h[p=d[g+2]],T=d[g+3];"boolean"==typeof T?C.removeEventListener(d[g],M,T):T>=0?h[p=T]():h[p=-T].unsubscribe(),g+=2}else{const b=h[p=d[g+1]];d[g].call(b)}if(null!==h){for(let g=p+1;g<h.length;g++)h[g]();c[7]=null}}(l,c),1===c[1].type&&bn(c[11])&&c[11].destroy();const d=c[17];if(null!==d&&Ur(c[3])){d!==c[3]&&U_(d,c);const h=c[19];null!==h&&h.detachView(l)}}}function ox(l,c,d){return function(l,c,d){let h=c;for(;null!==h&&40&h.type;)h=(c=h).parent;if(null===h)return d[0];if(2&h.flags){const p=l.data[h.directiveStart].encapsulation;if(p===Ve.None||p===Ve.Emulated)return null}return ji(h,d)}(l,c.parent,d)}function Jl(l,c,d,h,p){bn(l)?l.insertBefore(c,d,h,p):c.insertBefore(d,h,p)}function lx(l,c,d){bn(l)?l.appendChild(c,d):c.appendChild(d)}function cx(l,c,d,h,p){null!==h?Jl(l,c,d,h,p):lx(l,c,d)}function G_(l,c){return bn(l)?l.parentNode(c):c.parentNode}function z_(l,c,d){return Cu(l,c,d)}let Cu=function(l,c,d){return 40&l.type?ji(l,d):null};function oh(l,c,d,h){const p=ox(l,h,c),g=c[11],C=z_(h.parent||c[6],h,c);if(null!=p)if(Array.isArray(d))for(let M=0;M<d.length;M++)cx(g,p,d[M],C,!1);else cx(g,p,d,C,!1)}function q_(l,c){if(null!==c){const d=c.type;if(3&d)return ji(c,l);if(4&d)return ow(-1,l[c.index]);if(8&d){const h=c.child;if(null!==h)return q_(l,h);{const p=l[c.index];return Ur(p)?ow(-1,p):wn(p)}}if(32&d)return sh(c,l)()||wn(l[c.index]);{const h=sw(l,c);return null!==h?Array.isArray(h)?h[0]:q_(jp(l[16]),h):q_(l,c.next)}}return null}function sw(l,c){return null!==c?l[16][6].projection[c.projection]:null}function ow(l,c){const d=10+l+1;if(d<c.length){const h=c[d],p=h[1].firstChild;if(null!==p)return q_(h,p)}return c[7]}function $_(l,c,d,h,p,g,b){for(;null!=d;){const C=h[d.index],M=d.type;if(b&&0===c&&(C&&Di(wn(C),h),d.flags|=4),64!=(64&d.flags))if(8&M)$_(l,c,d.child,h,p,g,!1),wu(c,l,p,C,g);else if(32&M){const T=sh(d,h);let A;for(;A=T();)wu(c,l,p,A,g);wu(c,l,p,C,g)}else 16&M?Xl(l,c,h,d,p,g):wu(c,l,p,C,g);d=b?d.projectionNext:d.next}}function Eu(l,c,d,h,p,g){$_(d,h,l.firstChild,c,p,g,!1)}function Xl(l,c,d,h,p,g){const b=d[16],M=b[6].projection[h.projection];if(Array.isArray(M))for(let T=0;T<M.length;T++)wu(c,l,p,M[T],g);else $_(l,c,M,b[3],p,g,!0)}function hx(l,c,d){bn(l)?l.setAttribute(c,"style",d):c.style.cssText=d}function lw(l,c,d){bn(l)?""===d?l.removeAttribute(c,"class"):l.setAttribute(c,"class",d):c.className=d}function cw(l,c,d){let h=l.length;for(;;){const p=l.indexOf(c,d);if(-1===p)return p;if(0===p||l.charCodeAt(p-1)<=32){const g=c.length;if(p+g===h||l.charCodeAt(p+g)<=32)return p}d=p+1}}const fx="ng-template";function dk(l,c,d){let h=0;for(;h<l.length;){let p=l[h++];if(d&&"class"===p){if(p=l[h],-1!==cw(p.toLowerCase(),c,0))return!0}else if(1===p){for(;h<l.length&&"string"==typeof(p=l[h++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function uw(l){return 4===l.type&&l.value!==fx}function hk(l,c,d){return c===(4!==l.type||d?l.value:fx)}function fk(l,c,d){let h=4;const p=l.attrs||[],g=function(l){for(let c=0;c<l.length;c++)if(r_(l[c]))return c;return l.length}(p);let b=!1;for(let C=0;C<c.length;C++){const M=c[C];if("number"!=typeof M){if(!b)if(4&h){if(h=2|1&h,""!==M&&!hk(l,M,d)||""===M&&1===c.length){if(wo(h))return!1;b=!0}}else{const T=8&h?M:c[++C];if(8&h&&null!==l.attrs){if(!dk(l.attrs,T,d)){if(wo(h))return!1;b=!0}continue}const R=dw(8&h?"class":M,p,uw(l),d);if(-1===R){if(wo(h))return!1;b=!0;continue}if(""!==T){let P;P=R>g?"":p[R+1].toLowerCase();const G=8&h?P:null;if(G&&-1!==cw(G,T,0)||2&h&&T!==P){if(wo(h))return!1;b=!0}}}}else{if(!b&&!wo(h)&&!wo(M))return!1;if(b&&wo(M))continue;b=!1,h=M|1&h}}return wo(h)||b}function wo(l){return 0==(1&l)}function dw(l,c,d,h){if(null===c)return-1;let p=0;if(h||!d){let g=!1;for(;p<c.length;){const b=c[p];if(b===l)return p;if(3===b||6===b)g=!0;else{if(1===b||2===b){let C=c[++p];for(;"string"==typeof C;)C=c[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=g?1:2}return-1}return function(l,c){let d=l.indexOf(4);if(d>-1)for(d++;d<l.length;){const h=l[d];if("number"==typeof h)return-1;if(h===c)return d;d++}return-1}(c,l)}function px(l,c,d=!1){for(let h=0;h<c.length;h++)if(fk(l,c[h],d))return!0;return!1}function SN(l,c){e:for(let d=0;d<c.length;d++){const h=c[d];if(l.length===h.length){for(let p=0;p<l.length;p++)if(l[p]!==h[p])continue e;return!0}}return!1}function Dn(l,c){return l?":not("+c.trim()+")":c}function gk(l){let c=l[0],d=1,h=2,p="",g=!1;for(;d<l.length;){let b=l[d];if("string"==typeof b)if(2&h){const C=l[++d];p+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!wo(b)&&(c+=Dn(g,p),p=""),h=b,g=g||!wo(h);d++}return""!==p&&(c+=Dn(g,p)),c}const Mt={};function ec(l){hw(Pt(),Me(),zi()+l,Pl())}function hw(l,c,d,h){if(!h)if(3==(3&c[2])){const g=l.preOrderCheckHooks;null!==g&&Bl(c,g,d)}else{const g=l.preOrderHooks;null!==g&&kd(c,g,0,d)}Nl(d)}function Z_(l,c){return l<<17|c<<2}function Ri(l){return l>>17&32767}function W_(l){return 2|l}function Co(l){return(131068&l)>>2}function K_(l,c){return-131069&l|c<<2}function pw(l){return 1|l}function bw(l,c){const d=l.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const p=d[h],g=d[h+1];if(-1!==g){const b=l.data[g];Xc(p),b.contentQueries(2,c[g],g)}}}function ah(l,c,d,h,p,g,b,C,M,T){const A=c.blueprint.slice();return A[0]=p,A[2]=140|h,Dd(A),A[3]=A[15]=l,A[8]=d,A[10]=b||l&&l[10],A[11]=C||l&&l[11],A[12]=M||l&&l[12]||null,A[9]=T||l&&l[9]||null,A[6]=g,A[16]=2==c.type?l[16]:A,A}function Su(l,c,d,h,p){let g=l.data[c];if(null===g)g=function(l,c,d,h,p){const g=ep(),b=Md(),M=l.data[c]=function(l,c,d,h,p,g){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,d,c,h,p);return null===l.firstChild&&(l.firstChild=M),null!==g&&(b?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M)),M}(l,c,d,h,p),yt.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=d,g.value=h,g.attrs=p;const b=function(){const l=yt.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return Hr(g,!0),g}function Wt(l,c,d,h){if(0===d)return-1;const p=c.length;for(let g=0;g<d;g++)c.push(h),l.blueprint.push(h),l.data.push(null);return p}function ey(l,c,d){Id(c);try{const h=l.viewQuery;null!==h&&Iw(1,h,d);const p=l.template;null!==p&&xx(l,c,p,1,d),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&bw(l,c),l.staticViewQueries&&Iw(2,l.viewQuery,d);const g=l.components;null!==g&&function(l,c){for(let d=0;d<c.length;d++)Hk(l,c[d])}(c,g)}catch(h){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),h}finally{c[2]&=-5,eu()}}function Eo(l,c,d,h){const p=c[2];if(256==(256&p))return;Id(c);const g=Pl();try{Dd(c),function(l){yt.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==d&&xx(l,c,d,2,h);const b=3==(3&p);if(!g)if(b){const T=l.preOrderCheckHooks;null!==T&&Bl(c,T,null)}else{const T=l.preOrderHooks;null!==T&&kd(c,T,0,null),op(c,0)}if(function(l){for(let c=B_(l);null!==c;c=ix(c)){if(!c[2])continue;const d=c[9];for(let h=0;h<d.length;h++){const p=d[h],g=p[3];0==(1024&p[2])&&Ol(g,1),p[2]|=1024}}}(c),function(l){for(let c=B_(l);null!==c;c=ix(c))for(let d=10;d<c.length;d++){const h=c[d],p=h[1];Qg(h)&&Eo(p,h,p.template,h[8])}}(c),null!==l.contentQueries&&bw(l,c),!g)if(b){const T=l.contentCheckHooks;null!==T&&Bl(c,T)}else{const T=l.contentHooks;null!==T&&kd(c,T,1),op(c,1)}!function(l,c){const d=l.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const p=d[h];if(p<0)Nl(~p);else{const g=p,b=d[++h],C=d[++h];Jg(b,g),C(2,c[g])}}}finally{Nl(-1)}}(l,c);const C=l.components;null!==C&&function(l,c){for(let d=0;d<c.length;d++)Uk(l,c[d])}(c,C);const M=l.viewQuery;if(null!==M&&Iw(2,M,h),!g)if(b){const T=l.viewCheckHooks;null!==T&&Bl(c,T)}else{const T=l.viewHooks;null!==T&&kd(c,T,2),op(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),g||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,Ol(c[3],-1))}finally{eu()}}function Je(l,c,d,h){const p=c[10],g=!Pl(),b=Kf(c);try{g&&!b&&p.begin&&p.begin(),b&&ey(l,c,h),Eo(l,c,d,h)}finally{g&&!b&&p.end&&p.end()}}function xx(l,c,d,h,p){const g=zi(),b=2&h;try{Nl(-1),b&&c.length>20&&hw(l,c,20,Pl()),d(h,p)}finally{Nl(g)}}function Mx(l,c,d){if(zc(c)){const p=c.directiveEnd;for(let g=c.directiveStart;g<p;g++){const b=l.data[g];b.contentQueries&&b.contentQueries(1,d[g],g)}}}function qp(l,c,d){!Jf()||(function(l,c,d,h){const p=d.directiveStart,g=d.directiveEnd;l.firstCreatePass||po(d,c),Di(h,c);const b=d.initialInputs;for(let C=p;C<g;C++){const M=l.data[C],T=rr(M);T&&ch(c,d,M);const A=on(c,l,C,d);Di(A,c),null!==b&&Lk(0,C-p,A,M,0,b),T&&(sr(d.index,c)[8]=A)}}(l,c,d,ji(d,c)),128==(128&d.flags)&&function(l,c,d){const h=d.directiveStart,p=d.directiveEnd,b=d.index,C=yt.lFrame.currentDirectiveIndex;try{Nl(b);for(let M=h;M<p;M++){const T=l.data[M],A=c[M];ip(M),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Ew(T,A)}}finally{Nl(-1),ip(C)}}(l,c,d))}function lh(l,c,d=ji){const h=c.localNames;if(null!==h){let p=c.index+1;for(let g=0;g<h.length;g+=2){const b=h[g+1],C=-1===b?d(c,l):l[b];l[p++]=C}}}function Sx(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=$p(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function $p(l,c,d,h,p,g,b,C,M,T){const A=20+h,R=A+p,P=function(l,c){const d=[];for(let h=0;h<c;h++)d.push(h<l?null:Mt);return d}(A,R),G="function"==typeof T?T():T;return P[1]={type:l,blueprint:P,template:d,queries:null,viewQuery:C,declTNode:c,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:M,consts:G,incompleteFirstPass:!1}}function Ix(l,c,d,h){const p=Nx(c);null===d?p.push(h):(p.push(d),l.firstCreatePass&&Lx(l).push(h,p.length-1))}function kx(l,c,d){for(let h in l)if(l.hasOwnProperty(h)){const p=l[h];(d=null===d?{}:d).hasOwnProperty(h)?d[h].push(c,p):d[h]=[c,p]}return d}function Wr(l,c,d,h,p,g,b,C){const M=ji(c,d);let A,T=c.inputs;!C&&null!=T&&(A=T[h])?(kw(l,d,A,h,p),Yc(c)&&function(l,c){const d=sr(c,l);16&d[2]||(d[2]|=64)}(d,c.index)):3&c.type&&(h=function(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(h),p=null!=b?b(p,c.value||"",h):p,bn(g)?g.setProperty(M,h,p):ks(h)||(M.setProperty?M.setProperty(h,p):M[h]=p))}function Cw(l,c,d,h){let p=!1;if(Jf()){const g=function(l,c,d){const h=l.directiveRegistry;let p=null;if(h)for(let g=0;g<h.length;g++){const b=h[g];px(d,b.selectors,!1)&&(p||(p=[]),ke(po(d,c),l,b.type),rr(b)?(nl(l,d),p.unshift(b)):p.push(b))}return p}(l,c,d),b=null===h?null:{"":-1};if(null!==g){p=!0,Nk(d,l.data.length,g.length);for(let A=0;A<g.length;A++){const R=g[A];R.providersResolver&&R.providersResolver(R)}let C=!1,M=!1,T=Wt(l,c,g.length,null);for(let A=0;A<g.length;A++){const R=g[A];d.mergedAttrs=Qo(d.mergedAttrs,R.hostAttrs),Ox(l,d,c,T,R),Pk(T,R,b),null!==R.contentQueries&&(d.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(d.flags|=128);const P=R.type.prototype;!C&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((l.preOrderHooks||(l.preOrderHooks=[])).push(d.index),C=!0),!M&&(P.ngOnChanges||P.ngDoCheck)&&((l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(d.index),M=!0),T++}!function(l,c){const h=c.directiveEnd,p=l.data,g=c.attrs,b=[];let C=null,M=null;for(let T=c.directiveStart;T<h;T++){const A=p[T],R=A.inputs,P=null===g||uw(c)?null:Bk(R,g);b.push(P),C=kx(R,T,C),M=kx(A.outputs,T,M)}null!==C&&(C.hasOwnProperty("class")&&(c.flags|=16),C.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=b,c.inputs=C,c.outputs=M}(l,d)}b&&function(l,c,d){if(c){const h=l.localNames=[];for(let p=0;p<c.length;p+=2){const g=d[c[p+1]];if(null==g)throw new ye("301",`Export of name '${c[p+1]}' not found!`);h.push(c[p],g)}}}(d,h,b)}return d.mergedAttrs=Qo(d.mergedAttrs,d.attrs),p}function Rx(l,c,d,h,p,g){const b=g.hostBindings;if(b){let C=l.hostBindingOpCodes;null===C&&(C=l.hostBindingOpCodes=[]);const M=~c.index;(function(l){let c=l.length;for(;c>0;){const d=l[--c];if("number"==typeof d&&d<0)return d}return 0})(C)!=M&&C.push(M),C.push(h,p,b)}}function Ew(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function nl(l,c){c.flags|=2,(l.components||(l.components=[])).push(c.index)}function Pk(l,c,d){if(d){if(c.exportAs)for(let h=0;h<c.exportAs.length;h++)d[c.exportAs[h]]=l;rr(c)&&(d[""]=l)}}function Nk(l,c,d){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+d,l.providerIndexes=c}function Ox(l,c,d,h,p){l.data[h]=p;const g=p.factory||(p.factory=Zo(p.type)),b=new Rd(g,rr(p),null);l.blueprint[h]=b,d[h]=b,Rx(l,c,0,h,Wt(l,d,p.hostVars,Mt),p)}function ch(l,c,d){const h=ji(c,l),p=Sx(d),g=l[10],b=Mw(l,ah(l,p,null,d.onPush?64:16,h,c,g,g.createRenderer(h,d),null,null));l[c.index]=b}function ca(l,c,d,h,p,g){const b=ji(l,c);!function(l,c,d,h,p,g,b){if(null==g)bn(l)?l.removeAttribute(c,p,d):c.removeAttribute(p);else{const C=null==b?ve(g):b(g,h||"",p);bn(l)?l.setAttribute(c,p,C,d):d?c.setAttributeNS(d,p,C):c.setAttribute(p,C)}}(c[11],b,g,l.value,d,h,p)}function Lk(l,c,d,h,p,g){const b=g[c];if(null!==b){const C=h.setInput;for(let M=0;M<b.length;){const T=b[M++],A=b[M++],R=b[M++];null!==C?h.setInput(d,R,T,A):d[A]=R}}}function Bk(l,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;l.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,l[p],c[h+1])),h+=2}else h+=2;else h+=4}return d}function Fx(l,c,d,h){return new Array(l,!0,!1,c,null,0,h,d,null,null)}function Uk(l,c){const d=sr(c,l);if(Qg(d)){const h=d[1];80&d[2]?Eo(h,d,h.template,d[8]):d[5]>0&&xw(d)}}function xw(l){for(let h=B_(l);null!==h;h=ix(h))for(let p=10;p<h.length;p++){const g=h[p];if(1024&g[2]){const b=g[1];Eo(b,g,b.template,g[8])}else g[5]>0&&xw(g)}const d=l[1].components;if(null!==d)for(let h=0;h<d.length;h++){const p=sr(d[h],l);Qg(p)&&p[5]>0&&xw(p)}}function Hk(l,c){const d=sr(c,l),h=d[1];(function(l,c){for(let d=c.length;d<l.blueprint.length;d++)c.push(l.blueprint[d])})(h,d),ey(h,d,d[8])}function Mw(l,c){return l[13]?l[14][4]=c:l[13]=c,l[14]=c,c}function Sw(l){for(;l;){l[2]|=64;const c=jp(l);if(ni(l)&&!c)return l;l=c}return null}function Aw(l,c,d){const h=c[10];h.begin&&h.begin();try{Eo(l,c,l.template,d)}catch(p){throw Vx(c,p),p}finally{h.end&&h.end()}}function Px(l){!function(l){for(let c=0;c<l.components.length;c++){const d=l.components[c],h=eh(d),p=h[1];Je(p,h,p.template,d)}}(l[8])}function Iw(l,c,d){Xc(0),c(l,d)}const qk=(()=>Promise.resolve(null))();function Nx(l){return l[7]||(l[7]=[])}function Lx(l){return l.cleanup||(l.cleanup=[])}function Bx(l,c,d){return(null===l||rr(l))&&(d=function(l){for(;Array.isArray(l);){if("object"==typeof l[1])return l;l=l[0]}return null}(d[c.index])),d[11]}function Vx(l,c){const d=l[9],h=d?d.get(_,null):null;h&&h.handleError(c)}function kw(l,c,d,h,p){for(let g=0;g<d.length;){const b=d[g++],C=d[g++],M=c[b],T=l.data[b];null!==T.setInput?T.setInput(M,p,h,C):M[C]=p}}function il(l,c,d){const h=kl(c,l);!function(l,c,d){bn(l)?l.setValue(c,d):c.textContent=d}(l[11],h,d)}function ny(l,c,d){let h=d?l.styles:null,p=d?l.classes:null,g=0;if(null!==c)for(let b=0;b<c.length;b++){const C=c[b];"number"==typeof C?g=C:1==g?p=Y(p,C):2==g&&(h=Y(h,C+": "+c[++b]+";"))}d?l.styles=h:l.stylesWithoutHost=h,d?l.classes=p:l.classesWithoutHost=p}const Oi=new En("INJECTOR",-1);class Ux{get(c,d=su){if(d===su){const h=new Error(`NullInjectorError: No provider for ${W(c)}!`);throw h.name="NullInjectorError",h}return d}}const Wp=new En("Set Injector scope."),Kp={},Zk={};let Rw;function Hx(){return void 0===Rw&&(Rw=new Ux),Rw}function Gx(l,c=null,d=null,h){return new qN(l,d,c||Hx(),h)}class qN{constructor(c,d,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];d&&Rs(d,C=>this.processProvider(C,c,d)),Rs([c],C=>this.processInjectorType(C,[],g)),this.records.set(Oi,Tu(void 0,this));const b=this.records.get(Wp);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof c?null:W(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,d=su,h=tt.Default){this.assertNotDestroyed();const p=Et(this),g=nr(void 0);try{if(!(h&tt.SkipSelf)){let C=this.records.get(c);if(void 0===C){const M=("function"==typeof(l=c)||"object"==typeof l&&l instanceof En)&&_i(c);C=M&&this.injectableDefInScope(M)?Tu(Ow(c),Kp):null,this.records.set(c,C)}if(null!=C)return this.hydrate(c,C)}return(h&tt.Self?Hx():this.parent).get(c,d=h&tt.Optional&&d===su?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[ra]=b[ra]||[]).unshift(W(c)),p)throw b;return vr(b,c,"R3InjectorError",this.source)}throw b}finally{nr(g),Et(p)}var l}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((h,p)=>c.push(W(p))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,d,h){if(!(c=V(c)))return!1;let p=Uo(c);const g=null==p&&c.ngModule||void 0,b=void 0===g?c:g,C=-1!==h.indexOf(b);if(void 0!==g&&(p=Uo(g)),null==p)return!1;if(null!=p.imports&&!C){let A;h.push(b);try{Rs(p.imports,R=>{this.processInjectorType(R,d,h)&&(void 0===A&&(A=[]),A.push(R))})}finally{}if(void 0!==A)for(let R=0;R<A.length;R++){const{ngModule:P,providers:G}=A[R];Rs(G,Z=>this.processProvider(Z,P,G||z))}}this.injectorDefTypes.add(b);const M=Zo(b)||(()=>new b);this.records.set(b,Tu(M,Kp));const T=p.providers;if(null!=T&&!C){const A=c;Rs(T,R=>this.processProvider(R,A,T))}return void 0!==g&&void 0!==c.providers}processProvider(c,d,h){let p=uh(c=V(c))?c:V(c&&c.provide);const g=iy(l=c)?Tu(void 0,l.useValue):Tu(jx(l),Kp);var l;if(uh(c)||!0!==c.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=Tu(void 0,Kp,!0),b.factory=()=>oa(b.multi),this.records.set(p,b)),p=c,b.multi.push(c)}this.records.set(p,g)}hydrate(c,d){return d.value===Kp&&(d.value=Zk,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(l=d.value)&&"object"==typeof l&&"function"==typeof l.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var l}injectableDefInScope(c){if(!c.providedIn)return!1;const d=V(c.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function Ow(l){const c=_i(l),d=null!==c?c.factory:Zo(l);if(null!==d)return d;if(l instanceof En)throw new Error(`Token ${W(l)} is missing a \u0275prov definition.`);if(l instanceof Function)return function(l){const c=l.length;if(c>0){const h=na(c,"?");throw new Error(`Can't resolve all parameters for ${W(l)}: (${h.join(", ")}).`)}const d=function(l){const c=l&&(l[oo]||l[Go]);if(c){const d=function(l){if(l.hasOwnProperty("name"))return l.name;const c=(""+l).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(l);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),c}return null}(l);return null!==d?()=>d.factory(l):()=>new l}(l);throw new Error("unreachable")}function jx(l,c,d){let h;if(uh(l)){const p=V(l);return Zo(p)||Ow(p)}if(iy(l))h=()=>V(l.useValue);else if(function(l){return!(!l||!l.useFactory)}(l))h=()=>l.useFactory(...oa(l.deps||[]));else if(function(l){return!(!l||!l.useExisting)}(l))h=()=>fn(V(l.useExisting));else{const p=V(l&&(l.useClass||l.provide));if(!function(l){return!!l.deps}(l))return Zo(p)||Ow(p);h=()=>new p(...oa(l.deps))}return h}function Tu(l,c,d=!1){return{factory:l,value:c,multi:d?[]:void 0}}function iy(l){return null!==l&&"object"==typeof l&&Hl in l}function uh(l){return"function"==typeof l}const Yx=function(l,c,d){return function(l,c=null,d=null,h){const p=Gx(l,c,d,h);return p._resolveInjectorDefTypes(),p}({name:d},c,l,d)};class an{static create(c,d){return Array.isArray(c)?Yx(c,d,""):Yx(c.providers,c.parent,c.name||"")}}function cR(l,c){Ll(eh(l)[1],_n())}function jw(l){let c=function(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),d=!0;const h=[l];for(;c;){let p;if(rr(l))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");p=c.\u0275dir}if(p){if(d){h.push(p);const b=l;b.inputs=hh(l.inputs),b.declaredInputs=hh(l.declaredInputs),b.outputs=hh(l.outputs);const C=p.hostBindings;C&&Yw(l,C);const M=p.viewQuery,T=p.contentQueries;if(M&&Xx(l,M),T&&zw(l,T),q(l.inputs,p.inputs),q(l.declaredInputs,p.declaredInputs),q(l.outputs,p.outputs),rr(p)&&p.data.animation){const A=l.data;A.animation=(A.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let b=0;b<g.length;b++){const C=g[b];C&&C.ngInherit&&C(l),C===jw&&(d=!1)}}c=Object.getPrototypeOf(c)}!function(l){let c=0,d=null;for(let h=l.length-1;h>=0;h--){const p=l[h];p.hostVars=c+=p.hostVars,p.hostAttrs=Qo(p.hostAttrs,d=Qo(d,p.hostAttrs))}}(h)}function hh(l){return l===en?{}:l===z?[]:l}function Xx(l,c){const d=l.viewQuery;l.viewQuery=d?(h,p)=>{c(h,p),d(h,p)}:c}function zw(l,c){const d=l.contentQueries;l.contentQueries=d?(h,p,g)=>{c(h,p,g),d(h,p,g)}:c}function Yw(l,c){const d=l.hostBindings;l.hostBindings=d?(h,p)=>{c(h,p),d(h,p)}:c}an.THROW_IF_NOT_FOUND=su,an.NULL=new Ux,an.\u0275prov=un({token:an,providedIn:"any",factory:()=>fn(Oi)}),an.__NG_ELEMENT_ID__=-1;let ku=null;function fh(){if(!ku){const l=dn.Symbol;if(l&&l.iterator)ku=l.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<c.length;++d){const h=c[d];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(ku=h)}}}return ku}class Do{constructor(c){this.wrapped=c}static wrap(c){return new Do(c)}static unwrap(c){return Do.isWrapped(c)?c.wrapped:c}static isWrapped(c){return c instanceof Do}}function Xp(l){return!!qw(l)&&(Array.isArray(l)||!(l instanceof Map)&&fh()in l)}function qw(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function ua(l,c,d){return l[c]=d}function pn(l,c,d){return!Object.is(l[c],d)&&(l[c]=d,!0)}function $w(l,c,d,h){const p=Me();return pn(p,fo(),c)&&(Pt(),ca(Yn(),p,l,c,d,h)),$w}function Ou(l,c,d,h){return pn(l,fo(),d)?c+ve(d)+h:Mt}function ay(l,c,d,h,p,g,b,C){const M=Me(),T=Pt(),A=l+20,R=T.firstCreatePass?function(l,c,d,h,p,g,b,C,M){const T=c.consts,A=Su(c,l,4,b||null,Ia(T,C));Cw(c,d,A,Ia(T,M)),Ll(c,A);const R=A.tViews=$p(2,A,h,p,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,A),R.queries=c.queries.embeddedTView(A)),A}(A,T,M,c,d,h,p,g,b):T.data[A];Hr(R,!1);const P=M[11].createComment("");oh(T,M,P,R),Di(P,M),Mw(M,M[A]=Fx(P,M,P,R)),Al(R)&&qp(T,M,R),null!=b&&lh(M,R,C)}function Kw(l){return Ko(yt.lFrame.contextLView,20+l)}function Ch(l,c=tt.Default){const d=Me();return null===d?fn(l,c):Vl(_n(),d,V(l),c)}function bM(){throw new Error("invalid")}function sm(l,c,d){const h=Me();return pn(h,fo(),c)&&Wr(Pt(),Yn(),h,l,c,h[11],d,!1),sm}function lC(l,c,d,h,p){const b=p?"class":"style";kw(l,d,c.inputs[b],b,h)}function hy(l,c,d,h){const p=Me(),g=Pt(),b=20+l,C=p[11],M=p[b]=nw(C,c,yt.lFrame.currentNamespace),T=g.firstCreatePass?function(l,c,d,h,p,g,b){const C=c.consts,T=Su(c,l,2,p,Ia(C,g));return Cw(c,d,T,Ia(C,b)),null!==T.attrs&&ny(T,T.attrs,!1),null!==T.mergedAttrs&&ny(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(b,g,p,0,c,d,h):g.data[b];Hr(T,!0);const A=T.mergedAttrs;null!==A&&Is(C,M,A);const R=T.classes;null!==R&&lw(C,M,R);const P=T.styles;null!==P&&hx(C,M,P),64!=(64&T.flags)&&oh(g,p,M,T),0===yt.lFrame.elementDepthCount&&Di(M,p),yt.lFrame.elementDepthCount++,Al(T)&&(qp(g,p,T),Mx(g,T,p)),null!==h&&lh(p,T)}function wM(){let l=_n();Md()?Fl():(l=l.parent,Hr(l,!1));const c=l;yt.lFrame.elementDepthCount--;const d=Pt();d.firstCreatePass&&(Ll(d,l),zc(l)&&d.queries.elementEnd(l)),null!=c.classesWithoutHost&&function(l){return 0!=(16&l.flags)}(c)&&lC(d,c,Me(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(l){return 0!=(32&l.flags)}(c)&&lC(d,c,Me(),c.stylesWithoutHost,!1)}function DR(l,c,d,h){hy(l,c,d,h),wM()}function cC(l,c,d){const h=Me(),p=Pt(),g=l+20,b=p.firstCreatePass?function(l,c,d,h,p){const g=c.consts,b=Ia(g,h),C=Su(c,l,8,"ng-container",b);return null!==b&&ny(C,b,!0),Cw(c,d,C,Ia(g,p)),null!==c.queries&&c.queries.elementStart(c,C),C}(g,p,h,c,d):p.data[g];Hr(b,!0);const C=h[g]=h[11].createComment("");oh(p,h,C,b),Di(C,h),Al(b)&&(qp(p,h,b),Mx(p,b,h)),null!=d&&lh(h,b)}function uC(){let l=_n();const c=Pt();Md()?Fl():(l=l.parent,Hr(l,!1)),c.firstCreatePass&&(Ll(c,l),zc(l)&&c.queries.elementEnd(l))}function CM(l,c,d){cC(l,c,d),uC()}function EM(){return Me()}function dC(l){return!!l&&"function"==typeof l.then}function hC(l){return!!l&&"function"==typeof l.subscribe}const fC=hC;function DM(l,c,d,h){const p=Me(),g=Pt(),b=_n();return xM(g,p,p[11],b,l,c,!!d,h),DM}function pC(l,c){const d=_n(),h=Me(),p=Pt();return xM(p,h,Bx(Jc(p.data),d,h),d,l,c,!1),pC}function xM(l,c,d,h,p,g,b,C){const M=Al(h),A=l.firstCreatePass&&Lx(l),R=c[8],P=Nx(c);let G=!0;if(3&h.type||C){const ie=ji(h,c),Re=C?C(ie):ie,Ee=P.length,nt=C?ot=>C(wn(ot[h.index])):h.index;if(bn(d)){let ot=null;if(!C&&M&&(ot=function(l,c,d,h){const p=l.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const b=p[g];if(b===d&&p[g+1]===h){const C=c[7],M=p[g+2];return C.length>M?C[M]:null}"string"==typeof b&&(g+=2)}return null}(l,c,p,h.index)),null!==ot)(ot.__ngLastListenerFn__||ot).__ngNextListenerFn__=g,ot.__ngLastListenerFn__=g,G=!1;else{g=fy(h,c,R,g,!1);const jt=d.listen(Re,p,g);P.push(g,jt),A&&A.push(p,nt,Ee,Ee+1)}}else g=fy(h,c,R,g,!0),Re.addEventListener(p,g,b),P.push(g),A&&A.push(p,nt,Ee,b)}else g=fy(h,c,R,g,!1);const Z=h.outputs;let de;if(G&&null!==Z&&(de=Z[p])){const ie=de.length;if(ie)for(let Re=0;Re<ie;Re+=2){const mn=c[de[Re]][de[Re+1]].subscribe(g),Vi=P.length;P.push(g,mn),A&&A.push(p,h.index,Vi,-(Vi+1))}}}function om(l,c,d,h){try{return!1!==d(h)}catch(p){return Vx(l,p),!1}}function fy(l,c,d,h,p){return function g(b){if(b===Function)return h;const C=2&l.flags?sr(l.index,c):c;0==(32&c[2])&&Sw(C);let M=om(c,0,h,b),T=g.__ngNextListenerFn__;for(;T;)M=om(c,0,T,b)&&M,T=T.__ngNextListenerFn__;return p&&!1===M&&(b.preventDefault(),b.returnValue=!1),M}}function mC(l=1){return function(l){return(yt.lFrame.contextLView=function(l,c){for(;l>0;)c=c[15],l--;return c}(l,yt.lFrame.contextLView))[8]}(l)}function ol(l,c){let d=null;const h=function(l){const c=l.attrs;if(null!=c){const d=c.indexOf(5);if(0==(1&d))return c[d+1]}return null}(l);for(let p=0;p<c.length;p++){const g=c[p];if("*"!==g){if(null===h?px(l,g,!0):SN(h,g))return p}else d=p}return d}function gC(l){const c=Me()[16][6];if(!c.projection){const h=c.projection=na(l?l.length:1,null),p=h.slice();let g=c.child;for(;null!==g;){const b=l?ol(g,l):0;null!==b&&(p[b]?p[b].projectionNext=g:h[b]=g,p[b]=g),g=g.next}}}function _C(l,c=0,d){const h=Me(),p=Pt(),g=Su(p,20+l,16,null,d||null);null===g.projection&&(g.projection=c),Fl(),64!=(64&g.flags)&&function(l,c,d){Xl(c[11],0,c,d,ox(l,d,c),z_(d.parent||c[6],d,c))}(p,h,g)}function yC(l,c,d){return vC(l,"",c,"",d),yC}function vC(l,c,d,h,p){const g=Me(),b=Ou(g,c,d,h);return b!==Mt&&Wr(Pt(),Yn(),g,l,b,g[11],p,!1),vC}function kM(l,c,d,h,p){const g=l[d+1],b=null===c;let C=h?Ri(g):Co(g),M=!1;for(;0!==C&&(!1===M||b);){const A=l[C+1];aL(l[C],c)&&(M=!0,l[C+1]=h?pw(A):W_(A)),C=h?Ri(A):Co(A)}M&&(l[d+1]=h?W_(g):pw(g))}function aL(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&ia(l,c)>=0}const Pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AR(l){return l.substring(Pi.key,Pi.keyEnd)}function Gs(l,c){const d=Pi.textEnd;return d===c?-1:(c=Pi.keyEnd=function(l,c,d){for(;c<d&&l.charCodeAt(c)>32;)c++;return c}(l,Pi.key=c,d),Dh(l,c,d))}function Dh(l,c,d){for(;c<d&&l.charCodeAt(c)<=32;)c++;return c}function wC(l,c,d){return Qr(l,c,d,!1),wC}function py(l,c){return Qr(l,c,null,!0),py}function dt(l,c){for(let d=function(l){return function(l){Pi.key=0,Pi.keyEnd=0,Pi.value=0,Pi.valueEnd=0,Pi.textEnd=l.length}(l),Gs(l,Dh(l,0,Pi.textEnd))}(c);d>=0;d=Gs(c,d))An(l,AR(c),!0)}function Qr(l,c,d,h){const p=Me(),g=Pt(),b=yr(2);g.firstUpdatePass&&NM(g,l,b,h),c!==Mt&&pn(p,b,c)&&LM(g,g.data[zi()],p,p[11],l,p[b+1]=function(l,c){return null==l||("string"==typeof c?l+=c:"object"==typeof l&&(l=W(yo(l)))),l}(c,d),h,b)}function xh(l,c){return c>=l.expandoStartIndex}function NM(l,c,d,h){const p=l.data;if(null===p[d+1]){const g=p[zi()],b=xh(l,d);xC(g,h)&&null===c&&!b&&(c=!1),c=function(l,c,d,h){const p=Jc(l);let g=h?c.residualClasses:c.residualStyles;if(null===p)0===(h?c.classBindings:c.styleBindings)&&(d=dc(d=xi(null,l,c,d,h),c.attrs,h),g=null);else{const b=c.directiveStylingLast;if(-1===b||l[b]!==p)if(d=xi(p,l,c,d,h),null===g){let M=function(l,c,d){const h=d?c.classBindings:c.styleBindings;if(0!==Co(h))return l[Ri(h)]}(l,c,h);void 0!==M&&Array.isArray(M)&&(M=xi(null,l,c,M[1],h),M=dc(M,c.attrs,h),function(l,c,d,h){l[Ri(d?c.classBindings:c.styleBindings)]=h}(l,c,h,M))}else g=function(l,c,d){let h;const p=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<p;g++)h=dc(h,l[g].hostAttrs,d);return dc(h,c.attrs,d)}(l,c,h)}return void 0!==g&&(h?c.residualClasses=g:c.residualStyles=g),d}(p,g,c,h),function(l,c,d,h,p,g){let b=g?c.classBindings:c.styleBindings,C=Ri(b),M=Co(b);l[h]=d;let A,T=!1;if(Array.isArray(d)){const R=d;A=R[1],(null===A||ia(R,A)>0)&&(T=!0)}else A=d;if(p)if(0!==M){const P=Ri(l[C+1]);l[h+1]=Z_(P,C),0!==P&&(l[P+1]=K_(l[P+1],h)),l[C+1]=function(l,c){return 131071&l|c<<17}(l[C+1],h)}else l[h+1]=Z_(C,0),0!==C&&(l[C+1]=K_(l[C+1],h)),C=h;else l[h+1]=Z_(M,0),0===C?C=h:l[M+1]=K_(l[M+1],h),M=h;T&&(l[h+1]=W_(l[h+1])),kM(l,A,h,!0),kM(l,A,h,!1),function(l,c,d,h,p){const g=p?l.residualClasses:l.residualStyles;null!=g&&"string"==typeof c&&ia(g,c)>=0&&(d[h+1]=pw(d[h+1]))}(c,A,l,h,g),b=Z_(C,M),g?c.classBindings=b:c.styleBindings=b}(p,g,c,d,b,h)}}function xi(l,c,d,h,p){let g=null;const b=d.directiveEnd;let C=d.directiveStylingLast;for(-1===C?C=d.directiveStart:C++;C<b&&(g=c[C],h=dc(h,g.hostAttrs,p),g!==l);)C++;return null!==l&&(d.directiveStylingLast=C),h}function dc(l,c,d){const h=d?1:2;let p=-1;if(null!==c)for(let g=0;g<c.length;g++){const b=c[g];"number"==typeof b?p=b:p===h&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),An(l,b,!!d||c[++g]))}return void 0===l?null:l}function LM(l,c,d,h,p,g,b,C){if(!(3&c.type))return;const M=l.data,T=M[C+1];cm(function(l){return 1==(1&l)}(T)?DC(M,c,d,p,Co(T),b):void 0)||(cm(g)||function(l){return 2==(2&l)}(T)&&(g=DC(M,null,d,p,C,b)),function(l,c,d,h,p){const g=bn(l);if(c)p?g?l.addClass(d,h):d.classList.add(h):g?l.removeClass(d,h):d.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:Ls.DashCase;if(null==p)g?l.removeStyle(d,h,b):d.style.removeProperty(h);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),b|=Ls.Important),g?l.setStyle(d,h,p,b):d.style.setProperty(h,p,C?"important":"")}}}(h,b,kl(zi(),d),p,g))}function DC(l,c,d,h,p,g){const b=null===c;let C;for(;p>0;){const M=l[p],T=Array.isArray(M),A=T?M[1]:M,R=null===A;let P=d[p+1];P===Mt&&(P=R?z:void 0);let G=R?qn(P,h):A===h?P:void 0;if(T&&!cm(G)&&(G=qn(M,h)),cm(G)&&(C=G,b))return C;const Z=l[p+1];p=b?Ri(Z):Co(Z)}if(null!==c){let M=g?c.residualClasses:c.residualStyles;null!=M&&(C=qn(M,h))}return C}function cm(l){return void 0!==l}function xC(l,c){return 0!=(l.flags&(c?16:32))}function my(l,c=""){const d=Me(),h=Pt(),p=l+20,g=h.firstCreatePass?Su(h,p,1,c,null):h.data[p],b=d[p]=function(l,c){return bn(l)?l.createText(c):l.createTextNode(c)}(d[11],c);oh(h,d,b,g),Hr(g,!1)}function Mh(l){return um("",l,""),Mh}function um(l,c,d){const h=Me(),p=Ou(h,l,c,d);return p!==Mt&&il(h,zi(),p),um}function IC(l,c,d){!function(l,c,d,h){const p=Pt(),g=yr(2);p.firstUpdatePass&&NM(p,null,g,h);const b=Me();if(d!==Mt&&pn(b,g,d)){const C=p.data[zi()];if(xC(C,h)&&!xh(p,g)){let M=h?C.classesWithoutHost:C.stylesWithoutHost;null!==M&&(d=Y(M,d||"")),lC(p,C,b,d,h)}else!function(l,c,d,h,p,g,b,C){p===Mt&&(p=z);let M=0,T=0,A=0<p.length?p[0]:null,R=0<g.length?g[0]:null;for(;null!==A||null!==R;){const P=M<p.length?p[M+1]:void 0,G=T<g.length?g[T+1]:void 0;let de,Z=null;A===R?(M+=2,T+=2,P!==G&&(Z=R,de=G)):null===R||null!==A&&A<R?(M+=2,Z=A):(T+=2,Z=R,de=G),null!==Z&&LM(l,c,d,h,Z,de,b,C),A=M<p.length?p[M]:null,R=T<g.length?g[T]:null}}(p,C,b,b[11],b[g+1],b[g+1]=function(l,c,d){if(null==d||""===d)return z;const h=[],p=yo(d);if(Array.isArray(p))for(let g=0;g<p.length;g++)l(h,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&l(h,g,p[g]);else"string"==typeof p&&c(h,p);return h}(l,c,d),h,g)}}(An,dt,Ou(Me(),l,c,d),!0)}function Ih(l,c,d){const h=Me();return pn(h,fo(),c)&&Wr(Pt(),Yn(),h,l,c,h[11],d,!0),Ih}function hm(l,c,d){const h=Me();if(pn(h,fo(),c)){const g=Pt(),b=Yn();Wr(g,b,h,l,c,Bx(Jc(g.data),b,h),d,!0)}return hm}const ll=void 0;var BC=["en",[["a","p"],["AM","PM"],ll],[["AM","PM"],ll,ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ll,"{1} 'at' {0}",ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(l){const c=Math.floor(Math.abs(l)),d=l.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Pu={};function VC(l){const c=function(l){return l.toLowerCase().replace(/_/g,"-")}(l);let d=vy(c);if(d)return d;const h=c.split("-")[0];if(d=vy(h),d)return d;if("en"===h)return BC;throw new Error(`Missing locale data for the locale "${l}".`)}function UC(l){return VC(l)[pt.PluralCase]}function vy(l){return l in Pu||(Pu[l]=dn.ng&&dn.ng.common&&dn.ng.common.locales&&dn.ng.common.locales[l]),Pu[l]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const ii="en-US";let zC=ii;function YC(l){ht(l,"Expected localeId to be defined"),"string"==typeof l&&(zC=l.toLowerCase().replace(/_/g,"-"))}function s0(l,c,d,h,p){if(l=V(l),Array.isArray(l))for(let g=0;g<l.length;g++)s0(l[g],c,d,h,p);else{const g=Pt(),b=Me();let C=uh(l)?l:V(l.provide),M=jx(l);const T=_n(),A=1048575&T.providerIndexes,R=T.directiveStart,P=T.providerIndexes>>20;if(uh(l)||!l.multi){const G=new Rd(M,p,Ch),Z=Ly(C,c,p?A:A+P,R);-1===Z?(ke(po(T,b),g,C),Hu(g,l,c.length),c.push(C),T.directiveStart++,T.directiveEnd++,p&&(T.providerIndexes+=1048576),d.push(G),b.push(G)):(d[Z]=G,b[Z]=G)}else{const G=Ly(C,c,A+P,R),Z=Ly(C,c,A,A+P),de=G>=0&&d[G],ie=Z>=0&&d[Z];if(p&&!ie||!p&&!de){ke(po(T,b),g,C);const Re=function(l,c,d,h,p){const g=new Rd(l,d,Ch);return g.multi=[],g.index=c,g.componentProviders=0,dl(g,p,h&&!d),g}(p?oS:sS,d.length,p,h,M);!p&&ie&&(d[Z].providerFactory=Re),Hu(g,l,c.length,0),c.push(C),T.directiveStart++,T.directiveEnd++,p&&(T.providerIndexes+=1048576),d.push(Re),b.push(Re)}else Hu(g,l,G>-1?G:Z,dl(d[p?Z:G],M,!p&&h));!p&&h&&ie&&d[Z].componentProviders++}}}function Hu(l,c,d,h){const p=uh(c);if(p||function(l){return!!l.useClass}(c)){const b=(c.useClass||c).prototype.ngOnDestroy;if(b){const C=l.destroyHooks||(l.destroyHooks=[]);if(!p&&c.multi){const M=C.indexOf(d);-1===M?C.push(d,[h,b]):C[M+1].push(h,b)}else C.push(d,b)}}}function dl(l,c,d){return d&&l.componentProviders++,l.multi.push(c)-1}function Ly(l,c,d,h){for(let p=d;p<h;p++)if(c[p]===l)return p;return-1}function sS(l,c,d,h){return mc(this.multi,[])}function oS(l,c,d,h){const p=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=on(d,d[1],this.providerFactory.index,h);g=C.slice(0,b),mc(p,g);for(let M=b;M<C.length;M++)g.push(C[M])}else g=[],mc(p,g);return g}function mc(l,c){for(let d=0;d<l.length;d++)c.push((0,l[d])());return c}function aS(l,c=[]){return d=>{d.providersResolver=(h,p)=>function(l,c,d){const h=Pt();if(h.firstCreatePass){const p=rr(l);s0(d,h.data,h.blueprint,p,!0),s0(c,h.data,h.blueprint,p,!1)}}(h,p?p(l):l,c)}}class cS{}const a0="ngComponent";class l0{resolveComponentFactory(c){throw function(l){const c=Error(`No component factory found for ${W(l)}. Did you add it to @NgModule.entryComponents?`);return c[a0]=l,c}(c)}}class gc{}function By(...l){}function Lh(l,c){return new js(ji(l,c))}gc.NULL=new l0;const Hy=function(){return Lh(_n(),Me())};let js=(()=>{class l{constructor(d){this.nativeElement=d}}return l.__NG_ELEMENT_ID__=Hy,l})();function c0(l){return l instanceof js?l.nativeElement:l}class _c{}let cO=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>dO(),l})();const dO=function(){const l=Me(),d=sr(_n().index,l);return function(l){return l[11]}(cs(d)?d:l)};let u0=(()=>{class l{}return l.\u0275prov=un({token:l,providedIn:"root",factory:()=>null}),l})();class d0{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const jy=new d0("13.0.0-next.5");class h0{constructor(){}supports(c){return Xp(c)}create(c){return new hl(c)}}const zy=(l,c)=>c;class hl{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||zy}forEachItem(c){let d;for(d=this._itHead;null!==d;d=d._next)c(d)}forEachOperation(c){let d=this._itHead,h=this._removalsHead,p=0,g=null;for(;d||h;){const b=!h||d&&d.currentIndex<Bh(h,p,g)?d:h,C=Bh(b,p,g),M=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)p++;else{g||(g=[]);const T=C-p,A=M-p;if(T!=A){for(let P=0;P<T;P++){const G=P<g.length?g[P]:g[P]=0,Z=G+P;A<=Z&&Z<T&&(g[P]=G+1)}g[b.previousIndex]=A-T}}C!==M&&c(b,C,M)}}forEachPreviousItem(c){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachMovedItem(c){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}forEachIdentityChange(c){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)c(d)}diff(c){if(null==c&&(c=[]),!Xp(c))throw new Error(`Error trying to diff '${W(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,g,b,d=this._itHead,h=!1;if(Array.isArray(c)){this.length=c.length;for(let C=0;C<this.length;C++)g=c[C],b=this._trackByFn(C,g),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,g,b,C)),Object.is(d.item,g)||this._addIdentityChange(d,g)):(d=this._mismatch(d,g,b,C),h=!0),d=d._next}else p=0,function(l,c){if(Array.isArray(l))for(let d=0;d<l.length;d++)c(l[d]);else{const d=l[fh()]();let h;for(;!(h=d.next()).done;)c(h.value)}}(c,C=>{b=this._trackByFn(p,C),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,C,b,p)),Object.is(d.item,C)||this._addIdentityChange(d,C)):(d=this._mismatch(d,C,b,p),h=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,d,h,p){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._reinsertAfter(c,g,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(c.item,d)||this._addIdentityChange(c,d),this._moveAfter(c,g,p)):c=this._addAfter(new dS(d,h),g,p),c}_verifyReinsertion(c,d,h,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?c=this._reinsertAfter(g,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const d=c._next;this._addToRemovals(this._unlink(c)),c=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,g=c._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(c,d,h),this._addToMoves(c,h),c}_moveAfter(c,d,h){return this._unlink(c),this._insertAfter(c,d,h),this._addToMoves(c,h),c}_addAfter(c,d,h){return this._insertAfter(c,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,d,h){const p=null===d?this._itHead:d._next;return c._next=p,c._prev=d,null===p?this._itTail=c:p._prev=c,null===d?this._itHead=c:d._next=c,null===this._linkedRecords&&(this._linkedRecords=new Yy),this._linkedRecords.put(c),c.currentIndex=h,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const d=c._prev,h=c._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,c}_addToMoves(c,d){return c.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yy),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,d){return c.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class dS{constructor(c,d){this.item=c,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mO{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,c))return h;return null}remove(c){const d=c._prevDup,h=c._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class Yy{constructor(){this.map=new Map}put(c){const d=c.trackById;let h=this.map.get(d);h||(h=new mO,this.map.set(d,h)),h.add(c)}get(c,d){const p=this.map.get(c);return p?p.get(c,d):null}remove(c){const d=c.trackById;return this.map.get(d).remove(c)&&this.map.delete(d),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bh(l,c,d){const h=l.previousIndex;if(null===h)return h;let p=0;return d&&h<d.length&&(p=d[h]),h+c+p}class f0{constructor(){}supports(c){return c instanceof Map||qw(c)}create(){return new p0}}class p0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let d;for(d=this._mapHead;null!==d;d=d._next)c(d)}forEachPreviousItem(c){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)c(d)}forEachChangedItem(c){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)c(d)}forEachAddedItem(c){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)c(d)}forEachRemovedItem(c){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)c(d)}diff(c){if(c){if(!(c instanceof Map||qw(c)))throw new Error(`Error trying to diff '${W(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(c,(h,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const g=this._getOrCreateRecordForKey(p,h);d=this._insertBeforeOrAppend(d,g)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,d){if(c){const h=c._prev;return d._next=c,d._prev=h,c._prev=d,h&&(h._next=d),c===this._mapHead&&(this._mapHead=d),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(c,d){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,d);const g=p._prev,b=p._next;return g&&(g._next=b),b&&(b._prev=g),p._next=null,p._prev=null,p}const h=new qy(c);return this._records.set(c,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,d){Object.is(d,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=d,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,d){c instanceof Map?c.forEach(d):Object.keys(c).forEach(h=>d(c[h],h))}}class qy{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m0(){return new Vh([new h0])}let Vh=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||m0()),deps:[[l,new Ci,new Os]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(l){return l.name||typeof l}(d)}'`)}}return l.\u0275prov=un({token:l,providedIn:"root",factory:m0}),l})();function hS(){return new Em([new f0])}let Em=(()=>{class l{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new l(d)}static extend(d){return{provide:l,useFactory:h=>l.create(d,h||hS()),deps:[[l,new Ci,new Os]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return l.\u0275prov=un({token:l,providedIn:"root",factory:hS}),l})();function yc(l,c,d,h,p=!1){for(;null!==d;){const g=c[d.index];if(null!==g&&h.push(wn(g)),Ur(g))for(let C=10;C<g.length;C++){const M=g[C],T=M[1].firstChild;null!==T&&yc(M[1],M,T,h)}const b=d.type;if(8&b)yc(l,c,d.child,h);else if(32&b){const C=sh(d,c);let M;for(;M=C();)h.push(M)}else if(16&b){const C=sw(c,d);if(Array.isArray(C))h.push(...C);else{const M=jp(c[16]);yc(M[1],M,C,h,!0)}}d=p?d.projectionNext:d.next}return h}class Uh{constructor(c,d){this._lView=c,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,d=c[1];return yc(d,c,d.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Ur(c)){const d=c[8],h=d?d.indexOf(this):-1;h>-1&&(H_(c,h),ta(d,h))}this._attachedToViewContainer=!1}sx(this._lView[1],this._lView)}onDestroy(c){Ix(this._lView[1],this._lView,null,c)}markForCheck(){Sw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Aw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(l,c,d){Sd(!0);try{Aw(l,c,d)}finally{Sd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,Eu(this._lView[1],c=this._lView,c[11],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class fS extends Uh{constructor(c){super(c),this._view=c}detectChanges(){Px(this._view)}checkNoChanges(){!function(l){Sd(!0);try{Px(l)}finally{Sd(!1)}}(this._view)}get context(){return null}}const mS=function(l){return function(l,c,d){if(Yc(l)&&!d){const h=sr(l.index,c);return new Uh(h,h)}return 47&l.type?new Uh(c[16],c):null}(_n(),Me(),16==(16&l))};let Zy=(()=>{class l{}return l.__NG_ELEMENT_ID__=mS,l})();const Gu=[new f0],vS=new Vh([new h0]),bS=new Em(Gu),ys=function(){return Dm(_n(),Me())};let Hh=(()=>{class l{}return l.__NG_ELEMENT_ID__=ys,l})();const CS=Hh,Gh=class extends CS{constructor(c,d,h){super(),this._declarationLView=c,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(c){const d=this._declarationTContainer.tViews,h=ah(this._declarationLView,d,c,16,null,d.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(d)),ey(d,h,c),new Uh(h)}};function Dm(l,c){return 4&l.type?new Gh(c,l,Lh(l,c)):null}class fa{}class y0{}const MS=function(){return fl(_n(),Me())};let vc=(()=>{class l{}return l.__NG_ELEMENT_ID__=MS,l})();const uL=vc,gO=class extends uL{constructor(c,d,h){super(),this._lContainer=c,this._hostTNode=d,this._hostLView=h}get element(){return Lh(this._hostTNode,this._hostLView)}get injector(){return new Pa(this._hostTNode,this._hostLView)}get parentInjector(){const c=je(this._hostTNode,this._hostLView);if(Sn(c)){const d=nu(c,this._hostLView),h=Oa(c);return new Pa(d[1].data[h+8],d)}return new Pa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const d=Ni(this._lContainer);return null!==d&&d[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,d,h){const p=c.createEmbeddedView(d||{});return this.insert(p,h),p}createComponent(c,d,h,p,g){const b=h||this.parentInjector;if(!g&&null==c.ngModule&&b){const M=b.get(fa,null);M&&(g=M)}const C=c.create(b,p,void 0,g);return this.insert(C.hostView,d),C}insert(c,d){const h=c._lView,p=h[1];if(Ur(h[3])){const A=this.indexOf(c);if(-1!==A)this.detach(A);else{const R=h[3],P=new gO(R,R[6],R[3]);P.detach(P.indexOf(c))}}const g=this._adjustIndex(d),b=this._lContainer;!function(l,c,d,h){const p=10+h,g=d.length;h>0&&(d[p-1][4]=c),h<g-10?(c[4]=d[p],Va(d,10+h,c)):(d.push(c),c[4]=null),c[3]=d;const b=c[17];null!==b&&d!==b&&function(l,c){const d=l[9];c[16]!==c[3][3][16]&&(l[2]=!0),null===d?l[9]=[c]:d.push(c)}(b,c);const C=c[19];null!==C&&C.insertView(l),c[2]|=128}(p,h,b,g);const C=ow(g,b),M=h[11],T=G_(M,b[7]);return null!==T&&function(l,c,d,h,p,g){h[0]=p,h[6]=c,Eu(l,h,d,1,p,g)}(p,b[6],M,h,T,C),c.attachToViewContainerRef(),Va(bc(b),g,c),c}move(c,d){return this.insert(c,d)}indexOf(c){const d=Ni(this._lContainer);return null!==d?d.indexOf(c):-1}remove(c){const d=this._adjustIndex(c,-1),h=H_(this._lContainer,d);h&&(ta(bc(this._lContainer),d),sx(h[1],h))}detach(c){const d=this._adjustIndex(c,-1),h=H_(this._lContainer,d);return h&&null!=ta(bc(this._lContainer),d)?new Uh(h):null}_adjustIndex(c,d=0){return null==c?this.length+d:c}};function Ni(l){return l[8]}function bc(l){return l[8]||(l[8]=[])}function fl(l,c){let d;const h=c[l.index];if(Ur(h))d=h;else{let p;if(8&l.type)p=wn(h);else{const g=c[11];p=g.createComment("");const b=ji(l,c);Jl(g,G_(g,b),p,function(l,c){return bn(l)?l.nextSibling(c):c.nextSibling}(g,b),!1)}c[l.index]=d=Fx(h,c,p,l),Mw(c,d)}return new gO(d,l,c)}const Zs={};class zS extends gc{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const d=vi(c);return new uv(d,this.ngModule)}}function oi(l){const c=[];for(let d in l)l.hasOwnProperty(d)&&c.push({propName:l[d],templateName:d});return c}const cv=new En("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vu});class uv extends cS{constructor(c,d){super(),this.componentDef=c,this.ngModule=d,this.componentType=c.type,this.selector=c.selectors.map(gk).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return oi(this.componentDef.inputs)}get outputs(){return oi(this.componentDef.outputs)}create(c,d,h,p){const g=(p=p||this.ngModule)?function(l,c){return{get:(d,h,p)=>{const g=l.get(d,Zs,p);return g!==Zs||h===Zs?g:c.get(d,h,p)}}}(c,p.injector):c,b=g.get(_c,uo),C=g.get(u0,null),M=b.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=h?function(l,c,d){if(bn(l))return l.selectRootElement(c,d===Ve.ShadowDom);let h="string"==typeof c?l.querySelector(c):c;return h.textContent="",h}(M,h,this.componentDef.encapsulation):nw(b.createRenderer(null,this.componentDef),T,function(l){const c=l.toLowerCase();return"svg"===c?Zc:"math"===c?"http://www.w3.org/1998/MathML/":null}(T)),R=this.componentDef.onPush?576:528,P=function(l,c){return{components:[],scheduler:l||vu,clean:qk,playerHandler:c||null,flags:0}}(),G=$p(0,null,null,1,0,null,null,null,null,null),Z=ah(null,G,P,R,null,null,b,M,C,g);let de,ie;Id(Z);try{const Re=function(l,c,d,h,p,g){const b=d[1];d[20]=l;const M=Su(b,20,2,"#host",null),T=M.mergedAttrs=c.hostAttrs;null!==T&&(ny(M,T,!0),null!==l&&(Is(p,l,T),null!==M.classes&&lw(p,l,M.classes),null!==M.styles&&hx(p,l,M.styles)));const A=h.createRenderer(l,c),R=ah(d,Sx(c),null,c.onPush?64:16,d[20],M,h,A,g||null,null);return b.firstCreatePass&&(ke(po(M,d),b,c.type),nl(b,M),Nk(M,d.length,1)),Mw(d,R),d[20]=R}(A,this.componentDef,Z,b,M);if(A)if(h)Is(M,A,["ng-version",jy.full]);else{const{attrs:Ee,classes:nt}=function(l){const c=[],d=[];let h=1,p=2;for(;h<l.length;){let g=l[h];if("string"==typeof g)2===p?""!==g&&c.push(g,l[++h]):8===p&&d.push(g);else{if(!wo(p))break;p=g}h++}return{attrs:c,classes:d}}(this.componentDef.selectors[0]);Ee&&Is(M,A,Ee),nt&&nt.length>0&&lw(M,A,nt.join(" "))}if(ie=Ed(G,20),void 0!==d){const Ee=ie.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const ot=d[nt];Ee.push(null!=ot?Array.from(ot):null)}}de=function(l,c,d,h,p){const g=d[1],b=function(l,c,d){const h=_n();l.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),Ox(l,h,c,Wt(l,c,1,null),d));const p=on(c,l,h.directiveStart,h);Di(p,c);const g=ji(h,c);return g&&Di(g,c),p}(g,d,c);if(h.components.push(b),l[8]=b,p&&p.forEach(M=>M(b,c)),c.contentQueries){const M=_n();c.contentQueries(1,b,M.directiveStart)}const C=_n();return!g.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(Nl(C.index),Rx(d[1],C,0,C.directiveStart,C.directiveEnd,c),Ew(c,b)),b}(Re,this.componentDef,Z,P,[cR]),ey(G,Z,null)}finally{eu()}return new YS(this.componentType,de,Lh(ie,Z),Z,ie)}}class YS extends class{}{constructor(c,d,h,p,g){super(),this.location=h,this._rootLView=p,this._tNode=g,this.instance=d,this.hostView=this.changeDetectorRef=new fS(p),this.componentType=c}get injector(){return new Pa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}const vs=new Map;class FO extends fa{constructor(c,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zS(this);const h=Lr(c),p=c[Ne]||null;p&&YC(p),this._bootstrapComponents=Zr(h.bootstrap),this._r3Injector=Gx(c,d,[{provide:fa,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],W(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,d=an.THROW_IF_NOT_FOUND,h=tt.Default){return c===an||c===fa||c===Oi?this:this._r3Injector.get(c,d,h)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Qn extends y0{constructor(c){super(),this.moduleType=c,null!==Lr(c)&&function(l){const c=new Set;!function d(h){const p=Lr(h,!0),g=p.id;null!==g&&(function(l,c,d){if(c&&c!==d)throw new Error(`Duplicate module registered for ${l} - ${W(c)} vs ${W(c.name)}`)}(g,vs.get(g),h),vs.set(g,h));const b=Zr(p.imports);for(const C of b)c.has(C)||(c.add(C),d(C))}(l)}(c)}create(c){return new FO(this.moduleType,c)}}function O0(l,c,d,h){return pv(Me(),zn(),l,c,d,h)}function F0(l,c,d,h,p){return function(l,c,d,h,p,g,b){const C=c+d;return function(l,c,d,h){const p=pn(l,c,d);return pn(l,c+1,h)||p}(l,C,p,g)?ua(l,C+2,b?h.call(b,p,g):h(p,g)):Rm(l,C+2)}(Me(),zn(),l,c,d,h,p)}function Rm(l,c){const d=l[c];return d===Mt?void 0:d}function pv(l,c,d,h,p,g){const b=c+d;return pn(l,b,p)?ua(l,b+1,g?h.call(g,p):h(p)):Rm(l,b+1)}function KS(l,c){const d=Pt();let h;const p=l+20;d.firstCreatePass?(h=function(l,c){if(c)for(let d=c.length-1;d>=0;d--){const h=c[d];if(l===h.name)return h}throw new ye("302",`The pipe '${l}' could not be found!`)}(c,d.pipeRegistry),d.data[p]=h,h.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,h.onDestroy)):h=d.data[p];const g=h.factory||(h.factory=Zo(h.type)),b=nr(Ch);try{const C=Fd(!1),M=g();return Fd(C),function(l,c,d,h){d>=l.data.length&&(l.data[d]=null,l.blueprint[d]=null),c[d]=h}(d,Me(),p,M),M}finally{nr(b)}}function Jh(l,c,d){const h=l+20,p=Me(),g=Ko(p,h);return function(l,c){Do.isWrapped(c)&&(c=Do.unwrap(c),l[yt.lFrame.bindingIndex]=Mt);return c}(p,function(l,c){return l[1].data[c].pure}(p,h)?pv(p,zn(),c,g.transform,d,g):g.transform(d))}function _v(l){return c=>{setTimeout(l,void 0,c)}}const ya=class extends a.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,d,h){var p,g,b;let C=c,M=d||(()=>null),T=h;if(c&&"object"==typeof c){const R=c;C=null===(p=R.next)||void 0===p?void 0:p.bind(R),M=null===(g=R.error)||void 0===g?void 0:g.bind(R),T=null===(b=R.complete)||void 0===b?void 0:b.bind(R)}this.__isAsync&&(M=_v(M),C&&(C=_v(C)),T&&(T=_v(T)));const A=super.subscribe({next:C,error:M,complete:T});return c instanceof ae.w&&c.add(A),A}};function NO(){return this._results[fh()]()}class Pm{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=fh(),h=Pm.prototype;h[d]||(h[d]=NO)}get changes(){return this._changes||(this._changes=new ya)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,d){return this._results.reduce(c,d)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,d){const h=this;h.dirty=!1;const p=$r(c);(this._changesDetected=!function(l,c,d){if(l.length!==c.length)return!1;for(let h=0;h<l.length;h++){let p=l[h],g=c[h];if(d&&(p=d(p),g=d(g)),g!==p)return!1}return!0}(h._results,p,d))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class hi{constructor(c){this.queryList=c,this.matches=null}clone(){return new hi(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lm{constructor(c=[]){this.queries=c}createEmbeddedView(c){const d=c.queries;if(null!==d){const h=null!==c.contentQueries?c.contentQueries[0]:d.length,p=[];for(let g=0;g<h;g++){const b=d.getByIndex(g);p.push(this.queries[b.indexInDeclarationView].clone())}return new Lm(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let d=0;d<this.queries.length;d++)null!==oT(c,d).matches&&this.queries[d].setDirty()}}class N0{constructor(c,d,h=null){this.predicate=c,this.flags=d,this.read=h}}class Qu{constructor(c=[]){this.queries=c}elementStart(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(c,d)}elementEnd(c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(c)}embeddedTView(c){let d=null;for(let h=0;h<this.length;h++){const p=null!==d?d.length:0,g=this.getByIndex(h).embeddedTView(c,p);g&&(g.indexInDeclarationView=h,null!==d?d.push(g):d=[g])}return null!==d?new Qu(d):null}template(c,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(c,d)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Qs{constructor(c,d=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(c,d){this.isApplyingToNode(d)&&this.matchTNode(c,d)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,d){this.elementStart(c,d)}embeddedTView(c,d){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,d),new Qs(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=c.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(c,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=h[p];this.matchTNodeWithReadOption(c,d,L0(d,g)),this.matchTNodeWithReadOption(c,d,Jo(d,c,g,!1,!1))}else h===Hh?4&d.type&&this.matchTNodeWithReadOption(c,d,-1):this.matchTNodeWithReadOption(c,d,Jo(d,c,h,!1,!1))}matchTNodeWithReadOption(c,d,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===js||p===vc||p===Hh&&4&d.type)this.addMatch(d.index,-2);else{const g=Jo(d,c,p,!1,!1);null!==g&&this.addMatch(d.index,g)}else this.addMatch(d.index,h)}}addMatch(c,d){null===this.matches?this.matches=[c,d]:this.matches.push(c,d)}}function L0(l,c){const d=l.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===c)return d[h+1];return null}function Bm(l,c,d,h){return-1===d?function(l,c){return 11&l.type?Lh(l,c):4&l.type?Dm(l,c):null}(c,l):-2===d?function(l,c,d){return d===js?Lh(c,l):d===Hh?Dm(c,l):d===vc?fl(c,l):void 0}(l,c,h):on(l,l[1],d,c)}function B0(l,c,d,h){const p=c[19].queries[h];if(null===p.matches){const g=l.data,b=d.matches,C=[];for(let M=0;M<b.length;M+=2){const T=b[M];C.push(T<0?null:Bm(c,g[T],b[M+1],d.metadata.read))}p.matches=C}return p.matches}function yv(l,c,d,h){const p=l.queries.getByIndex(d),g=p.matches;if(null!==g){const b=B0(l,c,p,d);for(let C=0;C<g.length;C+=2){const M=g[C];if(M>0)h.push(b[C/2]);else{const T=g[C+1],A=c[-M];for(let R=10;R<A.length;R++){const P=A[R];P[17]===P[3]&&yv(P[1],P,T,h)}if(null!==A[9]){const R=A[9];for(let P=0;P<R.length;P++){const G=R[P];yv(G[1],G,T,h)}}}}}return h}function iT(l){const c=Me(),d=Pt(),h=Xg();Xc(h+1);const p=oT(d,h);if(l.dirty&&Kf(c)===(2==(2&p.metadata.flags))){if(null===p.matches)l.reset([]);else{const g=p.crossesNgTemplate?yv(d,c,h,[]):B0(d,c,p,h);l.reset(g,c0),l.notifyOnChanges()}return!0}return!1}function rT(l,c,d){const h=Pt();h.firstCreatePass&&(H0(h,new N0(l,c,d),-1),2==(2&c)&&(h.staticViewQueries=!0)),U0(h,Me(),c)}function Vm(l,c,d,h){const p=Pt();if(p.firstCreatePass){const g=_n();H0(p,new N0(c,d,h),g.index),function(l,c){const d=l.contentQueries||(l.contentQueries=[]);c!==(d.length?d[d.length-1]:-1)&&d.push(l.queries.length-1,c)}(p,l),2==(2&d)&&(p.staticContentQueries=!0)}U0(p,Me(),d)}function V0(){return l=Me(),c=Xg(),l[19].queries[c].queryList;var l,c}function U0(l,c,d){const h=new Pm(4==(4&d));Ix(l,c,h,h.destroy),null===c[19]&&(c[19]=new Lm),c[19].queries.push(new hi(h))}function H0(l,c,d){null===l.queries&&(l.queries=new Qu),l.queries.track(new Qs(c,d))}function oT(l,c){return l.queries.getByIndex(c)}const yl=new En("Application Initializer");let Tc=(()=>{class l{constructor(d){this.appInits=d,this.resolve=By,this.reject=By,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(dC(g))d.push(g);else if(fC(g)){const b=new Promise((C,M)=>{g.subscribe({complete:C,error:M})});d.push(b)}}Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return l.\u0275fac=function(d){return new(d||l)(fn(yl,8))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();const Z0=new En("AppId"),t1={provide:Z0,useFactory:function(){return`${W0()}${W0()}${W0()}`},deps:[]};function W0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ET=new En("Platform Initializer"),$m=new En("Platform ID"),td=new En("appBootstrapListener");let DT=(()=>{class l{log(d){console.log(d)}warn(d){console.warn(d)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();const Cv=new En("LocaleId"),K0=new En("DefaultCurrencyCode");class Zm{constructor(c,d){this.ngModuleFactory=c,this.componentFactories=d}}const X0=function(l){return new Qn(l)},TT=X0,r1=function(l){return Promise.resolve(X0(l))},eE=function(l){const c=X0(l),h=Zr(Lr(l).declarations).reduce((p,g)=>{const b=vi(g);return b&&p.push(new uv(b)),p},[]);return new Zm(c,h)},tE=eE,a1=function(l){return Promise.resolve(eE(l))};let cf=(()=>{class l{constructor(){this.compileModuleSync=TT,this.compileModuleAsync=r1,this.compileModuleAndAllComponentsSync=tE,this.compileModuleAndAllComponentsAsync=a1}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();const df=(()=>Promise.resolve(0))();function Wm(l){"undefined"==typeof Zone?df.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class es{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ya(!1),this.onMicrotaskEmpty=new ya(!1),this.onStable=new ya(!1),this.onError=new ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&d,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let l=dn.requestAnimationFrame,c=dn.cancelAnimationFrame;if("undefined"!=typeof Zone&&l&&c){const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(l){const c=()=>{!function(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(dn,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,Km(l),l.isCheckStableRunning=!0,nE(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),Km(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,p,g,b,C)=>{try{return kT(l),d.invokeTask(p,g,b,C)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||l.shouldCoalesceRunChangeDetection)&&c(),Dv(l)}},onInvoke:(d,h,p,g,b,C,M)=>{try{return kT(l),d.invoke(p,g,b,C,M)}finally{l.shouldCoalesceRunChangeDetection&&c(),Dv(l)}},onHasTask:(d,h,p,g)=>{d.hasTask(p,g),h===p&&("microTask"==g.change?(l._hasPendingMicrotasks=g.microTask,Km(l),nE(l)):"macroTask"==g.change&&(l.hasPendingMacrotasks=g.macroTask))},onHandleError:(d,h,p,g)=>(d.handleError(p,g),l.runOutsideAngular(()=>l.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!es.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(es.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,d,h){return this._inner.run(c,d,h)}runTask(c,d,h,p){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+p,c,IT,By,By);try{return g.runTask(b,d,h)}finally{g.cancelTask(b)}}runGuarded(c,d,h){return this._inner.runGuarded(c,d,h)}runOutsideAngular(c){return this._outer.run(c)}}const IT={};function nE(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function Km(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function kT(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function Dv(l){l._nesting--,nE(l)}class u1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ya,this.onMicrotaskEmpty=new ya,this.onStable=new ya,this.onError=new ya}run(c,d,h){return c.apply(d,h)}runGuarded(c,d,h){return c.apply(d,h)}runOutsideAngular(c){return c()}runTask(c,d,h,p){return c.apply(d,h)}}let xv=(()=>{class l{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{es.assertNotInAngularZone(),Wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wm(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:g,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,h,p){return[]}}return l.\u0275fac=function(d){return new(d||l)(fn(es))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})(),Si=(()=>{class l{constructor(){this._applications=new Map,rE.addToWindow(this)}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return rE.findTestabilityInTree(this,d,h)}}return l.\u0275fac=function(d){return new(d||l)},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();class d1{addToWindow(c){}findTestabilityInTree(c,d,h){return null}}function h1(l){rE=l}let rE=new d1,RT=!0,OT=!1;function sE(){return OT=!0,RT}function oE(){if(OT)throw new Error("Cannot enable prod mode after platform setup.");RT=!1}let Xs;const BT=new En("AllowMultipleToken");class VT{constructor(c,d){this.name=c,this.token=d}}function UT(l,c,d=[]){const h=`Platform: ${c}`,p=new En(h);return(g=[])=>{let b=Qm();if(!b||b.injector.get(BT,!1))if(l)l(d.concat(g).concat({provide:p,useValue:!0}));else{const C=d.concat(g).concat({provide:p,useValue:!0},{provide:Wp,useValue:"platform"});!function(l){if(Xs&&!Xs.destroyed&&!Xs.injector.get(BT,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Xs=l.get(hf);const c=l.get(ET,null);c&&c.forEach(d=>d())}(an.create({providers:C,name:h}))}return function(l){const c=Qm();if(!c)throw new Error("No platform exists!");if(!c.injector.get(l,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return c}(p)}}function Qm(){return Xs&&!Xs.destroyed?Xs:null}let hf=(()=>{class l{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const C=function(l,c){let d;return d="noop"===l?new u1:("zone.js"===l?void 0:l)||new es({enableLongStackTrace:sE(),shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),d}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),M=[{provide:es,useValue:C}];return C.run(()=>{const T=an.create({providers:M,parent:this.injector,name:d.moduleType.name}),A=d.create(T),R=A.injector.get(_,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const P=C.onError.subscribe({next:G=>{R.handleError(G)}});A.onDestroy(()=>{uE(this._modules,A),P.unsubscribe()})}),function(l,c,d){try{const h=d();return dC(h)?h.catch(p=>{throw c.runOutsideAngular(()=>l.handleError(p)),p}):h}catch(h){throw c.runOutsideAngular(()=>l.handleError(h)),h}}(R,C,()=>{const P=A.injector.get(Tc);return P.runInitializers(),P.donePromise.then(()=>(YC(A.injector.get(Cv,ii)||ii),this._moduleDoBootstrap(A),A))})})}bootstrapModule(d,h=[]){const p=GT({},h);return function(l,c,d){const h=new Qn(d);return Promise.resolve(h)}(0,0,d).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(d){const h=d.injector.get(Jm);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${W(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(d){return new(d||l)(fn(an))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();function GT(l,c){return Array.isArray(c)?c.reduce(GT,l):Object.assign(Object.assign({},l),c)}let Jm=(()=>{class l{constructor(d,h,p,g,b){this._zone=d,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new U.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),M=new U.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{es.assertNotInAngularZone(),Wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),R.unsubscribe()}});this.isStable=(0,oe.T)(C,M.pipe((0,le.B)()))}bootstrap(d,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=d instanceof cS?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(p.componentType);const g=function(l){return l.isBoundToModule}(p)?void 0:this._injector.get(fa),C=p.create(an.NULL,[],h||p.selector,g),M=C.location.nativeElement,T=C.injector.get(xv,null),A=T&&C.injector.get(Si);return T&&A&&A.registerApplication(M,T),C.onDestroy(()=>{this.detachView(C.hostView),uE(this.components,C),A&&A.unregisterApplication(M)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;uE(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(td,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return l.\u0275fac=function(d){return new(d||l)(fn(es),fn(an),fn(_),fn(gc),fn(Tc))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();function uE(l,c){const d=l.indexOf(c);d>-1&&l.splice(d,1)}class Xm{}class qT{}const hE={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let fE=(()=>{class l{constructor(d,h){this._compiler=d,this._config=h||hE}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[h,p]=d.split("#");return void 0===p&&(p="default"),N(8255)(h).then(g=>g[p]).then(g=>vl(g,h,p)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(d){let[h,p]=d.split("#"),g="NgFactory";return void 0===p&&(p="default",g=""),N(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(b=>b[p+g]).then(b=>vl(b,h,p))}}return l.\u0275fac=function(d){return new(d||l)(fn(cf),fn(qT,8))},l.\u0275prov=un({token:l,factory:l.\u0275fac}),l})();function vl(l,c,d){if(!l)throw new Error(`Cannot find '${d}' in '${c}'`);return l}const DE=function(l){return null},mf=UT(null,"core",[{provide:$m,useValue:"unknown"},{provide:hf,deps:[an]},{provide:Si,deps:[]},{provide:DT,deps:[]}]),TE=[{provide:Jm,useClass:Jm,deps:[es,an,_,gc,Tc]},{provide:cv,deps:[es],useFactory:function(l){let c=[];return l.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(d){c.push(d)}}},{provide:Tc,useClass:Tc,deps:[[new Os,yl]]},{provide:cf,useClass:cf,deps:[]},t1,{provide:Vh,useFactory:function(){return vS},deps:[]},{provide:Em,useFactory:function(){return bS},deps:[]},{provide:Cv,useFactory:function(l){return YC(l=l||"undefined"!=typeof $localize&&$localize.locale||ii),l},deps:[[new Ga(Cv),new Os,new Ci]]},{provide:K0,useValue:"USD"}];let C1=(()=>{class l{constructor(d){}}return l.\u0275fac=function(d){return new(d||l)(fn(Jm))},l.\u0275mod=xl({type:l}),l.\u0275inj=Bt({providers:TE}),l})()},8939:(Ye,De,N)=>{"use strict";N.d(De,{hO:()=>K,xv:()=>Y,Dh:()=>W,GT:()=>J,on:()=>B,pX:()=>le});var a=N(7716),ae=N(7841),U=N(9126);Ye=N.hmd(Ye);const oe=["ngOnDestroy"],le=(X,ye,he,Ae={})=>new Proxy(X,{get:(ve,Ie)=>he.runOutsideAngular(()=>{var mt;if(X[Ie])return(null===(mt=null==Ae?void 0:Ae.spy)||void 0===mt?void 0:mt.get)&&Ae.spy.get(Ie,X[Ie]),X[Ie];if(oe.indexOf(Ie)>-1)return()=>{};const it=ye.toPromise().then(ct=>{const Lt=ct&&ct[Ie];return"function"==typeof Lt?Lt.bind(ct):Lt&&Lt.then?Lt.then(At=>he.run(()=>At)):he.run(()=>Lt)});return new Proxy(()=>{},{get:(ct,Lt)=>it[Lt],apply:(ct,Lt,At)=>it.then(cn=>{var we;const ue=cn&&cn(...At);return(null===(we=null==Ae?void 0:Ae.spy)||void 0===we?void 0:we.apply)&&Ae.spy.apply(Ie,At,ue),ue})})})}),J=(X,ye)=>{ye.forEach(he=>{Object.getOwnPropertyNames(he.prototype||he).forEach(Ae=>{Object.defineProperty(X.prototype,Ae,Object.getOwnPropertyDescriptor(he.prototype||he,Ae))})})};class q{constructor(ye){return ye}}const W=new a.OlP("angularfire2.app.options"),Y=new a.OlP("angularfire2.app.name");function B(X,ye,he){const ve="object"==typeof he&&he||{};ve.name=ve.name||"string"==typeof he&&he||"[DEFAULT]";const mt=ae.Z.apps.filter(it=>it&&it.name===ve.name)[0]||ye.runOutsideAngular(()=>ae.Z.initializeApp(X,ve));try{JSON.stringify(X)!==JSON.stringify(mt.options)&&$("error",`${mt.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(it){}return new q(mt)}const $=(X,...ye)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[X](...ye)},V={provide:q,useFactory:B,deps:[W,a.R0b,[new a.FiY,Y]]};let K=(()=>{class X{constructor(he){ae.Z.registerVersion("angularfire",U.q4.full,"core"),ae.Z.registerVersion("angularfire",U.q4.full,"app-compat"),ae.Z.registerVersion("angular",a.q4F.full,he.toString())}static initializeApp(he,Ae){return{ngModule:X,providers:[{provide:W,useValue:he},{provide:Y,useValue:Ae}]}}}return X.\u0275fac=function(he){return new(he||X)(a.LFG(a.Lbi))},X.\u0275mod=a.oAB({type:X}),X.\u0275inj=a.cJS({providers:[V]}),X})()},9126:(Ye,De,N)=>{"use strict";N.d(De,{q4:()=>B,iC:()=>ue,fc:()=>cn,HU:()=>it,cc:()=>K});var a=N(7716);(0,N(5452).registerVersion)("firebase","9.0.2","app");var le=N(7771),J=N(3637),q=N(3342),W=N(9746),Y=N(9673);Ye=N.hmd(Ye);const B=new a.GfV("7.0.4"),$=!!Ye.hot,V=(ge,...ee)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ge](...ee)};function K(ge,ee,Fe,Ke,Rt){const[,lt,ht]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===ge)||[];if(lt)return function(ge,ee){try{return ge.toString()===ee.toString()}catch(Fe){return ge===ee}}(Rt,ht)||(V("error",`${ee} was already initialized on the ${Fe} Firebase App with different settings.${$?" You may need to reload as Firebase is not HMR aware.":""}`),V("warn",{is:Rt,was:ht})),lt;{const ut=Ke();return globalThis.\u0275AngularfireInstanceCache.push([ge,ut,Rt]),ut}}function ve(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ie{constructor(ee,Fe=le.N){this.zone=ee,this.delegate=Fe}now(){return this.delegate.now()}schedule(ee,Fe,Ke){const Rt=this.zone;return this.delegate.schedule(function(ht){Rt.runGuarded(()=>{ee.apply(this,[ht])})},Fe,Ke)}}class mt{constructor(ee){this.zone=ee,this.task=null}call(ee,Fe){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),Fe.pipe((0,q.b)({next:Ke,complete:Ke,error:Ke})).subscribe(ee).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let it=(()=>{class ge{constructor(Fe){this.ngZone=Fe,this.outsideAngular=Fe.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=Fe.run(()=>new Ie(Zone.current,J.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ge.\u0275fac=function(Fe){return new(Fe||ge)(a.LFG(a.R0b))},ge.\u0275prov=a.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function ct(){const ge=globalThis.\u0275AngularFireScheduler;if(!ge)throw new Error("AngularFireModule has not been provided");return ge}function cn(ge){return ge.pipe((0,W.QV)(ct().outsideAngular))}function ue(ge){return ct(),function(ge){return function(Fe){return(Fe=Fe.lift(new mt(ge.ngZone))).pipe((0,Y.R)(ge.outsideAngular),(0,W.QV)(ge.insideAngular))}}(ct())(ge)}},4486:(Ye,De,N)=>{"use strict";N.d(De,{Z:()=>he});var a=N(4685),ae=N(6034),U=N(5452),oe=N(300);class le{constructor(ve,Ie){this._delegate=ve,this.firebase=Ie,(0,U._addComponent)(ve,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(ve,Ie=U._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(ve);return!it.isInitialized()&&"EXPLICIT"===(null===(mt=it.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:Ie})}_removeServiceInstance(ve,Ie=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Ie)}_addComponent(ve){(0,U._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,U._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Y(){const Ae=function(Ae){const ve={},Ie={__esModule:!0,initializeApp:function(we,ue={}){const ce=U.initializeApp(we,ue);if((0,a.r3)(ve,ce.name))return ve[ce.name];const Ce=new Ae(ce,Ie);return ve[ce.name]=Ce,Ce},app:it,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(we){const ue=we.name,ce=ue.replace("-compat","");if(U._registerComponent(we)&&"PUBLIC"===we.type){const Ce=(fe=it())=>{if("function"!=typeof fe[ce])throw q.create("invalid-app-argument",{appName:ue});return fe[ce]()};void 0!==we.serviceProps&&(0,a.ZB)(Ce,we.serviceProps),Ie[ce]=Ce,Ae.prototype[ce]=function(...fe){return this._getService.bind(this,ue).apply(this,we.multipleInstances?fe:[])}}return"PUBLIC"===we.type?Ie[ce]:null},removeApp:function(we){delete ve[we]},useAsService:function(we,ue){return"serverAuth"===ue?null:ue},modularAPIs:U}};function it(we){if(!(0,a.r3)(ve,we=we||U._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:we});return ve[we]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function(){return Object.keys(ve).map(we=>ve[we])}}),it.App=Ae,Ie}(le);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(Ie){(0,a.ZB)(Ae,Ie)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ae}(),$=new oe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ye=B;(0,U.registerVersion)("@firebase/app-compat","0.1.1",undefined);const he=ye},5452:(Ye,De,N)=>{"use strict";N.r(De),N.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>mr,_DEFAULT_ENTRY_NAME:()=>Rt,_addComponent:()=>xn,_addOrOverwriteComponent:()=>rs,_apps:()=>ht,_clearComponents:()=>Bt,_components:()=>ut,_getProvider:()=>un,_registerComponent:()=>Fr,_removeServiceInstance:()=>Hn,deleteApp:()=>Go,getApp:()=>oo,getApps:()=>Ho,initializeApp:()=>Uo,onLog:()=>yi,registerVersion:()=>tt,setLogLevel:()=>ao});var a=N(8239),ae=N(6034),U=N(300),oe=N(4685);class le{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(Yt=>{if(function(Ct){const at=Ct.getComponent();return"VERSION"===(null==at?void 0:at.type)}(Yt)){const Ht=Yt.getImmediate();return`${Ht.library}/${Ht.version}`}return null}).filter(Yt=>Yt).join(" ")}}const q="@firebase/app",Y=new U.Yd("@firebase/app"),Rt="[DEFAULT]",lt={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ht=new Map,ut=new Map;function xn(Ct,at){try{Ct.container.addComponent(at)}catch(Yt){Y.debug(`Component ${at.name} failed to register with FirebaseApp ${Ct.name}`,Yt)}}function rs(Ct,at){Ct.container.addOrOverwriteComponent(at)}function Fr(Ct){const at=Ct.name;if(ut.has(at))return Y.debug(`There were multiple attempts to register component ${at}.`),!1;ut.set(at,Ct);for(const Yt of ht.values())xn(Yt,Ct);return!0}function un(Ct,at){return Ct.container.getProvider(at)}function Hn(Ct,at,Yt=Rt){un(Ct,at).clearInstance(Yt)}function Bt(){ut.clear()}const so=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class xa{constructor(at,Yt,Ht){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},Yt),this._name=Yt.name,this._automaticDataCollectionEnabled=Yt.automaticDataCollectionEnabled,this._container=Ht,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}const mr="9.0.0";function Uo(Ct,at={}){"object"!=typeof at&&(at={name:at});const Yt=Object.assign({name:Rt,automaticDataCollectionEnabled:!1},at),Ht=Yt.name;if("string"!=typeof Ht||!Ht)throw so.create("bad-app-name",{appName:String(Ht)});const Gi=ht.get(Ht);if(Gi){if((0,oe.vZ)(Ct,Gi.options)&&(0,oe.vZ)(Yt,Gi.config))return Gi;throw so.create("duplicate-app",{appName:Ht})}const nn=new ae.H0(Ht);for(const ft of ut.values())nn.addComponent(ft);const Ve=new xa(Ct,Yt,nn);return ht.set(Ht,Ve),Ve}function oo(Ct=Rt){const at=ht.get(Ct);if(!at)throw so.create("no-app",{appName:Ct});return at}function Ho(){return Array.from(ht.values())}function Go(Ct){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,a.Z)(function*(Ct){const at=Ct.name;ht.has(at)&&(ht.delete(at),yield Promise.all(Ct.container.getProviders().map(Yt=>Yt.delete())),Ct.isDeleted=!0)})).apply(this,arguments)}function tt(Ct,at,Yt){var Ht;let Gi=null!==(Ht=lt[Ct])&&void 0!==Ht?Ht:Ct;Yt&&(Gi+=`-${Yt}`);const nn=Gi.match(/\s|\//),Ve=at.match(/\s|\//);if(nn||Ve){const ft=[`Unable to register library "${Gi}" with version "${at}":`];return nn&&ft.push(`library name "${Gi}" contains illegal characters (whitespace or "/")`),nn&&Ve&&ft.push("and"),Ve&&ft.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Y.warn(ft.join(" "))}Fr(new ae.wA(`${Gi}-version`,()=>({library:Gi,version:at}),"VERSION"))}function yi(Ct,at){if(null!==Ct&&"function"!=typeof Ct)throw so.create("invalid-log-argument");(0,U.Am)(Ct,at)}function ao(Ct){(0,U.Ub)(Ct)}Fr(new ae.wA("platform-logger",at=>new le(at),"PRIVATE")),tt(q,"0.7.0",undefined),tt("fire-js","")},6034:(Ye,De,N)=>{"use strict";N.d(De,{wA:()=>U,H0:()=>W});var a=N(4762),ae=N(4685),U=function(){function Y(B,$,V){this.name=B,this.instanceFactory=$,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Y.prototype.setInstantiationMode=function(B){return this.instantiationMode=B,this},Y.prototype.setMultipleInstances=function(B){return this.multipleInstances=B,this},Y.prototype.setServiceProps=function(B){return this.serviceProps=B,this},Y.prototype.setInstanceCreatedCallback=function(B){return this.onInstanceCreated=B,this},Y}(),oe="[DEFAULT]",le=function(){function Y(B,$){this.name=B,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Y.prototype.get=function(B){var $=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has($)){var V=new ae.BH;if(this.instancesDeferred.set($,V),this.isInitialized($)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:$});K&&V.resolve(K)}catch(X){}}return this.instancesDeferred.get($).promise},Y.prototype.getImmediate=function(B){var $,V=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),K=null!==($=null==B?void 0:B.optional)&&void 0!==$&&$;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(X){if(K)return null;throw X}},Y.prototype.getComponent=function(){return this.component},Y.prototype.setComponent=function(B){var $,V;if(B.name!==this.name)throw Error("Mismatching Component "+B.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=B,this.shouldAutoInitialize()){if(function(Y){return"EAGER"===Y.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(mt){}try{for(var K=(0,a.XA)(this.instancesDeferred.entries()),X=K.next();!X.done;X=K.next()){var ye=(0,a.CR)(X.value,2),Ae=ye[1],ve=this.normalizeInstanceIdentifier(ye[0]);try{var Ie=this.getOrInitializeService({instanceIdentifier:ve});Ae.resolve(Ie)}catch(mt){}}}catch(mt){$={error:mt}}finally{try{X&&!X.done&&(V=K.return)&&V.call(K)}finally{if($)throw $.error}}}},Y.prototype.clearInstance=function(B){void 0===B&&(B=oe),this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)},Y.prototype.delete=function(){return(0,a.mG)(this,void 0,void 0,function(){var B;return(0,a.Jh)(this,function($){switch($.label){case 0:return B=Array.from(this.instances.values()),[4,Promise.all((0,a.ev)((0,a.ev)([],(0,a.CR)(B.filter(function(V){return"INTERNAL"in V}).map(function(V){return V.INTERNAL.delete()}))),(0,a.CR)(B.filter(function(V){return"_delete"in V}).map(function(V){return V._delete()}))))];case 1:return $.sent(),[2]}})})},Y.prototype.isComponentSet=function(){return null!=this.component},Y.prototype.isInitialized=function(B){return void 0===B&&(B=oe),this.instances.has(B)},Y.prototype.getOptions=function(B){return void 0===B&&(B=oe),this.instancesOptions.get(B)||{}},Y.prototype.initialize=function(B){var $,V;void 0===B&&(B={});var K=B.options,X=void 0===K?{}:K,ye=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ye))throw Error(this.name+"("+ye+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var he=this.getOrInitializeService({instanceIdentifier:ye,options:X});try{for(var Ae=(0,a.XA)(this.instancesDeferred.entries()),ve=Ae.next();!ve.done;ve=Ae.next()){var Ie=(0,a.CR)(ve.value,2),it=Ie[1];ye===this.normalizeInstanceIdentifier(Ie[0])&&it.resolve(he)}}catch(Lt){$={error:Lt}}finally{try{ve&&!ve.done&&(V=Ae.return)&&V.call(Ae)}finally{if($)throw $.error}}return he},Y.prototype.onInit=function(B,$){var V,K=this.normalizeInstanceIdentifier($),X=null!==(V=this.onInitCallbacks.get(K))&&void 0!==V?V:new Set;X.add(B),this.onInitCallbacks.set(K,X);var ye=this.instances.get(K);return ye&&B(ye,K),function(){X.delete(B)}},Y.prototype.invokeOnInitCallbacks=function(B,$){var V,K,X=this.onInitCallbacks.get($);if(X)try{for(var ye=(0,a.XA)(X),he=ye.next();!he.done;he=ye.next()){var Ae=he.value;try{Ae(B,$)}catch(ve){}}}catch(ve){V={error:ve}}finally{try{he&&!he.done&&(K=ye.return)&&K.call(ye)}finally{if(V)throw V.error}}},Y.prototype.getOrInitializeService=function(B){var $=B.instanceIdentifier,V=B.options,K=void 0===V?{}:V,X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:J($),options:K}),this.instances.set($,X),this.instancesOptions.set($,K),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch(ye){}return X||null},Y.prototype.normalizeInstanceIdentifier=function(B){return void 0===B&&(B=oe),this.component?this.component.multipleInstances?B:oe:B},Y.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},Y}();function J(Y){return Y===oe?void 0:Y}var W=function(){function Y(B){this.name=B,this.providers=new Map}return Y.prototype.addComponent=function(B){var $=this.getProvider(B.name);if($.isComponentSet())throw new Error("Component "+B.name+" has already been registered with "+this.name);$.setComponent(B)},Y.prototype.addOrOverwriteComponent=function(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)},Y.prototype.getProvider=function(B){if(this.providers.has(B))return this.providers.get(B);var $=new le(B,this);return this.providers.set(B,$),$},Y.prototype.getProviders=function(){return Array.from(this.providers.values())},Y}()},300:(Ye,De,N)=>{"use strict";function a(){for(var V=0,K=0,X=arguments.length;K<X;K++)V+=arguments[K].length;var ye=Array(V),he=0;for(K=0;K<X;K++)for(var Ae=arguments[K],ve=0,Ie=Ae.length;ve<Ie;ve++,he++)ye[he]=Ae[ve];return ye}N.d(De,{in:()=>oe,Yd:()=>Y,Ub:()=>B,Am:()=>$});var ae,U=[],oe=(()=>{return(V=oe||(oe={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",oe;var V})(),le={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},J=oe.INFO,q=((ae={})[oe.DEBUG]="log",ae[oe.VERBOSE]="log",ae[oe.INFO]="info",ae[oe.WARN]="warn",ae[oe.ERROR]="error",ae),W=function(V,K){for(var X=[],ye=2;ye<arguments.length;ye++)X[ye-2]=arguments[ye];if(!(K<V.logLevel)){var he=(new Date).toISOString(),Ae=q[K];if(!Ae)throw new Error("Attempted to log a message with an invalid logType (value: "+K+")");console[Ae].apply(console,a(["["+he+"]  "+V.name+":"],X))}},Y=function(){function V(K){this.name=K,this._logLevel=J,this._logHandler=W,this._userLogHandler=null,U.push(this)}return Object.defineProperty(V.prototype,"logLevel",{get:function(){return this._logLevel},set:function(K){if(!(K in oe))throw new TypeError('Invalid value "'+K+'" assigned to `logLevel`');this._logLevel=K},enumerable:!1,configurable:!0}),V.prototype.setLogLevel=function(K){this._logLevel="string"==typeof K?le[K]:K},Object.defineProperty(V.prototype,"logHandler",{get:function(){return this._logHandler},set:function(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(K){this._userLogHandler=K},enumerable:!1,configurable:!0}),V.prototype.debug=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.DEBUG],K)),this._logHandler.apply(this,a([this,oe.DEBUG],K))},V.prototype.log=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.VERBOSE],K)),this._logHandler.apply(this,a([this,oe.VERBOSE],K))},V.prototype.info=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.INFO],K)),this._logHandler.apply(this,a([this,oe.INFO],K))},V.prototype.warn=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.WARN],K)),this._logHandler.apply(this,a([this,oe.WARN],K))},V.prototype.error=function(){for(var K=[],X=0;X<arguments.length;X++)K[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,a([this,oe.ERROR],K)),this._logHandler.apply(this,a([this,oe.ERROR],K))},V}();function B(V){U.forEach(function(K){K.setLogLevel(V)})}function $(V,K){for(var X=function(ve){var Ie=null;K&&K.level&&(Ie=le[K.level]),ve.userLogHandler=null===V?null:function(mt,it){for(var ct=[],Lt=2;Lt<arguments.length;Lt++)ct[Lt-2]=arguments[Lt];var At=ct.map(function(cn){if(null==cn)return null;if("string"==typeof cn)return cn;if("number"==typeof cn||"boolean"==typeof cn)return cn.toString();if(cn instanceof Error)return cn.message;try{return JSON.stringify(cn)}catch(we){return null}}).filter(function(cn){return cn}).join(" ");it>=(null!=Ie?Ie:mt.logLevel)&&V({level:oe[it].toLowerCase(),message:At,args:ct,type:mt.name})}},ye=0,he=U;ye<he.length;ye++)X(he[ye])}},4685:(Ye,De,N)=>{"use strict";N.d(De,{BH:()=>X,LL:()=>Fe,ZR:()=>ee,tV:()=>B,r3:()=>Hn,Sg:()=>ye,ne:()=>Ma,vZ:()=>xa,ZB:()=>V,pd:()=>Ho,m9:()=>en,z$:()=>he,jU:()=>Ie,ru:()=>mt,d:()=>ct,xb:()=>_i,w1:()=>Lt,hl:()=>ue,uI:()=>Ae,UG:()=>ve,b$:()=>it,G6:()=>we,Mn:()=>At,xO:()=>Uo,zd:()=>oo});var a=N(4762),le=function(z){for(var H=[],ne=0,pe=0;pe<z.length;pe++){var re=z.charCodeAt(pe);re<128?H[ne++]=re:re<2048?(H[ne++]=re>>6|192,H[ne++]=63&re|128):55296==(64512&re)&&pe+1<z.length&&56320==(64512&z.charCodeAt(pe+1))?(re=65536+((1023&re)<<10)+(1023&z.charCodeAt(++pe)),H[ne++]=re>>18|240,H[ne++]=re>>12&63|128,H[ne++]=re>>6&63|128,H[ne++]=63&re|128):(H[ne++]=re>>12|224,H[ne++]=re>>6&63|128,H[ne++]=63&re|128)}return H},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(z,H){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[],re=0;re<z.length;re+=3){var Ne=z[re],Qe=re+1<z.length,Dt=Qe?z[re+1]:0,Ut=re+2<z.length,qt=Ut?z[re+2]:0,ei=(15&Dt)<<2|qt>>6,zo=63&qt;Ut||(zo=64,Qe||(ei=64)),pe.push(ne[Ne>>2],ne[(3&Ne)<<4|Dt>>4],ne[ei],ne[zo])}return pe.join("")},encodeString:function(z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(z):this.encodeByteArray(le(z),H)},decodeString:function(z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(z):function(z){for(var H=[],ne=0,pe=0;ne<z.length;){var re=z[ne++];if(re<128)H[pe++]=String.fromCharCode(re);else if(re>191&&re<224){var Ne=z[ne++];H[pe++]=String.fromCharCode((31&re)<<6|63&Ne)}else if(re>239&&re<365){var Ut=((7&re)<<18|(63&(Ne=z[ne++]))<<12|(63&(Qe=z[ne++]))<<6|63&z[ne++])-65536;H[pe++]=String.fromCharCode(55296+(Ut>>10)),H[pe++]=String.fromCharCode(56320+(1023&Ut))}else{Ne=z[ne++];var Qe=z[ne++];H[pe++]=String.fromCharCode((15&re)<<12|(63&Ne)<<6|63&Qe)}}return H.join("")}(this.decodeStringToByteArray(z,H))},decodeStringToByteArray:function(z,H){this.init_();for(var ne=H?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[],re=0;re<z.length;){var Ne=ne[z.charAt(re++)],Dt=re<z.length?ne[z.charAt(re)]:0,qt=++re<z.length?ne[z.charAt(re)]:64,jn=++re<z.length?ne[z.charAt(re)]:64;if(++re,null==Ne||null==Dt||null==qt||null==jn)throw Error();pe.push(Ne<<2|Dt>>4),64!==qt&&(pe.push(Dt<<4&240|qt>>2),64!==jn&&pe.push(qt<<6&192|jn))}return pe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},Y=function(z){return function(z){var H=le(z);return q.encodeByteArray(H,!0)}(z).replace(/\./g,"")},B=function(z){try{return q.decodeString(z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function V(z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return H}for(var pe in H)!H.hasOwnProperty(pe)||!K(pe)||(z[pe]=V(z[pe],H[pe]));return z}function K(z){return"__proto__"!==z}var X=function(){function z(){var H=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,pe){H.resolve=ne,H.reject=pe})}return z.prototype.wrapCallback=function(H){var ne=this;return function(pe,re){pe?ne.reject(pe):ne.resolve(re),"function"==typeof H&&(ne.promise.catch(function(){}),1===H.length?H(pe):H(pe,re))}},z}();function ye(z,H){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var pe=H||"demo-project",re=z.iat||0,Ne=z.sub||z.user_id;if(!Ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Qe=(0,a.pi)({iss:"https://securetoken.google.com/"+pe,aud:pe,iat:re,exp:re+3600,auth_time:re,sub:Ne,user_id:Ne,firebase:{sign_in_provider:"custom",identities:{}}},z);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(Qe)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function mt(){var z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){return he().indexOf("Electron/")>=0}function Lt(){var z=he();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function At(){return he().indexOf("MSAppHost/")>=0}function we(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){return"indexedDB"in self&&null!=indexedDB}var ee=function(z){function H(ne,pe,re){var Ne=z.call(this,pe)||this;return Ne.code=ne,Ne.customData=re,Ne.name="FirebaseError",Object.setPrototypeOf(Ne,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ne,Fe.prototype.create),Ne}return(0,a.ZT)(H,z),H}(Error),Fe=function(){function z(H,ne,pe){this.service=H,this.serviceName=ne,this.errors=pe}return z.prototype.create=function(H){for(var ne=[],pe=1;pe<arguments.length;pe++)ne[pe-1]=arguments[pe];var re=ne[0]||{},Ne=this.service+"/"+H,Qe=this.errors[H],Dt=Qe?Ke(Qe,re):"Error",Ut=this.serviceName+": "+Dt+" ("+Ne+").",qt=new ee(Ne,Ut,re);return qt},z}();function Ke(z,H){return z.replace(Rt,function(ne,pe){var re=H[pe];return null!=re?String(re):"<"+pe+"?>"})}var Rt=/\{\$([^}]+)}/g;function Hn(z,H){return Object.prototype.hasOwnProperty.call(z,H)}function _i(z){for(var H in z)if(Object.prototype.hasOwnProperty.call(z,H))return!1;return!0}function xa(z,H){if(z===H)return!0;for(var ne=Object.keys(z),pe=Object.keys(H),re=0,Ne=ne;re<Ne.length;re++){if(!pe.includes(Qe=Ne[re]))return!1;var Dt=z[Qe],Ut=H[Qe];if(mr(Dt)&&mr(Ut)){if(!xa(Dt,Ut))return!1}else if(Dt!==Ut)return!1}for(var qt=0,Gn=pe;qt<Gn.length;qt++){var Qe;if(!ne.includes(Qe=Gn[qt]))return!1}return!0}function mr(z){return null!==z&&"object"==typeof z}function Uo(z){for(var H=[],ne=function(Ut,qt){Array.isArray(qt)?qt.forEach(function(Gn){H.push(encodeURIComponent(Ut)+"="+encodeURIComponent(Gn))}):H.push(encodeURIComponent(Ut)+"="+encodeURIComponent(qt))},pe=0,re=Object.entries(z);pe<re.length;pe++){var Ne=re[pe];ne(Ne[0],Ne[1])}return H.length?"&"+H.join("&"):""}function oo(z){var H={};return z.replace(/^\?/,"").split("&").forEach(function(pe){if(pe){var re=pe.split("="),Qe=re[1];H[decodeURIComponent(re[0])]=decodeURIComponent(Qe)}}),H}function Ho(z){var H=z.indexOf("?");if(!H)return"";var ne=z.indexOf("#",H);return z.substring(H,ne>0?ne:void 0)}function Ma(z,H){var ne=new tt(z,H);return ne.subscribe.bind(ne)}!function(){function z(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}z.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},z.prototype.compress_=function(H,ne){ne||(ne=0);var pe=this.W_;if("string"==typeof H)for(var re=0;re<16;re++)pe[re]=H.charCodeAt(ne)<<24|H.charCodeAt(ne+1)<<16|H.charCodeAt(ne+2)<<8|H.charCodeAt(ne+3),ne+=4;else for(re=0;re<16;re++)pe[re]=H[ne]<<24|H[ne+1]<<16|H[ne+2]<<8|H[ne+3],ne+=4;for(re=16;re<80;re++)pe[re]=4294967295&((Ne=pe[re-3]^pe[re-8]^pe[re-14]^pe[re-16])<<1|Ne>>>31);var jn,ei,Qe=this.chain_[0],Dt=this.chain_[1],Ut=this.chain_[2],qt=this.chain_[3],Gn=this.chain_[4];for(re=0;re<80;re++){re<40?re<20?(jn=qt^Dt&(Ut^qt),ei=1518500249):(jn=Dt^Ut^qt,ei=1859775393):re<60?(jn=Dt&Ut|qt&(Dt|Ut),ei=2400959708):(jn=Dt^Ut^qt,ei=3395469782);var Ne=(Qe<<5|Qe>>>27)+jn+Gn+ei+pe[re]&4294967295;Gn=qt,qt=Ut,Ut=4294967295&(Dt<<30|Dt>>>2),Dt=Qe,Qe=Ne}this.chain_[0]=this.chain_[0]+Qe&4294967295,this.chain_[1]=this.chain_[1]+Dt&4294967295,this.chain_[2]=this.chain_[2]+Ut&4294967295,this.chain_[3]=this.chain_[3]+qt&4294967295,this.chain_[4]=this.chain_[4]+Gn&4294967295},z.prototype.update=function(H,ne){if(null!=H){void 0===ne&&(ne=H.length);for(var pe=ne-this.blockSize,re=0,Ne=this.buf_,Qe=this.inbuf_;re<ne;){if(0===Qe)for(;re<=pe;)this.compress_(H,re),re+=this.blockSize;if("string"==typeof H){for(;re<ne;)if(Ne[Qe]=H.charCodeAt(re),++re,++Qe===this.blockSize){this.compress_(Ne),Qe=0;break}}else for(;re<ne;)if(Ne[Qe]=H[re],++re,++Qe===this.blockSize){this.compress_(Ne),Qe=0;break}}this.inbuf_=Qe,this.total_+=ne}},z.prototype.digest=function(){var H=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var pe=this.blockSize-1;pe>=56;pe--)this.buf_[pe]=255&ne,ne/=256;this.compress_(this.buf_);var re=0;for(pe=0;pe<5;pe++)for(var Ne=24;Ne>=0;Ne-=8)H[re]=this.chain_[pe]>>Ne&255,++re;return H}}();var tt=function(){function z(H,ne){var pe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){H(pe)}).catch(function(re){pe.error(re)})}return z.prototype.next=function(H){this.forEachObserver(function(ne){ne.next(H)})},z.prototype.error=function(H){this.forEachObserver(function(ne){ne.error(H)}),this.close(H)},z.prototype.complete=function(){this.forEachObserver(function(H){H.complete()}),this.close()},z.prototype.subscribe=function(H,ne,pe){var Ne,re=this;if(void 0===H&&void 0===ne&&void 0===pe)throw new Error("Missing Observer.");void 0===(Ne=function(z,H){if("object"!=typeof z||null===z)return!1;for(var ne=0,pe=["next","error","complete"];ne<pe.length;ne++){var re=pe[ne];if(re in z&&"function"==typeof z[re])return!0}return!1}(H)?H:{next:H,error:ne,complete:pe}).next&&(Ne.next=nr),void 0===Ne.error&&(Ne.error=nr),void 0===Ne.complete&&(Ne.complete=nr);var Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{re.finalError?Ne.error(re.finalError):Ne.complete()}catch(Dt){}}),this.observers.push(Ne),Qe},z.prototype.unsubscribeOne=function(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},z.prototype.forEachObserver=function(H){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,H)},z.prototype.sendOne=function(H,ne){var pe=this;this.task.then(function(){if(void 0!==pe.observers&&void 0!==pe.observers[H])try{ne(pe.observers[H])}catch(re){"undefined"!=typeof console&&console.error&&console.error(re)}})},z.prototype.close=function(H){var ne=this;this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},z}();function nr(){}function en(z){return z&&z._delegate?z._delegate:z}},7841:(Ye,De,N)=>{"use strict";N.d(De,{Z:()=>a.Z});var a=N(4486);a.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(Ye,De,N)=>{"use strict";N.r(De);var a=N(8239),ae=N(4486),U=N(4685),oe=N(5452),le=N(4762),J=N(300),q=N(6034);const ye=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},he=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ie=new J.Yd("@firebase/auth");function mt(E,..._){Ie.logLevel<=J.in.ERROR&&Ie.error(`Auth (${oe.SDK_VERSION}): ${E}`,..._)}function it(E,..._){throw cn(E,..._)}function ct(E,..._){return cn(E,..._)}function Lt(E,_,v){const x=Object.assign(Object.assign({},he()),{[_]:v});return new U.LL("auth","Firebase",x).create(_,{appName:E.name})}function At(E,_,v){if(!(_ instanceof v))throw v.name!==_.constructor.name&&it(E,"argument-error"),Lt(E,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function cn(E,..._){if("string"!=typeof E){const v=_[0],x=[..._.slice(1)];return x[0]&&(x[0].appName=E.name),E._errorFactory.create(v,...x)}return Ae.create(E,..._)}function we(E,_,...v){if(!E)throw cn(_,...v)}function ue(E){const _="INTERNAL ASSERTION FAILED: "+E;throw mt(_),new Error(_)}function ce(E,_){E||ue(_)}const Ce=new Map;function fe(E){ce(E instanceof Function,"Expected a class definition");let _=Ce.get(E);return _?(ce(_ instanceof E,"Instance stored in cache mismatched with class"),_):(_=new E,Ce.set(E,_),_)}function Fe(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Ke(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ut{constructor(_,v){this.shortDelay=_,this.longDelay=v,ce(v>_,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ke()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function xn(E,_){ce(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return _?`${v}${_.startsWith("/")?_.slice(1):_}`:v}class rs{static initialize(_,v,x){this.fetchImpl=_,v&&(this.headersImpl=v),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new ut(3e4,6e4);function Hn(E,_){return E.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:E.tenantId}):_}function Bt(E,_,v,x){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.Z)(function*(E,_,v,x,k={}){return so(E,k,()=>{let O={},Q={};x&&("GET"===_?Q=x:O={body:JSON.stringify(x)});const _e=(0,U.xO)(Object.assign({key:E.config.apiKey},Q)).slice(1),Oe=new(rs.headers());return Oe.set("Content-Type","application/json"),Oe.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&Oe.set("X-Firebase-Locale",E.languageCode),rs.fetch()(oo(E,E.config.apiHost,v,_e),Object.assign({method:_,headers:Oe,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function so(E,_,v){return xa.apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(E,_,v){E._canInitEmulator=!1;const x=Object.assign(Object.assign({},Fr),_);try{const k=new Ho(E),O=yield Promise.race([v(),k.promise]);k.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw Go(E,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const _e=O.ok?Q.errorMessage:Q.error.message,[Oe,$e]=_e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw Go(E,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Oe)throw Go(E,"email-already-in-use",Q);const vt=x[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw Lt(E,vt,$e);it(E,vt)}}catch(k){if(k instanceof U.ZR)throw k;it(E,"network-request-failed")}})).apply(this,arguments)}function mr(E,_,v,x){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(E,_,v,x,k={}){const O=yield Bt(E,_,v,x,k);return"mfaPendingCredential"in O&&it(E,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function oo(E,_,v,x){const k=`${_}${v}?${x}`;return E.config.emulator?xn(E.config,k):`${E.config.apiScheme}://${k}`}class Ho{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((v,x)=>{this.timer=setTimeout(()=>x(ct(this.auth,"timeout")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Go(E,_,v){const x={appName:E.name};v.email&&(x.email=v.email),v.phoneNumber&&(x.phoneNumber=v.phoneNumber);const k=ct(E,_,x);return k.customData._tokenResponse=v,k}function tt(){return(tt=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function yi(E,_){return ao.apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function nr(E,_){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function at(E){if(E)try{const _=new Date(Number(E));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Gi(){return(Gi=(0,a.Z)(function*(E,_=!1){const v=(0,U.m9)(E),x=yield v.getIdToken(_),k=Ve(x);we(k&&k.exp&&k.auth_time&&k.iat,v.auth,"internal-error");const O="object"==typeof k.firebase?k.firebase:void 0,Q=null==O?void 0:O.sign_in_provider;return{claims:k,token:x,authTime:at(nn(k.auth_time)),issuedAtTime:at(nn(k.iat)),expirationTime:at(nn(k.exp)),signInProvider:Q||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function nn(E){return 1e3*Number(E)}function Ve(E){const[_,v,x]=E.split(".");if(void 0===_||void 0===v||void 0===x)return mt("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,U.tV)(v);return k?JSON.parse(k):(mt("Failed to decode base64 JWT payload"),null)}catch(k){return mt("Caught error parsing JWT payload as JSON",k),null}}function ss(E,_){return jo.apply(this,arguments)}function jo(){return(jo=(0,a.Z)(function*(E,_,v=!1){if(v)return _;try{return yield _}catch(x){throw x instanceof U.ZR&&os(x)&&E.auth.currentUser===E&&(yield E.auth.signOut()),x}})).apply(this,arguments)}function os({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class dn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var v;if(_){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const k=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(_=!1){var v=this;if(!this.isRunning)return;const x=this.getInterval(_);this.timerId=setTimeout((0,a.Z)(function*(){yield v.iteration()}),x)}iteration(){var _=this;return(0,a.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&_.schedule(!0))}_.schedule()})()}}class Pr{constructor(_,v){this.createdAt=_,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=at(this.lastLoginAt),this.creationTime=at(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dl(E){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(E){var _;const v=E.auth,x=yield E.getIdToken(),k=yield ss(E,nr(v,{idToken:x}));we(null==k?void 0:k.users.length,v,"internal-error");const O=k.users[0];E._notifyReloadListener(O);const Q=(null===(_=O.providerUserInfo)||void 0===_?void 0:_.length)?pe(O.providerUserInfo):[],_e=ne(E.providerData,Q),vt=!!E.isAnonymous&&!(E.email&&O.passwordHash||(null==_e?void 0:_e.length)),st={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:_e,metadata:new Pr(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(E,st)})).apply(this,arguments)}function H(){return(H=(0,a.Z)(function*(E){const _=(0,U.m9)(E);yield Dl(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function ne(E,_){return[...E.filter(x=>!_.some(k=>k.providerId===x.providerId)),..._]}function pe(E){return E.map(_=>{var{providerId:v}=_,x=(0,le._T)(_,["providerId"]);return{providerId:v,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function Ne(){return(Ne=(0,a.Z)(function*(E,_){const v=yield so(E,{},()=>{const x=(0,U.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:k,apiKey:O}=E.config,Q=oo(E,k,"/v1/token",`key=${O}`);return rs.fetch()(Q,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:x})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){we(_.idToken,"internal-error"),we(void 0!==_.idToken,"internal-error"),we(void 0!==_.refreshToken,"internal-error");const v="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function(E){const _=Ve(E);return we(_,"internal-error"),we(void 0!==_.exp,"internal-error"),we(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,v)}getToken(_,v=!1){var x=this;return(0,a.Z)(function*(){return we(!x.accessToken||x.refreshToken,_,"user-token-expired"),v||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(_,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,v){var x=this;return(0,a.Z)(function*(){const{accessToken:k,refreshToken:O,expiresIn:Q}=yield function(E,_){return Ne.apply(this,arguments)}(_,v);x.updateTokensAndExpiration(k,O,Number(Q))})()}updateTokensAndExpiration(_,v,x){this.refreshToken=v||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(_,v){const{refreshToken:x,accessToken:k,expirationTime:O}=v,Q=new Qe;return x&&(we("string"==typeof x,"internal-error",{appName:_}),Q.refreshToken=x),k&&(we("string"==typeof k,"internal-error",{appName:_}),Q.accessToken=k),O&&(we("number"==typeof O,"internal-error",{appName:_}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Qe,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Dt(E,_){we("string"==typeof E||void 0===E,"internal-error",{appName:_})}class Ut{constructor(_){var{uid:v,auth:x,stsTokenManager:k}=_,O=(0,le._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=x,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new Pr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(_){var v=this;return(0,a.Z)(function*(){const x=yield ss(v,v.stsTokenManager.getToken(v.auth,_));return we(x,v.auth,"internal-error"),v.accessToken!==x&&(v.accessToken=x,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),x})()}getIdTokenResult(_){return function(E){return Gi.apply(this,arguments)}(this,_)}reload(){return function(E){return H.apply(this,arguments)}(this)}_assign(_){this!==_&&(we(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(v=>Object.assign({},v)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ut(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,v=!1){var x=this;return(0,a.Z)(function*(){let k=!1;_.idToken&&_.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(_),k=!0),v&&(yield Dl(x)),yield x.auth._persistUserIfCurrent(x),k&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var _=this;return(0,a.Z)(function*(){const v=yield _.getIdToken();return yield ss(_,function(E,_){return tt.apply(this,arguments)}(_.auth,{idToken:v})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,v){var x,k,O,Q,_e,Oe,$e,vt;const st=null!==(x=v.displayName)&&void 0!==x?x:void 0,Zn=null!==(k=v.email)&&void 0!==k?k:void 0,or=null!==(O=v.phoneNumber)&&void 0!==O?O:void 0,vu=null!==(Q=v.photoURL)&&void 0!==Q?Q:void 0,N_=null!==(_e=v.tenantId)&&void 0!==_e?_e:void 0,Xa=null!==(Oe=v._redirectEventId)&&void 0!==Oe?Oe:void 0,L_=null!==($e=v.createdAt)&&void 0!==$e?$e:void 0,el=null!==(vt=v.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Zr,emailVerified:Jb,isAnonymous:Xb,providerData:rh,stsTokenManager:ew}=v;we(Zr&&ew,_,"internal-error");const Ls=Qe.fromJSON(this.name,ew);we("string"==typeof Zr,_,"internal-error"),Dt(st,_.name),Dt(Zn,_.name),we("boolean"==typeof Jb,_,"internal-error"),we("boolean"==typeof Xb,_,"internal-error"),Dt(or,_.name),Dt(vu,_.name),Dt(N_,_.name),Dt(Xa,_.name),Dt(L_,_.name),Dt(el,_.name);const bu=new Ut({uid:Zr,auth:_,email:Zn,emailVerified:Jb,displayName:st,isAnonymous:Xb,photoURL:vu,phoneNumber:or,tenantId:N_,stsTokenManager:Ls,createdAt:L_,lastLoginAt:el});return rh&&Array.isArray(rh)&&(bu.providerData=rh.map(sh=>Object.assign({},sh))),Xa&&(bu._redirectEventId=Xa),bu}static _fromIdTokenResponse(_,v,x=!1){return(0,a.Z)(function*(){const k=new Qe;k.updateFromServerResponse(v);const O=new Ut({uid:v.localId,auth:_,stsTokenManager:k,isAnonymous:x});return yield Dl(O),O})()}}const Gn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(v,x){var k=this;return(0,a.Z)(function*(){k.storage[v]=x})()}_get(v){var x=this;return(0,a.Z)(function*(){const k=x.storage[v];return void 0===k?null:k})()}_remove(v){var x=this;return(0,a.Z)(function*(){delete x.storage[v]})()}_addListener(v,x){}_removeListener(v,x){}}return E.type="NONE",E})();function jn(E,_,v){return`firebase:${E}:${_}:${v}`}class ei{constructor(_,v,x){this.persistence=_,this.auth=v,this.userKey=x;const{config:k,name:O}=this.auth;this.fullUserKey=jn(this.userKey,k.apiKey,O),this.fullPersistenceKey=jn("persistence",k.apiKey,O),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,a.Z)(function*(){const v=yield _.persistence._get(_.fullUserKey);return v?Ut._fromJSON(_.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var v=this;return(0,a.Z)(function*(){if(v.persistence===_)return;const x=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=_,x?v.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,v,x="authUser"){return(0,a.Z)(function*(){if(!v.length)return new ei(fe(Gn),_,x);const k=(yield Promise.all(v.map(function(){var $e=(0,a.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return $e.apply(this,arguments)}}()))).filter($e=>$e);let O=k[0]||fe(Gn);const Q=jn(x,_.config.apiKey,_.name);let _e=null;for(const $e of v)try{const vt=yield $e._get(Q);if(vt){const st=Ut._fromJSON(_,vt);$e!==O&&(_e=st),O=$e;break}}catch(vt){}const Oe=k.filter($e=>$e._shouldAllowMigration);return O._shouldAllowMigration&&Oe.length?(O=Oe[0],_e&&(yield O._set(Q,_e.toJSON())),yield Promise.all(v.map(function(){var $e=(0,a.Z)(function*(vt){if(vt!==O)try{yield vt._remove(Q)}catch(st){}});return function(vt){return $e.apply(this,arguments)}}())),new ei(O,_,x)):new ei(O,_,x)})()}}function zo(E){const _=E.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(vd(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(xl(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(vi(_))return"Blackberry";if(Nr(_))return"Webos";if(yd(_))return"Safari";if((_.includes("chrome/")||Gf(_))&&!_.includes("edge/"))return"Chrome";if(Ml(_))return"Android";{const x=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function xl(E=(0,U.z$)()){return/firefox\//i.test(E)}function yd(E=(0,U.z$)()){const _=E.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Gf(E=(0,U.z$)()){return/crios\//i.test(E)}function vd(E=(0,U.z$)()){return/iemobile/i.test(E)}function Ml(E=(0,U.z$)()){return/android/i.test(E)}function vi(E=(0,U.z$)()){return/blackberry/i.test(E)}function Nr(E=(0,U.z$)()){return/webos/i.test(E)}function Ai(E=(0,U.z$)()){return/iphone|ipad|ipod/i.test(E)}function He(E=(0,U.z$)()){return Ai(E)||Ml(E)||Nr(E)||vi(E)||/windows phone/i.test(E)||vd(E)}function sn(E,_=[]){let v;switch(E){case"Browser":v=zo((0,U.z$)());break;case"Worker":v=`${zo((0,U.z$)())}-${E}`;break;default:v=E}const x=_.length?_.join(","):"FirebaseCore-web";return`${v}/JsCore/${oe.SDK_VERSION}/${x}`}class gr{constructor(_,v){this.app=_,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ti(this),this.idTokenSubscription=new ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(_,v){var x=this;return v&&(this._popupRedirectResolver=fe(v)),this._initializationPromise=this.queue((0,a.Z)(function*(){var k;x._deleted||(x.persistenceManager=yield ei.create(x,_),!x._deleted&&((null===(k=x._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)&&(yield x._popupRedirectResolver._initialize(x)),yield x.initializeCurrentUser(v),!x._deleted&&(x._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,a.Z)(function*(){if(_._deleted)return;const v=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||v){if(_.currentUser&&v&&_.currentUser.uid===v.uid)return _._currentUser._assign(v),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(v)}})()}initializeCurrentUser(_){var v=this;return(0,a.Z)(function*(){var x;let k=yield v.assertedPersistence.getCurrentUser();if(_&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const O=null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId,Q=null==k?void 0:k._redirectEventId,_e=yield v.tryRedirectSignIn(_);(!O||O===Q)&&(null==_e?void 0:_e.user)&&(k=_e.user)}return k?k._redirectEventId?(we(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===k._redirectEventId?v.directlySetCurrentUser(k):v.reloadAndSetCurrentUserOrClear(k)):v.reloadAndSetCurrentUserOrClear(k):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var v=this;return(0,a.Z)(function*(){let x=null;try{x=yield v._popupRedirectResolver._completeRedirectFn(v,_,!0)}catch(k){yield v._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(_){var v=this;return(0,a.Z)(function*(){try{yield Dl(_)}catch(x){if("auth/network-request-failed"!==x.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var _=this;return(0,a.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var v=this;return(0,a.Z)(function*(){const x=_?(0,U.m9)(_):null;return x&&we(x.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(x&&x._clone(v))})()}_updateCurrentUser(_){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return _&&we(v.tenantId===_.tenantId,v,"tenant-id-mismatch"),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(_),v.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,a.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var v=this;return this.queue((0,a.Z)(function*(){yield v.assertedPersistence.setPersistence(fe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new U.LL("auth","Firebase",_())}onAuthStateChanged(_,v,x){return this.registerStateListener(this.authStateSubscription,_,v,x)}onIdTokenChanged(_,v,x){return this.registerStateListener(this.idTokenSubscription,_,v,x)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,v){var x=this;return(0,a.Z)(function*(){const k=yield x.getOrInitRedirectPersistenceManager(v);return null===_?k.removeCurrentUser():k.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var v=this;return(0,a.Z)(function*(){if(!v.redirectPersistenceManager){const x=_&&fe(_)||v._popupRedirectResolver;we(x,v,"argument-error"),v.redirectPersistenceManager=yield ei.create(v,[fe(x._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(_){var v=this;return(0,a.Z)(function*(){var x,k;return v._isInitialized&&(yield v.queue((0,a.Z)(function*(){}))),(null===(x=v._currentUser)||void 0===x?void 0:x._redirectEventId)===_?v._currentUser:(null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId)===_?v.redirectUser:null})()}_persistUserIfCurrent(_){var v=this;return(0,a.Z)(function*(){if(_===v.currentUser)return v.queue((0,a.Z)(function*(){return v.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(v=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,v,x,k){if(this._deleted)return()=>{};const O="function"==typeof v?v:v.next.bind(v),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return we(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof v?_.addObserver(v,x,k):_.addObserver(v)}directlySetCurrentUser(_){var v=this;return(0,a.Z)(function*(){v.currentUser&&v.currentUser!==_&&(v._currentUser._stopProactiveRefresh(),_&&v.isProactiveRefreshEnabled&&_._startProactiveRefresh()),v.currentUser=_,_?yield v.assertedPersistence.setCurrentUser(_):yield v.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function vn(E){return(0,U.m9)(E)}class ti{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,U.ne)(v=>this.observer=v)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mn(E){const _=E.indexOf(":");return _<0?"":E.substr(0,_+1)}function Sa(E){if(!E)return null;const _=Number(E);return isNaN(_)?null:_}class Br{constructor(_,v){this.providerId=_,this.signInMethod=v}toJSON(){return ue("not implemented")}_getIdTokenResponse(_){return ue("not implemented")}_linkToIdToken(_,v){return ue("not implemented")}_getReauthenticationResolver(_){return ue("not implemented")}}function Yo(E,_){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:resetPassword",Hn(E,_))})).apply(this,arguments)}function Sl(E,_){return bi.apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function as(E,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:update",Hn(E,_))})).apply(this,arguments)}function Gt(){return(Gt=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signInWithPassword",Hn(E,_))})).apply(this,arguments)}function Gc(E,_){return jf.apply(this,arguments)}function jf(){return(jf=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:sendOobCode",Hn(E,_))})).apply(this,arguments)}function ui(E,_){return jc.apply(this,arguments)}function jc(){return(jc=(0,a.Z)(function*(E,_){return Gc(E,_)})).apply(this,arguments)}function Tl(E,_){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(E,_){return Gc(E,_)})).apply(this,arguments)}function Vr(E,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(E,_){return Gc(E,_)})).apply(this,arguments)}function Gg(E,_){return cs.apply(this,arguments)}function cs(){return(cs=(0,a.Z)(function*(E,_){return Gc(E,_)})).apply(this,arguments)}function zc(){return(zc=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signInWithEmailLink",Hn(E,_))})).apply(this,arguments)}function Al(){return(Al=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signInWithEmailLink",Hn(E,_))})).apply(this,arguments)}class rr extends Br{constructor(_,v,x,k=null){super("password",x),this._email=_,this._password=v,this._tenantId=k}static _fromEmailAndPassword(_,v){return new rr(_,v,"password")}static _fromEmailAndCode(_,v,x=null){return new rr(_,v,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(_){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return function(E,_){return Gt.apply(this,arguments)}(_,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(E,_){return zc.apply(this,arguments)}(_,{email:v._email,oobCode:v._password});default:it(_,"internal-error")}})()}_linkToIdToken(_,v){var x=this;return(0,a.Z)(function*(){switch(x.signInMethod){case"password":return Sl(_,{idToken:v,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function(E,_){return Al.apply(this,arguments)}(_,{idToken:v,email:x._email,oobCode:x._password});default:it(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ni(E,_){return jg.apply(this,arguments)}function jg(){return(jg=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signInWithIdp",Hn(E,_))})).apply(this,arguments)}class Ss extends Br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const v=new Ss(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(v.idToken=_.idToken),_.accessToken&&(v.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(v.nonce=_.nonce),_.pendingToken&&(v.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(v.accessToken=_.oauthToken,v.secret=_.oauthTokenSecret):it("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:k}=v,O=(0,le._T)(v,["providerId","signInMethod"]);if(!x||!k)return null;const Q=new Ss(x,k);return Object.assign(Q,O),Q}_getIdTokenResponse(_){return ni(_,this.buildRequest())}_linkToIdToken(_,v){const x=this.buildRequest();return x.idToken=v,ni(_,x)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ni(_,v)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),_.postBody=(0,U.xO)(v)}return _}}function ND(E,_){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:sendVerificationCode",Hn(E,_))})).apply(this,arguments)}function zg(){return(zg=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signInWithPhoneNumber",Hn(E,_))})).apply(this,arguments)}function Yg(){return(Yg=(0,a.Z)(function*(E,_){const v=yield mr(E,"POST","/v1/accounts:signInWithPhoneNumber",Hn(E,_));if(v.temporaryProof)throw Go(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const VD={USER_NOT_FOUND:"user-not-found"};function qg(){return(qg=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signInWithPhoneNumber",Hn(E,Object.assign(Object.assign({},_),{operation:"REAUTH"})),VD)})).apply(this,arguments)}class Il extends Br{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,v){return new Il({verificationId:_,verificationCode:v})}static _fromTokenResponse(_,v){return new Il({phoneNumber:_,temporaryProof:v})}_getIdTokenResponse(_){return function(E,_){return zg.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,v){return function(E,_){return Yg.apply(this,arguments)}(_,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function(E,_){return qg.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:v,verificationId:x,verificationCode:k}=this.params;return _&&v?{temporaryProof:_,phoneNumber:v}:{sessionInfo:x,code:k}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:v,verificationCode:x,phoneNumber:k,temporaryProof:O}=_;return x||v||k||O?new Il({verificationId:v,verificationCode:x,phoneNumber:k,temporaryProof:O}):null}}class bd{constructor(_){var v,x,k,O,Q,_e;const Oe=(0,U.zd)((0,U.pd)(_)),$e=null!==(v=Oe.apiKey)&&void 0!==v?v:null,vt=null!==(x=Oe.oobCode)&&void 0!==x?x:null,st=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=Oe.mode)&&void 0!==k?k:null);we($e&&vt&&st,"argument-error"),this.apiKey=$e,this.operation=st,this.code=vt,this.continueUrl=null!==(O=Oe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Oe.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(_e=Oe.tenantId)&&void 0!==_e?_e:null}static parseLink(_){const v=function(E){const _=(0,U.zd)((0,U.pd)(E)).link,v=_?(0,U.zd)((0,U.pd)(_)).deep_link_id:null,x=(0,U.zd)((0,U.pd)(E)).deep_link_id;return(x?(0,U.zd)((0,U.pd)(x)).link:null)||x||v||_||E}(_);try{return new bd(v)}catch(x){return null}}}let wd=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,x){return rr._fromEmailAndPassword(v,x)}static credentialWithLink(v,x){const k=bd.parseLink(x);return we(k,"argument-error"),rr._fromEmailAndCode(v,k.code,k.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Ts{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class qc extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Aa extends qc{static credentialFromJSON(_){const v="string"==typeof _?JSON.parse(_):_;return we("providerId"in v&&"signInMethod"in v,"argument-error"),Ss._fromParams(v)}credential(_){return this._credential(_)}_credential(_){return we(_.idToken||_.accessToken,"argument-error"),Ss._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Aa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Aa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:v,oauthAccessToken:x,oauthTokenSecret:k,pendingToken:O,nonce:Q,providerId:_e}=_;if(!x&&!k&&!v&&!O||!_e)return null;try{return new Aa(_e)._credential({idToken:v,accessToken:x,rawNonce:Q,pendingToken:O})}catch(Oe){return null}}}let zf=(()=>{class E extends qc{constructor(){super("facebook.com")}static credential(v){return Ss._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(x){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Zo=(()=>{class E extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,x){return Ss._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:x})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:x,oauthAccessToken:k}=v;if(!x&&!k)return null;try{return E.credential(x,k)}catch(O){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),$g=(()=>{class E extends qc{constructor(){super("github.com")}static credential(v){return Ss._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(x){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Wo extends Br{constructor(_,v){super(_,_),this.pendingToken=v}_getIdTokenResponse(_){return ni(_,this.buildRequest())}_linkToIdToken(_,v){const x=this.buildRequest();return x.idToken=v,ni(_,x)}_getReauthenticationResolver(_){const v=this.buildRequest();return v.autoCreate=!1,ni(_,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const v="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:k,pendingToken:O}=v;return x&&k&&O&&x===k?new Wo(x,O):null}static _create(_,v){return new Wo(_,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let qf=(()=>{class E extends qc{constructor(){super("twitter.com")}static credential(v,x){return Ss._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:x})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:x,oauthTokenSecret:k}=v;if(!x||!k)return null;try{return E.credential(x,k)}catch(O){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function co(E,_){return $c.apply(this,arguments)}function $c(){return($c=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signUp",Hn(E,_))})).apply(this,arguments)}class _r{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,v,x,k=!1){return(0,a.Z)(function*(){const O=yield Ut._fromIdTokenResponse(_,x,k),Q=Cb(x);return new _r({user:O,providerId:Q,_tokenResponse:x,operationType:v})})()}static _forOperation(_,v,x){return(0,a.Z)(function*(){yield _._updateTokensIfNecessary(x,!0);const k=Cb(x);return new _r({user:_,providerId:k,_tokenResponse:x,operationType:v})})()}}function Cb(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Zc(){return(Zc=(0,a.Z)(function*(E){var _;const v=vn(E);if(yield v._initializationPromise,null===(_=v.currentUser)||void 0===_?void 0:_.isAnonymous)return new _r({user:v.currentUser,providerId:null,operationType:"signIn"});const x=yield co(v,{returnSecureToken:!0}),k=yield _r._fromIdTokenResponse(v,"signIn",x,!0);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class Wc extends U.ZR{constructor(_,v,x,k){var O;super(v.code,v.message),this.operationType=x,this.user=k,this.name="FirebaseError",Object.setPrototypeOf(this,Wc.prototype),this.appName=_.name,this.code=v.code,this.tenantId=null!==(O=_.tenantId)&&void 0!==O?O:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(_,v,x,k){return new Wc(_,v,x,k)}}function Kc(E,_,v,x){return("reauthenticate"===_?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Wc._fromErrorAndOperation(E,O,_,x):O})}function Zg(E){return new Set(E.map(({providerId:_})=>_).filter(_=>!!_))}function $f(){return($f=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E);yield uo(!0,v,_);const{providerUserInfo:x}=yield yi(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[_]}),k=Zg(x||[]);return v.providerData=v.providerData.filter(O=>k.has(O.providerId)),k.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function bn(E,_){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,a.Z)(function*(E,_,v=!1){const x=yield ss(E,_._linkToIdToken(E.auth,yield E.getIdToken()),v);return _r._forOperation(E,"link",x)})).apply(this,arguments)}function uo(E,_,v){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,a.Z)(function*(E,_,v){yield Dl(_);const k=!1===E?"provider-already-linked":"no-such-provider";we(Zg(_.providerData).has(v)===E,_.auth,k)})).apply(this,arguments)}function wn(E,_){return Wf.apply(this,arguments)}function Wf(){return(Wf=(0,a.Z)(function*(E,_,v=!1){const{auth:x}=E,k="reauthenticate";try{const O=yield ss(E,Kc(x,k,_,E),v);we(O.idToken,x,"internal-error");const Q=Ve(O.idToken);we(Q,x,"internal-error");const{sub:_e}=Q;return we(E.uid===_e,x,"user-mismatch"),_r._forOperation(E,k,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&it(x,"user-mismatch"),O}})).apply(this,arguments)}function Kg(E,_){return kl.apply(this,arguments)}function kl(){return(kl=(0,a.Z)(function*(E,_,v=!1){const x="signIn",k=yield Kc(E,x,_),O=yield _r._fromIdTokenResponse(E,x,k);return v||(yield E._updateCurrentUser(O.user)),O})).apply(this,arguments)}function ji(E,_){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,a.Z)(function*(E,_){return Kg(vn(E),_)})).apply(this,arguments)}function Ed(E,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E);return yield uo(!1,v,_.providerId),bn(v,_)})).apply(this,arguments)}function sr(E,_){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,a.Z)(function*(E,_){return wn((0,U.m9)(E),_)})).apply(this,arguments)}function Qg(E,_){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(E,_){return mr(E,"POST","/v1/accounts:signInWithCustomToken",Hn(E,_))})).apply(this,arguments)}function Dd(){return(Dd=(0,a.Z)(function*(E,_){const v=vn(E),x=yield Qg(v,{token:_,returnSecureToken:!0}),k=yield _r._fromIdTokenResponse(v,"signIn",x);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class Ol{constructor(_,v){this.factorId=_,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(_,v){return"phoneInfo"in v?yt._fromServerResponse(_,v):it(_,"internal-error")}}class yt extends Ol{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,v){return new yt(v)}}function xd(E,_,v){var x;we((null===(x=v.url)||void 0===x?void 0:x.length)>0,E,"invalid-continue-uri"),we(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),_.continueUrl=v.url,_.dynamicLinkDomain=v.dynamicLinkDomain,_.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(we(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),_.iosBundleId=v.iOS.bundleId),v.android&&(we(v.android.packageName.length>0,E,"missing-android-pkg-name"),_.androidInstallApp=v.android.installApp,_.androidMinimumVersionCode=v.android.minimumVersion,_.androidPackageName=v.android.packageName)}function Qf(){return(Qf=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E),k={requestType:"PASSWORD_RESET",email:_};v&&xd(x,k,v),yield Tl(x,k)})).apply(this,arguments)}function Jf(){return(Jf=(0,a.Z)(function*(E,_,v){yield Yo((0,U.m9)(E),{oobCode:_,newPassword:v})})).apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(E,_){yield as((0,U.m9)(E),{oobCode:_})})).apply(this,arguments)}function Me(E,_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E),x=yield Yo(v,{oobCode:_}),k=x.requestType;switch(we(k,v,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":we(x.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":we(x.mfaInfo,v,"internal-error");default:we(x.email,v,"internal-error")}let O=null;return x.mfaInfo&&(O=Ol._fromServerResponse(vn(v),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:O},operation:k}})).apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(E,_){const{data:v}=yield Me((0,U.m9)(E),_);return v.email})).apply(this,arguments)}function ho(){return(ho=(0,a.Z)(function*(E,_,v){const x=vn(E),k=yield co(x,{returnSecureToken:!0,email:_,password:v}),O=yield _r._fromIdTokenResponse(x,"signIn",k);return yield x._updateCurrentUser(O.user),O})).apply(this,arguments)}function Fl(){return(Fl=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E),k={requestType:"EMAIL_SIGNIN",email:_};we(v.handleCodeInApp,x,"argument-error"),v&&xd(x,k,v),yield Vr(x,k)})).apply(this,arguments)}function Pl(){return(Pl=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E),k=wd.credentialWithLink(_,v||Fe());return we(k._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),ji(x,k)})).apply(this,arguments)}function Sd(E,_){return zn.apply(this,arguments)}function zn(){return(zn=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:createAuthUri",Hn(E,_))})).apply(this,arguments)}function tp(){return(tp=(0,a.Z)(function*(E,_){const x={identifier:_,continueUri:Ke()?Fe():"http://localhost"},{signinMethods:k}=yield Sd((0,U.m9)(E),x);return k||[]})).apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(E,_){const v=(0,U.m9)(E),k={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};_&&xd(v.auth,k,_);const{email:O}=yield ui(v.auth,k);O!==E.email&&(yield E.reload())})).apply(this,arguments)}function Td(){return(Td=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:_};v&&xd(x.auth,O,v);const{email:Q}=yield Gg(x.auth,O);Q!==E.email&&(yield E.reload())})).apply(this,arguments)}function Jg(E,_){return np.apply(this,arguments)}function np(){return(np=(0,a.Z)(function*(E,_){return Bt(E,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Jc(){return(Jc=(0,a.Z)(function*(E,{displayName:_,photoURL:v}){if(void 0===_&&void 0===v)return;const x=(0,U.m9)(E),O={idToken:yield x.getIdToken(),displayName:_,photoUrl:v,returnSecureToken:!0},Q=yield ss(x,Jg(x.auth,O));x.displayName=Q.displayName||null,x.photoURL=Q.photoUrl||null;const _e=x.providerData.find(({providerId:Oe})=>"password"===Oe);_e&&(_e.displayName=x.displayName,_e.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Q)})).apply(this,arguments)}function rp(E,_,v){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,a.Z)(function*(E,_,v){const{auth:x}=E,O={idToken:yield E.getIdToken(),returnSecureToken:!0};_&&(O.email=_),v&&(O.password=v);const Q=yield ss(E,Sl(x,O));yield E._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class Ra{constructor(_,v,x={}){this.isNewUser=_,this.providerId=v,this.profile=x}}class e_ extends Ra{constructor(_,v,x,k){super(_,v,x),this.username=k}}class t_ extends Ra{constructor(_,v){super(_,"facebook.com",v)}}class Sb extends e_{constructor(_,v){super(_,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class eu extends Ra{constructor(_,v){super(_,"google.com",v)}}class Tb extends e_{constructor(_,v,x){super(_,"twitter.com",v,x)}}function Ab(E){const{user:_,_tokenResponse:v}=E;return _.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(E){var _,v;if(!E)return null;const{providerId:x}=E,k=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},O=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!x&&(null==E?void 0:E.idToken)){const Q=null===(v=null===(_=Ve(E.idToken))||void 0===_?void 0:_.firebase)||void 0===v?void 0:v.sign_in_provider;if(Q)return new Ra(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!x)return null;switch(x){case"facebook.com":return new t_(O,k);case"github.com":return new Sb(O,k);case"google.com":return new eu(O,k);case"twitter.com":return new Tb(O,k,E.screenName||null);case"custom":case"anonymous":return new Ra(O,null);default:return new Ra(O,x,k)}}(v)}class Gr{constructor(_,v){this.type=_,this.credential=v}static _fromIdtoken(_){return new Gr("enroll",_)}static _fromMfaPendingCredential(_){return new Gr("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var v,x;if(null==_?void 0:_.multiFactorSession){if(null===(v=_.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Gr._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(x=_.multiFactorSession)||void 0===x?void 0:x.idToken)return Gr._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ll{constructor(_,v,x){this.session=_,this.hints=v,this.signInResolver=x}static _fromError(_,v){const x=vn(_),k=(v.serverResponse.mfaInfo||[]).map(Q=>Ol._fromServerResponse(x,Q));we(v.serverResponse.mfaPendingCredential,x,"internal-error");const O=Gr._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new Ll(O,k,function(){var Q=(0,a.Z)(function*(_e){const Oe=yield _e._process(x,O);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const $e=Object.assign(Object.assign({},v.serverResponse),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(v.operationType){case"signIn":const vt=yield _r._fromIdTokenResponse(x,v.operationType,$e);return yield x._updateCurrentUser(vt.user),vt;case"reauthenticate":return we(v.user,x,"internal-error"),_r._forOperation(v.user,v.operationType,$e);default:it(x,"internal-error")}});return function(_e){return Q.apply(this,arguments)}}())}resolveSignIn(_){var v=this;return(0,a.Z)(function*(){return v.signInResolver(_)})()}}function kd(E,_){return Bt(E,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:E.tenantId},_))}class ap{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(x=>Ol._fromServerResponse(_.auth,x)))})}static _fromUser(_){return new ap(_)}getSession(){var _=this;return(0,a.Z)(function*(){return Gr._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,v){var x=this;return(0,a.Z)(function*(){const k=_,O=yield x.getSession(),Q=yield ss(x.user,k._process(x.user.auth,O,v));return yield x.user._updateTokensIfNecessary(Q),x.user.reload()})()}unenroll(_){var v=this;return(0,a.Z)(function*(){const x="string"==typeof _?_:_.uid,k=yield v.user.getIdToken(),O=yield ss(v.user,function(E,_){return Bt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:E.tenantId},_))}(v.user.auth,{idToken:k,mfaEnrollmentId:x}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Q})=>Q!==x),yield v.user._updateTokensIfNecessary(O);try{yield v.user.reload()}catch(Q){if("auth/user-token-expired"!==Q.code)throw Q}})()}}const As=new WeakMap,lp="__sak";class i_{constructor(_,v){this.storage=_,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,v){return this.storage.setItem(_,JSON.stringify(v)),Promise.resolve()}_get(_){const v=this.storage.getItem(_);return Promise.resolve(v?JSON.parse(v):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}}const dp=(()=>{class E extends i_{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,U.z$)();return yd(E)||Ai(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=He(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const x of Object.keys(this.listeners)){const k=this.storage.getItem(x),O=this.localCache[x];k!==O&&v(x,O,k)}}onStorageEvent(v,x=!1){if(!v.key)return void this.forAllChangedKeys((_e,Oe,$e)=>{this.notifyListeners(_e,$e)});const k=v.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _e=this.storage.getItem(k);if(v.newValue!==_e)null!==v.newValue?this.storage.setItem(k,v.newValue):this.storage.removeItem(k);else if(this.localCache[k]===v.newValue&&!x)return}const O=()=>{const _e=this.storage.getItem(k);!x&&this.localCache[k]===_e||this.notifyListeners(k,_e)},Q=this.storage.getItem(k);(0,U.w1)()&&10===document.documentMode&&Q!==v.newValue&&v.newValue!==v.oldValue?setTimeout(O,10):O()}notifyListeners(v,x){this.localCache[v]=x;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,x,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:x,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,x){var k=()=>super._set,O=this;return(0,a.Z)(function*(){yield k().call(O,v,x),O.localCache[v]=JSON.stringify(x)})()}_get(v){var x=()=>super._get,k=this;return(0,a.Z)(function*(){const O=yield x().call(k,v);return k.localCache[v]=JSON.stringify(O),O})()}_remove(v){var x=()=>super._remove,k=this;return(0,a.Z)(function*(){yield x().call(k,v),delete k.localCache[v]})()}}return E.type="LOCAL",E})(),Is=(()=>{class E extends i_{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,x){}_removeListener(v,x){}}return E.type="SESSION",E})();let ks=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const x=this.receivers.find(O=>O.isListeningto(v));if(x)return x;const k=new E(v);return this.receivers.push(k),k}isListeningto(v){return this.eventTarget===v}handleEvent(v){var x=this;return(0,a.Z)(function*(){const k=v,{eventId:O,eventType:Q,data:_e}=k.data,Oe=x.handlersMap[Q];if(!(null==Oe?void 0:Oe.size))return;k.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const $e=Array.from(Oe).map(function(){var st=(0,a.Z)(function*(Zn){return Zn(k.origin,_e)});return function(Zn){return st.apply(this,arguments)}}()),vt=yield function(E){return Promise.all(E.map(function(){var _=(0,a.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(x){return{fulfilled:!1,reason:x}}});return function(v){return _.apply(this,arguments)}}()))}($e);k.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:vt})})()}_subscribe(v,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(x)}_unsubscribe(v,x){this.handlersMap[v]&&x&&this.handlersMap[v].delete(x),(!x||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Qo(E="",_=10){let v="";for(let x=0;x<_;x++)v+=Math.floor(10*Math.random());return E+v}class s_{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,v,x=50){var k=this;return(0,a.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Q,_e;return new Promise((Oe,$e)=>{const vt=Qo("",20);O.port1.start();const st=setTimeout(()=>{$e(new Error("unsupported_event"))},x);_e={messageChannel:O,onMessage(Zn){const or=Zn;if(or.data.eventId===vt)switch(or.data.status){case"ack":clearTimeout(st),Q=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(Q),Oe(or.data.response);break;default:clearTimeout(st),clearTimeout(Q),$e(new Error("invalid_response"))}}},k.handlers.add(_e),O.port1.addEventListener("message",_e.onMessage),k.target.postMessage({eventType:_,eventId:vt,data:v},[O.port2])}).finally(()=>{_e&&k.removeMessageHandler(_e)})})()}}function Sn(){return window}function o_(){return void 0!==Sn().WorkerGlobalScope&&"function"==typeof Sn().importScripts}function Od(){return(Od=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const hp="firebaseLocalStorageDb",fp="firebaseLocalStorage",Rb="fbase_key";class po{constructor(_){this.request=_}toPromise(){return new Promise((_,v)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function iu(E,_){return E.transaction([fp],_?"readwrite":"readonly").objectStore(fp)}function je(){const E=indexedDB.open(hp,1);return new Promise((_,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const x=E.result;try{x.createObjectStore(fp,{keyPath:Rb})}catch(k){v(k)}}),E.addEventListener("success",(0,a.Z)(function*(){const x=E.result;x.objectStoreNames.contains(fp)?_(x):(x.close(),yield function(){const E=indexedDB.deleteDatabase(hp);return new po(E).toPromise()}(),_(yield je()))}))})}function ke(E,_,v){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,a.Z)(function*(E,_,v){const x=iu(E,!0).put({[Rb]:_,value:v});return new po(x).toPromise()})).apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(E,_){const v=iu(E,!1).get(_),x=yield new po(v).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Vl(E,_){const v=iu(E,!0).delete(_);return new po(v).toPromise()}const Jo=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,a.Z)(function*(){return v.db||(v.db=yield je()),v.db})()}_withRetries(v){var x=this;return(0,a.Z)(function*(){let k=0;for(;;)try{const O=yield x._openDb();return yield v(O)}catch(O){if(k++>3)throw O;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,a.Z)(function*(){return o_()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,a.Z)(function*(){v.receiver=ks._getInstance(o_()?self:null),v.receiver._subscribe("keyChanged",function(){var x=(0,a.Z)(function*(k,O){return{keyProcessed:(yield v._poll()).includes(O.key)}});return function(k,O){return x.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var x=(0,a.Z)(function*(k,O){return["keyChanged"]});return function(k,O){return x.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,a.Z)(function*(){var x,k;if(v.activeServiceWorker=yield function(){return Od.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new s_(v.activeServiceWorker);const O=yield v.sender._send("ping",{},800);!O||(null===(x=O[0])||void 0===x?void 0:x.fulfilled)&&(null===(k=O[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var x=this;return(0,a.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:v},x.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const v=yield je();return yield ke(v,lp,"1"),yield Vl(v,lp),!0}catch(v){}return!1})()}_withPendingWrite(v){var x=this;return(0,a.Z)(function*(){x.pendingWrites++;try{yield v()}finally{x.pendingWrites--}})()}_set(v,x){var k=this;return(0,a.Z)(function*(){return k._withPendingWrite((0,a.Z)(function*(){return yield k._withRetries(O=>ke(O,v,x)),k.localCache[v]=x,k.notifyServiceWorker(v)}))})()}_get(v){var x=this;return(0,a.Z)(function*(){const k=yield x._withRetries(O=>function(E,_){return Fa.apply(this,arguments)}(O,v));return x.localCache[v]=k,k})()}_remove(v){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(k=>Vl(k,v)),delete x.localCache[v],x.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,a.Z)(function*(){const x=yield v._withRetries(Q=>{const _e=iu(Q,!1).getAll();return new po(_e).toPromise()});if(!x)return[];if(0!==v.pendingWrites)return[];const k=[],O=new Set;for(const{fbase_key:Q,value:_e}of x)O.add(Q),JSON.stringify(v.localCache[Q])!==JSON.stringify(_e)&&(v.notifyListeners(Q,_e),k.push(Q));for(const Q of Object.keys(v.localCache))v.localCache[Q]&&!O.has(Q)&&(v.notifyListeners(Q,null),k.push(Q));return k})()}notifyListeners(v,x){this.localCache[v]=x;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(x)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function on(E,_){return Bt(E,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:E.tenantId},_))}function ru(){return(ru=(0,a.Z)(function*(E){return(yield Bt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pp(E){return new Promise((_,v)=>{const x=document.createElement("script");x.setAttribute("src",E),x.onload=_,x.onerror=k=>{const O=ct("internal-error");O.customData=k,v(O)},x.type="text/javascript",x.charset="UTF-8",function(){var E,_;return null!==(_=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==_?_:document}().appendChild(x)})}function Nd(E){return`__${E}${Math.floor(1e6*Math.random())}`}const jr=1e12;class Ul{constructor(_){this.auth=_,this.counter=jr,this._widgets=new Map}render(_,v){const x=this.counter;return this._widgets.set(x,new Xo(_,this.auth.name,v||{})),this.counter++,x}reset(_){var v;const x=_||jr;null===(v=this._widgets.get(x))||void 0===v||v.delete(),this._widgets.delete(x)}getResponse(_){var v;return(null===(v=this._widgets.get(_||jr))||void 0===v?void 0:v.getResponse())||""}execute(_){var v=this;return(0,a.Z)(function*(){var x;return null===(x=v._widgets.get(_||jr))||void 0===x||x.execute(),""})()}}class Xo{constructor(_,v,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof _?document.getElementById(_):_;we(k,"argument-error",{appName:v}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const _=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<50;x++)_.push(v.charAt(Math.floor(Math.random()*v.length)));return _.join("")}();const{callback:_,"expired-callback":v}=this.params;if(_)try{_(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Yr=Nd("rcb"),WD=new ut(3e4,6e4);class qr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Sn().grecaptcha}load(_,v=""){return we((E=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),_,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Sn().grecaptcha):new Promise((x,k)=>{const O=Sn().setTimeout(()=>{k(ct(_,"network-request-failed"))},WD.get());Sn()[Yr]=()=>{Sn().clearTimeout(O),delete Sn()[Yr];const _e=Sn().grecaptcha;if(!_e)return void k(ct(_,"internal-error"));const Oe=_e.render;_e.render=($e,vt)=>{const st=Oe($e,vt);return this.counter++,st},this.hostLanguage=v,x(_e)},pp(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Yr,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(O),k(ct(_,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Sn().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pb{load(_){return(0,a.Z)(function*(){return new Ul(_)})()}clearedOneInstance(){}}const En="recaptcha",KD={theme:"light",type:"image"};class mp{constructor(_,v=Object.assign({},KD),x){this.parameters=v,this.type=En,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(x),this.isInvisible="invisible"===this.parameters.size,we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof _?document.getElementById(_):_;we(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pb:new qr,this.validateStartingState()}verify(){var _=this;return(0,a.Z)(function*(){_.assertNotDestroyed();const v=yield _.render(),x=_.getAssertedRecaptcha();return x.getResponse(v)||new Promise(O=>{const Q=_e=>{!_e||(_.tokenChangeListeners.delete(Q),O(_e))};_.tokenChangeListeners.add(Q),_.isInvisible&&x.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){we(!this.parameters.sitekey,this.auth,"argument-error"),we(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),we("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return v=>{if(this.tokenChangeListeners.forEach(x=>x(v)),"function"==typeof _)_(v);else if("string"==typeof _){const x=Sn()[_];"function"==typeof x&&x(v)}}}assertNotDestroyed(){we(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,a.Z)(function*(){if(yield _.init(),!_.widgetId){let v=_.container;if(!_.isInvisible){const x=document.createElement("div");v.appendChild(x),v=x}_.widgetId=_.getAssertedRecaptcha().render(v,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,a.Z)(function*(){we(Ke()&&!o_(),_.auth,"internal-error"),yield function(){let E=null;return new Promise(_=>{"complete"!==document.readyState?(E=()=>_(),window.addEventListener("load",E)):_()}).catch(_=>{throw E&&window.removeEventListener("load",E),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const v=yield function(E){return ru.apply(this,arguments)}(_.auth);we(v,_.auth,"internal-error"),_.parameters.sitekey=v})()}getAssertedRecaptcha(){return we(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class c_{constructor(_,v){this.verificationId=_,this.onConfirmation=v}confirm(_){const v=Il._fromVerification(this.verificationId,_);return this.onConfirmation(v)}}function Jt(){return(Jt=(0,a.Z)(function*(E,_,v){const x=vn(E),k=yield gp(x,_,(0,U.m9)(v));return new c_(k,O=>ji(x,O))})).apply(this,arguments)}function u_(){return(u_=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E);yield uo(!1,x,"phone");const k=yield gp(x.auth,_,(0,U.m9)(v));return new c_(k,O=>Ed(x,O))})).apply(this,arguments)}function Nt(){return(Nt=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E),k=yield gp(x.auth,_,(0,U.m9)(v));return new c_(k,O=>sr(x,O))})).apply(this,arguments)}function gp(E,_,v){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(E,_,v){var x;const k=yield v.verify();try{let O;if(we("string"==typeof k,E,"argument-error"),we(v.type===En,E,"argument-error"),O="string"==typeof _?{phoneNumber:_}:_,"session"in O){const Q=O.session;if("phoneNumber"in O)return we("enroll"===Q.type,E,"internal-error"),(yield kd(E,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{we("signin"===Q.type,E,"internal-error");const _e=(null===(x=O.multiFactorHint)||void 0===x?void 0:x.uid)||O.multiFactorUid;return we(_e,E,"missing-multi-factor-info"),(yield on(E,{mfaPendingCredential:Q.credential,mfaEnrollmentId:_e,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield ND(E,{phoneNumber:O.phoneNumber,recaptchaToken:k});return Q}}finally{v._reset()}})).apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(E,_){yield bn((0,U.m9)(E),_)})).apply(this,arguments)}let ea=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=vn(v)}verifyPhoneNumber(v,x){return gp(this.auth,v,(0,U.m9)(x))}static credential(v,x){return Il._fromVerification(v,x)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:x,temporaryProof:k}=v;return x&&k?Il._fromTokenResponse(x,k):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Cn(E,_){return _?fe(_):(we(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Ba extends Br{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ni(_,this._buildIdpRequest())}_linkToIdToken(_,v){return ni(_,this._buildIdpRequest(v))}_getReauthenticationResolver(_){return ni(_,this._buildIdpRequest())}_buildIdpRequest(_){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(v.idToken=_),v}}function _p(E){return Kg(E.auth,new Ba(E),E.bypassAuthState)}function $r(E){const{auth:_,user:v}=E;return we(v,_,"internal-error"),wn(v,new Ba(E),E.bypassAuthState)}function Rs(E){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(E){const{auth:_,user:v}=E;return we(v,_,"internal-error"),bn(v,new Ba(E),E.bypassAuthState)})).apply(this,arguments)}class ta{constructor(_,v,x,k,O=!1){this.auth=_,this.resolver=x,this.user=k,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var _=this;return new Promise(function(){var v=(0,a.Z)(function*(x,k){_.pendingPromise={resolve:x,reject:k};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(O){_.reject(O)}});return function(x,k){return v.apply(this,arguments)}}())}onAuthEvent(_){var v=this;return(0,a.Z)(function*(){const{urlResponse:x,sessionId:k,postBody:O,tenantId:Q,error:_e,type:Oe}=_;if(_e)return void v.reject(_e);const $e={auth:v.auth,requestUri:x,sessionId:k,tenantId:Q||void 0,postBody:O||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Oe)($e))}catch(vt){v.reject(vt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return _p;case"linkViaPopup":case"linkViaRedirect":return Rs;case"reauthViaPopup":case"reauthViaRedirect":return $r;default:it(this.auth,"internal-error")}}resolve(_){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const na=new ut(2e3,1e4);function Bd(){return(Bd=(0,a.Z)(function*(E,_,v){const x=vn(E);At(E,_,Ts);const k=Cn(x,v);return new An(x,"signInViaPopup",_,k).executeNotNull()})).apply(this,arguments)}function h_(){return(h_=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E);At(x.auth,_,Ts);const k=Cn(x.auth,v);return new An(x.auth,"reauthViaPopup",_,k,x).executeNotNull()})).apply(this,arguments)}function Vd(){return(Vd=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E);At(x.auth,_,Ts);const k=Cn(x.auth,v);return new An(x.auth,"linkViaPopup",_,k,x).executeNotNull()})).apply(this,arguments)}let An=(()=>{class E extends ta{constructor(v,x,k,O,Q){super(v,x,O,Q),this.provider=k,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,a.Z)(function*(){const x=yield v.execute();return we(x,v.auth,"internal-error"),x})()}onExecution(){var v=this;return(0,a.Z)(function*(){ce(1===v.filter.length,"Popup operations only handle one event");const x=Qo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],x),v.authWindow.associatedEvent=x,v.resolver._originValidation(v.auth).catch(k=>{v.reject(k)}),v.resolver._isIframeWebStorageSupported(v.auth,k=>{k||v.reject(ct(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ct(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var x,k;this.pollId=(null===(k=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ct(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,na.get())};v()}}return E.currentPopupAction=null,E})();const ia=new Map;class Zt extends ta{constructor(_,v,x=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,x),this.eventId=null}execute(){var _=()=>super.execute,v=this;return(0,a.Z)(function*(){let x=ia.get(v.auth._key());if(!x){try{const O=(yield function(E,_){return vp.apply(this,arguments)}(v.resolver,v.auth))?yield _().call(v):null;x=()=>Promise.resolve(O)}catch(k){x=()=>Promise.reject(k)}ia.set(v.auth._key(),x)}return x()})()}onAuthEvent(_){var v=()=>super.onAuthEvent,x=this;return(0,a.Z)(function*(){if("signInViaRedirect"===_.type)return v().call(x,_);if("unknown"!==_.type){if(_.eventId){const k=yield x.auth._redirectUserForId(_.eventId);if(k)return x.user=k,v().call(x,_);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function vp(){return(vp=(0,a.Z)(function*(E,_){const v=Ha(_),x="true"===(yield Ua(E)._get(v));return yield Ua(E)._remove(v),x})).apply(this,arguments)}function bp(E,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,a.Z)(function*(E,_){return Ua(E)._set(Ha(_),"true")})).apply(this,arguments)}function Ua(E){return fe(E._redirectPersistence)}function Ha(E){return jn("pendingRedirect",E.config.apiKey,E.name)}function f_(){return(f_=(0,a.Z)(function*(E,_,v){const x=vn(E);At(E,_,Ts);const k=Cn(x,v);return yield bp(k,x),k._openRedirect(x,_,"signInViaRedirect")})).apply(this,arguments)}function ra(){return(ra=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E);At(x.auth,_,Ts);const k=Cn(x.auth,v);yield bp(k,x.auth);const O=yield Et(x);return k._openRedirect(x.auth,_,"reauthViaRedirect",O)})).apply(this,arguments)}function Dp(){return(Dp=(0,a.Z)(function*(E,_,v){const x=(0,U.m9)(E);At(x.auth,_,Ts);const k=Cn(x.auth,v);yield uo(!1,x,_.providerId),yield bp(k,x.auth);const O=yield Et(x);return k._openRedirect(x.auth,_,"linkViaRedirect",O)})).apply(this,arguments)}function g_(){return(g_=(0,a.Z)(function*(E,_){return yield vn(E)._initializationPromise,Hl(E,_,!1)})).apply(this,arguments)}function Hl(E,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.Z)(function*(E,_,v=!1){const x=vn(E),k=Cn(x,_),Q=yield new Zt(x,k,v).execute();return Q&&!v&&(delete Q.user._redirectEventId,yield x._persistUserIfCurrent(Q.user),yield x._setRedirectUser(null,_)),Q})).apply(this,arguments)}function Et(E){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,a.Z)(function*(E){const _=Qo(`${E.uid}:::`);return E._redirectEventId=_,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),_})).apply(this,arguments)}class Hd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let v=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(_,x)&&(v=!0,this.sendToConsumer(_,x),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oa(E);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=_,v=!0)),v}sendToConsumer(_,v){var x;if(_.error&&!oa(_)){const k=(null===(x=_.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";v.onError(ct(this.auth,k))}else v.onAuthEvent(_)}isEventForConsumer(_,v){const x=null===v.eventId||!!_.eventId&&_.eventId===v.eventId;return v.filter.includes(_.type)&&x}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gd(_))}saveEventToCache(_){this.cachedEventUids.add(Gd(_)),this.lastProcessedEventTime=Date.now()}}function Gd(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(_=>_).join("-")}function oa({type:E,error:_}){return"unknown"===E&&"auth/no-auth-event"===(null==_?void 0:_.code)}function __(E){return vr.apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(E,_={}){return Bt(E,"GET","/v1/projects",_)})).apply(this,arguments)}const Sp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bb=/^https?/;function Os(){return(Os=(0,a.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:_}=yield __(E);for(const v of _)try{if($n(v))return}catch(x){}it(E,"unauthorized-domain")})).apply(this,arguments)}function $n(E){const _=Fe(),{protocol:v,hostname:x}=new URL(_);if(E.startsWith("chrome-extension://")){const Q=new URL(E);return""===Q.hostname&&""===x?"chrome-extension:"===v&&E.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===v&&Q.hostname===x}if(!Bb.test(v))return!1;if(Sp.test(E))return x===E;const k=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(x)}const Ci=new ut(3e4,6e4);function y_(){const E=Sn().___jsl;if(null==E?void 0:E.H)for(const _ of Object.keys(E.H))if(E.H[_].r=E.H[_].r||[],E.H[_].L=E.H[_].L||[],E.H[_].r=[...E.H[_].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let ja=null;function au(E){return ja=ja||function(E){return new Promise((_,v)=>{var x,k,O;function Q(){y_(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{y_(),v(ct(E,"network-request-failed"))},timeout:Ci.get()})}if(null===(k=null===(x=Sn().gapi)||void 0===x?void 0:x.iframes)||void 0===k?void 0:k.Iframe)_(gapi.iframes.getContext());else{if(!(null===(O=Sn().gapi)||void 0===O?void 0:O.load)){const _e=Nd("iframefcb");return Sn()[_e]=()=>{gapi.load?Q():v(ct(E,"network-request-failed"))},pp(`https://apis.google.com/js/api.js?onload=${_e}`)}Q()}}).catch(_=>{throw ja=null,_})}(E),ja}const b_=new ut(5e3,15e3),za={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Gl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jd(E){const _=E.config;we(_.authDomain,E,"auth-domain-config-required");const v=_.emulator?xn(_,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,x={apiKey:_.apiKey,appName:E.name,v:oe.SDK_VERSION},k=Gl.get(E.config.apiHost);k&&(x.eid=k);const O=E._getFrameworks();return O.length&&(x.fw=O.join(",")),`${v}?${(0,U.xO)(x).slice(1)}`}function Ot(){return(Ot=(0,a.Z)(function*(E){const _=yield au(E),v=Sn().gapi;return we(v,E,"internal-error"),_.open({where:document.body,url:jd(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:za,dontclear:!0},x=>new Promise(function(){var k=(0,a.Z)(function*(O,Q){yield x.restyle({setHideOnLeave:!1});const _e=ct(E,"network-request-failed"),Oe=Sn().setTimeout(()=>{Q(_e)},b_.get());function $e(){Sn().clearTimeout(Oe),O(x)}x.ping($e).then($e,()=>{Q(_e)})});return function(O,Q){return k.apply(this,arguments)}}()))})).apply(this,arguments)}const lu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zl{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function uu(E,_,v,x,k,O){we(E.config.authDomain,E,"auth-domain-config-required"),we(E.config.apiKey,E,"invalid-api-key");const Q={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:x,v:oe.SDK_VERSION,eventId:k};if(_ instanceof Ts){_.setDefaultLanguage(E.languageCode),Q.providerId=_.providerId||"",(0,U.xb)(_.getCustomParameters())||(Q.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Oe,$e]of Object.entries(O||{}))Q[Oe]=$e}if(_ instanceof qc){const Oe=_.getScopes().filter($e=>""!==$e);Oe.length>0&&(Q.scopes=Oe.join(","))}E.tenantId&&(Q.tid=E.tenantId);const _e=Q;for(const Oe of Object.keys(_e))void 0===_e[Oe]&&delete _e[Oe];return`${function({config:E}){return E.emulator?xn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,U.xO)(_e).slice(1)}`}const qa="webStorageSupport";class _o extends class{constructor(_){this.factorId=_}_process(_,v,x){switch(v.type){case"enroll":return this._finalizeEnroll(_,v.credential,x);case"signin":return this._finalizeSignIn(_,v.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new _o(_)}_finalizeEnroll(_,v,x){return function(E,_){return Bt(E,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:E.tenantId},_))}(_,{idToken:v,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,v){return function(E,_){return Bt(E,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:E.tenantId},_))}(_,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Hb{constructor(){}static assertion(_){return _o._fromCredential(_)}}var E;class jb{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var v=this;return(0,a.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const v=this.auth.onIdTokenChanged(x=>{var k;_((null===(k=x)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,v),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const v=this.internalListeners.get(_);!v||(this.internalListeners.delete(_),v(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aa(){return window}function fu(){return(fu=(0,a.Z)(function*(E,_,v){var x;const{BuildInfo:k}=aa();ce(_.sessionId,"AuthEvent did not contain a session ID");const O=yield x_(_.sessionId),Q={};return Ai()?Q.ibi=k.packageName:Ml()?Q.apn=k.packageName:it(E,"operation-not-supported-in-this-environment"),k.displayName&&(Q.appDisplayName=k.displayName),Q.sessionId=O,uu(E,v,_.type,void 0,null!==(x=_.eventId)&&void 0!==x?x:void 0,Q)})).apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(E){const{BuildInfo:_}=aa(),v={};Ai()?v.iosBundleId=_.packageName:Ml()?v.androidPackageName=_.packageName:it(E,"operation-not-supported-in-this-environment"),yield __(E,v)})).apply(this,arguments)}function Op(){return(Op=(0,a.Z)(function*(E,_,v){const{cordova:x}=aa();let k=()=>{};try{yield new Promise((O,Q)=>{let _e=null;function Oe(){var st;O();const Zn=null===(st=x.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Zn&&Zn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function $e(){_e||(_e=window.setTimeout(()=>{Q(ct(E,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}_.addPassiveListener(Oe),document.addEventListener("resume",$e,!1),Ml()&&document.addEventListener("visibilitychange",vt,!1),k=()=>{_.removePassiveListener(Oe),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",vt,!1),_e&&window.clearTimeout(_e)}})}finally{k()}})).apply(this,arguments)}function x_(E){return M_.apply(this,arguments)}function M_(){return(M_=(0,a.Z)(function*(E){const _=$d(E),v=yield crypto.subtle.digest("SHA-256",_);return Array.from(new Uint8Array(v)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function $d(E){if(ce(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const _=new ArrayBuffer(E.length),v=new Uint8Array(_);for(let x=0;x<E.length;x++)v[x]=E.charCodeAt(x);return v}E="Browser",(0,oe._registerComponent)(new q.wA("auth",(_,{options:v})=>{const x=_.getProvider("app").getImmediate(),{apiKey:k,authDomain:O}=x.options;return(Q=>{we(k&&!k.includes(":"),"invalid-api-key",{appName:Q.name}),we(!(null==O?void 0:O.includes(":")),"argument-error",{appName:Q.name});const _e={apiKey:k,authDomain:O,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sn(E)},Oe=new gr(Q,_e);return function(E,_){const v=(null==_?void 0:_.persistence)||[],x=(Array.isArray(v)?v:[v]).map(fe);(null==_?void 0:_.errorMap)&&E._updateErrorMap(_.errorMap),E._initializeWithPersistence(x,null==_?void 0:_.popupRedirectResolver)}(Oe,v),Oe})(x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,v,x)=>{_.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new q.wA("auth-internal",_=>{const v=vn(_.getProvider("auth").getImmediate());return new jb(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)("@firebase/auth","0.17.2",void 0);class Zd extends Hd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_=>{this.resolveInialized=_})}addPassiveListener(_){this.passiveListeners.add(_)}removePassiveListener(_){this.passiveListeners.delete(_)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(_)),super.onEvent(_)}initialized(){var _=this;return(0,a.Z)(function*(){yield _.initPromise})()}}function pu(E){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,a.Z)(function*(E){const _=yield S_()._get(T_(E));return _&&(yield S_()._remove(T_(E))),_})).apply(this,arguments)}function Yb(){const E=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const x=Math.floor(Math.random()*_.length);E.push(_.charAt(x))}return E.join("")}function S_(){return fe(dp)}function T_(E){return jn("authEvent",E.config.apiKey,E.name)}function Fs(E){if(!(null==E?void 0:E.includes("?")))return{};const[_,...v]=E.split("?");return(0,U.zd)(v.join("?"))}function I_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ct("no-auth-event")}}function la(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function Kd(E=(0,U.z$)()){return!("file:"!==la()&&"ionic:"!==la()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qd(){try{const E=self.localStorage,_=Qo();if(E)return E.setItem(_,"1"),E.removeItem(_),!function(E=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,U.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,U.hl)()}catch(E){return Jd()&&(0,U.hl)()}return!1}function Jd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xd(){return("http:"===la()||"https:"===la()||(0,U.ru)()||Kd())&&!((0,U.b$)()||(0,U.UG)())&&Qd()&&!Jd()}function F_(){return Kd()&&"undefined"!=typeof document}function Ps(){return(Ps=(0,a.Z)(function*(){return!!F_()&&new Promise(E=>{const _=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_),E(!0)})})})).apply(this,arguments)}const br={LOCAL:"local",NONE:"none",SESSION:"session"},Ns=we,Wb="persistence";function Ei(E){return yu.apply(this,arguments)}function yu(){return(yu=(0,a.Z)(function*(E){yield E._initializationPromise;const _=Wa(),v=jn(Wb,E.config.apiKey,E.name);(null==_?void 0:_.sessionStorage)&&_.sessionStorage.setItem(v,E._getPersistence())})).apply(this,arguments)}function Wa(){return"undefined"!=typeof window?window:null}const Di=we;class wr{constructor(){this.browserResolver=fe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Is,this._completeRedirectFn=Hl}_openPopup(_,v,x,k){var O=this;return(0,a.Z)(function*(){var Q;ce(null===(Q=O.eventManagers[_._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const _e=uu(_,v,x,Fe(),k);return function(E,_,v,x=500,k=600){const O=Math.max((window.screen.availHeight-k)/2,0).toString(),Q=Math.max((window.screen.availWidth-x)/2,0).toString();let _e="";const Oe=Object.assign(Object.assign({},lu),{width:x.toString(),height:k.toString(),top:O,left:Q}),$e=(0,U.z$)().toLowerCase();v&&(_e=Gf($e)?"_blank":v),xl($e)&&(_=_||"http://localhost",Oe.scrollbars="yes");const vt=Object.entries(Oe).reduce((Zn,[or,vu])=>`${Zn}${or}=${vu},`,"");if(function(E=(0,U.z$)()){var _;return Ai(E)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}($e)&&"_self"!==_e)return function(E,_){const v=document.createElement("a");v.href=E,v.target=_;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(x)}(_||"",_e),new zl(null);const st=window.open(_||"",_e,vt);we(st,E,"popup-blocked");try{st.focus()}catch(Zn){}return new zl(st)}(_,_e,Qo())})()}_openRedirect(_,v,x,k){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(_),E=uu(_,v,x,Fe(),k),Sn().location.href=E,new Promise(()=>{});var E})()}_initialize(_){const v=_._key();if(this.eventManagers[v]){const{manager:k,promise:O}=this.eventManagers[v];return k?Promise.resolve(k):(ce(O,"If manager is not set, promise should be"),O)}const x=this.initAndGetManager(_);return this.eventManagers[v]={promise:x},x}initAndGetManager(_){var v=this;return(0,a.Z)(function*(){const x=yield function(E){return Ot.apply(this,arguments)}(_),k=new Hd(_);return x.register("authEvent",O=>(we(null==O?void 0:O.authEvent,_,"invalid-auth-event"),{status:k.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[_._key()]={manager:k},v.iframes[_._key()]=x,k})()}_isIframeWebStorageSupported(_,v){this.iframes[_._key()].send(qa,{type:qa},k=>{var O;const Q=null===(O=null==k?void 0:k[0])||void 0===O?void 0:O[qa];void 0!==Q&&v(!!Q),it(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return Os.apply(this,arguments)}(_)),this.originValidationPromises[v]}get _shouldInitProactively(){return He()||yd()||Ai()}}),this.cordovaResolver=fe(class{constructor(){this._redirectPersistence=Is,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Hl}_initialize(_){var v=this;return(0,a.Z)(function*(){const x=_._key();let k=v.eventManagers.get(x);return k||(k=new Zd(_),v.eventManagers.set(x,k),v.attachCallbackListeners(_,k)),k})()}_openPopup(_){it(_,"operation-not-supported-in-this-environment")}_openRedirect(_,v,x,k){var O=this;return(0,a.Z)(function*(){!function(E){var _,v,x,k,O,Q,_e,Oe,$e,vt;const st=aa();we("function"==typeof(null===(_=null==st?void 0:st.universalLinks)||void 0===_?void 0:_.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),we(void 0!==(null===(v=null==st?void 0:st.BuildInfo)||void 0===v?void 0:v.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),we("function"==typeof(null===(O=null===(k=null===(x=null==st?void 0:st.cordova)||void 0===x?void 0:x.plugins)||void 0===k?void 0:k.browsertab)||void 0===O?void 0:O.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(Oe=null===(_e=null===(Q=null==st?void 0:st.cordova)||void 0===Q?void 0:Q.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Oe?void 0:Oe.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),we("function"==typeof(null===(vt=null===($e=null==st?void 0:st.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===vt?void 0:vt.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_);const Q=yield O._initialize(_);yield Q.initialized(),Q.resetRedirect(),ia.clear(),yield O._originValidation(_);const _e=function(E,_,v=null){return{type:_,eventId:v,urlResponse:null,sessionId:Yb(),postBody:null,tenantId:E.tenantId,error:ct(E,"no-auth-event")}}(_,x,k);yield function(E,_){return S_()._set(T_(E),_)}(_,_e);const Oe=yield function(E,_,v){return fu.apply(this,arguments)}(_,_e,v),$e=yield function(E){const{cordova:_}=aa();return new Promise(v=>{_.plugins.browsertab.isAvailable(x=>{let k=null;x?_.plugins.browsertab.openUrl(E):k=_.InAppBrowser.open(E,function(E=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),v(k)})})}(Oe);return function(E,_,v){return Op.apply(this,arguments)}(_,Q,$e)})()}_isIframeWebStorageSupported(_,v){throw new Error("Method not implemented.")}_originValidation(_){const v=_._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return $a.apply(this,arguments)}(_)),this.originValidationPromises[v]}attachCallbackListeners(_,v){const{universalLinks:x,handleOpenURL:k,BuildInfo:O}=aa(),Q=setTimeout((0,a.Z)(function*(){yield pu(_),v.onEvent(I_())}),500),_e=function(){var vt=(0,a.Z)(function*(st){clearTimeout(Q);const Zn=yield pu(_);let or=null;Zn&&(null==st?void 0:st.url)&&(or=function(E,_){var v,x;const k=function(E){const _=Fs(E),v=_.link?decodeURIComponent(_.link):void 0,x=Fs(v).link,k=_.deep_link_id?decodeURIComponent(_.deep_link_id):void 0;return Fs(k).link||k||x||v||E}(_);if(k.includes("/__/auth/callback")){const O=Fs(k),Q=O.firebaseError?function(E){try{return JSON.parse(E)}catch(_){return null}}(decodeURIComponent(O.firebaseError)):null,_e=null===(x=null===(v=null==Q?void 0:Q.code)||void 0===v?void 0:v.split("auth/"))||void 0===x?void 0:x[1],Oe=_e?ct(_e):null;return Oe?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:k,postBody:null}}return null}(Zn,st.url)),v.onEvent(or||I_())});return function(Zn){return vt.apply(this,arguments)}}();void 0!==x&&"function"==typeof x.subscribe&&x.subscribe(null,_e);const Oe=k,$e=`${O.packageName.toLowerCase()}://`;aa().handleOpenURL=function(){var vt=(0,a.Z)(function*(st){if(st.toLowerCase().startsWith($e)&&_e({url:st}),"function"==typeof Oe)try{Oe(st)}catch(Zn){console.error(Zn)}});return function(st){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Is,this._completeRedirectFn=Hl}_initialize(_){var v=this;return(0,a.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(_)})()}_openPopup(_,v,x,k){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(_,v,x,k)})()}_openRedirect(_,v,x,k){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(_,v,x,k)})()}_isIframeWebStorageSupported(_,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_,v)}_originValidation(_){return this.assertedUnderlyingResolver._originValidation(_)}get _shouldInitProactively(){return F_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Di(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _=this;return(0,a.Z)(function*(){if(_.underlyingResolver)return;const v=yield function(){return Ps.apply(this,arguments)}();_.underlyingResolver=v?_.cordovaResolver:_.browserResolver})()}}function eh(E){return E.unwrap()}function Vp(E){return Up(E)}function Cr(E,_){var v;const x=null===(v=_.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===_.code)_.resolver=new Qb(E,function(E,_){var v;const x=(0,U.m9)(E),k=_;return we(_.operationType,x,"argument-error"),we(null===(v=k.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,x,"argument-error"),Ll._fromError(x,k)}(E,_));else if(x){const k=Up(_),O=_;k&&(O.credential=k,O.tenantId=x.tenantId||void 0,O.email=x.email||void 0,O.phoneNumber=x.phoneNumber||void 0)}}function Up(E){const{_tokenResponse:_}=E instanceof U.ZR?E.customData:E;if(!_)return null;if(!(E instanceof U.ZR)&&"temporaryProof"in _&&"phoneNumber"in _)return ea.credentialFromResult(E);const v=_.providerId;if(!v||"password"===v)return null;let x;switch(v){case"google.com":x=Zo;break;case"facebook.com":x=zf;break;case"github.com":x=$g;break;case"twitter.com":x=qf;break;default:const{oauthIdToken:k,oauthAccessToken:O,oauthTokenSecret:Q,pendingToken:_e,nonce:Oe}=_;return O||Q||k||_e?_e?v.startsWith("saml.")?Wo._create(v,_e):Ss._fromParams({providerId:v,signInMethod:v,pendingToken:_e,idToken:k,accessToken:O}):new Aa(v).credential({idToken:k,accessToken:O,rawNonce:Oe}):null}return E instanceof U.ZR?x.credentialFromError(E):x.credentialFromResult(E)}function ki(E,_){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,a.Z)(function*(E,_){let v;try{v=yield _}catch(O){throw O instanceof U.ZR&&Cr(E,O),O}const{operationType:x,user:k}=v;return{operationType:x,credential:Vp(v),additionalUserInfo:Ab(v),user:bo.getOrCreate(k)}})).apply(this,arguments)}function Ka(E,_){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,a.Z)(function*(E,_){const v=yield _;return{verificationId:v.verificationId,confirm:x=>ki(E,v.confirm(x))}})).apply(this,arguments)}class Qb{constructor(_,v){this.resolver=v,this.auth=function(E){return E.wrapped()}(_)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_){return ki(eh(this.auth),this.resolver.resolveSignIn(_))}}class bo{constructor(_){this._delegate=_,this.multiFactor=function(E){const _=(0,U.m9)(E);return As.has(_)||As.set(_,ap._fromUser(_)),As.get(_)}(_)}static getOrCreate(_){return bo.USER_MAP.has(_)||bo.USER_MAP.set(_,new bo(_)),bo.USER_MAP.get(_)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_){return this._delegate.getIdTokenResult(_)}getIdToken(_){return this._delegate.getIdToken(_)}linkAndRetrieveDataWithCredential(_){return this.linkWithCredential(_)}linkWithCredential(_){var v=this;return(0,a.Z)(function*(){return ki(v.auth,Ed(v._delegate,_))})()}linkWithPhoneNumber(_,v){var x=this;return(0,a.Z)(function*(){return Ka(x.auth,function(E,_,v){return u_.apply(this,arguments)}(x._delegate,_,v))})()}linkWithPopup(_){var v=this;return(0,a.Z)(function*(){return ki(v.auth,function(E,_,v){return Vd.apply(this,arguments)}(v._delegate,_,wr))})()}linkWithRedirect(_){var v=this;return(0,a.Z)(function*(){return yield Ei(vn(v.auth)),function(E,_,v){return function(E,_,v){return Dp.apply(this,arguments)}(E,_,v)}(v._delegate,_,wr)})()}reauthenticateAndRetrieveDataWithCredential(_){return this.reauthenticateWithCredential(_)}reauthenticateWithCredential(_){var v=this;return(0,a.Z)(function*(){return ki(v.auth,sr(v._delegate,_))})()}reauthenticateWithPhoneNumber(_,v){return Ka(this.auth,function(E,_,v){return Nt.apply(this,arguments)}(this._delegate,_,v))}reauthenticateWithPopup(_){return ki(this.auth,function(E,_,v){return h_.apply(this,arguments)}(this._delegate,_,wr))}reauthenticateWithRedirect(_){var v=this;return(0,a.Z)(function*(){return yield Ei(vn(v.auth)),function(E,_,v){return function(E,_,v){return ra.apply(this,arguments)}(E,_,v)}(v._delegate,_,wr)})()}sendEmailVerification(_){return function(E,_){return yr.apply(this,arguments)}(this._delegate,_)}unlink(_){var v=this;return(0,a.Z)(function*(){return yield function(E,_){return $f.apply(this,arguments)}(v._delegate,_),v})()}updateEmail(_){return function(E,_){return rp((0,U.m9)(E),_,null)}(this._delegate,_)}updatePassword(_){return function(E,_){return rp((0,U.m9)(E),null,_)}(this._delegate,_)}updatePhoneNumber(_){return function(E,_){return Ln.apply(this,arguments)}(this._delegate,_)}updateProfile(_){return function(E,_){return Jc.apply(this,arguments)}(this._delegate,_)}verifyBeforeUpdateEmail(_,v){return function(E,_,v){return Td.apply(this,arguments)}(this._delegate,_,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bo.USER_MAP=new WeakMap;const Kl=we;let Qa=(()=>{class E{constructor(v,x){if(this.app=v,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=v.options;Kl(k,"invalid-api-key",{appName:v.name});let O=[Gn];if("undefined"!=typeof window){O=function(E,_){const v=Wa();if(!(null==v?void 0:v.sessionStorage))return[];const x=jn(Wb,E,_);switch(v.sessionStorage.getItem(x)){case br.NONE:return[Gn];case br.LOCAL:return[Jo,Is];case br.SESSION:return[Is];default:return[]}}(k,v.name);for(const _e of[Jo,dp,Is])O.includes(_e)||O.push(_e)}Kl(k,"invalid-api-key",{appName:v.name});const Q="undefined"!=typeof window?wr:void 0;this._delegate=x.initialize({options:{persistence:O,popupRedirectResolver:Q}}),this._delegate._updateErrorMap(ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,x){!function(E,_,v){const x=vn(E);we(x._canInitEmulator,x,"emulator-config-failed"),we(/^https?:\/\//.test(_),x,"invalid-emulator-scheme");const k=!!(null==v?void 0:v.disableWarnings),O=Mn(_),{host:Q,port:_e}=function(E){const _=Mn(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(_.length));if(!v)return{host:"",port:null};const x=v[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(x);if(k){const O=k[1];return{host:O,port:Sa(x.substr(O.length+1))}}{const[O,Q]=x.split(":");return{host:O,port:Sa(Q)}}}(_);x.config.emulator={url:`${O}//${Q}${null===_e?"":`:${_e}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Q,port:_e,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:k})}),function(E){function _(){const v=document.createElement("p"),x=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!E&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}(k)}(this._delegate,v,x)}applyActionCode(v){return function(E,_){return ka.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Me(this._delegate,v)}confirmPasswordReset(v,x){return function(E,_,v){return Jf.apply(this,arguments)}(this._delegate,v,x)}createUserWithEmailAndPassword(v,x){var k=this;return(0,a.Z)(function*(){return ki(k._delegate,function(E,_,v){return ho.apply(this,arguments)}(k._delegate,v,x))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(E,_){return tp.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(E,_){const v=bd.parseLink(_);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,a.Z)(function*(){Kl(Xd(),v._delegate,"operation-not-supported-in-this-environment");const x=yield function(E,_){return g_.apply(this,arguments)}(v._delegate,wr);return x?ki(v._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(E,_){vn(E)._logFramework(_)}(this._delegate,v)}onAuthStateChanged(v,x,k){const{next:O,error:Q,complete:_e}=th(v,x,k);return this._delegate.onAuthStateChanged(O,Q,_e)}onIdTokenChanged(v,x,k){const{next:O,error:Q,complete:_e}=th(v,x,k);return this._delegate.onIdTokenChanged(O,Q,_e)}sendSignInLinkToEmail(v,x){return function(E,_,v){return Fl.apply(this,arguments)}(this._delegate,v,x)}sendPasswordResetEmail(v,x){return function(E,_,v){return Qf.apply(this,arguments)}(this._delegate,v,x||void 0)}setPersistence(v){var x=this;return(0,a.Z)(function*(){let k;switch(function(E,_){Ns(Object.values(br).includes(_),E,"invalid-persistence-type"),(0,U.b$)()?Ns(_!==br.SESSION,E,"unsupported-persistence-type"):(0,U.UG)()?Ns(_===br.NONE,E,"unsupported-persistence-type"):Jd()?Ns(_===br.NONE||_===br.LOCAL&&(0,U.hl)(),E,"unsupported-persistence-type"):Ns(_===br.NONE||Qd(),E,"unsupported-persistence-type")}(x._delegate,v),v){case br.SESSION:k=Is;break;case br.LOCAL:k=(yield fe(Jo)._isAvailable())?Jo:dp;break;case br.NONE:k=Gn;break;default:return it("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return ki(this._delegate,function(E){return Zc.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return ki(this._delegate,ji(this._delegate,v))}signInWithCustomToken(v){return ki(this._delegate,function(E,_){return Dd.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,x){return ki(this._delegate,function(E,_,v){return ji((0,U.m9)(E),wd.credential(_,v))}(this._delegate,v,x))}signInWithEmailLink(v,x){return ki(this._delegate,function(E,_,v){return Pl.apply(this,arguments)}(this._delegate,v,x))}signInWithPhoneNumber(v,x){return Ka(this._delegate,function(E,_,v){return Jt.apply(this,arguments)}(this._delegate,v,x))}signInWithPopup(v){var x=this;return(0,a.Z)(function*(){return Kl(Xd(),x._delegate,"operation-not-supported-in-this-environment"),ki(x._delegate,function(E,_,v){return Bd.apply(this,arguments)}(x._delegate,v,wr))})()}signInWithRedirect(v){var x=this;return(0,a.Z)(function*(){return Kl(Xd(),x._delegate,"operation-not-supported-in-this-environment"),yield Ei(x._delegate),function(E,_,v){return function(E,_,v){return f_.apply(this,arguments)}(E,_,v)}(x._delegate,v,wr)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(E,_){return _n.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=br,E})();function th(E,_,v){let x=E;"function"!=typeof E&&({next:x,error:_,complete:v}=E);const k=x;return{next:Q=>k(Q&&bo.getOrCreate(Q)),error:_,complete:v}}class nh{constructor(){this.providerId="phone",this._delegate=new ea(eh(ae.Z.auth()))}static credential(_,v){return ea.credential(_,v)}verifyPhoneNumber(_,v){return this._delegate.verifyPhoneNumber(_,v)}unwrap(){return this._delegate}}nh.PHONE_SIGN_IN_METHOD=ea.PHONE_SIGN_IN_METHOD,nh.PROVIDER_ID=ea.PROVIDER_ID;const ih=we;class Gp{constructor(_,v,x=ae.Z.app()){var k;ih(null===(k=x.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new mp(_,v,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new q.wA("auth-compat",_=>{const v=_.getProvider("app-compat").getImmediate(),x=_.getProvider("auth");return new Qa(v,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wd,FacebookAuthProvider:zf,GithubAuthProvider:$g,GoogleAuthProvider:Zo,OAuthProvider:Aa,PhoneAuthProvider:nh,PhoneMultiFactorGenerator:Hb,RecaptchaVerifier:Gp,TwitterAuthProvider:qf,Auth:Qa,AuthCredential:Br,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.2")}(ae.Z)},3098:(Ye,De,N)=>{"use strict";N.d(De,{P:()=>le});var a=N(9193),ae=N(5917),U=N(205);class le{constructor(q,W,Y){this.kind=q,this.value=W,this.error=Y,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,W,Y){switch(this.kind){case"N":return q&&q(this.value);case"E":return W&&W(this.error);case"C":return Y&&Y()}}accept(q,W,Y){return q&&"function"==typeof q.next?this.observe(q):this.do(q,W,Y)}toObservable(){switch(this.kind){case"N":return(0,ae.of)(this.value);case"E":return(0,U._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new le("N",q):le.undefinedValueNotification}static createError(q){return new le("E",void 0,q)}static createComplete(){return le.completeNotification}}le.completeNotification=new le("C"),le.undefinedValueNotification=new le("N",void 0)},7574:(Ye,De,N)=>{"use strict";N.d(De,{y:()=>$});var a=N(7393),U=N(9181),oe=N(6490),J=N(6554),q=N(4487);var B=N(2494);let $=(()=>{class K{constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const he=new K;return he.source=this,he.operator=ye,he}subscribe(ye,he,Ae){const{operator:ve}=this,Ie=function(K,X,ye){if(K){if(K instanceof a.L)return K;if(K[U.b])return K[U.b]()}return K||X||ye?new a.L(K,X,ye):new a.L(oe.c)}(ye,he,Ae);if(Ie.add(ve?ve.call(Ie,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),B.v.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(ye){try{return this._subscribe(ye)}catch(he){B.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=he),function(K){for(;K;){const{closed:X,destination:ye,isStopped:he}=K;if(X||he)return!1;K=ye&&ye instanceof a.L?ye:null}return!0}(ye)?ye.error(he):console.warn(he)}}forEach(ye,he){return new(he=V(he))((Ae,ve)=>{let Ie;Ie=this.subscribe(mt=>{try{ye(mt)}catch(it){ve(it),Ie&&Ie.unsubscribe()}},ve,Ae)})}_subscribe(ye){const{source:he}=this;return he&&he.subscribe(ye)}[J.L](){return this}pipe(...ye){return 0===ye.length?this:function(K){return 0===K.length?q.y:1===K.length?K[0]:function(ye){return K.reduce((he,Ae)=>Ae(he),ye)}}(ye)(this)}toPromise(ye){return new(ye=V(ye))((he,Ae)=>{let ve;this.subscribe(Ie=>ve=Ie,Ie=>Ae(Ie),()=>he(ve))})}}return K.create=X=>new K(X),K})();function V(K){if(K||(K=B.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Ye,De,N)=>{"use strict";N.d(De,{c:()=>U});var a=N(2494),ae=N(4449);const U={closed:!0,next(oe){},error(oe){if(a.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,ae.z)(oe)},complete(){}}},9765:(Ye,De,N)=>{"use strict";N.d(De,{Yc:()=>q,xQ:()=>W});var a=N(7574),ae=N(7393),U=N(5319),oe=N(7971),le=N(8858),J=N(9181);class q extends ae.L{constructor($){super($),this.destination=$}}let W=(()=>{class B extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new q(this)}lift(V){const K=new Y(this,this);return K.operator=V,K}next(V){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:K}=this,X=K.length,ye=K.slice();for(let he=0;he<X;he++)ye[he].next(V)}}error(V){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:K}=this,X=K.length,ye=K.slice();for(let he=0;he<X;he++)ye[he].error(V);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:V}=this,K=V.length,X=V.slice();for(let ye=0;ye<K;ye++)X[ye].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new oe.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new oe.N;return this.hasError?(V.error(this.thrownError),U.w.EMPTY):this.isStopped?(V.complete(),U.w.EMPTY):(this.observers.push(V),new le.W(this,V))}asObservable(){const V=new a.y;return V.source=this,V}}return B.create=($,V)=>new Y($,V),B})();class Y extends W{constructor($,V){super(),this.destination=$,this.source=V}next($){const{destination:V}=this;V&&V.next&&V.next($)}error($){const{destination:V}=this;V&&V.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:V}=this;return V?this.source.subscribe($):U.w.EMPTY}}},8858:(Ye,De,N)=>{"use strict";N.d(De,{W:()=>ae});var a=N(5319);class ae extends a.w{constructor(oe,le){super(),this.subject=oe,this.subscriber=le,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,le=oe.observers;if(this.subject=null,!le||0===le.length||oe.isStopped||oe.closed)return;const J=le.indexOf(this.subscriber);-1!==J&&le.splice(J,1)}}},7393:(Ye,De,N)=>{"use strict";N.d(De,{L:()=>q});var a=N(9105),ae=N(6490),U=N(5319),oe=N(9181),le=N(2494),J=N(4449);class q extends U.w{constructor(B,$,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ae.c;break;case 1:if(!B){this.destination=ae.c;break}if("object"==typeof B){B instanceof q?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,B,$,V)}}[oe.b](){return this}static create(B,$,V){const K=new q(B,$,V);return K.syncErrorThrowable=!1,K}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class W extends q{constructor(B,$,V,K){super(),this._parentSubscriber=B;let X,ye=this;(0,a.m)($)?X=$:$&&(X=$.next,V=$.error,K=$.complete,$!==ae.c&&(ye=Object.create($),(0,a.m)(ye.unsubscribe)&&this.add(ye.unsubscribe.bind(ye)),ye.unsubscribe=this.unsubscribe.bind(this))),this._context=ye,this._next=X,this._error=V,this._complete=K}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;le.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:V}=le.v;if(this._error)V&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if($.syncErrorThrowable)V?($.syncErrorValue=B,$.syncErrorThrown=!0):(0,J.z)(B),this.unsubscribe();else{if(this.unsubscribe(),V)throw B;(0,J.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const $=()=>this._complete.call(this._context);le.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,$){try{B.call(this._context,$)}catch(V){if(this.unsubscribe(),le.v.useDeprecatedSynchronousErrorHandling)throw V;(0,J.z)(V)}}__tryOrSetError(B,$,V){if(!le.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,V)}catch(K){return le.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=K,B.syncErrorThrown=!0,!0):((0,J.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(Ye,De,N)=>{"use strict";N.d(De,{w:()=>J});var a=N(9796),ae=N(1555),U=N(9105);const le=(()=>{function W(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((B,$)=>`${$+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return W.prototype=Object.create(Error.prototype),W})();class J{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:$,_unsubscribe:V,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof J)B.remove(this);else if(null!==B)for(let X=0;X<B.length;++X)B[X].remove(this);if((0,U.m)(V)){$&&(this._unsubscribe=void 0);try{V.call(this)}catch(X){Y=X instanceof le?q(X.errors):[X]}}if((0,a.k)(K)){let X=-1,ye=K.length;for(;++X<ye;){const he=K[X];if((0,ae.K)(he))try{he.unsubscribe()}catch(Ae){Y=Y||[],Ae instanceof le?Y=Y.concat(q(Ae.errors)):Y.push(Ae)}}}if(Y)throw new le(Y)}add(Y){let B=Y;if(!Y)return J.EMPTY;switch(typeof Y){case"function":B=new J(Y);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof J)){const K=B;B=new J,B._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:$}=B;if(null===$)B._parentOrParents=this;else if($ instanceof J){if($===this)return B;B._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return B;$.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[B]:V.push(B),B}remove(Y){const B=this._subscriptions;if(B){const $=B.indexOf(Y);-1!==$&&B.splice($,1)}}}var W;function q(W){return W.reduce((Y,B)=>Y.concat(B instanceof le?B.errors:B),[])}J.EMPTY=((W=new J).closed=!0,W)},2494:(Ye,De,N)=>{"use strict";N.d(De,{v:()=>ae});let a=!1;const ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=U},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(Ye,De,N)=>{"use strict";N.d(De,{IY:()=>oe,Ds:()=>J,ft:()=>W});var a=N(7393),ae=N(7574),U=N(7444);class oe extends a.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends a.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function W(Y,B){if(B.closed)return;if(Y instanceof ae.y)return Y.subscribe(B);let $;try{$=(0,U.s)(Y)(B)}catch(V){B.error(V)}return $}},2441:(Ye,De,N)=>{"use strict";N.d(De,{c:()=>le,N:()=>J});var a=N(9765),ae=N(7574),U=N(5319),oe=N(1307);class le extends ae.y{constructor($,V){super(),this.source=$,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new U.w,$.add(this.source.subscribe(new q(this.getSubject(),this))),$.closed&&(this._connection=null,$=U.w.EMPTY)),$}refCount(){return(0,oe.x)()(this)}}const J=(()=>{const B=le.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class q extends a.Yc{constructor($,V){super($),this.connectable=V}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const V=$._connection;$._refCount=0,$._subject=null,$._connection=null,V&&V.unsubscribe()}}}},9193:(Ye,De,N)=>{"use strict";N.d(De,{E:()=>ae,c:()=>U});var a=N(7574);const ae=new a.y(le=>le.complete());function U(le){return le?function(le){return new a.y(J=>le.schedule(()=>J.complete()))}(le):ae}},4402:(Ye,De,N)=>{"use strict";N.d(De,{D:()=>ye});var a=N(7574),ae=N(7444),U=N(5319),oe=N(6554),q=N(4087),W=N(377),$=N(4072),V=N(9489);function ye(he,Ae){return Ae?function(he,Ae){if(null!=he){if(function(he){return he&&"function"==typeof he[oe.L]}(he))return function(he,Ae){return new a.y(ve=>{const Ie=new U.w;return Ie.add(Ae.schedule(()=>{const mt=he[oe.L]();Ie.add(mt.subscribe({next(it){Ie.add(Ae.schedule(()=>ve.next(it)))},error(it){Ie.add(Ae.schedule(()=>ve.error(it)))},complete(){Ie.add(Ae.schedule(()=>ve.complete()))}}))})),Ie})}(he,Ae);if((0,$.t)(he))return function(he,Ae){return new a.y(ve=>{const Ie=new U.w;return Ie.add(Ae.schedule(()=>he.then(mt=>{Ie.add(Ae.schedule(()=>{ve.next(mt),Ie.add(Ae.schedule(()=>ve.complete()))}))},mt=>{Ie.add(Ae.schedule(()=>ve.error(mt)))}))),Ie})}(he,Ae);if((0,V.z)(he))return(0,q.r)(he,Ae);if(function(he){return he&&"function"==typeof he[W.hZ]}(he)||"string"==typeof he)return function(he,Ae){if(!he)throw new Error("Iterable cannot be null");return new a.y(ve=>{const Ie=new U.w;let mt;return Ie.add(()=>{mt&&"function"==typeof mt.return&&mt.return()}),Ie.add(Ae.schedule(()=>{mt=he[W.hZ](),Ie.add(Ae.schedule(function(){if(ve.closed)return;let it,ct;try{const Lt=mt.next();it=Lt.value,ct=Lt.done}catch(Lt){return void ve.error(Lt)}ct?ve.complete():(ve.next(it),this.schedule())}))})),Ie})}(he,Ae)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,Ae):he instanceof a.y?he:new a.y((0,ae.s)(he))}},6693:(Ye,De,N)=>{"use strict";N.d(De,{n:()=>oe});var a=N(7574),ae=N(5015),U=N(4087);function oe(le,J){return J?(0,U.r)(le,J):new a.y((0,ae.V)(le))}},6682:(Ye,De,N)=>{"use strict";N.d(De,{T:()=>le});var a=N(7574),ae=N(4869),U=N(3282),oe=N(6693);function le(...J){let q=Number.POSITIVE_INFINITY,W=null,Y=J[J.length-1];return(0,ae.K)(Y)?(W=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(q=J.pop())):"number"==typeof Y&&(q=J.pop()),null===W&&1===J.length&&J[0]instanceof a.y?J[0]:(0,U.J)(q)((0,oe.n)(J,W))}},5917:(Ye,De,N)=>{"use strict";N.d(De,{of:()=>oe});var a=N(4869),ae=N(6693),U=N(4087);function oe(...le){let J=le[le.length-1];return(0,a.K)(J)?(le.pop(),(0,U.r)(le,J)):(0,ae.n)(le)}},205:(Ye,De,N)=>{"use strict";N.d(De,{_:()=>ae});var a=N(7574);function ae(oe,le){return new a.y(le?J=>le.schedule(U,0,{error:oe,subscriber:J}):J=>J.error(oe))}function U({error:oe,subscriber:le}){le.error(oe)}},8002:(Ye,De,N)=>{"use strict";N.d(De,{U:()=>ae});var a=N(7393);function ae(le,J){return function(W){if("function"!=typeof le)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new U(le,J))}}class U{constructor(J,q){this.project=J,this.thisArg=q}call(J,q){return q.subscribe(new oe(J,this.project,this.thisArg))}}class oe extends a.L{constructor(J,q,W){super(J),this.project=q,this.count=0,this.thisArg=W||this}_next(J){let q;try{q=this.project.call(this.thisArg,J,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(q)}}},3282:(Ye,De,N)=>{"use strict";N.d(De,{J:()=>U});var a=N(9773),ae=N(4487);function U(oe=Number.POSITIVE_INFINITY){return(0,a.zg)(ae.y,oe)}},9773:(Ye,De,N)=>{"use strict";N.d(De,{zg:()=>oe});var a=N(8002),ae=N(4402),U=N(5345);function oe(W,Y,B=Number.POSITIVE_INFINITY){return"function"==typeof Y?$=>$.pipe(oe((V,K)=>(0,ae.D)(W(V,K)).pipe((0,a.U)((X,ye)=>Y(V,X,K,ye))),B)):("number"==typeof Y&&(B=Y),$=>$.lift(new le(W,B)))}class le{constructor(Y,B=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=B}call(Y,B){return B.subscribe(new J(Y,this.project,this.concurrent))}}class J extends U.Ds{constructor(Y,B,$=Number.POSITIVE_INFINITY){super(Y),this.project=B,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let B;const $=this.index++;try{B=this.project(Y,$)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(B)}_innerSub(Y){const B=new U.IY(this),$=this.destination;$.add(B);const V=(0,U.ft)(Y,B);V!==B&&$.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ye,De,N)=>{"use strict";N.d(De,{QV:()=>U,ht:()=>le});var a=N(7393),ae=N(3098);function U(q,W=0){return function(B){return B.lift(new oe(q,W))}}class oe{constructor(W,Y=0){this.scheduler=W,this.delay=Y}call(W,Y){return Y.subscribe(new le(W,this.scheduler,this.delay))}}class le extends a.L{constructor(W,Y,B=0){super(W),this.scheduler=Y,this.delay=B}static dispatch(W){const{notification:Y,destination:B}=W;Y.observe(B),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(le.dispatch,this.delay,new J(W,this.destination)))}_next(W){this.scheduleMessage(ae.P.createNext(W))}_error(W){this.scheduleMessage(ae.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(ae.P.createComplete()),this.unsubscribe()}}class J{constructor(W,Y){this.notification=W,this.destination=Y}}},1307:(Ye,De,N)=>{"use strict";N.d(De,{x:()=>ae});var a=N(7393);function ae(){return function(J){return J.lift(new U(J))}}class U{constructor(J){this.connectable=J}call(J,q){const{connectable:W}=this;W._refCount++;const Y=new oe(J,W),B=q.subscribe(Y);return Y.closed||(Y.connection=W.connect()),B}}class oe extends a.L{constructor(J,q){super(J),this.connectable=q}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const q=J._refCount;if(q<=0)return void(this.connection=null);if(J._refCount=q-1,q>1)return void(this.connection=null);const{connection:W}=this,Y=J._connection;this.connection=null,Y&&(!W||Y===W)&&Y.unsubscribe()}}},8819:(Ye,De,N)=>{"use strict";N.d(De,{B:()=>q});var a=N(2441);var oe=N(1307),le=N(9765);function J(){return new le.xQ}function q(){return W=>(0,oe.x)()(function(W,Y){return function($){let V;V="function"==typeof W?W:function(){return W};const K=Object.create($,a.N);return K.source=$,K.subjectFactory=V,K}}(J)(W))}},9673:(Ye,De,N)=>{"use strict";N.d(De,{R:()=>le});var a=N(7574),ae=N(4581),U=N(6561);class oe extends a.y{constructor(W,Y=0,B=ae.e){super(),this.source=W,this.delayTime=Y,this.scheduler=B,(!(0,U.k)(Y)||Y<0)&&(this.delayTime=0),(!B||"function"!=typeof B.schedule)&&(this.scheduler=ae.e)}static create(W,Y=0,B=ae.e){return new oe(W,Y,B)}static dispatch(W){const{source:Y,subscriber:B}=W;return this.add(Y.subscribe(B))}_subscribe(W){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function le(q,W=0){return function(B){return B.lift(new J(q,W))}}class J{constructor(W,Y){this.scheduler=W,this.delay=Y}call(W,Y){return new oe(Y,this.delay,this.scheduler).subscribe(W)}}},3342:(Ye,De,N)=>{"use strict";N.d(De,{b:()=>oe});var a=N(7393);function ae(){}var U=N(9105);function oe(q,W,Y){return function($){return $.lift(new le(q,W,Y))}}class le{constructor(W,Y,B){this.nextOrObserver=W,this.error=Y,this.complete=B}call(W,Y){return Y.subscribe(new J(W,this.nextOrObserver,this.error,this.complete))}}class J extends a.L{constructor(W,Y,B,$){super(W),this._tapNext=ae,this._tapError=ae,this._tapComplete=ae,this._tapError=B||ae,this._tapComplete=$||ae,(0,U.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||ae,this._tapError=Y.error||ae,this._tapComplete=Y.complete||ae)}_next(W){try{this._tapNext.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(Y){return void this.destination.error(Y)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(Ye,De,N)=>{"use strict";N.d(De,{r:()=>U});var a=N(7574),ae=N(5319);function U(oe,le){return new a.y(J=>{const q=new ae.w;let W=0;return q.add(le.schedule(function(){W!==oe.length?(J.next(oe[W++]),J.closed||q.add(this.schedule())):J.complete()})),q})}},6465:(Ye,De,N)=>{"use strict";N.d(De,{o:()=>U});var a=N(5319);class ae extends a.w{constructor(le,J){super()}schedule(le,J=0){return this}}class U extends ae{constructor(le,J){super(le,J),this.scheduler=le,this.work=J,this.pending=!1}schedule(le,J=0){if(this.closed)return this;this.state=le;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(W,this.id,J),this}requestAsyncId(le,J,q=0){return setInterval(le.flush.bind(le,this),q)}recycleAsyncId(le,J,q=0){if(null!==q&&this.delay===q&&!1===this.pending)return J;clearInterval(J)}execute(le,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(le,J);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,J){let W,q=!1;try{this.work(le)}catch(Y){q=!0,W=!!Y&&Y||new Error(Y)}if(q)return this.unsubscribe(),W}_unsubscribe(){const le=this.id,J=this.scheduler,q=J.actions,W=q.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&q.splice(W,1),null!=le&&(this.id=this.recycleAsyncId(J,le,null)),this.delay=null}}},6102:(Ye,De,N)=>{"use strict";N.d(De,{v:()=>ae});let a=(()=>{class U{constructor(le,J=U.now){this.SchedulerAction=le,this.now=J}schedule(le,J=0,q){return new this.SchedulerAction(this,le).schedule(q,J)}}return U.now=()=>Date.now(),U})();class ae extends a{constructor(oe,le=a.now){super(oe,()=>ae.delegate&&ae.delegate!==this?ae.delegate.now():le()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,le=0,J){return ae.delegate&&ae.delegate!==this?ae.delegate.schedule(oe,le,J):super.schedule(oe,le,J)}flush(oe){const{actions:le}=this;if(this.active)return void le.push(oe);let J;this.active=!0;do{if(J=oe.execute(oe.state,oe.delay))break}while(oe=le.shift());if(this.active=!1,J){for(;oe=le.shift();)oe.unsubscribe();throw J}}}},4581:(Ye,De,N)=>{"use strict";N.d(De,{e:()=>V,E:()=>$});let a=1;const ae=Promise.resolve(),U={};function oe(K){return K in U&&(delete U[K],!0)}const le={setImmediate(K){const X=a++;return U[X]=!0,ae.then(()=>oe(X)&&K()),X},clearImmediate(K){oe(K)}};var q=N(6465),Y=N(6102);const $=new class extends Y.v{flush(X){this.active=!0,this.scheduled=void 0;const{actions:ye}=this;let he,Ae=-1,ve=ye.length;X=X||ye.shift();do{if(he=X.execute(X.state,X.delay))break}while(++Ae<ve&&(X=ye.shift()));if(this.active=!1,he){for(;++Ae<ve&&(X=ye.shift());)X.unsubscribe();throw he}}}(class extends q.o{constructor(X,ye){super(X,ye),this.scheduler=X,this.work=ye}requestAsyncId(X,ye,he=0){return null!==he&&he>0?super.requestAsyncId(X,ye,he):(X.actions.push(this),X.scheduled||(X.scheduled=le.setImmediate(X.flush.bind(X,null))))}recycleAsyncId(X,ye,he=0){if(null!==he&&he>0||null===he&&this.delay>0)return super.recycleAsyncId(X,ye,he);0===X.actions.length&&(le.clearImmediate(ye),X.scheduled=void 0)}}),V=$},3637:(Ye,De,N)=>{"use strict";N.d(De,{z:()=>U,P:()=>oe});var a=N(6465);const U=new(N(6102).v)(a.o),oe=U},7771:(Ye,De,N)=>{"use strict";N.d(De,{c:()=>J,N:()=>le});var a=N(6465),U=N(6102);const le=new class extends U.v{}(class extends a.o{constructor(W,Y){super(W,Y),this.scheduler=W,this.work=Y}schedule(W,Y=0){return Y>0?super.schedule(W,Y):(this.delay=Y,this.state=W,this.scheduler.flush(this),this)}execute(W,Y){return Y>0||this.closed?super.execute(W,Y):this._execute(W,Y)}requestAsyncId(W,Y,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(W,Y,B):W.flush(this)}}),J=le},377:(Ye,De,N)=>{"use strict";N.d(De,{hZ:()=>ae});const ae="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ye,De,N)=>{"use strict";N.d(De,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ye,De,N)=>{"use strict";N.d(De,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ye,De,N)=>{"use strict";N.d(De,{N:()=>ae});const ae=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(Ye,De,N)=>{"use strict";function a(ae){setTimeout(()=>{throw ae},0)}N.d(De,{z:()=>a})},4487:(Ye,De,N)=>{"use strict";function a(ae){return ae}N.d(De,{y:()=>a})},9796:(Ye,De,N)=>{"use strict";N.d(De,{k:()=>a});const a=Array.isArray||(ae=>ae&&"number"==typeof ae.length)},9489:(Ye,De,N)=>{"use strict";N.d(De,{z:()=>a});const a=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},9105:(Ye,De,N)=>{"use strict";function a(ae){return"function"==typeof ae}N.d(De,{m:()=>a})},6561:(Ye,De,N)=>{"use strict";N.d(De,{k:()=>ae});var a=N(9796);function ae(U){return!(0,a.k)(U)&&U-parseFloat(U)+1>=0}},1555:(Ye,De,N)=>{"use strict";function a(ae){return null!==ae&&"object"==typeof ae}N.d(De,{K:()=>a})},4072:(Ye,De,N)=>{"use strict";function a(ae){return!!ae&&"function"!=typeof ae.subscribe&&"function"==typeof ae.then}N.d(De,{t:()=>a})},4869:(Ye,De,N)=>{"use strict";function a(ae){return ae&&"function"==typeof ae.schedule}N.d(De,{K:()=>a})},7444:(Ye,De,N)=>{"use strict";N.d(De,{s:()=>$});var a=N(5015),ae=N(4449),oe=N(377),J=N(6554),W=N(9489),Y=N(4072),B=N(1555);const $=V=>{if(V&&"function"==typeof V[J.L])return(V=>K=>{const X=V[J.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(K)})(V);if((0,W.z)(V))return(0,a.V)(V);if((0,Y.t)(V))return(V=>K=>(V.then(X=>{K.closed||(K.next(X),K.complete())},X=>K.error(X)).then(null,ae.z),K))(V);if(V&&"function"==typeof V[oe.hZ])return(V=>K=>{const X=V[oe.hZ]();for(;;){let ye;try{ye=X.next()}catch(he){return K.error(he),K}if(ye.done){K.complete();break}if(K.next(ye.value),K.closed)break}return"function"==typeof X.return&&K.add(()=>{X.return&&X.return()}),K})(V);{const X=`You provided ${(0,B.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},5015:(Ye,De,N)=>{"use strict";N.d(De,{V:()=>a});const a=ae=>U=>{for(let oe=0,le=ae.length;oe<le&&!U.closed;oe++)U.next(ae[oe]);U.complete()}},7956:(Ye,De,N)=>{"use strict";var a=N(7716);let ae=null;function U(){return ae}const q=new a.OlP("DocumentToken");let W=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:Y,token:r,providedIn:"platform"}),r})();function Y(){return(0,a.LFG)($)}const B=new a.OlP("Location Initialized");let $=(()=>{class r extends W{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=U().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,o){V()?this._history.pushState(n,s,o):this.location.hash=o}replaceState(n,s,o){V()?this._history.replaceState(n,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:K,token:r,providedIn:"platform"}),r})();function V(){return!!window.history.pushState}function K(){return new $((0,a.LFG)(q))}function X(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function ye(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function he(r){return r&&"?"!==r[0]?"?"+r:r}let Ae=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:ve,token:r,providedIn:"root"}),r})();function ve(r){const i=(0,a.LFG)(q).location;return new mt((0,a.LFG)(W),i&&i.origin||"")}const Ie=new a.OlP("appBaseHref");let mt=(()=>{class r extends Ae{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return X(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+he(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${s}${o}`:s}pushState(n,s,o,u){const f=this.prepareExternalUrl(o+he(u));this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,u){const f=this.prepareExternalUrl(o+he(u));this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(W),a.LFG(Ie,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),it=(()=>{class r extends Ae{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=X(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,o,u){let f=this.prepareExternalUrl(o+he(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,u){let f=this.prepareExternalUrl(o+he(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(W),a.LFG(Ie,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),ct=(()=>{class r{constructor(n,s){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ye(cn(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+he(s))}normalize(n){return r.stripTrailingSlash(function(r,i){return r&&i.startsWith(r)?i.substring(r.length):i}(this._baseHref,cn(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",o=null){this._platformStrategy.pushState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+he(s)),o)}replaceState(n,s="",o=null){this._platformStrategy.replaceState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+he(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(o=>o(n,s))}subscribe(n,s,o){return this._subject.subscribe({next:n,error:s,complete:o})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Ae),a.LFG(W))},r.normalizeQueryParams=he,r.joinWithSlash=X,r.stripTrailingSlash=ye,r.\u0275prov=(0,a.Yz7)({factory:Lt,token:r,providedIn:"root"}),r})();function Lt(){return new ct((0,a.LFG)(Ae),(0,a.LFG)(W))}function cn(r){return r.replace(/\/index.html$/,"")}var ce=(()=>((ce=ce||{})[ce.Zero=0]="Zero",ce[ce.One=1]="One",ce[ce.Two=2]="Two",ce[ce.Few=3]="Few",ce[ce.Many=4]="Many",ce[ce.Other=5]="Other",ce))();const oo=a.kL8;class Br{}let Hc=(()=>{class r extends Br{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(oo(s||this.locale)(n)){case ce.Zero:return"zero";case ce.One:return"one";case ce.Two:return"two";case ce.Few:return"few";case ce.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.soG))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();let as=(()=>{class r{constructor(n,s,o,u){this._iterableDiffers=n,this._keyValueDiffers=s,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),n.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!0)):Object.keys(n).forEach(s=>this._toggleClass(s,!!n[s])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!1)):Object.keys(n).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(n,s){(n=n.trim())&&n.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class ls{constructor(i,n,s,o){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gt=(()=>{class r{constructor(n,s,o){this._viewContainer=n,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((o,u,f)=>{if(null==o.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new ls(null,this._ngForOf,-1,-1),null===f?void 0:f),w=new Gc(o,m);s.push(w)}else if(null==f)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const m=this._viewContainer.get(u);this._viewContainer.move(m,f);const w=new Gc(o,m);s.push(w)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,u=this._viewContainer.length;o<u;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=u,f.context.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class Gc{constructor(i,n){this.record=i,this.view=n}}let ui=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new jc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Tl("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Tl("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class jc{constructor(){this.$implicit=null,this.ngIf=null}}function Tl(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,a.AaK)(i)}'.`)}class $o{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Vr=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),Nn=(()=>{class r{constructor(n,s,o){this.ngSwitch=o,o._addCase(),this._view=new $o(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Vr,9))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),Yc=(()=>{class r{constructor(n,s,o){this._ngEl=n,this._differs=s,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,s){const[o,u]=n.split(".");null!=(s=null!=s&&u?`${s}${u}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,o,s):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(n){n.forEachRemovedItem(s=>this._setStyle(s.key,null)),n.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),n.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})();class jg{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class bb{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const Ss=new bb,ND=new jg;let Ta=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,a.QGY)(n))return Ss;if((0,a.F4k)(n))return ND;throw function(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,a.AaK)(r)}'`)}(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.sBO,16))},r.\u0275pipe=a.Yjl({name:"async",type:r,pure:!1}),r})(),Ii=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[{provide:Br,useClass:Hc}]}),r})();function co(r){return"browser"===r}function $c(r){return"server"===r}let Zc=(()=>{class r{}return r.\u0275prov=(0,a.Yz7)({token:r,providedIn:"root",factory:()=>new Wc((0,a.LFG)(q),window)}),r})();class Wc{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(i)||u.querySelector(`[name="${i}"]`);if(f)return f}o=s.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=i)}}scrollToElement(i){const n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(s-u[0],o-u[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=Kc(this.window.history)||Kc(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function Kc(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Cd extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new Cd,ae||(ae=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(uo=uo||document.querySelector("base"),uo?uo.getAttribute("href"):null);return null==n?null:function(r){wn=wn||document.createElement("a"),wn.setAttribute("href",r);const i=wn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[o,u]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(o.trim()===i)return decodeURIComponent(u)}return null}(document.cookie,i)}}let wn,uo=null;const Kg=new a.OlP("TRANSITION_ID"),ji=[{provide:a.ip1,useFactory:function(r,i,n){return()=>{n.get(a.CZH).donePromise.then(()=>{const s=U(),o=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let u=0;u<o.length;u++)s.remove(o[u])})}},deps:[Kg,q,a.zs3],multi:!0}];class Qc{static init(){(0,a.VLi)(new Qc)}addToWindow(i){a.dqk.getAngularTestability=(s,o=!0)=>{const u=i.findTestabilityInTree(s,o);if(null==u)throw new Error("Could not find testability for element.");return u},a.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(s=>{const o=a.dqk.getAllAngularTestabilities();let u=o.length,f=!1;const m=function(w){f=f||w,u--,0==u&&s(f)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const o=i.getTestability(n);return null!=o?o:s?U().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let Ed=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const ka=new a.OlP("EventManagerPlugins");let Me=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,o){return this._findPluginFor(s).addEventListener(n,s,o)}addGlobalEventListener(n,s,o){return this._findPluginFor(s).addGlobalEventListener(n,s,o)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const o=this._plugins;for(let u=0;u<o.length;u++){const f=o[u];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(ka),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class Pt{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const o=U().getGlobalEventTarget(this._doc,i);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,s)}}let Xf=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),_n=(()=>{class r extends Xf{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,o){n.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,o.push(s.appendChild(f))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(ep),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(n,o,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(ep))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function ep(r){U().remove(r)}const ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hr=/%COMP%/g;function zn(r,i,n){for(let s=0;s<i.length;s++){let o=i[s];Array.isArray(o)?zn(r,o,n):(o=o.replace(Hr,r),n.push(o))}return n}function ds(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let fo=(()=>{class r{constructor(n,s,o){this.eventManager=n,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new yr(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case a.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new np(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(n),o}case 1:case a.ifc.ShadowDom:return new ip(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const o=zn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Me),a.LFG(_n),a.LFG(a.AFp))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class yr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(ho[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,o){if(o){n=o+":"+n;const u=ho[o];u?i.setAttributeNS(u,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const o=ho[s];o?i.removeAttributeNS(o,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,o){o&(a.JOm.DashCase|a.JOm.Important)?i.style.setProperty(n,s,o&a.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&a.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,ds(s)):this.eventManager.addEventListener(i,n,ds(s))}}class np extends yr{constructor(i,n,s,o){super(i),this.component=s;const u=zn(o+"-"+s.id,s.styles,[]);n.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Hr,o+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(Hr,r)}(o+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class ip extends yr{constructor(i,n,s,o){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=zn(o.id,o.styles,[]);for(let f=0;f<u.length;f++){const m=document.createElement("style");m.textContent=u[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Jc=(()=>{class r extends Pt{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,o){return n.addEventListener(s,o,!1),()=>this.removeEventListener(n,s,o)}removeEventListener(n,s,o){return n.removeEventListener(s,o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const eu=["alt","control","meta","shift"],Ab={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ib={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let $D=(()=>{class r extends Pt{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,o){const u=r.parseEventName(s),f=r.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(n,u.domEventName,f))}static parseEventName(n){const s=n.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const u=r._normalizeKey(s.pop());let f="";if(eu.forEach(w=>{const D=s.indexOf(w);D>-1&&(s.splice(D,1),f+=w+".")}),f+=u,0!=s.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=f,m}static getEventFullKey(n){let s="",o=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&zi.hasOwnProperty(i)&&(i=zi[i]))}return Ab[i]||i}(n);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eu.forEach(u=>{u!=o&&Ib[u](n)&&(s+=u+".")}),s+=o,s}static eventCallback(n,s,o){return u=>{r.getEventFullKey(u)===n&&o.runGuarded(()=>s(u))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),Gr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:function(){return(0,a.LFG)(Bl)},token:r,providedIn:"root"}),r})(),Bl=(()=>{class r extends Gr{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case a.q3G.NONE:return s;case a.q3G.HTML:return(0,a.qzn)(s,"HTML")?(0,a.z3N)(s):(0,a.EiD)(this._doc,String(s)).toString();case a.q3G.STYLE:return(0,a.qzn)(s,"Style")?(0,a.z3N)(s):s;case a.q3G.SCRIPT:if((0,a.qzn)(s,"Script"))return(0,a.z3N)(s);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(s),(0,a.qzn)(s,"URL")?(0,a.z3N)(s):(0,a.mCW)(String(s));case a.q3G.RESOURCE_URL:if((0,a.qzn)(s,"ResourceURL"))return(0,a.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,a.JVY)(n)}bypassSecurityTrustStyle(n){return(0,a.L6k)(n)}bypassSecurityTrustScript(n){return(0,a.eBb)(n)}bypassSecurityTrustUrl(n){return(0,a.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,a.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return function(r){return new Bl(r.get(q))}((0,a.LFG)(a.gxx))},token:r,providedIn:"root"}),r})();const tu=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){Cd.makeCurrent(),Qc.init()},multi:!0},{provide:q,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),cp=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:ka,useClass:Jc,multi:!0,deps:[q,a.R0b,a.Lbi]},{provide:ka,useClass:$D,multi:!0,deps:[q]},[],{provide:fo,useClass:fo,deps:[Me,_n,a.AFp]},{provide:a.FYo,useExisting:fo},{provide:Xf,useExisting:_n},{provide:_n,useClass:_n,deps:[q]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Me,useClass:Me,deps:[ka,a.R0b]},{provide:class{},useClass:Ed,deps:[]},[]];let up=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:a.AFp,useValue:n.appId},{provide:Kg,useExisting:a.AFp},ji]}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(r,12))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:cp,imports:[Ii,a.hGG]}),r})();"undefined"!=typeof window&&window;var $t=N(4402),je=N(5917),ke=N(9765),Pd=N(7971);class Yi extends ke.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pd.N;return this._value}next(i){super.next(this._value=i)}}var Fa=N(4869),Vl=N(9796),wi=N(7393);class Ob extends wi.L{notifyNext(i,n,s,o,u){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class ZD extends wi.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Jo=N(7444),on=N(7574);function Fb(r,i,n,s,o=new ZD(r,n,s)){if(!o.closed)return i instanceof on.y?i.subscribe(o):(0,Jo.s)(i)(o)}var a_=N(6693);const ru={};function Pa(...r){let i,n;return(0,Fa.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,Vl.k)(r[0])&&(r=r[0]),(0,a_.n)(r,n).lift(new pp(i))}class pp{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new Nd(i,this.resultSelector))}}class Nd extends Ob{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(ru),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(Fb(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const o=this.values,f=this.toRespond?o[s]===ru?--this.toRespond:this.toRespond:0;o[s]=n,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}const mo=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})();var jr=N(3282);function Xo(...r){return(0,jr.J)(1)((0,je.of)(...r))}var zr=N(9193);function Yr(r){return new on.y(i=>{let n;try{n=r()}catch(o){return void i.error(o)}return(n?(0,$t.D)(n):(0,zr.c)()).subscribe(i)})}var WD=N(2441),rt=N(8002),qr=N(5345);function Tn(r,i){return"function"==typeof i?n=>n.pipe(Tn((s,o)=>(0,$t.D)(r(s,o)).pipe((0,rt.U)((u,f)=>i(s,u,o,f))))):n=>n.lift(new Pb(r))}class Pb{constructor(i){this.project=i}call(i,n){return n.subscribe(new En(i,this.project))}}class En extends qr.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(o){return void this.destination.error(o)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new qr.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,qr.ft)(i,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}const mp=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();function hn(r){return i=>0===r?(0,zr.c)():i.lift(new c_(r))}class c_{constructor(i){if(this.total=i,this.total<0)throw new mp}call(i,n){return n.subscribe(new QD(i,this.total))}}class QD extends wi.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function Jt(...r){const i=r[r.length-1];return(0,Fa.K)(i)?(r.pop(),n=>Xo(r,n,i)):n=>Xo(r,n)}function Ld(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new u_(r,i,n))}}class u_{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new JD(i,this.accumulator,this.seed,this.hasSeed))}}class JD extends wi.L{constructor(i,n,s,o){super(i),this.accumulator=n,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function Nt(r,i){return function(s){return s.lift(new gp(r,i))}}class gp{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new Na(i,this.predicate,this.thisArg))}}class Na extends wi.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}function La(r){return function(n){const s=new Ln(r),o=n.lift(s);return s.caught=o}}class Ln{constructor(i){this.selector=i}call(i,n){return n.subscribe(new ea(i,this.selector,this.caught))}}class ea extends qr.Ds{constructor(i,n,s){super(i),this.selector=n,this.caught=s}error(i){if(!this.isStopped){let n;try{n=this.selector(i,this.caught)}catch(u){return void super.error(u)}this._unsubscribeAndRecycle();const s=new qr.IY(this);this.add(s);const o=(0,qr.ft)(n,s);o!==s&&this.add(o)}}}var Cn=N(9773);function Ba(r,i){return(0,Cn.zg)(r,i,1)}function _p(r){return function(n){return 0===r?(0,zr.c)():n.lift(new $r(r))}}class $r{constructor(i){if(this.total=i,this.total<0)throw new mp}call(i,n){return n.subscribe(new Rs(i,this.total))}}class Rs extends wi.L{constructor(i,n){super(i),this.total=n,this.ring=new Array,this.count=0}_next(i){const n=this.ring,s=this.total,o=this.count++;n.length<s?n.push(i):n[o%s]=i}_complete(){const i=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let u=0;u<s;u++){const f=n++%s;i.next(o[f])}}i.complete()}}function Va(r=d_){return i=>i.lift(new ta(r))}class ta{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new na(i,this.errorFactory))}}class na extends wi.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function d_(){return new mo}function Bd(r=null){return i=>i.lift(new Nb(r))}class Nb{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new h_(i,this.defaultValue))}}class h_ extends wi.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Lb=N(4487);function An(r,i){const n=arguments.length>=2;return s=>s.pipe(r?Nt((o,u)=>r(o,u,s)):Lb.y,hn(1),n?Bd(i):Va(()=>new mo))}var qn=N(3342),ia=N(1307),Zt=N(5319);function yp(r){return i=>i.lift(new vp(r))}class vp{constructor(i){this.callback=i}call(i,n){return n.subscribe(new bp(i,this.callback))}}class bp extends wi.L{constructor(i,n){super(i),this.add(new Zt.w(n))}}class hs{constructor(i,n){this.id=i,this.url=n}}class wp extends hs{constructor(i,n,s="imperative",o=null){super(i,n),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ua extends hs{constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ha extends hs{constructor(i,n,s){super(i,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cp extends hs{constructor(i,n,s){super(i,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ud extends hs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f_ extends hs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class su extends hs{constructor(i,n,s,o,u){super(i,n),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ep extends hs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ra extends hs{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p_{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class m_{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dp{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xp{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g_{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Et="primary";class Mp{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function fn(r){return new Mp(r)}const Hd="ngNavigationCancelingError";function Gd(r){const i=Error("NavigationCancelingError: "+r);return i[Hd]=!0,i}function ou(r,i,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||s.length<r.length))return null;const o={};for(let u=0;u<s.length;u++){const f=s[u],m=r[u];if(f.startsWith(":"))o[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:r.slice(0,s.length),posParams:o}}function vr(r,i){const n=r?Object.keys(r):void 0,s=i?Object.keys(i):void 0;if(!n||!s||n.length!=s.length)return!1;let o;for(let u=0;u<n.length;u++)if(o=n[u],!Sp(r[o],i[o]))return!1;return!0}function Sp(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),s=[...i].sort();return n.every((o,u)=>s[u]===o)}return r===i}function Bb(r){return Array.prototype.concat.apply([],r)}function Ga(r){return r.length>0?r[r.length-1]:null}function $n(r,i){for(const n in r)r.hasOwnProperty(n)&&i(r[n],n)}function Ci(r){return(0,a.CqO)(r)?r:(0,a.QGY)(r)?(0,$t.D)(Promise.resolve(r)):(0,je.of)(r)}const v_={exact:function w_(r,i,n){if(!Ya(r.segments,i.segments)||!jd(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!r.children[s]||!w_(r.children[s],i.children[s],n))return!1;return!0},subset:za},ja={exact:function(r,i){return vr(r,i)},subset:function(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>Sp(r[n],i[n]))},ignored:()=>!0};function au(r,i,n){return v_[n.paths](r.root,i.root,n.matrixParams)&&ja[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function za(r,i,n){return Gl(r,i,i.segments,n)}function Gl(r,i,n,s){if(r.segments.length>n.length){const o=r.segments.slice(0,n.length);return!(!Ya(o,n)||i.hasChildren()||!jd(o,n,s))}if(r.segments.length===n.length){if(!Ya(r.segments,n)||!jd(r.segments,n,s))return!1;for(const o in i.children)if(!r.children[o]||!za(r.children[o],i.children[o],s))return!1;return!0}{const o=n.slice(0,r.segments.length),u=n.slice(r.segments.length);return!!(Ya(r.segments,o)&&jd(r.segments,o,s)&&r.children[Et])&&Gl(r.children[Et],i,u,s)}}function jd(r,i,n){return i.every((s,o)=>ja[n](r[o].parameters,s.parameters))}class jl{constructor(i,n,s){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return Ap.serialize(this)}}class Ot{constructor(i,n){this.segments=i,this.children=n,this.parent=null,$n(n,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return go(this)}}class lu{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=fn(this.parameters)),this._parameterMap}toString(){return Ip(this)}}function Ya(r,i){return r.length===i.length&&r.every((n,s)=>n.path===i[s].path)}class Tp{}class zl{parse(i){const n=new aa(i);return new jl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){var r;return`${`/${cu(i.root,!0)}`}${function(r){const i=Object.keys(r).map(n=>{const s=r[n];return Array.isArray(s)?s.map(o=>`${uu(n)}=${uu(o)}`).join("&"):`${uu(n)}=${uu(s)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${r=i.fragment,encodeURI(r)}`:""}`}}const Ap=new zl;function go(r){return r.segments.map(i=>Ip(i)).join("/")}function cu(r,i){if(!r.hasChildren())return go(r);if(i){const n=r.children[Et]?cu(r.children[Et],!1):"",s=[];return $n(r.children,(o,u)=>{u!==Et&&s.push(`${u}:${cu(o,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(r,i){let n=[];return $n(r.children,(s,o)=>{o===Et&&(n=n.concat(i(s,o)))}),$n(r.children,(s,o)=>{o!==Et&&(n=n.concat(i(s,o)))}),n}(r,(s,o)=>o===Et?[cu(r.children[Et],!1)]:[`${o}:${cu(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Et]?`${go(r)}/${n[0]}`:`${go(r)}/(${n.join("//")})`}}function C_(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uu(r){return C_(r).replace(/%3B/gi,";")}function qa(r){return C_(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function du(r){return decodeURIComponent(r)}function Yd(r){return du(r.replace(/\+/g,"%20"))}function Ip(r){return`${qa(r.path)}${function(r){return Object.keys(r).map(i=>`;${qa(i)}=${qa(r[i])}`).join("")}(r.parameters)}`}const Gb=/^[^\/()?;=#]+/;function qd(r){const i=r.match(Gb);return i?i[0]:""}const jb=/^[^=?&#]+/,yo=/^[^&#]+/;class aa{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ot([],{}):new Ot([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[Et]=new Ot(i,n)),s}parseSegment(){const i=qd(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new lu(du(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=qd(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const o=qd(this.remaining);o&&(s=o,this.capture(s))}i[du(n)]=du(s)}parseQueryParam(i){const n=function(r){const i=r.match(jb);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const f=function(r){const i=r.match(yo);return i?i[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const o=Yd(n),u=Yd(s);if(i.hasOwnProperty(o)){let f=i[o];Array.isArray(f)||(f=[f],i[o]=f),f.push(u)}else i[o]=u}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=qd(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;s.indexOf(":")>-1?(u=s.substr(0,s.indexOf(":")),this.capture(u),this.capture(":")):i&&(u=Et);const f=this.parseChildren();n[u]=1===Object.keys(f).length?f[Et]:new Ot([],f),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class E_{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=kp(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){const n=kp(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=fu(i,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return fu(i,this._root).map(n=>n.value)}}function kp(r,i){if(r===i.value)return i;for(const n of i.children){const s=kp(r,n);if(s)return s}return null}function fu(r,i){if(r===i.value)return[i];for(const n of i.children){const s=fu(r,n);if(s.length)return s.unshift(i),s}return[]}class vo{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function $a(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class Rp extends E_{constructor(i,n){super(i),this.snapshot=n,Zd(this,i)}toString(){return this.snapshot.toString()}}function D_(r,i){const n=function(r,i){const f=new $d([],{},{},"",{},Et,i,null,r.root,-1,{});return new ql("",new vo(f,[]))}(r,i),s=new Yi([new lu("",{})]),o=new Yi({}),u=new Yi({}),f=new Yi({}),m=new Yi(""),w=new Yl(s,o,f,m,u,Et,i,n.root);return w.snapshot=n.root,new Rp(new vo(w,[]),n)}class Yl{constructor(i,n,s,o,u,f,m,w){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=m,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,rt.U)(i=>fn(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,rt.U)(i=>fn(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function x_(r,i="emptyOnly"){const n=r.pathFromRoot;let s=0;if("always"!==i)for(s=n.length-1;s>=1;){const o=n[s],u=n[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(u.component)break;s--}}return function(r){return r.reduce((i,n)=>({params:Object.assign(Object.assign({},i.params),n.params),data:Object.assign(Object.assign({},i.data),n.data),resolve:Object.assign(Object.assign({},i.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class $d{constructor(i,n,s,o,u,f,m,w,D,S,I){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=u,this.outlet=f,this.component=m,this.routeConfig=w,this._urlSegment=D,this._lastPathIndex=S,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ql extends E_{constructor(i,n){super(n),this.url=i,Zd(this,n)}toString(){return fs(this._root)}}function Zd(r,i){i.value._routerState=r,i.children.forEach(n=>Zd(r,n))}function fs(r){const i=r.children.length>0?` { ${r.children.map(fs).join(", ")} } `:"";return`${r.value}${i}`}function Za(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,vr(i.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),i.fragment!==n.fragment&&r.fragment.next(n.fragment),vr(i.params,n.params)||r.params.next(n.params),function(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!vr(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.url.next(n.url),vr(i.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function pu(r,i){return vr(r.params,i.params)&&function(r,i){return Ya(r,i)&&r.every((n,s)=>vr(n.parameters,i[s].parameters))}(r.url,i.url)&&!(!r.parent!=!i.parent)&&(!r.parent||pu(r.parent,i.parent))}function mu(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const o=function(r,i,n){return i.children.map(s=>{for(const o of n.children)if(r.shouldReuseRoute(s.value,o.value.snapshot))return mu(r,s,o);return mu(r,s)})}(r,i,n);return new vo(s,o)}{if(r.shouldAttach(i.value)){const u=r.retrieve(i.value);if(null!==u){const f=u.route;return Yb(i,f),f}}const s=function(r){return new Yl(new Yi(r.url),new Yi(r.params),new Yi(r.queryParams),new Yi(r.fragment),new Yi(r.data),r.outlet,r.component,r)}(i.value),o=i.children.map(u=>mu(r,u));return new vo(s,o)}}function Yb(r,i){if(r.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=r.value;for(let n=0;n<r.children.length;++n)Yb(r.children[n],i.children[n])}function $l(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Fs(r){return"object"==typeof r&&null!=r&&r.outlets}function A_(r,i,n,s,o){let u={};return s&&$n(s,(f,m)=>{u[m]=Array.isArray(f)?f.map(w=>`${w}`):`${f}`}),new jl(n.root===r?i:qb(n.root,r,i),u,o)}function qb(r,i,n){const s={};return $n(r.children,(o,u)=>{s[u]=o===i?n:qb(o,i,n)}),new Ot(r.segments,s)}class Pp{constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&$l(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(Fs);if(o&&o!==Ga(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Np{constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}}function la(r,i,n){if(r||(r=new Ot([],{})),0===r.segments.length&&r.hasChildren())return gu(r,i,n);const s=function(r,i,n){let s=0,o=i;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<r.segments.length;){if(s>=n.length)return u;const f=r.segments[o],m=n[s];if(Fs(m))break;const w=`${m}`,D=s<n.length-1?n[s+1]:null;if(o>0&&void 0===w)break;if(w&&D&&"object"==typeof D&&void 0===D.outlets){if(!O_(w,D,f))return u;s+=2}else{if(!O_(w,{},f))return u;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(r,i,n),o=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const u=new Ot(r.segments.slice(0,s.pathIndex),{});return u.children[Et]=new Ot(r.segments.slice(s.pathIndex),r.children),gu(u,0,o)}return s.match&&0===o.length?new Ot(r.segments,{}):s.match&&!r.hasChildren()?Lp(r,i,n):s.match?gu(r,0,o):Lp(r,i,n)}function gu(r,i,n){if(0===n.length)return new Ot(r.segments,{});{const s=function(r){return Fs(r[0])?r[0].outlets:{[Et]:r}}(n),o={};return $n(s,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[f]=la(r.children[f],i,u))}),$n(r.children,(u,f)=>{void 0===s[f]&&(o[f]=u)}),new Ot(r.segments,o)}}function Lp(r,i,n){const s=r.segments.slice(0,i);let o=0;for(;o<n.length;){const u=n[o];if(Fs(u)){const w=In(u.outlets);return new Ot(s,w)}if(0===o&&$l(n[0])){s.push(new lu(r.segments[i].path,R_(n[0]))),o++;continue}const f=Fs(u)?u.outlets[Et]:`${u}`,m=o<n.length-1?n[o+1]:null;f&&m&&$l(m)?(s.push(new lu(f,R_(m))),o+=2):(s.push(new lu(f,{})),o++)}return new Ot(s,{})}function In(r){const i={};return $n(r,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[s]=Lp(new Ot([],{}),0,n))}),i}function R_(r){const i={};return $n(r,(n,s)=>i[s]=`${n}`),i}function O_(r,i,n){return r==n.path&&vr(i,n.parameters)}class Jd{constructor(i,n,s,o){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=o}activate(i){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),Za(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){const o=$a(n);i.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],s),delete o[f]}),$n(o,(u,f)=>{this.deactivateRouteAndItsChildren(u,s)})}deactivateRoutes(i,n,s){const o=i.value,u=n?n.value:null;if(o===u)if(o.component){const f=s.getContext(o.outlet);f&&this.deactivateChildRoutes(i,n,f.children)}else this.deactivateChildRoutes(i,n,s);else u&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const s=n.getContext(i.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:u})}}deactivateRouteAndOutlet(i,n){const s=n.getContext(i.value.outlet),o=s&&i.value.component?s.children:n,u=$a(i);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,n,s){const o=$a(n);i.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],s),this.forwardEvent(new Hl(u.value.snapshot))}),i.children.length&&this.forwardEvent(new xp(i.value.snapshot))}activateRoutes(i,n,s){const o=i.value,u=n?n.value:null;if(Za(o),o===u)if(o.component){const f=s.getOrCreateContext(o.outlet);this.activateChildRoutes(i,n,f.children)}else this.activateChildRoutes(i,n,s);else if(o.component){const f=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),Xd(m.route)}else{const m=function(r){for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(o.snapshot),w=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=w,f.outlet&&f.outlet.activateWith(o,w),this.activateChildRoutes(i,null,f.children)}}else this.activateChildRoutes(i,null,s)}}function Xd(r){Za(r.value),r.children.forEach(Xd)}class Bp{constructor(i,n){this.routes=i,this.module=n}}function Ps(r){return"function"==typeof r}function Ns(r){return r instanceof jl}const Zl=Symbol("INITIAL_VALUE");function Wa(){return Tn(r=>Pa(r.map(i=>i.pipe(hn(1),Jt(Zl)))).pipe(Ld((i,n)=>{let s=!1;return n.reduce((o,u,f)=>o!==Zl?o:(u===Zl&&(s=!0),s||!1!==u&&f!==n.length-1&&!Ns(u)?o:u),i)},Zl),Nt(i=>i!==Zl),(0,rt.U)(i=>Ns(i)?i:!0===i),hn(1)))}let Di=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&a._UZ(0,"router-outlet")},directives:function(){return[oh]},encapsulation:2}),r})();function wr(r,i=""){for(let n=0;n<r.length;n++){const s=r[n];eh(s,Kb(i,s))}}function eh(r,i){r.children&&wr(r.children,i)}function Kb(r,i){return i?r||i.path?r&&!i.path?`${r}/`:!r&&i.path?i.path:`${r}/${i.path}`:"":r}function Vp(r){const i=r.children&&r.children.map(Vp),n=i?Object.assign(Object.assign({},r),{children:i}):Object.assign({},r);return!n.component&&(i||n.loadChildren)&&n.outlet&&n.outlet!==Et&&(n.component=Di),n}function Cr(r){return r.outlet||Et}function Up(r,i){const n=r.filter(s=>Cr(s)===i);return n.push(...r.filter(s=>Cr(s)!==i)),n}const ki={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wl(r,i,n){var s;if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?Object.assign({},ki):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(i.matcher||ou)(n,r,i);if(!u)return Object.assign({},ki);const f={};$n(u.posParams,(w,D)=>{f[D]=w.path});const m=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(s=u.posParams)&&void 0!==s?s:{}}}function Ka(r,i,n,s,o="corrected"){if(n.length>0&&function(r,i,n){return n.some(s=>Qa(r,i,s)&&Cr(s)!==Et)}(r,n,s)){const f=new Ot(i,function(r,i,n,s){const o={};o[Et]=s,s._sourceSegment=r,s._segmentIndexShift=i.length;for(const u of n)if(""===u.path&&Cr(u)!==Et){const f=new Ot([],{});f._sourceSegment=r,f._segmentIndexShift=i.length,o[Cr(u)]=f}return o}(r,i,s,new Ot(n,r.children)));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:[]}}if(0===n.length&&function(r,i,n){return n.some(s=>Qa(r,i,s))}(r,n,s)){const f=new Ot(r.segments,function(r,i,n,s,o,u){const f={};for(const m of s)if(Qa(r,n,m)&&!o[Cr(m)]){const w=new Ot([],{});w._sourceSegment=r,w._segmentIndexShift="legacy"===u?r.segments.length:i.length,f[Cr(m)]=w}return Object.assign(Object.assign({},o),f)}(r,i,n,s,r.children,o));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:n}}const u=new Ot(r.segments,r.children);return u._sourceSegment=r,u._segmentIndexShift=i.length,{segmentGroup:u,slicedSegments:n}}function Qa(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}function th(r,i,n,s){return!!(Cr(r)===s||s!==Et&&Qa(i,n,r))&&("**"===r.path||Wl(i,r,n).matched)}function nh(r,i,n){return 0===i.length&&!r.children[n]}class ih{constructor(i){this.segmentGroup=i||null}}class Gp{constructor(i){this.urlTree=i}}function Ja(r){return new on.y(i=>i.error(new ih(r)))}function P_(r){return new on.y(i=>i.error(new Gp(r)))}function E(r){return new on.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class x{constructor(i,n,s,o,u){this.configLoader=n,this.urlSerializer=s,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=i.get(a.h0i)}apply(){const i=Ka(this.urlTree.root,[],[],this.config).segmentGroup,n=new Ot(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Et).pipe((0,rt.U)(u=>this.createUrlTree(O(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(La(u=>{if(u instanceof Gp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ih?this.noMatchError(u):u}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,Et).pipe((0,rt.U)(o=>this.createUrlTree(O(o),i.queryParams,i.fragment))).pipe(La(o=>{throw o instanceof ih?this.noMatchError(o):o}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,n,s){const o=i.segments.length>0?new Ot([],{[Et]:i}):i;return new jl(o,n,s)}expandSegmentGroup(i,n,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe((0,rt.U)(u=>new Ot([],u))):this.expandSegment(i,s,n,s.segments,o,!0)}expandChildren(i,n,s){const o=[];for(const u of Object.keys(s.children))"primary"===u?o.unshift(u):o.push(u);return(0,$t.D)(o).pipe(Ba(u=>{const f=s.children[u],m=Up(n,u);return this.expandSegmentGroup(i,m,f,u).pipe((0,rt.U)(w=>({segment:w,outlet:u})))}),Ld((u,f)=>(u[f.outlet]=f.segment,u),{}),function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?Nt((o,u)=>r(o,u,s)):Lb.y,_p(1),n?Bd(i):Va(()=>new mo))}())}expandSegment(i,n,s,o,u,f){return(0,$t.D)(s).pipe(Ba(m=>this.expandSegmentAgainstRoute(i,n,s,m,o,u,f).pipe(La(D=>{if(D instanceof ih)return(0,je.of)(null);throw D}))),An(m=>!!m),La((m,w)=>{if(m instanceof mo||"EmptyError"===m.name){if(nh(n,o,u))return(0,je.of)(new Ot([],{}));throw new ih(n)}throw m}))}expandSegmentAgainstRoute(i,n,s,o,u,f,m){return th(o,n,u,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,n,o,u,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f):Ja(n):Ja(n)}expandSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,o){const u=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?P_(u):this.lineralizeSegments(s,u).pipe((0,Cn.zg)(f=>{const m=new Ot(f,{});return this.expandSegment(i,m,n,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,u,f){const{matched:m,consumedSegments:w,lastChild:D,positionalParamSegments:S}=Wl(n,o,u);if(!m)return Ja(n);const I=this.applyRedirectCommands(w,o.redirectTo,S);return o.redirectTo.startsWith("/")?P_(I):this.lineralizeSegments(o,I).pipe((0,Cn.zg)(F=>this.expandSegment(i,n,s,F.concat(u.slice(D)),f,!1)))}matchSegmentAgainstRoute(i,n,s,o,u){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,je.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,rt.U)(F=>(s._loadedConfig=F,new Ot(o,{})))):(0,je.of)(new Ot(o,{}));const{matched:f,consumedSegments:m,lastChild:w}=Wl(n,s,o);if(!f)return Ja(n);const D=o.slice(w);return this.getChildConfig(i,s,o).pipe((0,Cn.zg)(I=>{const F=I.module,L=I.routes,{segmentGroup:j,slicedSegments:te}=Ka(n,m,D,L),me=new Ot(j.segments,j.children);if(0===te.length&&me.hasChildren())return this.expandChildren(F,L,me).pipe((0,rt.U)(ze=>new Ot(m,ze)));if(0===L.length&&0===te.length)return(0,je.of)(new Ot(m,{}));const xe=Cr(s)===u;return this.expandSegment(F,me,L,te,xe?Et:u,!0).pipe((0,rt.U)(Le=>new Ot(m.concat(Le.segments),Le.children)))}))}getChildConfig(i,n,s){return n.children?(0,je.of)(new Bp(n.children,i)):n.loadChildren?void 0!==n._loadedConfig?(0,je.of)(n._loadedConfig):this.runCanLoadGuards(i.injector,n,s).pipe((0,Cn.zg)(o=>{return o?this.configLoader.load(i.injector,n).pipe((0,rt.U)(u=>(n._loadedConfig=u,u))):(r=n,new on.y(i=>i.error(Gd(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,je.of)(new Bp([],i))}runCanLoadGuards(i,n,s){const o=n.canLoad;if(!o||0===o.length)return(0,je.of)(!0);const u=o.map(f=>{const m=i.get(f);let w;if((r=m)&&Ps(r.canLoad))w=m.canLoad(n,s);else{if(!Ps(m))throw new Error("Invalid CanLoad guard");w=m(n,s)}var r;return Ci(w)});return(0,je.of)(u).pipe(Wa(),(0,qn.b)(f=>{if(!Ns(f))return;const m=Gd(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,rt.U)(f=>!0===f))}lineralizeSegments(i,n){let s=[],o=n.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,je.of)(s);if(o.numberOfChildren>1||!o.children[Et])return E(i.redirectTo);o=o.children[Et]}}applyRedirectCommands(i,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),i,s)}applyRedirectCreatreUrlTree(i,n,s,o){const u=this.createSegmentGroup(i,n.root,s,o);return new jl(u,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const s={};return $n(i,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);s[u]=n[m]}else s[u]=o}),s}createSegmentGroup(i,n,s,o){const u=this.createSegments(i,n.segments,s,o);let f={};return $n(n.children,(m,w)=>{f[w]=this.createSegmentGroup(i,m,s,o)}),new Ot(u,f)}createSegments(i,n,s,o){return n.map(u=>u.path.startsWith(":")?this.findPosParam(i,u,o):this.findOrReturn(u,s))}findPosParam(i,n,s){const o=s[n.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${i}'. Cannot find '${n.path}'.`);return o}findOrReturn(i,n){let s=0;for(const o of n){if(o.path===i.path)return n.splice(s),o;s++}return i}}function O(r){const i={};for(const s of Object.keys(r.children)){const u=O(r.children[s]);(u.segments.length>0||u.hasChildren())&&(i[s]=u)}return function(r){if(1===r.numberOfChildren&&r.children[Et]){const i=r.children[Et];return new Ot(r.segments.concat(i.segments),i.children)}return r}(new Ot(r.segments,i))}class _e{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Oe{constructor(i,n){this.component=i,this.route=n}}function $e(r,i,n){const s=r._root;return or(s,i?i._root:null,n,[s.value])}function st(r,i,n){const s=function(r){if(!r)return null;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(i);return(s?s.module.injector:n).get(r)}function or(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=$a(i);return r.children.forEach(f=>{(function(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=r.value,f=i?i.value:null,m=n?n.getContext(r.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const w=function(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!Ya(r.url,i.url);case"pathParamsOrQueryParamsChange":return!Ya(r.url,i.url)||!vr(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pu(r,i)||!vr(r.queryParams,i.queryParams);case"paramsChange":default:return!pu(r,i)}}(f,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new _e(s)):(u.data=f.data,u._resolvedData=f._resolvedData),or(r,i,u.component?m?m.children:null:n,s,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Oe(m.outlet.component,f))}else f&&Xa(i,m,o),o.canActivateChecks.push(new _e(s)),or(r,null,u.component?m?m.children:null:n,s,o)})(f,u[f.value.outlet],n,s.concat([f.value]),o),delete u[f.value.outlet]}),$n(u,(f,m)=>Xa(f,n.getContext(m),o)),o}function Xa(r,i,n){const s=$a(r),o=r.value;$n(s,(u,f)=>{Xa(u,o.component?i?i.children.getContext(f):null:i,n)}),n.canDeactivateChecks.push(new Oe(o.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,o))}class bu{}function sh(r){return new on.y(i=>i.error(r))}class ex{constructor(i,n,s,o,u,f){this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const i=Ka(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,i,Et);if(null===n)return null;const s=new $d([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Et,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new vo(s,n),u=new ql(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(i){const n=i.value,s=x_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),i.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,n):this.processSegment(i,n,n.segments,s)}processChildren(i,n){const s=[];for(const u of Object.keys(n.children)){const f=n.children[u],m=Up(i,u),w=this.processSegmentGroup(m,f,u);if(null===w)return null;s.push(...w)}const o=B_(s);return o.sort((i,n)=>i.value.outlet===Et?-1:n.value.outlet===Et?1:i.value.outlet.localeCompare(n.value.outlet)),o}processSegment(i,n,s,o){for(const u of i){const f=this.processSegmentAgainstRoute(u,n,s,o);if(null!==f)return f}return nh(n,s,o)?[]:null}processSegmentAgainstRoute(i,n,s,o){if(i.redirectTo||!th(i,n,s,o))return null;let u,f=[],m=[];if("**"===i.path){const L=s.length>0?Ga(s).parameters:{};u=new $d(s,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wu(i),Cr(i),i.component,i,tw(n),tk(n)+s.length,V_(i))}else{const L=Wl(n,i,s);if(!L.matched)return null;f=L.consumedSegments,m=s.slice(L.lastChild),u=new $d(f,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wu(i),Cr(i),i.component,i,tw(n),tk(n)+f.length,V_(i))}const w=(r=i).children?r.children:r.loadChildren?r._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:S}=Ka(n,f,m,w.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);var r;if(0===S.length&&D.hasChildren()){const L=this.processChildren(w,D);return null===L?null:[new vo(u,L)]}if(0===w.length&&0===S.length)return[new vo(u,[])];const I=Cr(i)===o,F=this.processSegment(w,D,S,I?Et:o);return null===F?null:[new vo(u,F)]}}function nx(r){const i=r.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function B_(r){const i=[],n=new Set;for(const s of r){if(!nx(s)){i.push(s);continue}const o=i.find(u=>s.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...s.children),n.add(o)):i.push(s)}for(const s of n){const o=B_(s.children);i.push(new vo(s.value,o))}return i.filter(s=>!n.has(s))}function tw(r){let i=r;for(;i._sourceSegment;)i=i._sourceSegment;return i}function tk(r){let i=r,n=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,n+=i._segmentIndexShift?i._segmentIndexShift:0;return n-1}function wu(r){return r.data||{}}function V_(r){return r.resolve||{}}function iw(r){return Tn(i=>{const n=r(i);return n?(0,$t.D)(n).pipe((0,rt.U)(()=>i)):(0,je.of)(i)})}class ak extends class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}{}const U_=new a.OlP("ROUTES");class H_{constructor(i,n,s,o){this.loader=i,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=o}load(i,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactory(n.loadChildren).pipe((0,rt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(n);const f=u.create(i);return new Bp(Bb(f.injector.get(U_,void 0,a.XFs.Self|a.XFs.Optional)).map(Vp),f)}),La(u=>{throw n._loader$=void 0,u}));return n._loader$=new WD.c(o,()=>new ke.xQ).pipe((0,ia.x)()),n._loader$}loadModuleFactory(i){return"string"==typeof i?(0,$t.D)(this.loader.load(i)):Ci(i()).pipe((0,Cn.zg)(n=>n instanceof a.YKP?(0,je.of)(n):(0,$t.D)(this.compiler.compileModuleAsync(n))))}}class sx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ql,this.attachRef=null}}class Ql{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new sx,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}class ck{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}function ox(r){throw r}function ax(r,i,n){return i.parse("/")}function Jl(r,i){return(0,je.of)(null)}const lx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class r{constructor(n,s,o,u,f,m,w,D){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=o,this.location=u,this.config=D,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke.xQ,this.errorHandler=ox,this.malformedUriErrorHandler=ax,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jl,afterPreactivation:Jl},this.urlHandlingStrategy=new ck,this.routeReuseStrategy=new ak,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(a.h0i),this.console=f.get(a.c2e);const F=f.get(a.R0b);this.isNgZoneEnabled=F instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(D),this.currentUrlTree=new jl(new Ot([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new H_(m,w,L=>this.triggerEvent(new p_(L)),L=>this.triggerEvent(new m_(L))),this.routerState=D_(this.currentUrlTree,this.rootComponentType),this.transitions=new Yi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(Nt(o=>0!==o.id),(0,rt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Tn(o=>{let u=!1,f=!1;return(0,je.of)(o).pipe((0,qn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Tn(m=>{const w=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString(),D=("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl);if(j_(m.source)&&(this.browserUrlTree=m.rawUrl),D)return(0,je.of)(m).pipe(Tn(S=>{const I=this.transitions.getValue();return s.next(new wp(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),I!==this.transitions.getValue()?zr.E:Promise.resolve(S)}),function(r,i,n,s){return Tn(o=>function(r,i,n,s,o){return new x(r,i,n,s,o).apply()}(r,i,n,o.extractedUrl,s).pipe((0,rt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,qn.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(r,i,n,s,o){return(0,Cn.zg)(u=>function(r,i,n,s,o="emptyOnly",u="legacy"){try{const f=new ex(r,i,n,s,o,u).recognize();return null===f?sh(new bu):(0,je.of)(f)}catch(f){return sh(f)}}(r,i,u.urlAfterRedirects,n(u.urlAfterRedirects),s,o).pipe((0,rt.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,qn.b)(S=>{"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(S.urlAfterRedirects,S),this.browserUrlTree=S.urlAfterRedirects);const I=new Ud(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);s.next(I)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:F,source:L,restoredState:j,extras:te}=m,me=new wp(I,this.serializeUrl(F),L,j);s.next(me);const xe=D_(F,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},m),{targetSnapshot:xe,urlAfterRedirects:F,extras:Object.assign(Object.assign({},te),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),zr.E}),iw(m=>{const{targetSnapshot:w,id:D,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:F,replaceUrl:L}}=m;return this.hooks.beforePreactivation(w,{navigationId:D,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!F,replaceUrl:!!L})}),(0,qn.b)(m=>{const w=new f_(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,rt.U)(m=>Object.assign(Object.assign({},m),{guards:$e(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(r,i){return(0,Cn.zg)(n=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=n;return 0===f.length&&0===u.length?(0,je.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,i,n,s){return(0,$t.D)(r).pipe((0,Cn.zg)(o=>function(r,i,n,s,o){const u=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,je.of)(!0);const f=u.map(m=>{const w=st(m,i,o);let D;if(function(r){return r&&Ps(r.canDeactivate)}(w))D=Ci(w.canDeactivate(r,i,n,s));else{if(!Ps(w))throw new Error("Invalid CanDeactivate guard");D=Ci(w(r,i,n,s))}return D.pipe(An())});return(0,je.of)(f).pipe(Wa())}(o.component,o.route,n,i,s)),An(o=>!0!==o,!0))}(f,s,o,r).pipe((0,Cn.zg)(m=>m&&function(r){return"boolean"==typeof r}(m)?function(r,i,n,s){return(0,$t.D)(i).pipe(Ba(o=>Xo(function(r,i){return null!==r&&i&&i(new Dp(r)),(0,je.of)(!0)}(o.route.parent,s),function(r,i){return null!==r&&i&&i(new g_(r)),(0,je.of)(!0)}(o.route,s),function(r,i,n){const s=i[i.length-1],u=i.slice(0,i.length-1).reverse().map(f=>function(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(f)).filter(f=>null!==f).map(f=>Yr(()=>{const m=f.guards.map(w=>{const D=st(w,f.node,n);let S;if(function(r){return r&&Ps(r.canActivateChild)}(D))S=Ci(D.canActivateChild(s,r));else{if(!Ps(D))throw new Error("Invalid CanActivateChild guard");S=Ci(D(s,r))}return S.pipe(An())});return(0,je.of)(m).pipe(Wa())}));return(0,je.of)(u).pipe(Wa())}(r,o.path,n),function(r,i,n){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,je.of)(!0);const o=s.map(u=>Yr(()=>{const f=st(u,i,n);let m;if(function(r){return r&&Ps(r.canActivate)}(f))m=Ci(f.canActivate(i,r));else{if(!Ps(f))throw new Error("Invalid CanActivate guard");m=Ci(f(i,r))}return m.pipe(An())}));return(0,je.of)(o).pipe(Wa())}(r,o.route,n))),An(o=>!0!==o,!0))}(s,u,r,i):(0,je.of)(m)),(0,rt.U)(m=>Object.assign(Object.assign({},n),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,qn.b)(m=>{if(Ns(m.guardsResult)){const D=Gd(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const w=new su(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),Nt(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),iw(m=>{if(m.guards.canActivateChecks.length)return(0,je.of)(m).pipe((0,qn.b)(w=>{const D=new Ep(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}),Tn(w=>{let D=!1;return(0,je.of)(w).pipe(function(r,i){return(0,Cn.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=n;if(!o.length)return(0,je.of)(n);let u=0;return(0,$t.D)(o).pipe(Ba(f=>function(r,i,n,s){return function(r,i,n,s){const o=Object.keys(r);if(0===o.length)return(0,je.of)({});const u={};return(0,$t.D)(o).pipe((0,Cn.zg)(f=>function(r,i,n,s){const o=st(r,i,s);return Ci(o.resolve?o.resolve(i,n):o(i,n))}(r[f],i,n,s).pipe((0,qn.b)(m=>{u[f]=m}))),_p(1),(0,Cn.zg)(()=>Object.keys(u).length===o.length?(0,je.of)(u):zr.E))}(r._resolve,r,i,s).pipe((0,rt.U)(u=>(r._resolvedData=u,r.data=Object.assign(Object.assign({},r.data),x_(r,n).resolve),null)))}(f.route,s,r,i)),(0,qn.b)(()=>u++),_p(1),(0,Cn.zg)(f=>u===o.length?(0,je.of)(n):zr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,qn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,qn.b)(w=>{const D=new ra(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(D)}))}),iw(m=>{const{targetSnapshot:w,id:D,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:F,replaceUrl:L}}=m;return this.hooks.afterPreactivation(w,{navigationId:D,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!F,replaceUrl:!!L})}),(0,rt.U)(m=>{const w=function(r,i,n){const s=mu(r,i._root,n?n._root:void 0);return new Rp(s,i)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:w})}),(0,qn.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((r,i,n)=>(0,rt.U)(s=>(new Jd(i,s.targetRouterState,s.currentRouterState,n).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,qn.b)({next(){u=!0},complete(){u=!0}}),yp(()=>{if(!u&&!f){const m=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,m)):this.cancelNavigationTransition(o,m)}this.currentNavigation=null}),La(m=>{if(f=!0,function(r){return r&&r[Hd]}(m)){const w=Ns(m.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const D=new Ha(o.id,this.serializeUrl(o.extractedUrl),m.message);s.next(D),w?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),I={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j_(o.source)};this.scheduleNavigation(S,"imperative",null,I,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new Cp(o.id,this.serializeUrl(o.extractedUrl),m);s.next(w);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return zr.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:u,urlTree:f}=s,m={replaceUrl:!0};if(u){const w=Object.assign({},u);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(m.state=w)}this.scheduleNavigation(f,o,u,m)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const o=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!o||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){wr(n),this.config=n.map(Vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:m,preserveFragment:w}=s,D=o||this.routerState.root,S=w?this.currentUrlTree.fragment:f;let I=null;switch(m){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}return null!==I&&(I=this.removeEmptyProps(I)),function(r,i,n,s,o){if(0===n.length)return A_(i.root,i.root,i,s,o);const u=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Pp(!0,0,r);let i=0,n=!1;const s=r.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return $n(u.outlets,(w,D)=>{m[D]="string"==typeof w?w.split("/"):w}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?n=!0:".."===m?i++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new Pp(n,i,s)}(n);if(u.toRoot())return A_(i.root,new Ot([],{}),i,s,o);const f=function(r,i,n){if(r.isAbsolute)return new Np(i.root,!0,0);if(-1===n.snapshot._lastPathIndex){const u=n.snapshot._urlSegment;return new Np(u,u===i.root,0)}const s=$l(r.commands[0])?0:1;return function(r,i,n){let s=r,o=i,u=n;for(;u>o;){if(u-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new Np(s,!1,o-u)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(u,i,r),m=f.processChildren?gu(f.segmentGroup,f.index,u.commands):la(f.segmentGroup,f.index,u.commands);return A_(f.segmentGroup,m,i,s,o)}(D,this.currentUrlTree,n,I,null!=S?S:null)}navigateByUrl(n,s={skipLocationChange:!1}){const o=Ns(n)?n:this.parseUrl(n),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(r){for(let i=0;i<r.length;i++){const n=r[i];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${i}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return s}isActive(n,s){let o;if(o=!0===s?Object.assign({},lx):!1===s?Object.assign({},cx):s,Ns(n))return au(this.currentUrlTree,n,o);const u=this.parseUrl(n);return au(this.currentUrlTree,u,o)}removeEmptyProps(n){return Object.keys(n).reduce((s,o)=>{const u=n[o];return null!=u&&(s[o]=u),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Ua(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,o,u,f){var m,w;if(this.disposed)return Promise.resolve(!1);const D=this.getTransition(),S=j_(s)&&D&&!j_(D.source),L=(this.lastSuccessfulId===D.id||this.currentNavigation?D.rawUrl:D.urlAfterRedirects).toString()===n.toString();if(S&&L)return Promise.resolve(!0);let j,te,me;f?(j=f.resolve,te=f.reject,me=f.promise):me=new Promise((Le,ze)=>{j=Le,te=ze});const xe=++this.navigationId;let Ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Ge=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):Ge=0,this.setTransition({id:xe,targetPageId:Ge,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:u,resolve:j,reject:te,promise:me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),me.catch(Le=>Promise.reject(Le))}setBrowserUrl(n,s){const o=this.urlSerializer.serialize(n),u=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(n,s=!1){var o,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const o=new Ha(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.DyG),a.LFG(Tp),a.LFG(Ql),a.LFG(ct),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function j_(r){return"imperative"!==r}let oh=(()=>{class r{constructor(n,s,o,u,f){this.parentContexts=n,this.location=s,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=u||Et,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const f=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,w=new q_(n,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Ql),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},r.\u0275dir=a.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class q_{constructor(i,n,s){this.route=i,this.childContexts=n,this.parent=s}get(i,n){return i===Yl?this.route:i===Ql?this.childContexts:this.parent.get(i,n)}}class sw{}class aw{preload(i,n){return(0,je.of)(null)}}let $_=(()=>{class r{constructor(n,s,o,u,f){this.router=n,this.injector=u,this.preloadingStrategy=f,this.loader=new H_(s,o,D=>n.triggerEvent(new p_(D)),D=>n.triggerEvent(new m_(D)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nt(n=>n instanceof Ua),Ba(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(a.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const o=[];for(const u of s)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(n,u)):u.children&&o.push(this.processRoutes(n,u.children));return(0,$t.D)(o).pipe((0,jr.J)(),(0,rt.U)(u=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,je.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,Cn.zg)(u=>(s._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(qi),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(sw))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),Eu=(()=>{class r{constructor(n,s,o={}){this.router=n,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof wp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ua&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof sa&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new sa(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(qi),a.LFG(Zc),a.LFG(void 0))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Xl=new a.OlP("ROUTER_CONFIGURATION"),dx=new a.OlP("ROUTER_FORROOT_GUARD"),hx=[ct,{provide:Tp,useClass:zl},{provide:qi,useFactory:function(r,i,n,s,o,u,f,m={},w,D){const S=new qi(null,r,i,n,s,o,u,Bb(f));return w&&(S.urlHandlingStrategy=w),D&&(S.routeReuseStrategy=D),function(r,i){r.errorHandler&&(i.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(i.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(i.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(i.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(i.urlUpdateStrategy=r.urlUpdateStrategy)}(m,S),m.enableTracing&&S.events.subscribe(I=>{var F,L;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(L=console.groupEnd)||void 0===L||L.call(console)}),S},deps:[Tp,Ql,ct,a.zs3,a.v3s,a.Sil,U_,Xl,[class{},new a.FiY],[class{},new a.FiY]]},Ql,{provide:Yl,useFactory:function(r){return r.routerState.root},deps:[qi]},{provide:a.v3s,useClass:a.EAV},$_,aw,class{preload(i,n){return n().pipe(La(()=>(0,je.of)(null)))}},{provide:Xl,useValue:{enableTracing:!1}}];function lw(){return new a.PXZ("Router",qi)}let cw=(()=>{class r{constructor(n,s){}static forRoot(n,s){return{ngModule:r,providers:[hx,uw(n),{provide:dx,useFactory:dk,deps:[[qi,new a.FiY,new a.tp0]]},{provide:Xl,useValue:s||{}},{provide:Ae,useFactory:fx,deps:[W,[new a.tBr(Ie),new a.FiY],Xl]},{provide:Eu,useFactory:MN,deps:[qi,Zc,Xl]},{provide:sw,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:aw},{provide:a.PXZ,multi:!0,useFactory:lw},[dw,{provide:a.ip1,multi:!0,useFactory:px,deps:[dw]},{provide:mx,useFactory:pk,deps:[dw]},{provide:a.tb,multi:!0,useExisting:mx}]]}}static forChild(n){return{ngModule:r,providers:[uw(n)]}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(dx,8),a.LFG(qi,8))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();function MN(r,i,n){return n.scrollOffset&&i.setOffset(n.scrollOffset),new Eu(r,i,n)}function fx(r,i,n={}){return n.useHash?new it(r,i):new mt(r,i)}function dk(r){return"guarded"}function uw(r){return[{provide:a.deG,multi:!0,useValue:r},{provide:U_,multi:!0,useValue:r}]}let dw=(()=>{class r{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ke.xQ}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(m=>s=m),u=this.injector.get(qi),f=this.injector.get(Xl);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),u.initialNavigation()):s(!0),o})}bootstrapListener(n){const s=this.injector.get(Xl),o=this.injector.get($_),u=this.injector.get(Eu),f=this.injector.get(qi),m=this.injector.get(a.z2F);n===m.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),u.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.zs3))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function px(r){return r.appInitializer.bind(r)}function pk(r){return r.bootstrapListener.bind(r)}const mx=new a.OlP("Router Initializer");var Dn=N(6682);const _k={provide:a.tb,useFactory:function(r,i){return()=>{if(co(i)){const n=Array.from(r.querySelectorAll(`[class*=${gx}]`)),s=/\bflex-layout-.+?\b/g;n.forEach(o=>{o.classList.contains(`${gx}ssr`)&&o.parentNode?o.parentNode.removeChild(o):o.className.replace(s,"")})}}},deps:[q,a.Lbi],multi:!0},gx="flex-layout-";let Mt=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[_k]}),r})();class ec{constructor(i=!1,n="all",s="",o="",u=0){this.matches=i,this.mediaQuery=n,this.mqAlias=s,this.suffix=o,this.priority=u,this.property=""}clone(){return new ec(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let hw=(()=>{class r{constructor(){this.stylesheet=new Map}addStyleToElement(n,s,o){const u=this.stylesheet.get(n);u?u.set(s,o):this.stylesheet.set(n,new Map([[s,o]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(n,s){const o=this.stylesheet.get(n);let u="";if(o){const f=o.get(s);("number"==typeof f||"string"==typeof f)&&(u=f+"")}return u}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Z_={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Ri=new a.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Z_}),fw=new a.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),yk=new a.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function W_(r,i){return r=r?r.clone():new ec,i&&(r.mqAlias=i.alias,r.mediaQuery=i.mediaQuery,r.suffix=i.suffix,r.priority=i.priority),r}const Co="inline",K_=["row","column","row-reverse","column-reverse"];function TN(r){if(r)switch(r.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":r="wrap-reverse";break;case"no":case"none":case"nowrap":r="nowrap";break;default:r="wrap"}return r}let Du=(()=>{class r{constructor(n,s,o,u){this.elementRef=n,this.styleBuilder=s,this.styler=o,this.marshal=u,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ke.xQ,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,this.marshal.activatedAlias)}ngOnChanges(n){Object.keys(n).forEach(s=>{if(-1!==this.inputs.indexOf(s)){const o=s.split(".").slice(1).join(".");this.setValue(n[s].currentValue,o)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(n=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),n)}addStyles(n,s){const o=this.styleBuilder,u=o.shouldCache;let f=this.styleCache.get(n);(!f||!u)&&(f=o.buildStyles(n,s),u&&this.styleCache.set(n,f)),this.mru=Object.assign({},f),this.applyStyleToElement(f),o.sideEffect(n,f,s)}clearStyles(){Object.keys(this.mru).forEach(n=>{this.mru[n]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(n,s=!1){if(n){const[o,u]=this.styler.getFlowDirection(n);if(!u&&s){const f=function(r){let[i,n,s]=function(r){r=r?r.toLowerCase():"";let[i,n,s]=r.split(" ");return K_.find(o=>o===i)||(i=K_[0]),n===Co&&(n=s!==Co?s:"",s=Co),[i,TN(n),!!s]}(r);return function(r,i=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":r,"flex-wrap":i||null}}(i,n,s)}(o);this.styler.applyStyleToElements(f,[n])}return o.trim()}return"row"}hasWrap(n){return this.styler.hasWrap(n)}applyStyleToElement(n,s,o=this.nativeElement){this.styler.applyStyleToElement(o,n,s)}setValue(n,s){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,s)}updateWithValue(n){this.currentValue!==n&&(this.addStyles(n),this.currentValue=n)}}return r.\u0275fac=function(n){a.$Z()},r.\u0275dir=a.lG2({type:r,features:[a.TTD]}),r})();const tl=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],zp="(orientation: portrait) and (max-width: 599.98px)",Yp="(orientation: landscape) and (max-width: 959.98px)",Q_="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",vk="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",vx="(orientation: portrait) and (min-width: 840px)",mw="(orientation: landscape) and (min-width: 1280px)",tc={HANDSET:`${zp}, ${Yp}`,TABLET:`${Q_} , ${vk}`,WEB:`${vx}, ${mw} `,HANDSET_PORTRAIT:`${zp}`,TABLET_PORTRAIT:`${Q_} `,WEB_PORTRAIT:`${vx}`,HANDSET_LANDSCAPE:`${Yp}`,TABLET_LANDSCAPE:`${vk}`,WEB_LANDSCAPE:`${mw}`},bk=[{alias:"handset",priority:2e3,mediaQuery:tc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:tc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:tc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:tc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:tc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:tc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:tc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:tc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:tc.WEB_PORTRAIT,overlapping:!0}],bx=/(\.|-|_)/g;function wx(r){let i=r.length>0?r.charAt(0):"",n=r.length>1?r.slice(1):"";return i.toUpperCase()+n}function IN(r,i=[]){const n={};return r.forEach(s=>{n[s.alias]=s}),i.forEach(s=>{n[s.alias]?function(r,...i){if(null==r)throw TypeError("Cannot convert undefined or null to object");for(let n of i)if(null!=n)for(let s in n)n.hasOwnProperty(s)&&(r[s]=n[s])}(n[s.alias],s):n[s.alias]=s}),function(r){return r.forEach(i=>{i.suffix||(i.suffix=function(r){return r.replace(bx,"|").split("|").map(wx).join("")}(i.alias),i.overlapping=!!i.overlapping)}),r}(Object.keys(n).map(s=>n[s]))}const Ck=new a.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const r=(0,a.f3M)(yk),i=(0,a.f3M)(Ri),n=[].concat.apply([],(r||[]).map(o=>Array.isArray(o)?o:[o]));return IN((i.disableDefaultBps?[]:tl).concat(i.addOrientationBps?bk:[]),n)}});function J_(r,i){return(i&&i.priority||0)-(r&&r.priority||0)}function kN(r,i){return(r.priority||0)-(i.priority||0)}let X_=(()=>{class r{constructor(n){this.findByMap=new Map,this.items=[...n].sort(kN)}findByAlias(n){return n?this.findWithPredicate(n,s=>s.alias==n):null}findByQuery(n){return this.findWithPredicate(n,s=>s.mediaQuery==n)}get overlappings(){return this.items.filter(n=>1==n.overlapping)}get aliases(){return this.items.map(n=>n.alias)}get suffixes(){return this.items.map(n=>n.suffix?n.suffix:"")}findWithPredicate(n,s){let o=this.findByMap.get(n);return o||(o=this.items.find(s)||null,this.findByMap.set(n,o)),o||null}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Ck))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(Ck))},token:r,providedIn:"root"}),r})(),_w=(()=>{class r{constructor(n,s,o){this._zone=n,this._platformId=s,this._document=o,this.source=new Yi(new ec(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const n=[];return this.registry.forEach((s,o)=>{s.matches&&n.push(o)}),n}isActive(n){const s=this.registry.get(n);return s?s.matches:this.registerQuery(n).some(o=>o.matches)}observe(n,s=!1){if(n&&n.length){const o=this._observable$.pipe(Nt(f=>!s||n.indexOf(f.mediaQuery)>-1)),u=new on.y(f=>{const m=this.registerQuery(n);if(m.length){const w=m.pop();m.forEach(D=>{f.next(D)}),this.source.next(w)}f.complete()});return(0,Dn.T)(u,o)}return this._observable$}registerQuery(n){const s=Array.isArray(n)?n:[n],o=[];return function(r,i){const n=r.filter(s=>!Ek[s]);if(n.length>0){const s=n.join(", ");try{const o=i.createElement("style");o.setAttribute("type","text/css"),o.styleSheet||o.appendChild(i.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${s} {.fx-query-test{ }}\n`)),i.head.appendChild(o),n.forEach(u=>Ek[u]=o)}catch(o){console.error(o)}}}(s,this._document),s.forEach(u=>{const f=w=>{this._zone.run(()=>this.source.next(new ec(w.matches,u)))};let m=this.registry.get(u);m||(m=this.buildMQL(u),m.addListener(f),this.pendingRemoveListenerFns.push(()=>m.removeListener(f)),this.registry.set(u,m)),m.matches&&o.push(new ec(!0,u))}),o}ngOnDestroy(){let n;for(;n=this.pendingRemoveListenerFns.pop();)n()}buildMQL(n){return function(r,i){return i&&window.matchMedia("all").addListener?window.matchMedia(r):{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(n,co(this._platformId))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(a.Lbi),a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(a.R0b),(0,a.LFG)(a.Lbi),(0,a.LFG)(q))},token:r,providedIn:"root"}),r})();const Ek={},nc="print",Dk={alias:nc,mediaQuery:nc,priority:1e3};let yw=(()=>{class r{constructor(n,s,o){this.breakpoints=n,this.layoutConfig=s,this._document=o,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new vw,this.deactivations=[]}withPrintQuery(n){return[...n,nc]}isPrintEvent(n){return n.mediaQuery.startsWith(nc)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(n=>this.breakpoints.findByAlias(n)).filter(n=>null!==n)}getEventBreakpoints({mediaQuery:n}){const s=this.breakpoints.findByQuery(n);return(s?[...this.printBreakPoints,s]:this.printBreakPoints).sort(J_)}updateEvent(n){let s=this.breakpoints.findByQuery(n.mediaQuery);return this.isPrintEvent(n)&&(s=this.getEventBreakpoints(n)[0],n.mediaQuery=s?s.mediaQuery:""),W_(n,s)}registerBeforeAfterPrintHooks(n){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const s=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(n,this.getEventBreakpoints(new ec(!0,nc))),n.updateStyles())},o=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(n),n.updateStyles())};this._document.defaultView.addEventListener("beforeprint",s),this._document.defaultView.addEventListener("afterprint",o),this.beforePrintEventListeners.push(s),this.afterPrintEventListeners.push(o)}interceptEvents(n){return this.registerBeforeAfterPrintHooks(n),s=>{this.isPrintEvent(s)?s.matches&&!this.isPrinting?(this.startPrinting(n,this.getEventBreakpoints(s)),n.updateStyles()):!s.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(n),n.updateStyles()):this.collectActivations(s)}}blockPropagation(){return n=>!(this.isPrinting||this.isPrintEvent(n))}startPrinting(n,s){this.isPrinting=!0,n.activatedBreakpoints=this.queue.addPrintBreakpoints(s)}stopPrinting(n){n.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(n){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(n.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const s=this.breakpoints.findByQuery(n.mediaQuery);s&&(this.deactivations.push(s),this.deactivations.sort(J_))}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("beforeprint",n)),this.afterPrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("afterprint",n)))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(X_),a.LFG(Ri),a.LFG(q))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(X_),(0,a.LFG)(Ri),(0,a.LFG)(q))},token:r,providedIn:"root"}),r})();class vw{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(i){return i.push(Dk),i.sort(J_),i.forEach(n=>this.addBreakpoint(n)),this.printBreakpoints}addBreakpoint(i){var r;i&&void 0===this.printBreakpoints.find(s=>s.mediaQuery===i.mediaQuery)&&(this.printBreakpoints=(r=i)&&r.mediaQuery.startsWith(nc)?[i,...this.printBreakpoints]:[...this.printBreakpoints,i])}clear(){this.printBreakpoints=[]}}function Mk(r){for(let i in r){let n=r[i]||"";switch(i){case"display":r.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":r["-webkit-"+i]=n;break;case"flex-direction":n=n||"row",r["-webkit-flex-direction"]=n,r["flex-direction"]=n;break;case"order":r.order=r["-webkit-"+i]=isNaN(+n)?"0":n}}return r}let Bs=(()=>{class r{constructor(n,s,o,u){this._serverStylesheet=n,this._serverModuleLoaded=s,this._platformId=o,this.layoutConfig=u}applyStyleToElement(n,s,o=null){let u={};"string"==typeof s&&(u[s]=o,s=u),u=this.layoutConfig.disableVendorPrefixes?s:Mk(s),this._applyMultiValueStyleToElement(u,n)}applyStyleToElements(n,s=[]){const o=this.layoutConfig.disableVendorPrefixes?n:Mk(n);s.forEach(u=>{this._applyMultiValueStyleToElement(o,u)})}getFlowDirection(n){const s="flex-direction";let o=this.lookupStyle(n,s);return[o||"row",this.lookupInlineStyle(n,s)||$c(this._platformId)&&this._serverModuleLoaded?o:""]}hasWrap(n){return"wrap"===this.lookupStyle(n,"flex-wrap")}lookupAttributeValue(n,s){return n.getAttribute(s)||""}lookupInlineStyle(n,s){return co(this._platformId)?n.style.getPropertyValue(s):this._getServerStyle(n,s)}lookupStyle(n,s,o=!1){let u="";return n&&((u=this.lookupInlineStyle(n,s))||(co(this._platformId)?o||(u=getComputedStyle(n).getPropertyValue(s)):this._serverModuleLoaded&&(u=this._serverStylesheet.getStyleForElement(n,s)))),u?u.trim():""}_applyMultiValueStyleToElement(n,s){Object.keys(n).sort().forEach(o=>{const u=n[o],f=Array.isArray(u)?u:[u];f.sort();for(let m of f)m=m?m+"":"",co(this._platformId)||!this._serverModuleLoaded?co(this._platformId)?s.style.setProperty(o,m):this._setServerStyle(s,o,m):this._serverStylesheet.addStyleToElement(s,o,m)})}_setServerStyle(n,s,o){s=s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const u=this._readStyleAttribute(n);u[s]=o||"",this._writeStyleAttribute(n,u)}_getServerStyle(n,s){return this._readStyleAttribute(n)[s]||""}_readStyleAttribute(n){const s={},o=n.getAttribute("style");if(o){const u=o.split(/;+/g);for(let f=0;f<u.length;f++){const m=u[f].trim();if(m.length>0){const w=m.indexOf(":");if(-1===w)throw new Error(`Invalid CSS style: ${m}`);s[m.substr(0,w).trim()]=m.substr(w+1).trim()}}}return s}_writeStyleAttribute(n,s){let o="";for(const u in s)s[u]&&(o+=u+":"+s[u]+";");n.setAttribute("style",o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(hw),a.LFG(fw),a.LFG(a.Lbi),a.LFG(Ri))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(hw),(0,a.LFG)(fw),(0,a.LFG)(a.Lbi),(0,a.LFG)(Ri))},token:r,providedIn:"root"}),r})();class ic{constructor(){this.shouldCache=!0}sideEffect(i,n,s){}}function bw(r,i="1",n="1"){let s=[i,n,r],o=r.indexOf("calc");if(o>0){s[2]=Dx(r.substring(o).trim());let u=r.substr(0,o).trim().split(" ");2==u.length&&(s[0]=u[0],s[1]=u[1])}else if(0==o)s[2]=Dx(r.trim());else{let u=r.split(" ");s=3===u.length?u:[i,n,r]}return s}function Dx(r){return r.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}let rc=(()=>{class r{constructor(n,s,o){this.matchMedia=n,this.breakpoints=s,this.hook=o,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ke.xQ,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(n){const s=this.findByQuery(n.mediaQuery);s&&((n=W_(n,s)).matches&&-1===this.activatedBreakpoints.indexOf(s)?(this.activatedBreakpoints.push(s),this.activatedBreakpoints.sort(J_),this.updateStyles()):!n.matches&&-1!==this.activatedBreakpoints.indexOf(s)&&(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(s),1),this.activatedBreakpoints.sort(J_),this.updateStyles()))}init(n,s,o,u,f=[]){ah(this.updateMap,n,s,o),ah(this.clearMap,n,s,u),this.buildElementKeyMap(n,s),this.watchExtraTriggers(n,s,f)}getValue(n,s,o){const u=this.elementMap.get(n);if(u){const f=void 0!==o?u.get(o):this.getActivatedValues(u,s);if(f)return f.get(s)}}hasValue(n,s){const o=this.elementMap.get(n);if(o){const u=this.getActivatedValues(o,s);if(u)return void 0!==u.get(s)||!1}return!1}setValue(n,s,o,u){let f=this.elementMap.get(n);if(f){const w=(f.get(u)||new Map).set(s,o);f.set(u,w),this.elementMap.set(n,f)}else f=(new Map).set(u,(new Map).set(s,o)),this.elementMap.set(n,f);const m=this.getValue(n,s);void 0!==m&&this.updateElement(n,s,m)}trackValue(n,s){return this.subject.asObservable().pipe(Nt(o=>o.element===n&&o.key===s))}updateStyles(){this.elementMap.forEach((n,s)=>{const o=new Set(this.elementKeyMap.get(s));let u=this.getActivatedValues(n);u&&u.forEach((f,m)=>{this.updateElement(s,m,f),o.delete(m)}),o.forEach(f=>{if(u=this.getActivatedValues(n,f),u){const m=u.get(f);this.updateElement(s,f,m)}else this.clearElement(s,f)})})}clearElement(n,s){const o=this.clearMap.get(n);if(o){const u=o.get(s);u&&(u(),this.subject.next({element:n,key:s,value:""}))}}updateElement(n,s,o){const u=this.updateMap.get(n);if(u){const f=u.get(s);f&&(f(o),this.subject.next({element:n,key:s,value:o}))}}releaseElement(n){const s=this.watcherMap.get(n);s&&(s.forEach(u=>u.unsubscribe()),this.watcherMap.delete(n));const o=this.elementMap.get(n);o&&(o.forEach((u,f)=>o.delete(f)),this.elementMap.delete(n))}triggerUpdate(n,s){const o=this.elementMap.get(n);if(o){const u=this.getActivatedValues(o,s);u&&(s?this.updateElement(n,s,u.get(s)):u.forEach((f,m)=>this.updateElement(n,m,f)))}}buildElementKeyMap(n,s){let o=this.elementKeyMap.get(n);o||(o=new Set,this.elementKeyMap.set(n,o)),o.add(s)}watchExtraTriggers(n,s,o){if(o&&o.length){let u=this.watcherMap.get(n);if(u||(u=new Map,this.watcherMap.set(n,u)),!u.get(s)){const m=(0,Dn.T)(...o).subscribe(()=>{const w=this.getValue(n,s);this.updateElement(n,s,w)});u.set(s,m)}}}findByQuery(n){return this.breakpoints.findByQuery(n)}getActivatedValues(n,s){for(let u=0;u<this.activatedBreakpoints.length;u++){const m=n.get(this.activatedBreakpoints[u].alias);if(m&&(void 0===s||m.has(s)&&null!=m.get(s)))return m}const o=n.get("");return void 0===s||o&&o.has(s)?o:void 0}observeActivations(){const s=this.breakpoints.items.map(o=>o.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(s)).pipe((0,qn.b)(this.hook.interceptEvents(this)),Nt(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(_w),a.LFG(X_),a.LFG(yw))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(_w),(0,a.LFG)(X_),(0,a.LFG)(yw))},token:r,providedIn:"root"}),r})();function ah(r,i,n,s){if(void 0!==s){let o=r.get(i);o||(o=new Map,r.set(i,o)),o.set(n,s)}}const Su=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(q)}});let Wt=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new a.vpe,n){const o=n.documentElement?n.documentElement.dir:null,u=(n.body?n.body.dir:null)||o;this.value="ltr"===u||"rtl"===u?u:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Su,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Su,8))},token:r,providedIn:"root"}),r})(),Eo=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();function Je(r){return i=>i.lift(new xx(r))}class xx{constructor(i){this.notifier=i}call(i,n){const s=new Mx(i),o=(0,qr.ft)(this.notifier,new qr.IY(s));return o&&!s.seenValue?(s.add(o),n.subscribe(s)):s}}class Mx extends qr.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const qp="inline",lh=["row","column","row-reverse","column-reverse"];function $p(r){r=r?r.toLowerCase():"";let[i,n,s]=r.split(" ");return lh.find(o=>o===i)||(i=lh[0]),n===qp&&(n=s!==qp?s:"",s=qp),[i,Tx(n),!!s]}function Zp(r){let[i]=$p(r);return i.indexOf("row")>-1}function Tx(r){if(r)switch(r.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":r="wrap-reverse";break;case"no":case"none":case"nowrap":r="nowrap";break;default:r="wrap"}return r}let Ax=(()=>{class r extends ic{buildStyles(n){return function(r){let[i,n,s]=$p(r);return function(r,i=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":r,"flex-wrap":i||null}}(i,n,s)}(n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const Ix=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let kx=(()=>{class r extends Du{constructor(n,s,o,u){super(n,o,s,u),this.DIRECTIVE_KEY="layout",this.styleCache=Sk,this.init()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Bs),a.Y36(Ax),a.Y36(rc))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),Vs=(()=>{class r extends kx{constructor(){super(...arguments),this.inputs=Ix}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[a.qOj]}),r})();const Sk=new Map,Wr={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Tk=(()=>{class r extends ic{constructor(n){super(),this._styler=n}buildStyles(n,s){return n.endsWith(ty)?function(r,i){const[n,s]=r.split(" "),u=D=>`-${D}`;let f="0px",m=u(s||n),w="0px";return"rtl"===i?w=u(n):f=u(n),{margin:`0px ${f} ${m} ${w}`}}(n=n.slice(0,n.indexOf(ty)),s.directionality):{}}sideEffect(n,s,o){const u=o.items;if(n.endsWith(ty)){const f=function(r,i){const[n,s]=r.split(" ");let u="0px",m="0px";return"rtl"===i?m=n:u=n,{padding:`0px ${u} ${s||n} ${m}`}}(n=n.slice(0,n.indexOf(ty)),o.directionality);this._styler.applyStyleToElements(f,o.items)}else{const f=u.pop(),m=function(r,i){const n=Ew(i.directionality,i.layout),s=Object.assign({},Wr);return s[n]=r,s}(n,o);this._styler.applyStyleToElements(m,u),this._styler.applyStyleToElements(Wr,[f])}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Bs))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(Bs))},token:r,providedIn:"root"}),r})();const Ak=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let UN=(()=>{class r extends Du{constructor(n,s,o,u,f,m){super(n,f,u,m),this.zone=s,this.directionality=o,this.styleUtils=u,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new ke.xQ;const w=[this.directionality.change,this.observerSubject.asObservable()];this.init(w),this.marshal.trackValue(this.nativeElement,"layout").pipe(Je(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const n=this.nativeElement.children,s=[];for(let o=n.length;o--;)s[o]=n[o];return s}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(n){const o=n.value.split(" ");this.layout=o[0],lh.find(u=>u===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(n){const s=this.childrenNodes.filter(o=>1===o.nodeType&&this.willDisplay(o)).sort((o,u)=>{const f=+this.styler.lookupStyle(o,"order"),m=+this.styler.lookupStyle(u,"order");return isNaN(f)||isNaN(m)||f===m?0:f>m?1:-1});if(s.length>0){const o=this.directionality.value,u=this.layout;"row"===u&&"rtl"===o?this.styleCache=HN:"row"===u&&"rtl"!==o?this.styleCache=Cw:"column"===u&&"rtl"===o?this.styleCache=Ik:"column"===u&&"rtl"!==o&&(this.styleCache=Rx),this.addStyles(n,{directionality:o,items:s,layout:u})}}clearStyles(){const n=Object.keys(this.mru).length>0,s=n?"padding":Ew(this.directionality.value,this.layout);n&&super.clearStyles(),this.styleUtils.applyStyleToElements({[s]:""},this.childrenNodes)}willDisplay(n){const s=this.marshal.getValue(n,"show-hide");return!0===s||void 0===s&&"none"!==this.styleUtils.lookupStyle(n,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(n=>{n.some(o=>o.addedNodes&&o.addedNodes.length>0||o.removedNodes&&o.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Wt),a.Y36(Bs),a.Y36(Tk),a.Y36(rc))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),ps=(()=>{class r extends UN{constructor(){super(...arguments),this.inputs=Ak}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[a.qOj]}),r})();const HN=new Map,Ik=new Map,Cw=new Map,Rx=new Map,ty=" grid";function Ew(r,i){switch(i){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===r?"margin-left":"margin-right";case"row-reverse":return"rtl"===r?"margin-right":"margin-left";default:return"rtl"===r?"margin-left":"margin-right"}}function nl(r,...i){if(null==r)throw TypeError("Cannot convert undefined or null to object");for(let n of i)if(null!=n)for(let s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);return r}let Fk=(()=>{class r extends ic{constructor(n){super(),this.layoutConfig=n}buildStyles(n,s){let[o,u,...f]=n.split(" "),m=f.join(" ");const w=s.direction.indexOf("column")>-1?"column":"row",D=Zp(w)?"max-width":"max-height",S=Zp(w)?"min-width":"min-height",I=String(m).indexOf("calc")>-1,F=I||"auto"===m,L=String(m).indexOf("%")>-1&&!I,j=String(m).indexOf("px")>-1||String(m).indexOf("rem")>-1||String(m).indexOf("em")>-1||String(m).indexOf("vw")>-1||String(m).indexOf("vh")>-1;let te=I||j;o="0"==o?0:o,u="0"==u?0:u;const me=!o&&!u;let xe={};const Ge={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(m||""){case"":const Le=!1!==this.layoutConfig.useColumnBasisZero;m="row"===w?"0%":Le?"0.000000001px":"auto";break;case"initial":case"nogrow":o=0,m="auto";break;case"grow":m="100%";break;case"noshrink":u=0,m="auto";break;case"auto":break;case"none":o=0,u=0,m="auto";break;default:!te&&!L&&!isNaN(m)&&(m+="%"),"0%"===m&&(te=!0),"0px"===m&&(m="0%"),xe=nl(Ge,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":te?m:"100%"}:{flex:`${o} ${u} ${te?m:"100%"}`})}return xe.flex||xe["flex-grow"]||(xe=nl(Ge,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":m}:{flex:`${o} ${u} ${m}`})),"0%"!==m&&"0px"!==m&&"0.000000001px"!==m&&"auto"!==m&&(xe[S]=me||te&&o?m:null,xe[D]=me||!F&&u?m:null),xe[S]||xe[D]?s.hasWrap&&(xe[I?"flex-basis":"flex"]=xe[D]?I?xe[D]:`${o} ${u} ${xe[D]}`:I?xe[S]:`${o} ${u} ${xe[S]}`):xe=nl(Ge,I?{"flex-grow":o,"flex-shrink":u,"flex-basis":m}:{flex:`${o} ${u} ${m}`}),nl(xe,{"box-sizing":"border-box"})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Ri))},r.\u0275prov=(0,a.Yz7)({factory:function(){return new r((0,a.LFG)(Ri))},token:r,providedIn:"root"}),r})();const Pk=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Ox=(()=>{class r extends Du{constructor(n,s,o,u,f){super(n,u,s,f),this.layoutConfig=o,this.marshal=f,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(n){this.flexShrink=n||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(n){this.flexGrow=n||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Je(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Je(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(n){const o=n.value.split(" ");this.direction=o[0],this.wrap=void 0!==o[1]&&"wrap"===o[1],this.triggerUpdate()}updateWithValue(n){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const o=this.direction,u=o.startsWith("row"),f=this.wrap;u&&f?this.styleCache=Lk:u&&!f?this.styleCache=ca:!u&&f?this.styleCache=Bk:!u&&!f&&(this.styleCache=Dw);const w=bw(String(n).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(w.join(" "),{direction:o,hasWrap:f})}triggerReflow(){const n=this.activatedValue;if(void 0!==n){const s=bw(n+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,s.join(" "))}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Bs),a.Y36(Ri),a.Y36(Fk),a.Y36(rc))},r.\u0275dir=a.lG2({type:r,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[a.qOj]}),r})(),ch=(()=>{class r extends Ox{constructor(){super(...arguments),this.inputs=Pk}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[a.qOj]}),r})();const ca=new Map,Dw=new Map,Lk=new Map,Bk=new Map,Bx={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let Vx=(()=>{class r extends ic{buildStyles(n){return Bx}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})(),kw=(()=>{class r extends Du{constructor(n,s,o,u){super(n,o,s,u),this.styleCache=il,this.addStyles("")}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Bs),a.Y36(Vx),a.Y36(rc))},r.\u0275dir=a.lG2({type:r,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[a.qOj]}),r})();const il=new Map;let ny=(()=>{class r extends ic{buildStyles(n,s){const o={},[u,f]=n.split(" ");switch(u){case"center":o["justify-content"]="center";break;case"space-around":o["justify-content"]="space-around";break;case"space-between":o["justify-content"]="space-between";break;case"space-evenly":o["justify-content"]="space-evenly";break;case"end":case"flex-end":o["justify-content"]="flex-end";break;case"start":case"flex-start":default:o["justify-content"]="flex-start"}switch(f){case"start":case"flex-start":o["align-items"]=o["align-content"]="flex-start";break;case"center":o["align-items"]=o["align-content"]="center";break;case"end":case"flex-end":o["align-items"]=o["align-content"]="flex-end";break;case"space-between":o["align-content"]="space-between",o["align-items"]="stretch";break;case"space-around":o["align-content"]="space-around",o["align-items"]="stretch";break;case"baseline":o["align-content"]="stretch",o["align-items"]="baseline";break;case"stretch":default:o["align-items"]=o["align-content"]="stretch"}return nl(o,{display:s.inline?"inline-flex":"flex","flex-direction":s.layout,"box-sizing":"border-box","max-width":"stretch"===f?Zp(s.layout)?null:"100%":null,"max-height":"stretch"===f&&Zp(s.layout)?"100%":null})}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275prov=(0,a.Yz7)({factory:function(){return new r},token:r,providedIn:"root"}),r})();const $k=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let YN=(()=>{class r extends Du{constructor(n,s,o,u){super(n,o,s,u),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Je(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(n){const s=this.layout||"row",o=this.inline;"row"===s&&o?this.styleCache=Rw:"row"!==s||o?"row-reverse"===s&&o?this.styleCache=Wk:"row-reverse"!==s||o?"column"===s&&o?this.styleCache=Hx:"column"!==s||o?"column-reverse"===s&&o?this.styleCache=Gx:"column-reverse"===s&&!o&&(this.styleCache=Zk):this.styleCache=Wp:this.styleCache=Kp:this.styleCache=Ux,this.addStyles(n,{layout:s,inline:o})}onLayoutChange(n){const s=n.value.split(" ");this.layout=s[0],this.inline=n.value.includes("inline"),lh.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Bs),a.Y36(ny),a.Y36(rc))},r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})(),Oi=(()=>{class r extends YN{constructor(){super(...arguments),this.inputs=$k}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[a.qOj]}),r})();const Ux=new Map,Wp=new Map,Kp=new Map,Zk=new Map,Rw=new Map,Hx=new Map,Wk=new Map,Gx=new Map;let Ow=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Mt,Eo]]}),r})();var Fi=N(4762),Qp=N(3637);N(3098);class sc{constructor(i,n,s){this.name=i,this.drawable=n,this.date=s,this.replies=[],this.grades=[]}}class zx{static format(){const i=new Date;let n=i.getDate().toString(),s=(i.getMonth()+1).toString();const o=i.getFullYear().toString();return n=Xk(n),s=Xk(s),n+"."+s+"."+o}}function Xk(r){return/^\d$/.test(r)&&(r="0"+r),r}var ms=(()=>{return(r=ms||(ms={})).TOSEND="to-send",r.SENT="sent",ms;var r})();function ry(r,i=Qp.P){return n=>n.lift(new rl(r,i))}class rl{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new Nw(i,this.dueTime,this.scheduler))}}class Nw extends wi.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Lw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function Lw(r){r.debouncedNext()}var Wn=N(9126),Us=N(8939),qx=N(4486),be=N(8239),Au=N(5452),It=N(4685),Jp=N(6034),oc=(()=>{return(r=oc||(oc={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",oc;var r})();const $x="firebasestorage.googleapis.com",dh="storageBucket";class Bn extends It.ZR{constructor(i,n){super(sy(i),`Firebase Storage: ${n} (${sy(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Bn.prototype)}_codeEquals(i){return sy(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function sy(r){return"storage/"+r}function oy(){return new Bn("unknown","An unknown error occurred, please check the error payload for server response.")}function Vw(){return new Bn("canceled","User canceled the upload/download.")}function oR(){return new Bn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function aR(){return new Bn("no-download-url","The given file does not have any download URLs.")}function Iu(r){return new Bn("invalid-argument",r)}function Hw(){return new Bn("app-deleted","The Firebase app was deleted.")}function lR(r){return new Bn("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Er(r,i){return new Bn("invalid-format","String does not match format '"+r+"': "+i)}function Gw(r){throw new Bn("internal-error","Internal error: "+r)}class WN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=oc.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oc.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oc.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,o){if(this.sent_)throw Gw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==o)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw Gw("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class Kx{createConnection(){return new WN}}class $i{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=$i.makeFromUrl(i,n)}catch(o){return new $i(i,"")}if(""===s.path)return s;throw new Bn("invalid-default-bucket","Invalid default bucket '"+i+"'.")}static makeFromUrl(i,n){let s=null;const o="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+o+"(/(.*))?$","i");function D(ze){ze.path_=decodeURIComponent(ze.path)}const I=n.replace(/[.]/g,"\\."),Le=[{regex:m,indices:{bucket:1,path:3},postModify:function(ze){"/"===ze.path.charAt(ze.path.length-1)&&(ze.path_=ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${n===$x?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let ze=0;ze<Le.length;ze++){const gn=Le[ze],mi=gn.regex.exec(i);if(mi){let Ms=mi[gn.indices.path];Ms||(Ms=""),s=new $i(mi[gn.indices.bucket],Ms),gn.postModify(s);break}}if(null==s)throw new Bn("invalid-url","Invalid URL '"+i+"'.");return s}}class Qx{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function hh(r){return"string"==typeof r||r instanceof String}function Xx(r){return zw()&&r instanceof Blob}function zw(){return"undefined"!=typeof Blob}function Yw(r,i,n,s){if(s<i)throw Iu(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw Iu(`Invalid value for '${r}'. Expected ${n} or less.`)}function ac(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function eM(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class dR{constructor(i,n,s,o,u,f,m,w,D,S,I){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=m,this.errorCallback_=w,this.progressCallback_=S,this.timeout_=D,this.pool_=I,this.promise_=new Promise((F,L)=>{this.resolve_=F,this.reject_=L,this.start_()})}start_(){const i=this;function s(o,u){const f=i.resolve_,m=i.reject_,w=u.connection;if(u.wasSuccessCode)try{const D=i.callback_(w,w.getResponseText());void 0!==D?f(D):f()}catch(D){m(D)}else if(null!==w){const D=oy();D.serverResponse=w.getResponseText(),m(i.errorCallback_?i.errorCallback_(w,D):D)}else m(u.canceled?i.appDelete_?Hw():Vw():new Bn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new ku(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,o=null,u=!1,f=0;function m(){return 2===f}let w=!1;function D(...j){w||(w=!0,i.apply(null,j))}function S(j){o=setTimeout(()=>{o=null,r(I,m())},j)}function I(j,...te){if(w)return;if(j)return void D.call(null,j,...te);if(m()||u)return void D.call(null,j,...te);let xe;s<64&&(s*=2),1===f?(f=2,xe=0):xe=1e3*(s+Math.random()),S(xe)}let F=!1;function L(j){F||(F=!0,!w&&(null!==o?(j||(f=2),clearTimeout(o),S(0)):j||(f=1)))}return S(0),setTimeout(()=>{u=!0,L(!0)},n),L}(function(o,u){if(u)return void o(!1,new ku(!1,null,!0));const f=i.pool_.createConnection();function m(w){null!==i.progressCallback_&&i.progressCallback_(w.loaded,w.lengthComputable?w.total:-1)}i.pendingConnection_=f,null!==i.progressCallback_&&f.addUploadProgressListener(m),f.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&f.removeUploadProgressListener(m),i.pendingConnection_=null;const w=f.getErrorCode()===oc.NO_ERROR,D=f.getStatus();if(!w||i.isRetryStatusCode_(D)){const I=f.getErrorCode()===oc.ABORT;return void o(!1,new ku(!1,null,I))}const S=-1!==i.successCodes_.indexOf(D);o(!0,new ku(S,f))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,o=-1!==[408,429].indexOf(i),u=-1!==this.additionalRetryCodes_.indexOf(i);return n||o||u}}class ku{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function qw(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(zw())return new Blob(r);throw new Bn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sl{constructor(i,n){this.data=i,this.contentType=n||null}}function ph(r,i){switch(r){case pn.RAW:return new sl(gs(i));case pn.BASE64:case pn.BASE64URL:return new sl(Ru(r,i));case pn.DATA_URL:return new sl(function(r){const i=new Ou(r);return i.base64?Ru(pn.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw Er(pn.DATA_URL,"Malformed data URL.")}return gs(i)}(i.rest)}(i),function(r){return new Ou(r).contentType}(i))}throw oy()}function gs(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function Ru(r,i){switch(r){case pn.BASE64:{const o=-1!==i.indexOf("-"),u=-1!==i.indexOf("_");if(o||u)throw Er(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case pn.BASE64URL:{const o=-1!==i.indexOf("+"),u=-1!==i.indexOf("/");if(o||u)throw Er(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(o){throw Er(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Ou{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw Er(pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class Dr{constructor(i,n){let s=0,o="";Xx(i)?(this.data_=i,s=i.size,o=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(i,n){if(Xx(this.data_)){const o=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===o?null:new Dr(o)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new Dr(s,!0)}}static getBlob(...i){if(zw()){const n=i.map(s=>s instanceof Dr?s.data_:s);return new Dr(qw.apply(null,n))}{const n=i.map(f=>hh(f)?ph(pn.RAW,f).data:f.data_);let s=0;n.forEach(f=>{s+=f.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Dr(o,!0)}}uploadData(){return this.data_}}function lc(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function Zw(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function nM(r,i){return i}class ar{constructor(i,n,s,o){this.server=i,this.local=n||i,this.writable=!!s,this.xform=o||nM}}let tm=null;function bh(){if(tm)return tm;const r=[];r.push(new ar("bucket")),r.push(new ar("generation")),r.push(new ar("metageneration")),r.push(new ar("name","fullPath",!0));const n=new ar("name");n.xform=function(u,f){return function(r){return!hh(r)||r.length<2?r:Zw(r)}(f)},r.push(n);const o=new ar("size");return o.xform=function(u,f){return void 0!==f?Number(f):f},r.push(o),r.push(new ar("timeCreated")),r.push(new ar("updated")),r.push(new ar("md5Hash",null,!0)),r.push(new ar("cacheControl",null,!0)),r.push(new ar("contentDisposition",null,!0)),r.push(new ar("contentEncoding",null,!0)),r.push(new ar("contentLanguage",null,!0)),r.push(new ar("contentType",null,!0)),r.push(new ar("metadata","customMetadata",!0)),tm=r,tm}function Ww(r,i,n){const s=lc(i);return null===s?null:function(r,i,n){const s={type:"file"},o=n.length;for(let u=0;u<o;u++){const f=n[u];s[f.local]=f.xform(s,i[f.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const u=new $i(r.bucket,r.fullPath);return i._makeStorageReference(u)}})}(s,r),s}(r,s,n)}function ay(r,i){const n={},s=i.length;for(let o=0;o<s;o++){const u=i[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}const oM="prefixes";class cc{constructor(i,n,s,o){this.url=i,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function da(r){if(!r)throw oy()}function nm(r,i){return function(s,o){const u=Ww(r,o,i);return da(null!==u),u}}function wh(r){return function(n,s){let o;return o=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Bn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Bn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new Bn("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new Bn("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,o.serverResponse=s.serverResponse,o}}function ly(r){const i=wh(r);return function(s,o){let u=i(s,o);return 404===s.getStatus()&&(u=function(r){return new Bn("object-not-found","Object '"+r+"' does not exist.")}(r.path)),u.serverResponse=o.serverResponse,u}}function _R(r,i,n){const o=ac(i.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,m=new cc(o,"GET",nm(r,n),f);return m.errorHandler=ly(i),m}function yR(r,i,n,s,o){const u={};u.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(u.delimiter=n),s&&(u.pageToken=s),o&&(u.maxResults=o);const m=ac(i.bucketOnlyServerUrl(),r.host,r._protocol),D=r.maxOperationRetryTime,S=new cc(m,"GET",function(r,i){return function(s,o){const u=function(r,i,n){const s=lc(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[oM])for(const o of n[oM]){const u=o.replace(/\/$/,""),f=r._makeStorageReference(new $i(i,u));s.prefixes.push(f)}if(n.items)for(const o of n.items){const u=r._makeStorageReference(new $i(i,o.name));s.items.push(u)}return s}(r,i,s)}(r,i,o);return da(null!==u),u}}(r,i.bucket),D);return S.urlParams=u,S.errorHandler=wh(i),S}function cM(r,i,n){const o=ac(i.fullServerUrl(),r.host,r._protocol),f=r.maxOperationRetryTime,m=new cc(o,"GET",function(r,i){return function(s,o){const u=Ww(r,o,i);return da(null!==u),function(r,i,n,s){const o=lc(i);if(null===o||!hh(o.downloadTokens))return null;const u=o.downloadTokens;if(0===u.length)return null;const f=encodeURIComponent;return u.split(",").map(D=>{const I=r.fullPath;return ac("/b/"+f(r.bucket)+"/o/"+f(I),n,s)+eM({alt:"media",token:D})})[0]}(u,o,r.host,r._protocol)}}(r,n),f);return m.errorHandler=ly(i),m}function JN(r,i,n,s){const u=ac(i.fullServerUrl(),r.host,r._protocol),m=ay(n,s),D=r.maxOperationRetryTime,S=new cc(u,"PATCH",nm(r,s),D);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=m,S.errorHandler=ly(i),S}function XN(r,i){const s=ac(i.fullServerUrl(),r.host,r._protocol),m=new cc(s,"DELETE",function(w,D){},r.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=ly(i),m}function uM(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class cy{constructor(i,n,s,o){this.current=i,this.total=n,this.finalized=!!s,this.metadata=o||null}}function Qw(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(o){da(!1)}return da(!!n&&-1!==(i||["active"]).indexOf(n)),n}const nL={STATE_CHANGED:"state_changed"},Kr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eC(r){switch(r){case"running":case"pausing":case"canceling":return Kr.RUNNING;case"paused":return Kr.PAUSED;case"success":return Kr.SUCCESS;case"canceled":return Kr.CANCELED;case"error":default:return Kr.ERROR}}class hM{constructor(i,n,s){if("function"==typeof i||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const u=i;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function im(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class fM{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=bh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,o){const u=i.bucketOnlyServerUrl(),f=uM(i,s,o),m={name:f.fullPath},w=ac(u,r.host,r._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},I=ay(f,n),j=new cc(w,"POST",function(te){let me;Qw(te);try{me=te.getResponseHeader("X-Goog-Upload-URL")}catch(xe){da(!1)}return da(hh(me)),me},r.maxUploadRetryTime);return j.urlParams=m,j.headers=S,j.body=I,j.errorHandler=wh(i),j}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const o=function(r,i,n,s){const w=new cc(n,"POST",function(D){const S=Qw(D,["active","final"]);let I=null;try{I=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch(L){da(!1)}I||da(!1);const F=Number(I);return da(!isNaN(F)),new cy(F,s.size(),"final"===S)},r.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=wh(i),w}(this._ref.storage,this._ref._location,i,this._blob),u=this._ref.storage._makeRequest(o,n,s);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new cy(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let f;try{f=function(r,i,n,s,o,u,f,m){const w=new cy(0,0);if(f?(w.current=f.current,w.total=f.total):(w.current=0,w.total=s.size()),s.size()!==w.total)throw new Bn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const D=w.total-w.current;let S=D;o>0&&(S=Math.min(S,o));const I=w.current,j={"X-Goog-Upload-Command":S===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},te=s.slice(I,I+S);if(null===te)throw oR();const Le=new cc(n,"POST",function(ze,gn){const mi=Qw(ze,["active","final"]),tr=w.current+S,Ms=s.size();let Bo;return Bo="final"===mi?nm(i,u)(ze,gn):null,new cy(tr,Ms,"final"===mi,Bo)},i.maxUploadRetryTime);return Le.headers=j,Le.body=te.uploadData(),Le.progressCallback=m||null,Le.errorHandler=wh(r),Le}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const m=this._ref.storage._makeRequest(f,o,u);this._request=m,m.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=_R(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,o){const u=i.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},w=function(){let Le="";for(let ze=0;ze<2;ze++)Le+=Math.random().toString().slice(2);return Le}();f["Content-Type"]="multipart/related; boundary="+w;const D=uM(i,s,o),S=ay(D,n),L=Dr.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+w+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",s,"\r\n--"+w+"--");if(null===L)throw oR();const j={name:D.fullPath},te=ac(u,r.host,r._protocol),xe=r.maxUploadRetryTime,Ge=new cc(te,"POST",nm(r,n),xe);return Ge.urlParams=j,Ge.headers=f,Ge.body=L.uploadData(),Ge.errorHandler=wh(i),Ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,i,n);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=Vw(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=eC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,o){const u=new hM(n||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(eC(this._state)){case Kr.SUCCESS:im(this._resolve.bind(null,this.snapshot))();break;case Kr.CANCELED:case Kr.ERROR:im(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(eC(this._state)){case Kr.RUNNING:case Kr.PAUSED:i.next&&im(i.next.bind(i,this.snapshot))();break;case Kr.SUCCESS:i.complete&&im(i.complete.bind(i))();break;case Kr.CANCELED:case Kr.ERROR:i.error&&im(i.error.bind(i,this._error))();break;default:i.error&&im(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class Hs{constructor(i,n){this._service=i,this._location=n instanceof $i?n:$i.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new Hs(i,n)}get root(){const i=new $i(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zw(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new $i(this._location.bucket,i);return new Hs(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw lR(i)}}function rm(r,i,n){return tC.apply(this,arguments)}function tC(){return(tC=(0,be.Z)(function*(r,i,n){const o=yield nC(r,{pageToken:n});i.prefixes.push(...o.prefixes),i.items.push(...o.items),null!=o.nextPageToken&&(yield rm(r,i,o.nextPageToken))})).apply(this,arguments)}function nC(r,i){return iC.apply(this,arguments)}function iC(){return(iC=(0,be.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&Yw("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=yR(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function rC(){return(rC=(0,be.Z)(function*(r){r._throwIfRoot("getMetadata");const i=_R(r.storage,r._location,bh());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function sC(){return(sC=(0,be.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=JN(r.storage,r._location,i,bh());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function oC(){return(oC=(0,be.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=cM(r.storage,r._location,bh());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw aR();return n})})).apply(this,arguments)}function uy(){return(uy=(0,be.Z)(function*(r){r._throwIfRoot("deleteObject");const i=XN(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function dy(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new $i(r._location.bucket,n);return new Hs(r.storage,s)}function vM(r,i){if(r instanceof sm){const n=r;if(null==n._bucket)throw new Bn("no-default-bucket","No default bucket found. Did you set the '"+dh+"' property when initializing the app?");const s=new Hs(n,n._bucket);return null!=i?vM(s,i):s}return void 0!==i?dy(r,i):r}function rL(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof sm)return function(r,i){return new Hs(r,i)}(r,i);throw Iu("To use ref(service, url), the first argument must be a Storage instance.")}return vM(r,i)}function Ch(r,i){const n=null==i?void 0:i[dh];return null==n?null:$i.makeFromBucketSpec(n,r)}class sm{constructor(i,n,s,o,u,f){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=o,this._url=u,this._firebaseVersion=f,this._bucket=null,this._host=$x,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=u?$i.makeFromBucketSpec(u,this._host):Ch(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?$i.makeFromBucketSpec(this._url,i):Ch(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){Yw("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){Yw("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,be.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,be.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Hs(this,i)}_makeRequest(i,n,s){if(this._deleted)return new Qx(Hw());{const o=function(r,i,n,s,o,u){const f=eM(r.urlParams),m=r.url+f,w=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(w,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(w,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(w,u),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(w,s),new dR(m,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(i){var n=this;return(0,be.Z)(function*(){const[s,o]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,o)})()}}function hC(r,i){return rL(r=(0,It.m9)(r),i)}(0,Au._registerComponent)(new Jp.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new sm(n,s,o,new Kx,i,Au.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Au.registerVersion)("@firebase/storage","0.8.2");class om{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fy{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new om(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new om(s,this,this._ref))},n)}on(i,n,s,o){let u;return n&&(u="function"==typeof n?f=>n(new om(f,this,this._ref)):{next:n.next?f=>n.next(new om(f,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,u,s||void 0,o||void 0)}}class mC{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new ol(i,this._service))}get items(){return this._delegate.items.map(i=>new ol(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ol{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return dy(r,i)}(this._delegate,i);return new ol(n,this.storage)}get root(){return new ol(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new ol(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new fy(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new fM(r,new Dr(i),n)}(r=(0,It.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=pn.RAW,s){this._throwIfRoot("putString");const o=ph(n,i),u=Object.assign({},s);return null==u.contentType&&null!=o.contentType&&(u.contentType=o.contentType),new fy(new fM(this._delegate,new Dr(o.data,!0),u),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return rm(r,i).then(()=>i)}(r=(0,It.m9)(r))}(this._delegate).then(i=>new mC(i,this.storage))}list(i){return function(r,i){return nC(r=(0,It.m9)(r),i)}(this._delegate,i||void 0).then(n=>new mC(n,this.storage))}getMetadata(){return function(r){return function(r){return rC.apply(this,arguments)}(r=(0,It.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return sC.apply(this,arguments)}(r=(0,It.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return oC.apply(this,arguments)}(r=(0,It.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return uy.apply(this,arguments)}(r=(0,It.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw lR(i)}}class gC{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(_C(i))throw Iu("ref() expected a child path but got a URL, use refFromURL instead.");return new ol(hC(this._delegate,i),this)}refFromURL(i){if(!_C(i))throw Iu("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$i.makeFromUrl(i,this._delegate.host)}catch(n){throw Iu("refFromUrl() expected a valid full URL but got an invalid one.")}return new ol(hC(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken="string"==typeof o?o:(0,It.Sg)(o,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function _C(r){return/^[A-Za-z]+:\/\//.test(r)}function SM(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new gC(n,s)}!function(r){const i={TaskState:Kr,TaskEvent:nL,StringFormat:pn,Storage:gC,Reference:ol};r.INTERNAL.registerComponent(new Jp.wA("storage-compat",SM,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(qx.Z);var Eh=N(7841);function bC(r){const i=function(r){return new on.y(i=>{const n=f=>i.next(f);n(r.snapshot);const u=r.on("state_changed",n);return r.then(f=>{n(f),i.complete()},f=>{n(r.snapshot),(f=>{i.error(f)})(f)}),function(){u()}}).pipe(ry(0))}(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,rt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function am(r){return{getDownloadURL:()=>(0,je.of)(void 0).pipe(Wn.fc,Tn(()=>r.getDownloadURL()),Wn.iC),getMetadata:()=>(0,je.of)(void 0).pipe(Wn.fc,Tn(()=>r.getMetadata()),Wn.iC),delete:()=>(0,$t.D)(r.delete()),child:i=>am(r.child(i)),updateMetadata:i=>(0,$t.D)(r.updateMetadata(i)),put:(i,n)=>bC(r.put(i,n)),putString:(i,n,s)=>bC(r.putString(i,n,s)),listAll:()=>(0,$t.D)(r.listAll())}}const IM=new a.OlP("angularfire2.storageBucket"),oL=new a.OlP("angularfire2.storage.maxUploadRetryTime"),SR=new a.OlP("angularfire2.storage.maxOperationRetryTime"),TR=new a.OlP("angularfire2.storage.use-emulator");let kM=(()=>{class r{constructor(n,s,o,u,f,m,w,D,S){const I=(0,Us.on)(n,f,s);this.storage=(0,Wn.cc)(`${I.name}.storage.${o}`,"AngularFireStorage",I.name,()=>{const F=f.runOutsideAngular(()=>I.storage(o||void 0)),L=S;return L&&F.useEmulator(...L),w&&F.setMaxUploadRetryTime(w),D&&F.setMaxOperationRetryTime(D),F},[w,D])}ref(n){return am(this.storage.ref(n))}refFromURL(n){return am(this.storage.refFromURL(n))}upload(n,s,o){return am(this.storage.ref(n)).put(s,o)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Us.Dh),a.LFG(Us.xv,8),a.LFG(IM,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Wn.HU),a.LFG(oL,8),a.LFG(SR,8),a.LFG(TR,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();class RM{constructor(i,n,s){this.id=i,this.author=n,this.message=s}}var xo=(()=>{return(r=xo||(xo={})).DISPLAY_NAME="display-name",r.IS_SIGNED_IN="is-signed-in",r.DAY="day",r.SEASON="season",xo;var r})();class Gs{static setDisplayName(i){localStorage.setItem(xo.DISPLAY_NAME,i)}static getDisplayName(){return localStorage.getItem(xo.DISPLAY_NAME)}static setIsSignedIn(i){localStorage.setItem(xo.IS_SIGNED_IN,i)}static getIsSignedIn(){return localStorage.getItem(xo.IS_SIGNED_IN)}static setDay(i){localStorage.setItem(xo.DAY,i)}static getDay(){return localStorage.getItem(xo.DAY)}static setSeason(i){localStorage.setItem(xo.SEASON,i)}static getSeason(){return localStorage.getItem(xo.SEASON)}}class IR{constructor(i,n,s){this.id=i,this.author=n,this.value=s}}function lm(){return r=>r.lift(new OM)}class OM{call(i,n){return n.subscribe(new Dh(i))}}class Dh extends wi.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}function Fu(r,i){return n=>n.lift(new kR(r,i))}class kR{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new FM(i,this.compare,this.keySelector))}}class FM extends wi.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:o}=this;n=o?o(i):i}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,n)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}N(6780);var uc=N(300),PM=function(r,i){return(PM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])})(r,i)};function py(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var qe,ha="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},CC=CC||{},dt=ha||self;function Qr(){}function _s(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function xh(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var EC="closure_uid_"+(1e9*Math.random()>>>0),RR=0;function OR(r,i,n){return r.call.apply(r.bind,arguments)}function FR(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),r.apply(i,o)}}return function(){return r.apply(i,arguments)}}function xi(r,i,n){return(xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OR:FR).apply(null,arguments)}function dc(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Zi(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,o,u){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return i.prototype[o].apply(s,f)}}function al(){this.s=this.s,this.o=this.o}var LM={};al.prototype.s=!1,al.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,EC)&&r[EC]||(r[EC]=++RR)}(this);delete LM[r]}},al.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var DC=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},cm=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,o="string"==typeof r?r.split(""):r,u=0;u<s;u++)u in o&&i.call(n,o[u],u,r)};function xC(r){return Array.prototype.concat.apply([],arguments)}function my(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function Mh(r){return/^[\s\xa0]*$/.test(r)}var cr,um=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function lr(r,i){return-1!=r.indexOf(i)}function gy(r,i){return r<i?-1:r>i?1:0}e:{var MC=dt.navigator;if(MC){var SC=MC.userAgent;if(SC){cr=SC;break e}}cr=""}function _y(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function TC(r){var i={};for(var n in r)i[n]=r[n];return i}var AC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IC(r,i){for(var n,s,o=1;o<arguments.length;o++){for(n in s=arguments[o])r[n]=s[n];for(var u=0;u<AC.length;u++)n=AC[u],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function kC(r){return kC[" "](r),r}kC[" "]=Qr;var yy,r,BR=lr(cr,"Opera"),Sh=lr(cr,"Trident")||lr(cr,"MSIE"),BM=lr(cr,"Edge"),RC=BM||Sh,VM=lr(cr,"Gecko")&&!(lr(cr.toLowerCase(),"webkit")&&!lr(cr,"Edge"))&&!(lr(cr,"Trident")||lr(cr,"MSIE"))&&!lr(cr,"Edge"),VR=lr(cr.toLowerCase(),"webkit")&&!lr(cr,"Edge");function UM(){var r=dt.document;return r?r.documentMode:void 0}e:{var OC="",FC=(r=cr,VM?/rv:([^\);]+)(\)|;)/.exec(r):BM?/Edge\/([\d\.]+)/.exec(r):Sh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):VR?/WebKit\/(\S+)/.exec(r):BR?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(FC&&(OC=FC?FC[1]:""),Sh){var PC=UM();if(null!=PC&&PC>parseFloat(OC)){yy=String(PC);break e}}yy=OC}var UR={};function HR(){return i=UR,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=um(String(yy)).split("."),n=um("9").split("."),s=Math.max(i.length,n.length),o=0;0==r&&o<s;o++){var u=i[o]||"",f=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;r=gy(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||gy(0==u[2].length,0==f[2].length)||gy(u[2],f[2]),u=u[3],f=f[3]}while(0==r)}return 0<=r}();var i}var GM=dt.document&&Sh&&(UM()||parseInt(yy,10))||void 0,jM=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{dt.addEventListener("test",Qr,i),dt.removeEventListener("test",Qr,i)}catch(n){}return r}();function Wi(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function Th(r,i){if(Wi.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(VM){e:{try{kC(i.nodeName);var o=!0;break e}catch(u){}o=!1}o||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:zM[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Th.Z.h.call(this)}}Wi.prototype.h=function(){this.defaultPrevented=!0},Zi(Th,Wi);var zM={2:"touch",3:"pen",4:"mouse"};Th.prototype.h=function(){Th.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Ah="closure_listenable_"+(1e6*Math.random()|0),YM=0;function qM(r,i,n,s,o){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=o,this.key=++YM,this.ca=this.fa=!1}function dm(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Ih(r){this.src=r,this.g={},this.h=0}function hm(r,i){var n=i.type;if(n in r.g){var u,s=r.g[n],o=DC(s,i);(u=0<=o)&&Array.prototype.splice.call(s,o,1),u&&(dm(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function ll(r,i,n,s){for(var o=0;o<r.length;++o){var u=r[o];if(!u.ca&&u.listener==i&&u.capture==!!n&&u.ia==s)return o}return-1}Ih.prototype.add=function(r,i,n,s,o){var u=r.toString();(r=this.g[u])||(r=this.g[u]=[],this.h++);var f=ll(r,i,s,o);return-1<f?(i=r[f],n||(i.fa=!1)):((i=new qM(i,this.src,u,!!s,o)).fa=n,r.push(i)),i};var LC="closure_lm_"+(1e6*Math.random()|0),BC={};function Pu(r,i,n,s,o){if(s&&s.once)return jR(r,i,n,s,o);if(Array.isArray(i)){for(var u=0;u<i.length;u++)Pu(r,i[u],n,s,o);return null}return n=jC(n),r&&r[Ah]?r.N(i,n,xh(s)?!!s.capture:!!s,o):GR(r,i,n,!1,s,o)}function GR(r,i,n,s,o,u){if(!i)throw Error("Invalid event type");var f=xh(o)?!!o.capture:!!o,m=HC(r);if(m||(r[LC]=m=new Ih(r)),(n=m.add(i,n,s,f,u)).proxy)return n;if(s=function(){var i=pt;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)jM||(o=f),void 0===o&&(o=!1),r.addEventListener(i.toString(),s,o);else if(r.attachEvent)r.attachEvent(zR(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function jR(r,i,n,s,o){if(Array.isArray(i)){for(var u=0;u<i.length;u++)jR(r,i[u],n,s,o);return null}return n=jC(n),r&&r[Ah]?r.O(i,n,xh(s)?!!s.capture:!!s,o):GR(r,i,n,!0,s,o)}function UC(r,i,n,s,o){if(Array.isArray(i))for(var u=0;u<i.length;u++)UC(r,i[u],n,s,o);else s=xh(s)?!!s.capture:!!s,n=jC(n),r&&r[Ah]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=ll(u=r.g[i],n,s,o))&&(dm(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete r.g[i],r.h--))):r&&(r=HC(r))&&(i=r.g[i.toString()],r=-1,i&&(r=ll(i,n,s,o)),(n=-1<r?i[r]:null)&&vy(n))}function vy(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[Ah])hm(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(zR(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=HC(i))?(hm(n,r),0==n.h&&(n.src=null,i[LC]=null)):dm(r)}}}function zR(r){return r in BC?BC[r]:BC[r]="on"+r}function pt(r,i){if(r.ca)r=!0;else{i=new Th(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&vy(r),r=n.call(s,i)}return r}function HC(r){return(r=r[LC])instanceof Ih?r:null}var GC="__closure_events_fn_"+(1e9*Math.random()>>>0);function jC(r){return"function"==typeof r?r:(r[GC]||(r[GC]=function(i){return r.handleEvent(i)}),r[GC])}function ii(){al.call(this),this.i=new Ih(this),this.P=this,this.I=null}function Ki(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new Wi(i,r);else if(i instanceof Wi)i.target=i.target||r;else{var o=i;IC(i=new Wi(s,r),o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var f=i.g=n[u];o=Nu(f,s,!0,i)&&o}if(o=Nu(f=i.g=r,s,!0,i)&&o,o=Nu(f,s,!1,i)&&o,n)for(u=0;u<n.length;u++)o=Nu(f=i.g=n[u],s,!1,i)&&o}function Nu(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var o=!0,u=0;u<i.length;++u){var f=i[u];if(f&&!f.ca&&f.capture==n){var m=f.listener,w=f.ia||f.src;f.fa&&hm(r.i,f),o=!1!==m.call(w,s)&&o}}return o&&!s.defaultPrevented}Zi(ii,al),ii.prototype[Ah]=!0,ii.prototype.removeEventListener=function(r,i,n,s){UC(this,r,i,n,s)},ii.prototype.M=function(){if(ii.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)dm(n[s]);delete r.g[i],r.h--}}this.I=null},ii.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},ii.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var kh=dt.JSON.stringify;function Kn(){var r=ZM,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var wy,cL=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=zC.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),zC=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new YC},function(r){return r.reset()}),YC=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function YR(r){dt.setTimeout(function(){throw r},0)}function by(r,i){wy||function(){var r=dt.Promise.resolve(void 0);wy=function(){r.then(qR)}}(),Cy||(wy(),Cy=!0),ZM.add(r,i)}var Cy=!1,ZM=new cL;function qR(){for(var r;r=Kn();){try{r.h.call(r.g)}catch(n){YR(n)}var i=zC;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}Cy=!1}function Ey(r,i){ii.call(this),this.h=r||1,this.g=i||dt,this.j=xi(this.kb,this),this.l=Date.now()}function Lu(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function qC(r,i,n){if("function"==typeof r)n&&(r=xi(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=xi(r.handleEvent,r)}return 2147483647<Number(i)?-1:dt.setTimeout(r,i||0)}function WM(r){r.g=qC(function(){r.g=null,r.i&&(r.i=!1,WM(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}Zi(Ey,ii),(qe=Ey.prototype).da=!1,qe.S=null,qe.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ki(this,"tick"),this.da&&(Lu(this),this.start()))}},qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){Ey.Z.M.call(this),Lu(this),delete this.g};var $R=function(r){function i(n,s){var o=r.call(this)||this;return o.m=n,o.j=s,o.h=null,o.i=!1,o.g=null,o}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}PM(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:WM(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(al);function hc(r){al.call(this),this.h=r,this.g={}}Zi(hc,al);var $C=[];function ZC(r,i,n,s){Array.isArray(n)||(n&&($C[0]=n.toString()),n=$C);for(var o=0;o<n.length;o++){var u=Pu(i,n[o],s||r.handleEvent,!1,r.h||r);if(!u)break;r.g[u.key]=u}}function WC(r){_y(r.g,function(i,n){this.g.hasOwnProperty(n)&&vy(i)},r),r.g={}}function Dy(){this.g=!0}function Rh(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<o.length;f++)o[f]=""}}}return kh(n)}catch(m){return i}}(r,n)+(s?" "+s:"")})}hc.prototype.M=function(){hc.Z.M.call(this),WC(this)},hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dy.prototype.Aa=function(){this.g=!1},Dy.prototype.info=function(){};var fc={},KC=null;function mm(){return KC=KC||new ii}function KM(r){Wi.call(this,fc.Ma,r)}function Oh(r){var i=mm();Ki(i,new KM(i,r))}function QM(r,i){Wi.call(this,fc.STAT_EVENT,r),this.stat=i}function xr(r){var i=mm();Ki(i,new QM(i,r))}function KR(r,i){Wi.call(this,fc.Na,r),this.size=i}function xy(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return dt.setTimeout(function(){r()},i)}fc.Ma="serverreachability",Zi(KM,Wi),fc.STAT_EVENT="statevent",Zi(QM,Wi),fc.Na="timingevent",Zi(KR,Wi);var QC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},QR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function My(){}function JM(){}My.prototype.h=null;var JC,_m={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sy(){Wi.call(this,"d")}function Bu(){Wi.call(this,"c")}function Ty(){}function ym(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new hc(this),this.P=JR,this.W=new Ey(r=RC?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new XM}function XM(){this.i=null,this.g="",this.h=!1}Zi(Sy,Wi),Zi(Bu,Wi),Zi(Ty,My),Ty.prototype.g=function(){return new XMLHttpRequest},Ty.prototype.i=function(){return{}},JC=new Ty;var JR=45e3,Ay={},Iy={};function XC(r,i,n){r.K=1,r.v=Ny(ul(i)),r.s=n,r.U=!0,Vu(r,null)}function Vu(r,i){r.F=Date.now(),Fh(r),r.A=ul(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),oS(n.h,"t",s),r.C=0,n=r.l.H,r.h=new XM,r.g=bS(r.l,n?i:null,!r.s),0<r.O&&(r.L=new $R(xi(r.Ia,r,r.g),r.O)),ZC(r.V,r.g,"readystatechange",r.gb),i=r.H?TC(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),Oh(1),function(r,i,n,s,o,u){r.info(function(){if(r.g)if(u)for(var f="",m=u.split("&"),w=0;w<m.length;w++){var D=m[w].split("=");if(1<D.length){var S=D[0];D=D[1];var I=S.split("_");f=2<=I.length&&"type"==I[1]?f+(S+"=")+D+"&":f+(S+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+i+"\n"+n+"\n"+f})}(r.j,r.u,r.A,r.m,r.X,r.s)}function eS(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function e0(r,i,n){for(var o,s=!0;!r.I&&r.C<n.length;){if((o=XR(r,n))==Iy){4==i&&(r.o=4,xr(14),s=!1),Rh(r.j,r.m,null,"[Incomplete Response]");break}if(o==Ay){r.o=4,xr(15),Rh(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Rh(r.j,r.m,o,null),t0(r,o)}eS(r)&&o!=Iy&&o!=Ay&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,xr(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),pS(i),i.L=!0,xr(11))):(Rh(r.j,r.m,n,"[Invalid Chunked Response]"),cl(r),bm(r))}function XR(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?Iy:(n=Number(i.substring(n,s)),isNaN(n)?Ay:(s+=1)+n>i.length?Iy:(i=i.substr(s,n),r.C=s+n,i))}function Fh(r){r.Y=Date.now()+r.P,tS(r,r.P)}function tS(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=xy(xi(r.eb,r),i)}function vm(r){r.B&&(dt.clearTimeout(r.B),r.B=null)}function bm(r){0==r.l.G||r.I||gS(r.l,r)}function cl(r){vm(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,Lu(r.W),WC(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function t0(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||uS(n.i,r)))if(n.I=r.N,!r.J&&uS(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(me){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(n.u)n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=xy(xi(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;Zy(n),qy(n)}g0(n),xr(18)}if(1>=a0(n.i)&&n.ka){try{n.ka()}catch(me){}n.ka=void 0}}else Gu(n,11)}else if((r.J||n.g==r)&&Zy(n),!Mh(i))for(o=n.Ca.g.parse(i),i=0;i<o.length;i++){var u=o[i];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];var f=u[3];null!=f&&(n.ma=f,n.h.info("VER="+n.ma));var m=u[4];null!=m&&(n.za=m,n.h.info("SVER="+n.za));var w=u[5];null!=w&&"number"==typeof w&&0<w&&(n.K=s=1.5*w,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var D=r.g;if(D){var S=D.g?D.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var I=s.i;!I.g&&(lr(S,"spdy")||lr(S,"quic")||lr(S,"h2"))&&(I.j=I.l,I.g=new Set,I.h&&(l0(I,I.h),I.h=null))}if(s.D){var F=D.g?D.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(s.sa=F,kn(s.F,s.D,F))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var L=r;if((s=n).oa=vS(s,s.H?s.la:null,s.W),L.J){gc(s.i,L);var j=L,te=s.K;te&&j.setTimeout(te),j.B&&(vm(j),Fh(j)),s.g=L}else fS(s);0<n.l.length&&$y(n)}else"stop"!=u[0]&&"close"!=u[0]||Gu(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Gu(n,7):p0(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Oh(4)}catch(me){}}function ky(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(_s(r)||"string"==typeof r)cm(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(_s(r)||"string"==typeof r){n=[];for(var s=r.length,o=0;o<s;o++)n.push(o)}else for(o in n=[],s=0,r)n[s++]=o;o=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(_s(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var u=0;u<o;u++)i.call(void 0,s[u],n&&n[u],r)}}function Ph(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Ph)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function n0(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];Uu(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var o={};for(n=i=0;i<r.g.length;)Uu(o,s=r.g[i])||(r.g[n++]=s,o[s]=1),i++;r.g.length=n}}function Uu(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(qe=ym.prototype).setTimeout=function(r){this.P=r},qe.gb=function(r){r=r.target;var i=this.L;i&&3==hl(r)?i.l():this.Ia(r)},qe.Ia=function(r){try{if(r==this.g)e:{var i=hl(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||RC||this.g&&(this.h.h||this.g.ga()||dS(this.g)))){this.I||4!=i||7==n||Oh(8==n||0>=s?3:2),vm(this);var o=this.g.ba();this.N=o;t:if(eS(this)){var u=dS(this.g);r="";var f=u.length,m=4==hl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){cl(this),bm(this);var w="";break t}this.h.i=new dt.TextDecoder}for(n=0;n<f;n++)this.h.h=!0,r+=this.h.i.decode(u[n],{stream:m&&n==f-1});u.splice(0,f),this.h.g+=r,this.C=0,w=this.h.g}else w=this.g.ga();if(this.i=200==o,function(r,i,n,s,o,u,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+i+"\n"+n+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.X,i,o),this.i){if(this.$&&!this.J){t:{if(this.g){var D,S=this.g;if((D=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mh(D)){var I=D;break t}}I=null}if(!(o=I)){this.i=!1,this.o=3,xr(12),cl(this),bm(this);break e}Rh(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,t0(this,o)}this.U?(e0(this,i,w),RC&&this.i&&3==i&&(ZC(this.V,this.W,"tick",this.fb),this.W.start())):(Rh(this.j,this.m,w,null),t0(this,w)),4==i&&cl(this),this.i&&!this.I&&(4==i?gS(this.l,this):(this.i=!1,Fh(this)))}else 400==o&&0<w.indexOf("Unknown SID")?(this.o=3,xr(12)):(this.o=0,xr(13)),cl(this),bm(this)}}}catch(F){}},qe.fb=function(){if(this.g){var r=hl(this.g),i=this.g.ga();this.C<i.length&&(vm(this),e0(this,r,i),this.i&&4!=r&&Fh(this))}},qe.cancel=function(){this.I=!0,cl(this)},qe.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Oh(3),xr(17)),cl(this),this.o=2,bm(this)):tS(this,this.Y-r)},(qe=Ph.prototype).R=function(){n0(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},qe.T=function(){return n0(this),this.g.concat()},qe.get=function(r,i){return Uu(this.h,r)?this.h[r]:i},qe.set=function(r,i){Uu(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},qe.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var o=n[s],u=this.get(o);r.call(i,u,o,this)}};var Ry=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pc(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof pc){this.g=void 0!==i?i:r.g,Oy(this,r.j),this.s=r.s,Fy(this,r.i),Py(this,r.m),this.l=r.l,i=r.h;var n=new Hu;n.i=i.i,i.g&&(n.g=new Ph(i.g),n.h=i.h),iS(this,n),this.o=r.o}else r&&(n=String(r).match(Ry))?(this.g=!!i,Oy(this,n[1]||"",!0),this.s=Nh(n[2]||""),Fy(this,n[3]||"",!0),Py(this,n[4]),this.l=Nh(n[5]||"",!0),iS(this,n[6]||"",!0),this.o=Nh(n[7]||"")):(this.g=!!i,this.h=new Hu(null,this.g))}function ul(r){return new pc(r)}function Oy(r,i,n){r.j=n?Nh(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function Fy(r,i,n){r.i=n?Nh(i,!0):i}function Py(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function iS(r,i,n){i instanceof Hu?(r.h=i,function(r,i){i&&!r.j&&(dl(r),r.i=null,r.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(Ly(this,s),oS(this,o,n))},r)),r.j=i}(r.h,r.g)):(n||(i=wm(i,sO)),r.h=new Hu(i,r.g))}function kn(r,i,n){r.h.set(i,n)}function Ny(r){return kn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Nh(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function wm(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,nO),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function nO(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}pc.prototype.toString=function(){var r=[],i=this.j;i&&r.push(wm(i,r0,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(wm(i,r0,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(wm(n,"/"==n.charAt(0)?rO:iO,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",wm(n,s0)),r.join("")};var r0=/[#\/\?@]/g,iO=/[#\?:]/g,rO=/[#\?]/g,sO=/[#\?@]/g,s0=/#/g;function Hu(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function dl(r){r.g||(r.g=new Ph,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),o=null;if(0<=s){var u=r[n].substring(0,s);o=r[n].substring(s+1)}else u=r[n];i(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function Ly(r,i){dl(r),i=mc(r,i),Uu(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,Uu((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&n0(r)))}function sS(r,i){return dl(r),i=mc(r,i),Uu(r.g.h,i)}function oS(r,i,n){Ly(r,i),0<n.length&&(r.i=null,r.g.set(mc(r,i),my(n)),r.h+=n.length)}function mc(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}(qe=Hu.prototype).add=function(r,i){dl(this),this.i=null,r=mc(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},qe.forEach=function(r,i){dl(this),this.g.forEach(function(n,s){cm(n,function(o){r.call(i,o,s,this)},this)},this)},qe.T=function(){dl(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var o=r[s],u=0;u<o.length;u++)n.push(i[s]);return n},qe.R=function(r){dl(this);var i=[];if("string"==typeof r)sS(this,r)&&(i=xC(i,this.g.get(mc(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=xC(i,r[n])}return i},qe.set=function(r,i){return dl(this),this.i=null,sS(this,r=mc(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},qe.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],o=encodeURIComponent(String(s));s=this.R(s);for(var u=0;u<s.length;u++){var f=o;""!==s[u]&&(f+="="+encodeURIComponent(String(s[u]))),r.push(f)}}return this.i=r.join("&")};var aS=function(i,n){this.h=i,this.g=n};function lS(r){this.l=r||cS,r=dt.PerformanceNavigationTiming?0<(r=dt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(dt.g&&dt.g.Ea&&dt.g.Ea()&&dt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cS=10;function o0(r){return!!r.h||!!r.g&&r.g.size>=r.j}function a0(r){return r.h?1:r.g?r.g.size:0}function uS(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function l0(r,i){r.g?r.g.add(i):r.h=i}function gc(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function aO(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var o=py(r.g.values()),u=o.next();!u.done;u=o.next())s=s.concat(u.value.D)}catch(m){i={error:m}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}return my(r.i)}function Cm(){}function By(){this.g=new Cm}function lO(r,i,n){var s=n||"";try{ky(r,function(o,u){var f=o;xh(o)&&(f=kh(o)),i.push(s+u+"="+encodeURIComponent(f))})}catch(o){throw i.push(s+"type="+encodeURIComponent("_badmap")),o}}function Vy(r,i,n,s,o){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,o(s)}catch(u){}}function Uy(r){this.l=r.$b||null,this.j=r.ib||!1}function Hy(r,i){ii.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=js,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lS.prototype.cancel=function(){var r,i;if(this.i=aO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=py(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},Cm.prototype.stringify=function(r){return dt.JSON.stringify(r,void 0)},Cm.prototype.parse=function(r){return dt.JSON.parse(r,void 0)},Zi(Uy,My),Uy.prototype.g=function(){return new Hy(this.l,this.j)},Uy.prototype.i=function(r){return function(){return r}}({}),Zi(Hy,ii);var js=0;function c0(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Gy(r){r.readyState=4,r.l=null,r.j=null,r.A=null,_c(r)}function _c(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(qe=Hy.prototype).open=function(r,i){if(this.readyState!=js)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,_c(this)},qe.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||dt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gy(this)),this.readyState=js},qe.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==dt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;c0(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},qe.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?Gy(this):_c(this),3==this.readyState&&c0(this)}},qe.Ua=function(r){this.g&&(this.response=this.responseText=r,Gy(this))},qe.Ta=function(r){this.g&&(this.response=r,Gy(this))},qe.ha=function(){this.g&&Gy(this)},qe.setRequestHeader=function(r,i){this.v.append(r,i)},qe.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(Hy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var cO=dt.JSON.parse;function di(r){ii.call(this),this.headers=new Ph,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uO,this.K=this.L=!1}Zi(di,ii);var uO="",dO=/^https?$/i,hO=["POST","PUT"];function u0(r){return"content-type"==r.toLowerCase()}function d0(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,jy(r),zy(r)}function jy(r){r.D||(r.D=!0,Ki(r,"complete"),Ki(r,"error"))}function h0(r){if(r.h&&void 0!==CC&&(!r.C[1]||4!=hl(r)||2!=r.ba()))if(r.v&&4==hl(r))qC(r.Fa,0,r);else if(Ki(r,"readystatechange"),4==hl(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var o;if(o=0===i){var u=String(r.H).match(Ry)[1]||null;if(!u&&dt.self&&dt.self.location){var f=dt.self.location.protocol;u=f.substr(0,f.length-1)}o=!dO.test(u?u.toLowerCase():"")}s=o}if(s)Ki(r,"complete"),Ki(r,"success");else{r.m=6;try{var m=2<hl(r)?r.g.statusText:""}catch(w){m=""}r.j=m+" ["+r.ba()+"]",jy(r)}}finally{zy(r)}}}function zy(r,i){if(r.g){pO(r);var n=r.g,s=r.C[0]?Qr:null;r.g=null,r.C=null,i||Ki(r,"ready");try{n.onreadystatechange=s}catch(o){}}}function pO(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(dt.clearTimeout(r.A),r.A=null)}function hl(r){return r.g?r.g.readyState:0}function dS(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case uO:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Yy(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return _y(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):kn(r,i,n))}function Bh(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function f0(r){this.za=0,this.l=[],this.h=new Dy,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bh("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bh("baseRetryDelayMs",5e3,r),this.$a=Bh("retryDelaySeedMs",1e4,r),this.Ya=Bh("forwardChannelMaxRetries",2,r),this.ra=Bh("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new lS(r&&r.concurrentRequestLimit),this.Ca=new By,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function p0(r){if(m0(r),3==r.G){var i=r.V++,n=ul(r.F);kn(n,"SID",r.J),kn(n,"RID",i),kn(n,"TYPE","terminate"),yc(r,n),(i=new ym(r,r.h,i,void 0)).K=2,i.v=Ny(ul(n)),n=!1,dt.navigator&&dt.navigator.sendBeacon&&(n=dt.navigator.sendBeacon(i.v.toString(),"")),!n&&dt.Image&&((new Image).src=i.v,n=!0),n||(i.g=bS(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Fh(i)}yS(r)}function qy(r){r.g&&(pS(r),r.g.cancel(),r.g=null)}function m0(r){qy(r),r.u&&(dt.clearTimeout(r.u),r.u=null),Zy(r),r.i.cancel(),r.m&&("number"==typeof r.m&&dt.clearTimeout(r.m),r.m=null)}function Vh(r,i){r.l.push(new aS(r.Za++,i)),3==r.G&&$y(r)}function $y(r){o0(r.i)||r.m||(r.m=!0,by(r.Ha,r),r.C=0)}function Em(r,i){var n;n=i?i.m:r.V++;var s=ul(r.F);kn(s,"SID",r.J),kn(s,"RID",n),kn(s,"AID",r.U),yc(r,s),r.o&&r.s&&Yy(s,r.o,r.s),n=new ym(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=Uh(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),l0(r.i,n),XC(n,s,i)}function yc(r,i){r.j&&ky({},function(n,s){kn(i,s,n)})}function Uh(r,i,n){n=Math.min(r.l.length,n);var s=r.j?xi(r.j.Oa,r.j,r):null;e:for(var o=r.l,u=-1;;){var f=["count="+n];-1==u?0<n?f.push("ofs="+(u=o[0].h)):u=0:f.push("ofs="+u);for(var m=!0,w=0;w<n;w++){var D=o[w].h,S=o[w].g;if(0>(D-=u))u=Math.max(0,o[w].h-100),m=!1;else try{lO(S,f,"req"+D+"_")}catch(I){s&&s(S)}}if(m){s=f.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function fS(r){r.g||r.u||(r.Y=1,by(r.Ga,r),r.A=0)}function g0(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=xy(xi(r.Ga,r),_S(r,r.A)),r.A++,0))}function pS(r){null!=r.B&&(dt.clearTimeout(r.B),r.B=null)}function mS(r){r.g=new ym(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=ul(r.oa);kn(i,"RID","rpc"),kn(i,"SID",r.J),kn(i,"CI",r.N?"0":"1"),kn(i,"AID",r.U),yc(r,i),kn(i,"TYPE","xmlhttp"),r.o&&r.s&&Yy(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=Ny(ul(i)),n.s=null,n.U=!0,Vu(n,r)}function Zy(r){null!=r.v&&(dt.clearTimeout(r.v),r.v=null)}function gS(r,i){var n=null;if(r.g==i){Zy(r),pS(r),r.g=null;var s=2}else{if(!uS(r.i,i))return;n=i.D,gc(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var o=r.C;Ki(s=mm(),new KR(s,n,i,o)),$y(r)}else fS(r);else if(3==(o=i.o)||0==o&&0<r.I||!(1==s&&function(r,i){return!(a0(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=xy(xi(r.Ha,r,i),_S(r,r.C)),r.C++,0)))}(r,i)||2==s&&g0(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),o){case 1:Gu(r,5);break;case 4:Gu(r,10);break;case 3:Gu(r,6);break;default:Gu(r,2)}}function _S(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function Gu(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=xi(r.jb,r);n||(n=new pc("//www.google.com/images/cleardot.gif"),dt.location&&"http"==dt.location.protocol||Oy(n,"https"),Ny(n)),function(r,i){var n=new Dy;if(dt.Image){var s=new Image;s.onload=dc(Vy,n,s,"TestLoadImage: loaded",!0,i),s.onerror=dc(Vy,n,s,"TestLoadImage: error",!1,i),s.onabort=dc(Vy,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=dc(Vy,n,s,"TestLoadImage: timeout",!1,i),dt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else xr(2);r.G=0,r.j&&r.j.va(i),yS(r),m0(r)}function yS(r){r.G=0,r.I=-1,r.j&&((0!=aO(r.i).length||0!=r.l.length)&&(r.i.i.length=0,my(r.l),r.l.length=0),r.j.ua())}function vS(r,i,n){var s=function(r){return r instanceof pc?ul(r):new pc(r,void 0)}(n);if(""!=s.i)i&&Fy(s,i+"."+s.i),Py(s,s.m);else{var o=dt.location;s=function(r,i,n,s){var o=new pc(null,void 0);return r&&Oy(o,r),i&&Fy(o,i),n&&Py(o,n),s&&(o.l=s),o}(o.protocol,i?i+"."+o.hostname:o.hostname,+o.port,n)}return r.aa&&_y(r.aa,function(u,f){kn(s,f,u)}),n=r.sa,(i=r.D)&&n&&kn(s,i,n),kn(s,"VER",r.ma),yc(r,s),s}function bS(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new di(n&&r.Ba&&!r.qa?new Uy({ib:!0}):r.qa)).L=r.H,i}function wS(){}function _0(){if(Sh&&!(10<=Number(GM)))throw Error("Environmental error: no available transport.")}function ys(r,i){ii.call(this),this.g=new f0(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!Mh(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Mh(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new Gh(this)}function Hh(r){Sy.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function CS(){Bu.call(this),this.status=1}function Gh(r){this.g=r}(qe=di.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():JC.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:JC),this.g.onreadystatechange=xi(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(u){return void d0(this,u)}r=n||"";var o=new Ph(this.headers);s&&ky(s,function(u,f){o.set(f,u)}),s=function(r){e:{for(var i=u0,n=r.length,s="string"==typeof r?r.split(""):r,o=0;o<n;o++)if(o in s&&i.call(void 0,s[o],o,r)){i=o;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(o.T()),n=dt.FormData&&r instanceof dt.FormData,!(0<=DC(hO,i))||s||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,f){this.g.setRequestHeader(f,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pO(this),0<this.B&&((this.K=function(r){return Sh&&HR()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xi(this.pa,this)):this.A=qC(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(u){d0(this,u)}},qe.pa=function(){void 0!==CC&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ki(this,"timeout"),this.abort(8))},qe.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ki(this,"complete"),Ki(this,"abort"),zy(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zy(this,!0)),di.Z.M.call(this)},qe.Fa=function(){this.s||(this.F||this.v||this.l?h0(this):this.cb())},qe.cb=function(){h0(this)},qe.ba=function(){try{return 2<hl(this)?this.g.status:-1}catch(r){return-1}},qe.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},qe.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),cO(i)}},qe.Da=function(){return this.m},qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=f0.prototype).ma=8,qe.G=1,qe.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},qe.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new ym(this,this.h,r,void 0),n=this.s;if(this.P&&(n?IC(n=TC(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,o=0;o<this.l.length;o++){var u=this.l[o];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(s+=u)){s=o;break e}if(4096===s||o===this.l.length-1){s=o+1;break e}}s=1e3}else s=1e3;s=Uh(this,i,s),kn(o=ul(this.F),"RID",r),kn(o,"CVER",22),this.D&&kn(o,"X-HTTP-Session-Id",this.D),yc(this,o),this.o&&n&&Yy(o,this.o,n),l0(this.i,i),this.Ra&&kn(o,"TYPE","init"),this.ja?(kn(o,"$req",s),kn(o,"SID","null"),i.$=!0,XC(i,o,null)):XC(i,o,s),this.G=2}}else 3==this.G&&(r?Em(this,r):0==this.l.length||o0(this.i)||Em(this))},qe.Ga=function(){if(this.u=null,mS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=xy(xi(this.bb,this),r)}},qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xr(10),qy(this),mS(this))},qe.ab=function(){null!=this.v&&(this.v=null,qy(this),g0(this),xr(19))},qe.jb=function(r){r?(this.h.info("Successfully pinged google.com"),xr(2)):(this.h.info("Failed to ping google.com"),xr(1))},(qe=wS.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Oa=function(){},_0.prototype.g=function(r,i){return new ys(r,i)},Zi(ys,ii),ys.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),by(xi(r.hb,r,i))),xr(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=vS(r,null,r.W),$y(r)},ys.prototype.close=function(){p0(this.g)},ys.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,Vh(this.g,i)}else this.v?((i={}).__data__=kh(r),Vh(this.g,i)):Vh(this.g,r)},ys.prototype.M=function(){this.g.j=null,delete this.j,p0(this.g),delete this.g,ys.Z.M.call(this)},Zi(Hh,Sy),Zi(CS,Bu),Zi(Gh,wS),Gh.prototype.xa=function(){Ki(this.g,"a")},Gh.prototype.wa=function(r){Ki(this.g,new Hh(r))},Gh.prototype.va=function(r){Ki(this.g,new CS(r))},Gh.prototype.ua=function(){Ki(this.g,"b")},_0.prototype.createWebChannel=_0.prototype.g,ys.prototype.send=ys.prototype.u,ys.prototype.open=ys.prototype.m,ys.prototype.close=ys.prototype.close,QC.NO_ERROR=0,QC.TIMEOUT=8,QC.HTTP_ERROR=6,QR.COMPLETE="complete",JM.EventType=_m,_m.OPEN="a",_m.CLOSE="b",_m.ERROR="c",_m.MESSAGE="d",ii.prototype.listen=ii.prototype.N,di.prototype.listenOnce=di.prototype.O,di.prototype.getLastError=di.prototype.La,di.prototype.getLastErrorCode=di.prototype.Da,di.prototype.getStatus=di.prototype.ba,di.prototype.getResponseJson=di.prototype.Qa,di.prototype.getResponseText=di.prototype.ga,di.prototype.send=di.prototype.ea;var fa=QC,y0=QR,DS=fc,xS_PROXY=10,xS_NOPROXY=11,MS=Uy,vc=JM,SS=di;class Ni{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let bc="9.0.2";const fl=new uc.Yd("@firebase/firestore");function Wy(){return fl.logLevel}function Pe(r,...i){if(fl.logLevel<=uc.in.DEBUG){const n=i.map(Ky);fl.debug(`Firestore (${bc}): ${r}`,...n)}}function ri(r,...i){if(fl.logLevel<=uc.in.ERROR){const n=i.map(Ky);fl.error(`Firestore (${bc}): ${r}`,...n)}}function xm(r,...i){if(fl.logLevel<=uc.in.WARN){const n=i.map(Ky);fl.warn(`Firestore (${bc}): ${r}`,...n)}}function Ky(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function We(r="Unexpected state"){const i=`FIRESTORE (${bc}) INTERNAL ASSERTION FAILED: `+r;throw ri(i),new Error(i)}function gt(r,i){r||We()}function Be(r,i){return r}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vn{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class jh{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class hL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(Ni.UNAUTHENTICATED))}shutdown(){}}class St{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zs{constructor(i){this.t=i,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,n(D)):Promise.resolve();let f=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Vn,i.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=f;i.enqueueRetryable((0,be.Z)(function*(){yield D.promise,yield u(s.currentUser)}))},w=D=>{Pe("FirebaseCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>w(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?w(D):(Pe("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Vn)}},0),m()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(Pe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(gt("string"==typeof s.accessToken),new jh(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return gt(null===i||"string"==typeof i),new Ni(i)}}class v0{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=Ni.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class ju{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new v0(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ys{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function TS(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}Ys.T=-1;class b0{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const o=TS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=i.charAt(o[u]%i.length))}return s}}function zt(r,i){return r<i?-1:r>i?1:0}function zh(r,i,n){return r.length===i.length&&r.every((s,o)=>n(s,i[o]))}function AS(r){return r+"\0"}class ln{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return ln.fromMillis(Date.now())}static fromDate(i){return ln.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new ln(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?zt(this.nanoseconds,i.nanoseconds):zt(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ze{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ze(i)}static min(){return new Ze(new ln(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function qs(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function wc(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function IS(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class Yh{constructor(i,n,s){void 0===n?n=0:n>i.length&&We(),void 0===s?s=i.length-n:s>i.length-n&&We(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===Yh.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof Yh?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let o=0;o<s;o++){const u=i.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class Qt extends Yh{construct(i,n,s){return new Qt(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const qh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends Yh{construct(i,n,s){return new si(i,n,s)}static isValidIdentifier(i){return qh.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new si(["__name__"])}static fromServerFormat(i){const n=[];let s="",o=0;const u=()=>{if(0===s.length)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<i.length;){const m=i[o];if("\\"===m){if(o+1===i.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const w=i[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=w,o+=2}else"`"===m?(f=!f,o++):"."!==m||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new si(n)}static emptyPath(){return new si([])}}class $h{constructor(i){this.fields=i,i.sort(si.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return zh(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class Li{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new Li(n)}static fromUint8Array(i){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(i);return new Li(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return zt(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Li.EMPTY_BYTE_STRING=new Li("");const kS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(r){if(gt(!!r),"string"==typeof r){let i=0;const n=kS.exec(r);if(gt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),i=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:Rn(r.seconds),nanos:Rn(r.nanos)}}function Rn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Cc(r){return"string"==typeof r?Li.fromBase64String(r):Li.fromUint8Array(r)}function Qy(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yu(r){const i=r.mapValue.fields.__previous_value__;return Qy(i)?Yu(i):i}function Mm(r){const i=pa(r.mapValue.fields.__local_write_time__.timestampValue);return new ln(i.seconds,i.nanos)}function ma(r){return null==r}function Sm(r){return 0===r&&1/r==-1/0}function w0(r){return"number"==typeof r&&Number.isInteger(r)&&!Sm(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class Xe{constructor(i){this.path=i}static fromPath(i){return new Xe(Qt.fromString(i))}static fromName(i){return new Xe(Qt.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===Qt.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return Qt.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new Xe(new Qt(i.slice()))}}function ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qy(r)?4:10:We()}function _a(r,i){const n=ga(r);if(n!==ga(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return Mm(r).isEqual(Mm(i));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=pa(s.timestampValue),f=pa(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return o=i,Cc(r.bytesValue).isEqual(Cc(o.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,o){return Rn(s.geoPointValue.latitude)===Rn(o.geoPointValue.latitude)&&Rn(s.geoPointValue.longitude)===Rn(o.geoPointValue.longitude)}(r,i);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Rn(s.integerValue)===Rn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Rn(s.doubleValue),f=Rn(o.doubleValue);return u===f?Sm(u)===Sm(f):isNaN(u)&&isNaN(f)}return!1}(r,i);case 9:return zh(r.arrayValue.values||[],i.arrayValue.values||[],_a);case 10:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(qs(u)!==qs(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===f[m]||!_a(u[m],f[m])))return!1;return!0}(r,i);default:return We()}var o}function qu(r,i){return void 0!==(r.values||[]).find(n=>_a(n,i))}function Ec(r,i){const n=ga(r),s=ga(i);if(n!==s)return zt(n,s);switch(n){case 0:return 0;case 1:return zt(r.booleanValue,i.booleanValue);case 2:return function(o,u){const f=Rn(o.integerValue||o.doubleValue),m=Rn(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(r,i);case 3:return yO(r.timestampValue,i.timestampValue);case 4:return yO(Mm(r),Mm(i));case 5:return zt(r.stringValue,i.stringValue);case 6:return function(o,u){const f=Cc(o),m=Cc(u);return f.compareTo(m)}(r.bytesValue,i.bytesValue);case 7:return function(o,u){const f=o.split("/"),m=u.split("/");for(let w=0;w<f.length&&w<m.length;w++){const D=zt(f[w],m[w]);if(0!==D)return D}return zt(f.length,m.length)}(r.referenceValue,i.referenceValue);case 8:return function(o,u){const f=zt(Rn(o.latitude),Rn(u.latitude));return 0!==f?f:zt(Rn(o.longitude),Rn(u.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(o,u){const f=o.values||[],m=u.values||[];for(let w=0;w<f.length&&w<m.length;++w){const D=Ec(f[w],m[w]);if(D)return D}return zt(f.length,m.length)}(r.arrayValue,i.arrayValue);case 10:return function(o,u){const f=o.fields||{},m=Object.keys(f),w=u.fields||{},D=Object.keys(w);m.sort(),D.sort();for(let S=0;S<m.length&&S<D.length;++S){const I=zt(m[S],D[S]);if(0!==I)return I;const F=Ec(f[m[S]],w[D[S]]);if(0!==F)return F}return zt(m.length,D.length)}(r.mapValue,i.mapValue);default:throw We()}}function yO(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return zt(r,i);const n=pa(r),s=pa(i),o=zt(n.seconds,s.seconds);return 0!==o?o:zt(n.nanos,s.nanos)}function RS(r){return wt(r)}function wt(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const o=pa(s);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Cc(r.bytesValue).toBase64():"referenceValue"in r?Xe.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let o="[",u=!0;for(const f of s.values||[])u?u=!1:o+=",",o+=wt(f);return o+"]"}(r.arrayValue):"mapValue"in r?function(s){const o=Object.keys(s.fields||{}).sort();let u="{",f=!0;for(const m of o)f?f=!1:u+=",",u+=`${m}:${wt(s.fields[m])}`;return u+"}"}(r.mapValue):We();var i}function C0(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function $u(r){return!!r&&"integerValue"in r}function E0(r){return!!r&&"arrayValue"in r}function OS(r){return!!r&&"nullValue"in r}function FS(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function D0(r){return!!r&&"mapValue"in r}function Jy(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return wc(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=Jy(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=Jy(r.arrayValue.values[n]);return i}return Object.assign({},r)}class ur{constructor(i){this.value=i}static empty(){return new ur({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!D0(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=Jy(n)}setAll(i){let n=si.emptyPath(),s={},o=[];i.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const w=this.getFieldsMap(n);this.applyChanges(w,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Jy(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(i){const n=this.field(i.popLast());D0(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return _a(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let o=n.mapValue.fields[i.get(s)];D0(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(i,n,s){wc(n,(o,u)=>i[o]=u);for(const o of s)delete i[o]}clone(){return new ur(Jy(this.value))}}function Qi(r){const i=[];return wc(r.fields,(n,s)=>{const o=new si([n]);if(D0(s)){const u=Qi(s.mapValue).fields;if(0===u.length)i.push(o);else for(const f of u)i.push(o.child(f))}else i.push(o)}),new $h(i)}class On{constructor(i,n,s,o,u){this.key=i,this.documentType=n,this.version=s,this.data=o,this.documentState=u}static newInvalidDocument(i){return new On(i,0,Ze.min(),ur.empty(),0)}static newFoundDocument(i,n,s){return new On(i,1,n,s,0)}static newNoDocument(i,n){return new On(i,2,n,ur.empty(),0)}static newUnknownDocument(i,n){return new On(i,3,n,ur.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof On&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new On(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vO{constructor(i,n=null,s=[],o=[],u=null,f=null,m=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.A=null}}function Xy(r,i=null,n=[],s=[],o=null,u=null,f=null){return new vO(r,i,n,s,o,u,f)}function Tm(r){const i=Be(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+RS(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(o=s).field.canonicalString()+o.dir;var o}).join(","),ma(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=nv(i.startAt)),i.endAt&&(n+="|ub:",n+=nv(i.endAt)),i.A=n}return i.A}function ev(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let o=0;o<r.orderBy.length;o++)if(!MO(r.orderBy[o],i.orderBy[o]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let o=0;o<r.filters.length;o++)if((n=r.filters[o]).op!==(s=i.filters[o]).op||!n.field.isEqual(s.field)||!_a(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!Wh(r.startAt,i.startAt)&&Wh(r.endAt,i.endAt)}function tv(r){return Xe.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Mr extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new x0(i,n,s):"array-contains"===n?new S0(i,s):"in"===n?new DO(i,s):"not-in"===n?new fL(i,s):"array-contains-any"===n?new xO(i,s):new Mr(i,n,s)}static R(i,n,s){return"in"===n?new CO(i,s):new EO(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(Ec(n,this.value)):null!==n&&ga(this.value)===ga(n)&&this.P(Ec(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return We()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class x0 extends Mr{constructor(i,n,s){super(i,n,s),this.key=Xe.fromName(s.referenceValue)}matches(i){const n=Xe.comparator(i.key,this.key);return this.P(n)}}class CO extends Mr{constructor(i,n){super(i,"in",n),this.keys=M0(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class EO extends Mr{constructor(i,n){super(i,"not-in",n),this.keys=M0(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function M0(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Xe.fromName(s.referenceValue))}class S0 extends Mr{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return E0(n)&&qu(n.arrayValue,this.value)}}class DO extends Mr{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&qu(this.value.arrayValue,n)}}class fL extends Mr{constructor(i,n){super(i,"not-in",n)}matches(i){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!qu(this.value.arrayValue,n)}}class xO extends Mr{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!E0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>qu(this.value.arrayValue,s))}}class Am{constructor(i,n){this.position=i,this.before=n}}function nv(r){return`${r.before?"b":"a"}:${r.position.map(i=>RS(i)).join(",")}`}class Zh{constructor(i,n="asc"){this.field=i,this.dir=n}}function MO(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function PS(r,i,n){let s=0;for(let o=0;o<r.position.length;o++){const u=i[o],f=r.position[o];if(s=u.field.isKeyField()?Xe.comparator(Xe.fromName(f.referenceValue),n.key):Ec(f,n.data.field(u.field)),"desc"===u.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function Wh(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_a(r.position[n],i.position[n]))return!1;return!0}class pl{constructor(i,n=null,s=[],o=[],u=null,f="F",m=null,w=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=w,this.V=null,this.S=null}}function NS(r,i,n,s,o,u,f,m){return new pl(r,i,n,s,o,u,f,m)}function Zu(r){return new pl(r)}function Dc(r){return!ma(r.limit)&&"F"===r.limitType}function T0(r){return!ma(r.limit)&&"L"===r.limitType}function iv(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function A0(r){for(const i of r.filters)if(i.v())return i.field;return null}function I0(r){return null!==r.collectionGroup}function Kh(r){const i=Be(r);if(null===i.V){i.V=[];const n=A0(i),s=iv(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new Zh(n)),i.V.push(new Zh(si.keyField(),"asc"));else{let o=!1;for(const u of i.explicitOrderBy)i.V.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new Zh(si.keyField(),u))}}}return i.V}function $s(r){const i=Be(r);if(!i.S)if("F"===i.limitType)i.S=Xy(i.path,i.collectionGroup,Kh(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const u of Kh(i))n.push(new Zh(u.field,"desc"===u.dir?"asc":"desc"));const s=i.endAt?new Am(i.endAt.position,!i.endAt.before):null,o=i.startAt?new Am(i.startAt.position,!i.startAt.before):null;i.S=Xy(i.path,i.collectionGroup,n,i.filters,i.limit,s,o)}return i.S}function LS(r,i,n){return new pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function Qh(r,i){return ev($s(r),$s(i))&&r.limitType===i.limitType}function BS(r){return`${Tm($s(r))}|lt:${r.limitType}`}function k0(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${RS(s.value)}`;var s}).join(", ")}]`),ma(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+nv(r.startAt)),r.endAt&&(i+=", endAt: "+nv(r.endAt)),`Target(${i})`}($s(r))}; limitType=${r.limitType})`}function rv(r,i){return i.isFoundDocument()&&function(n,s){const o=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Xe.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,i)&&function(n,s){for(const o of n.explicitOrderBy)if(!o.field.isKeyField()&&null===s.data.field(o.field))return!1;return!0}(r,i)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!PS(n.startAt,Kh(n),s)||n.endAt&&PS(n.endAt,Kh(n),s)));var n,s}function SO(r){return(i,n)=>{let s=!1;for(const o of Kh(r)){const u=pL(o,i,n);if(0!==u)return u;s=s||o.field.isKeyField()}return 0}}function pL(r,i,n){const s=r.field.isKeyField()?Xe.comparator(i.key,n.key):function(o,u,f){const m=u.data.field(o),w=f.data.field(o);return null!==m&&null!==w?Ec(m,w):We()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return We()}}function sv(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sm(i)?"-0":i}}function VS(r){return{integerValue:""+r}}function US(r,i){return w0(i)?VS(i):sv(r,i)}class ov{constructor(){this._=void 0}}function TO(r,i,n){return r instanceof Wu?function(s,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,i):r instanceof ml?GS(r,i):r instanceof Zs?Ji(r,i):function(s,o){const u=HS(s,o),f=Ws(u)+Ws(s.C);return $u(u)&&$u(s.C)?VS(f):sv(s.N,f)}(r,i)}function AO(r,i,n){return r instanceof ml?GS(r,i):r instanceof Zs?Ji(r,i):n}function HS(r,i){return r instanceof Ku?$u(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class Wu extends ov{}class ml extends ov{constructor(i){super(),this.elements=i}}function GS(r,i){const n=av(i);for(const s of r.elements)n.some(o=>_a(o,s))||n.push(s);return{arrayValue:{values:n}}}class Zs extends ov{constructor(i){super(),this.elements=i}}function Ji(r,i){let n=av(i);for(const s of r.elements)n=n.filter(o=>!_a(o,s));return{arrayValue:{values:n}}}class Ku extends ov{constructor(i,n){super(),this.N=i,this.C=n}}function Ws(r){return Rn(r.integerValue||r.doubleValue)}function av(r){return E0(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Im{constructor(i,n){this.field=i,this.transform=n}}class zS{constructor(i,n){this.version=i,this.transformResults=n}}class oi{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new oi}static exists(i){return new oi(void 0,i)}static updateTime(i){return new oi(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function lv(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class cv{}function IO(r,i,n){r instanceof km?function(s,o,u){const f=s.value.clone(),m=R0(s.fieldTransforms,o,u.transformResults);f.setAll(m),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,i,n):r instanceof vs?function(s,o,u){if(!lv(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=R0(s.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(OO(s)),m.setAll(f),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function uv(r,i,n){var o;r instanceof km?function(s,o,u){if(!lv(s.precondition,o))return;const f=s.value.clone(),m=qS(s.fieldTransforms,u,o);f.setAll(m),o.convertToFoundDocument(YS(o),f).setHasLocalMutations()}(r,i,n):r instanceof vs?function(s,o,u){if(!lv(s.precondition,o))return;const f=qS(s.fieldTransforms,u,o),m=o.data;m.setAll(OO(s)),m.setAll(f),o.convertToFoundDocument(YS(o),m).setHasLocalMutations()}(r,i,n):lv(r.precondition,o=i)&&o.convertToNoDocument(Ze.min())}function kO(r,i){let n=null;for(const s of r.fieldTransforms){const o=i.data.field(s.field),u=HS(s.transform,o||null);null!=u&&(null==n&&(n=ur.empty()),n.set(s.field,u))}return n||null}function RO(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&zh(n,s,(o,u)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof ml&&s instanceof ml||n instanceof Zs&&s instanceof Zs?zh(n.elements,s.elements,_a):n instanceof Ku&&s instanceof Ku?_a(n.C,s.C):n instanceof Wu&&s instanceof Wu);var n,s}(o,u))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function YS(r){return r.isFoundDocument()?r.version:Ze.min()}class km extends cv{constructor(i,n,s,o=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}}class vs extends cv{constructor(i,n,s,o,u=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}}function OO(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function R0(r,i,n){const s=new Map;gt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=i.data.field(u.field);s.set(u.field,AO(f,m,n[o]))}return s}function qS(r,i,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,TO(u,f,i))}return s}class dv extends cv{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class hv extends cv{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class FO{constructor(i){this.count=i}}var Qn,Kt;function O0(r){switch(r){case se.OK:return We();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return We()}}function F0(r){if(void 0===r)return ri("GRPC error has no .code"),se.UNKNOWN;switch(r){case Qn.OK:return se.OK;case Qn.CANCELLED:return se.CANCELLED;case Qn.UNKNOWN:return se.UNKNOWN;case Qn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Qn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Qn.INTERNAL:return se.INTERNAL;case Qn.UNAVAILABLE:return se.UNAVAILABLE;case Qn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Qn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Qn.NOT_FOUND:return se.NOT_FOUND;case Qn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Qn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Qn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Qn.ABORTED:return se.ABORTED;case Qn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Qn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Qn.DATA_LOSS:return se.DATA_LOSS;default:return We()}}(Kt=Qn||(Qn={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class Mi{constructor(i,n){this.comparator=i,this.root=n||Xi.EMPTY}insert(i,n){return new Mi(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(i){return new Mi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(i,s.key);if(0===o)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new fv(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new fv(this.root,i,this.comparator,!1)}getReverseIterator(){return new fv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new fv(this.root,i,this.comparator,!0)}}class fv{constructor(i,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!i.isEmpty();)if(u=n?s(i.key,n):1,o&&(u*=-1),u<0)i=this.isReverse?i.left:i.right;else{if(0===u){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Xi{constructor(i,n,s,o,u){this.key=i,this.value=n,this.color=null!=s?s:Xi.RED,this.left=null!=o?o:Xi.EMPTY,this.right=null!=u?u:Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,o,u){return new Xi(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let o=this;const u=s(i,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(i,n,s),null):0===u?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(i,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,o=this;if(n(i,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(i,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(i,o.key)){if(o.right.isEmpty())return Xi.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(i,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();const i=this.left.check();if(i!==this.right.check())throw We();return i+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw We()}get value(){throw We()}get color(){throw We()}get left(){throw We()}get right(){throw We()}copy(r,i,n,s,o){return this}insert(r,i,n){return new Xi(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(i){this.comparator=i,this.data=new Mi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,i[1])>=0)return;n(o.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new $S(this.data.getIterator())}getIteratorFrom(i){return new $S(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof Jn)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new Jn(this.comparator);return n.data=i,n}}class $S{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const PO=new Mi(Xe.comparator);function Ks(){return PO}const Rm=new Mi(Xe.comparator);function pv(){return Rm}const ZS=new Mi(Xe.comparator);function P0(){return ZS}const WS=new Jn(Xe.comparator);function rn(...r){let i=WS;for(const n of r)i=i.add(n);return i}const KS=new Jn(zt);function mv(){return KS}class Jh{constructor(i,n,s,o,u){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,Om.createSynthesizedTargetChangeForCurrentChange(i,n)),new Jh(Ze.min(),s,mv(),Ks(),rn())}}class Om{constructor(i,n,s,o,u){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(i,n){return new Om(Li.EMPTY_BYTE_STRING,n,rn(),rn(),rn())}}class gv{constructor(i,n,s,o){this.k=i,this.removedTargetIds=n,this.key=s,this.$=o}}class QS{constructor(i,n){this.targetId=i,this.O=n}}class JS{constructor(i,n,s=Li.EMPTY_BYTE_STRING,o=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Xh{constructor(){this.F=0,this.M=_v(),this.L=Li.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=rn(),n=rn(),s=rn();return this.M.forEach((o,u)=>{switch(u){case 0:i=i.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:We()}}),new Om(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=_v()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Fm{constructor(i){this.tt=i,this.et=new Map,this.nt=Ks(),this.st=XS(),this.it=new Jn(zt)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:We()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,o)=>{this.ht(o)&&n(o)})}ft(i){const n=i.targetId,s=i.O.count,o=this.dt(n);if(o){const u=o.target;if(tv(u))if(0===s){const f=new Xe(u.path);this.at(n,f,On.newNoDocument(f,Ze.min()))}else gt(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((u,f)=>{const m=this.dt(f);if(m){if(u.current&&tv(m.target)){const w=new Xe(m.target.path);null!==this.nt.get(w)||this.gt(f,w)||this.at(f,w,On.newNoDocument(w,i))}u.K&&(n.set(f,u.W()),u.G())}});let s=rn();this.st.forEach((u,f)=>{let m=!0;f.forEachWhile(w=>{const D=this.dt(w);return!D||2===D.purpose||(m=!1,!1)}),m&&(s=s.add(u))});const o=new Jh(i,n,this.it,this.nt,s);return this.nt=Ks(),this.st=XS(),this.it=new Jn(zt),o}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const o=this.ut(i);this.gt(i,n)?o.H(n,1):o.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new Xh,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new Jn(zt),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||Pe("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new Xh),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function XS(){return new Mi(Xe.comparator)}function _v(){return new Mi(Xe.comparator)}const ya={asc:"ASCENDING",desc:"DESCENDING"},NO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Pm{constructor(i,n){this.databaseId=i,this.D=n}}function Nm(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function eT(r,i){return r.D?i.toBase64():i.toUint8Array()}function mL(r,i){return Nm(r,i.toTimestamp())}function hi(r){return gt(!!r),Ze.fromTimestamp(function(i){const n=pa(i);return new ln(n.seconds,n.nanos)}(r))}function Lm(r,i){return(n=r,new Qt(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function N0(r){const i=Qt.fromString(r);return gt(lT(i)),i}function Qu(r,i){return Lm(r.databaseId,i.path)}function Qs(r,i){const n=N0(i);if(n.get(1)!==r.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Xe(nT(n))}function L0(r,i){return Lm(r.databaseId,i)}function tT(r){const i=N0(r);return 4===i.length?Qt.emptyPath():nT(i)}function Bm(r){return new Qt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return gt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function B0(r,i,n){return{name:Qu(r,i),fields:n.value.mapValue.fields}}function yv(r,i,n){const s=Qs(r,i.name),o=hi(i.updateTime),u=new ur({mapValue:{fields:i.fields}}),f=On.newFoundDocument(s,o,u);return n&&f.setHasCommittedMutations(),n?f.setHasCommittedMutations():f}function Vm(r,i){let n;if(i instanceof km)n={update:B0(r,i.key,i.value)};else if(i instanceof dv)n={delete:Qu(r,i.key)};else if(i instanceof vs)n={update:B0(r,i.key,i.data),updateMask:G0(i.fieldMask)};else{if(!(i instanceof hv))return We();n={verify:Qu(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(o,u){const f=u.transform;if(f instanceof Wu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zs)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ku)return{fieldPath:u.field.canonicalString(),increment:f.C};throw We()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(o=i.precondition).updateTime?{updateTime:mL(r,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:We()),n;var o}function V0(r,i){const n=i.currentDocument?void 0!==(o=i.currentDocument).updateTime?oi.updateTime(hi(o.updateTime)):void 0!==o.exists?oi.exists(o.exists):oi.none():oi.none(),s=i.updateTransforms?i.updateTransforms.map(o=>function(u,f){let m=null;"setToServerValue"in f?(gt("REQUEST_TIME"===f.setToServerValue),m=new Wu):"appendMissingElements"in f?m=new ml(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new Zs(f.removeAllFromArray.values||[]):"increment"in f?m=new Ku(u,f.increment):We();const w=si.fromServerFormat(f.fieldPath);return new Im(w,m)}(r,o)):[];var o;if(i.update){const o=Qs(r,i.update.name),u=new ur({mapValue:{fields:i.update.fields}});if(i.updateMask){const f=new $h((i.updateMask.fieldPaths||[]).map(D=>si.fromServerFormat(D)));return new vs(o,u,f,n,s)}return new km(o,u,n,s)}if(i.delete){const o=Qs(r,i.delete);return new dv(o,n)}if(i.verify){const o=Qs(r,i.verify);return new hv(o,n)}return We()}function U0(r,i){return{documents:[L0(r,i.path)]}}function H0(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=L0(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=L0(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(m){if(0===m.length)return;const w=m.map(D=>function(S){if("=="===S.op){if(FS(S.value))return{unaryFilter:{field:tf(S.field),op:"IS_NAN"}};if(OS(S.value))return{unaryFilter:{field:tf(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(FS(S.value))return{unaryFilter:{field:tf(S.field),op:"IS_NOT_NAN"}};if(OS(S.value))return{unaryFilter:{field:tf(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tf(S.field),op:VO(S.op),value:S.value}}}(D));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(i.filters);o&&(n.structuredQuery.where=o);const u=function(m){if(0!==m.length)return m.map(w=>{return{field:tf((D=w).field),direction:ef(D.dir)};var D})}(i.orderBy);u&&(n.structuredQuery.orderBy=u);const f=(w=i.limit,r.D||ma(w)?w:{value:w});var w;return null!==f&&(n.structuredQuery.limit=f),i.startAt&&(n.structuredQuery.startAt=BO(i.startAt)),i.endAt&&(n.structuredQuery.endAt=BO(i.endAt)),n}function sT(r){let i=tT(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){gt(1===s);const S=n.from[0];S.allDescendants?o=S.collectionId:i=i.child(S.collectionId)}let u=[];n.where&&(u=aT(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(S=>{return new Zh(Um((I=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let m=null;n.limit&&(m=function(S){let I;return I="object"==typeof S?S.value:S,ma(I)?null:I}(n.limit));let w=null;n.startAt&&(w=dr(n.startAt));let D=null;return n.endAt&&(D=dr(n.endAt)),NS(i,o,f,u,m,"F",w,D)}function aT(r){return r?void 0!==r.unaryFilter?[UO(r)]:void 0!==r.fieldFilter?[Hm(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>aT(i)).reduce((i,n)=>i.concat(n)):We():[]}function BO(r){return{before:r.before,values:r.position}}function dr(r){return new Am(r.values||[],!!r.before)}function ef(r){return ya[r]}function VO(r){return NO[r]}function tf(r){return{fieldPath:r.canonicalString()}}function Um(r){return si.fromServerFormat(r.fieldPath)}function Hm(r){return Mr.create(Um(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return We()}}(r.fieldFilter.op),r.fieldFilter.value)}function UO(r){switch(r.unaryFilter.op){case"IS_NAN":const i=Um(r.unaryFilter.field);return Mr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=Um(r.unaryFilter.field);return Mr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Um(r.unaryFilter.field);return Mr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Um(r.unaryFilter.field);return Mr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return We()}}function G0(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function lT(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Js(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=cT(i)),i=HO(r.get(n),i);return cT(i)}function HO(r,i){let n=i;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function cT(r){return r+"\x01\x01"}function Mo(r){const i=r.length;if(gt(i>=2),2===i)return gt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Qt.emptyPath();const n=i-2,s=[];let o="";for(let u=0;u<i;){const f=r.indexOf("\x01",u);switch((f<0||f>n)&&We(),r.charAt(f+1)){case"\x01":const m=r.substring(u,f);let w;0===o.length?w=m:(o+=m,w=o,o=""),s.push(w);break;case"\x10":o+=r.substring(u,f),o+="\0";break;case"\x11":o+=r.substring(u,f+1);break;default:We()}u=f+2}return new Qt(s)}class uT{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class Jr{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}Jr.store="owner",Jr.key="owner";class So{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}So.store="mutationQueues",So.keyPath="userId";class yn{constructor(i,n,s,o,u){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=o,this.mutations=u}}yn.store="mutations",yn.keyPath="batchId",yn.userMutationsIndex="userMutationsIndex",yn.userMutationsKeyPath=["userId","batchId"];class Sr{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,Js(n)]}static key(i,n,s){return[i,Js(n),s]}}Sr.store="documentMutations",Sr.PLACEHOLDER=new Sr;class dT{constructor(i,n){this.path=i,this.readTime=n}}class GO{constructor(i,n){this.path=i,this.version=n}}class Un{constructor(i,n,s,o,u,f){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=f}}Un.store="remoteDocuments",Un.readTimeIndex="readTimeIndex",Un.readTimeIndexPath="readTime",Un.collectionReadTimeIndex="collectionReadTimeIndex",Un.collectionReadTimeIndexPath=["parentPath","readTime"];class bs{constructor(i){this.byteSize=i}}bs.store="remoteDocumentGlobal",bs.key="remoteDocumentGlobalKey";class Tr{constructor(i,n,s,o,u,f,m){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=f,this.query=m}}Tr.store="targets",Tr.keyPath="targetId",Tr.queryTargetsIndexName="queryTargetsIndex",Tr.queryTargetsKeyPath=["canonicalId","targetId"];class er{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}er.store="targetDocuments",er.keyPath=["targetId","path"],er.documentTargetsIndex="documentTargetsIndex",er.documentTargetsKeyPath=["path","targetId"];class Ar{constructor(i,n,s,o){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=o}}Ar.key="targetGlobalKey",Ar.store="targetGlobal";class gl{constructor(i,n){this.collectionId=i,this.parent=n}}gl.store="collectionParents",gl.keyPath=["collectionId","parent"];class _l{constructor(i,n,s,o){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=o}}_l.store="clientMetadata",_l.keyPath="clientId";class nf{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}nf.store="bundles",nf.keyPath="bundleId";class Ju{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}Ju.store="namedQueries",Ju.keyPath="name";const hT=[So.store,yn.store,Sr.store,Un.store,Tr.store,Jr.store,Ar.store,er.store,_l.store,bs.store,gl.store,nf.store,Ju.store],j0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Te{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(i,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Te?n:Te.resolve(n)}catch(n){return Te.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Te.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Te.reject(n)}static resolve(i){return new Te((n,s)=>{n(i)})}static reject(i){return new Te((n,s)=>{s(i)})}static waitFor(i){return new Te((n,s)=>{let o=0,u=0,f=!1;i.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},w=>s(w))}),f=!0,u===o&&n()})}static or(i){let n=Te.resolve(!1);for(const s of i)n=n.next(o=>o?Te.resolve(o):s());return n}static forEach(i,n){const s=[];return i.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}}class Gm{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new Vn,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new rf(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const o=vv(s.target.error);this.Tt.reject(new rf(i,o))}}static open(i,n,s,o){try{return new Gm(n,i.transaction(o,s))}catch(u){throw new rf(n,u)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(Pe("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new pT(n)}}class To{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===To.Rt((0,It.z$)())&&ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Pe("SimpleDb","Removing database:",i),xc(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(To.Pt())return!0;const i=(0,It.z$)(),n=To.Rt(i),s=0<n&&n<10,o=To.vt(i),u=0<o&&o<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||u)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,be.Z)(function*(){return n.db||(Pe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,o)=>{const u=indexedDB.open(n.name,n.version);u.onsuccess=f=>{s(f.target.result)},u.onblocked=()=>{o(new rf(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const m=f.target.error;o("VersionError"===m.name?new Se(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Se(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new rf(i,m))},u.onupgradeneeded=f=>{Pe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.At.Ct(f.target.result,u.transaction,f.oldVersion,n.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,o){var u=this;return(0,be.Z)(function*(){const f="readonly"===n;let m=0;for(;;){++m;try{u.db=yield u.Dt(i);const w=Gm.open(u.db,i,f?"readonly":"readwrite",s),D=o(w).catch(S=>(w.abort(S),Te.reject(S))).toPromise();return D.catch(()=>{}),yield w.It,D}catch(w){const D="FirebaseError"!==w.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",D),u.close(),!D)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class jO{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return xc(this.kt.delete())}}class rf extends Se{constructor(i,n){super(se.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Xu(r){return"IndexedDbTransactionError"===r.name}class pT{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(Pe("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),xc(s)}add(i){return Pe("SimpleDb","ADD",this.store.name,i,i),xc(this.store.add(i))}get(i){return xc(this.store.get(i)).next(n=>(void 0===n&&(n=null),Pe("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return Pe("SimpleDb","DELETE",this.store.name,i),xc(this.store.delete(i))}count(){return Pe("SimpleDb","COUNT",this.store.name),xc(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),o=[];return this.Bt(s,(u,f)=>{o.push(f)}).next(()=>o)}Ut(i,n){Pe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const o=this.cursor(s);return this.Bt(o,(u,f,m)=>m.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const o=this.cursor(s);return this.Bt(o,n)}jt(i){const n=this.cursor({});return new Te((s,o)=>{n.onerror=u=>{const f=vv(u.target.error);o(f)},n.onsuccess=u=>{const f=u.target.result;f?i(f.primaryKey,f.value).next(m=>{m?f.continue():s()}):s()}})}Bt(i,n){const s=[];return new Te((o,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{const m=f.target.result;if(!m)return void o();const w=new jO(m),D=n(m.primaryKey,m.value,w);if(D instanceof Te){const S=D.catch(I=>(w.done(),Te.reject(I)));s.push(S)}w.isDone?o():null===w.Ft?m.continue():m.continue(w.Ft)}}).next(()=>Te.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function xc(r){return new Te((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const o=vv(s.target.error);n(o)}})}let z0=!1;function vv(r){const i=To.Rt((0,It.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return z0||(z0=!0,setTimeout(()=>{throw s},0)),s}}return r}class mT extends fT{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function Xr(r,i){const n=Be(r);return To.St(n.Qt,i)}class Y0{constructor(i,n,s,o){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(i.key)&&IO(u,i,s[o])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&uv(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&uv(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),o=s;this.applyToLocalView(o),s.isValidDocument()||o.convertToNoDocument(Ze.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),rn())}isEqual(i){return this.batchId===i.batchId&&zh(this.mutations,i.mutations,(n,s)=>RO(n,s))&&zh(this.baseMutations,i.baseMutations,(n,s)=>RO(n,s))}}class bv{constructor(i,n,s,o){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(i,n,s){gt(i.mutations.length===s.length);let o=P0();const u=i.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new bv(i,n,s,o)}}class ed{constructor(i,n,s,o,u=Ze.min(),f=Ze.min(),m=Li.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}withSequenceNumber(i){return new ed(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new ed(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class zO{constructor(i){this.Wt=i}}function gT(r,i){if(i.document)return yv(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=Xe.fromSegments(i.noDocument.path),s=zm(i.noDocument.readTime),o=On.newNoDocument(n,s);return i.hasCommittedMutations?o.setHasCommittedMutations():o}if(i.unknownDocument){const n=Xe.fromSegments(i.unknownDocument.path),s=zm(i.unknownDocument.version);return On.newUnknownDocument(n,s)}return We()}function YO(r,i,n){const s=_T(n),o=i.key.path.popLast().toArray();if(i.isFoundDocument()){const u={name:Qu(m=r.Wt,(w=i).key),fields:w.data.value.mapValue.fields,updateTime:Nm(m,w.version.toTimestamp())};return new Un(null,null,u,i.hasCommittedMutations,s,o)}var m,w;if(i.isNoDocument()){const u=i.key.path.toArray(),f=jm(i.version),m=i.hasCommittedMutations;return new Un(null,new dT(u,f),null,m,s,o)}if(i.isUnknownDocument()){const u=i.key.path.toArray(),f=jm(i.version);return new Un(new GO(u,f),null,null,!0,s,o)}return We()}function _T(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function qO(r){const i=new ln(r[0],r[1]);return Ze.fromTimestamp(i)}function jm(r){const i=r.toTimestamp();return new uT(i.seconds,i.nanoseconds)}function zm(r){const i=new ln(r.seconds,r.nanoseconds);return Ze.fromTimestamp(i)}function Ym(r,i){const n=(i.baseMutations||[]).map(u=>V0(r.Wt,u));for(let u=0;u<i.mutations.length-1;++u){const f=i.mutations[u];u+1<i.mutations.length&&void 0!==i.mutations[u+1].transform&&(f.updateTransforms=i.mutations[u+1].transform.fieldTransforms,i.mutations.splice(u+1,1),++u)}const s=i.mutations.map(u=>V0(r.Wt,u)),o=ln.fromMillis(i.localWriteTimeMs);return new Y0(i.batchId,o,n,s)}function wv(r){const i=zm(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?zm(r.lastLimboFreeSnapshotVersion):Ze.min();let s;var o;return void 0!==r.query.documents?(gt(1===(o=r.query).documents.length),s=$s(Zu(tT(o.documents[0])))):s=$s(sT(r.query)),new ed(s,r.targetId,0,r.lastListenSequenceNumber,i,n,Li.fromBase64String(r.resumeToken))}function $O(r,i){const n=jm(i.snapshotVersion),s=jm(i.lastLimboFreeSnapshotVersion);let o;o=tv(i.target)?U0(r.Wt,i.target):H0(r.Wt,i.target);const u=i.resumeToken.toBase64();return new Tr(i.targetId,Tm(i.target),n,u,i.sequenceNumber,s,o)}function yT(r){const i=sT({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?LS(i,i.limit,"L"):i}class gL{getBundleMetadata(i,n){return ZO(i).get(n).next(s=>{if(s)return{id:(o=s).bundleId,createTime:zm(o.createTime),version:o.version};var o})}saveBundleMetadata(i,n){return ZO(i).put({bundleId:(s=n).id,createTime:jm(hi(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return WO(i).get(n).next(s=>{if(s)return{name:(o=s).name,query:yT(o.bundledQuery),readTime:zm(o.readTime)};var o})}saveNamedQuery(i,n){return WO(i).put({name:(s=n).name,readTime:jm(hi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ZO(r){return Xr(r,nf.store)}function WO(r){return Xr(r,Ju.store)}class _L{constructor(){this.Gt=new vT}addToCollectionParentIndex(i,n){return this.Gt.add(n),Te.resolve()}getCollectionParents(i,n){return Te.resolve(this.Gt.getEntries(n))}}class vT{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n]||new Jn(Qt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(i){return(this.index[i]||new Jn(Qt.comparator)).toArray()}}class KO{constructor(){this.zt=new vT}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),o=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const u={collectionId:s,parent:Js(o)};return bT(i).put(u)}return Te.resolve()}getCollectionParents(i,n){const s=[],o=IDBKeyRange.bound([n,""],[AS(n),""],!1,!0);return bT(i).Lt(o).next(u=>{for(const f of u){if(f.collectionId!==n)break;s.push(Mo(f.parent))}return s})}}function bT(r){return Xr(r,gl.store)}const wT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new ws(i,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function QO(r,i,n){const s=r.store(yn.store),o=r.store(Sr.store),u=[],f=IDBKeyRange.only(n.batchId);let m=0;const w=s.Kt({range:f},(S,I,F)=>(m++,F.delete()));u.push(w.next(()=>{gt(1===m)}));const D=[];for(const S of n.mutations){const I=Sr.key(i,S.key.path,n.batchId);u.push(o.delete(I)),D.push(S.key)}return Te.waitFor(u).next(()=>D)}function q0(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw We();i=r.noDocument}return JSON.stringify(i).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class $0{constructor(i,n,s,o){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=o,this.Jt={}}static Yt(i,n,s,o){gt(""!==i.uid);const u=i.isAuthenticated()?i.uid:"";return new $0(u,n,s,o)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Mc(i).Kt({index:yn.userMutationsIndex,range:s},(o,u,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(i,n,s,o){const u=qm(i),f=Mc(i);return f.add({}).next(m=>{gt("number"==typeof m);const w=new Y0(m,n,s,o),D=function(F,L,j){const te=j.baseMutations.map(xe=>Vm(F.Wt,xe)),me=j.mutations.map(xe=>Vm(F.Wt,xe));return new yn(L,j.batchId,j.localWriteTime.toMillis(),te,me)}(this.N,this.userId,w),S=[];let I=new Jn((F,L)=>zt(F.canonicalString(),L.canonicalString()));for(const F of o){const L=Sr.key(this.userId,F.key.path,m);I=I.add(F.key.path.popLast()),S.push(f.put(D)),S.push(u.put(L,Sr.PLACEHOLDER))}return I.forEach(F=>{S.push(this.Ht.addToCollectionParentIndex(i,F))}),i.addOnCommittedListener(()=>{this.Jt[m]=w.keys()}),Te.waitFor(S).next(()=>w)})}lookupMutationBatch(i,n){return Mc(i).get(n).next(s=>s?(gt(s.userId===this.userId),Ym(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Te.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const o=s.keys();return this.Jt[n]=o,o}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,o=IDBKeyRange.lowerBound([this.userId,s]);let u=null;return Mc(i).Kt({index:yn.userMutationsIndex,range:o},(f,m,w)=>{m.userId===this.userId&&(gt(m.batchId>=s),u=Ym(this.N,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Mc(i).Kt({index:yn.userMutationsIndex,range:n,reverse:!0},(o,u,f)=>{s=u.batchId,f.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Mc(i).Lt(yn.userMutationsIndex,n).next(s=>s.map(o=>Ym(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=Sr.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(s),u=[];return qm(i).Kt({range:o},(f,m,w)=>{const[D,S,I]=f,F=Mo(S);if(D===this.userId&&n.path.isEqual(F))return Mc(i).get(I).next(L=>{if(!L)throw We();gt(L.userId===this.userId),u.push(Ym(this.N,L))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Jn(zt);const o=[];return n.forEach(u=>{const f=Sr.prefixForPath(this.userId,u.path),m=IDBKeyRange.lowerBound(f),w=qm(i).Kt({range:m},(D,S,I)=>{const[F,L,j]=D,te=Mo(L);F===this.userId&&u.path.isEqual(te)?s=s.add(j):I.done()});o.push(w)}),Te.waitFor(o).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1,u=Sr.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(u);let m=new Jn(zt);return qm(i).Kt({range:f},(w,D,S)=>{const[I,F,L]=w,j=Mo(F);I===this.userId&&s.isPrefixOf(j)?j.length===o&&(m=m.add(L)):S.done()}).next(()=>this.Zt(i,m))}Zt(i,n){const s=[],o=[];return n.forEach(u=>{o.push(Mc(i).get(u).next(f=>{if(null===f)throw We();gt(f.userId===this.userId),s.push(Ym(this.N,f))}))}),Te.waitFor(o).next(()=>s)}removeMutationBatch(i,n){return QO(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Te.forEach(s,o=>this.referenceDelegate.markPotentiallyOrphaned(i,o))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Te.resolve();const s=IDBKeyRange.lowerBound(Sr.prefixForUser(this.userId)),o=[];return qm(i).Kt({range:s},(u,f,m)=>{if(u[0]===this.userId){const w=Mo(u[1]);o.push(w)}else m.done()}).next(()=>{gt(0===o.length)})})}containsKey(i,n){return CT(i,this.userId,n)}ee(i){return JO(i).get(this.userId).next(n=>n||new So(this.userId,-1,""))}}function CT(r,i,n){const s=Sr.prefixForPath(i,n.path),o=s[1],u=IDBKeyRange.lowerBound(s);let f=!1;return qm(r).Kt({range:u,qt:!0},(m,w,D)=>{const[S,I,F]=m;S===i&&I===o&&(f=!0),D.done()}).next(()=>f)}function Mc(r){return Xr(r,yn.store)}function qm(r){return Xr(r,Sr.store)}function JO(r){return Xr(r,So.store)}class sf{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new sf(0)}static ie(){return new sf(-1)}}class yL{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new sf(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>Ze.fromTimestamp(new ln(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(o=>(o.highestListenSequenceNumber=n,s&&(o.lastRemoteSnapshotVersion=s.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.oe(i,o)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>af(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(gt(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let o=0;const u=[];return af(i).Kt((f,m)=>{const w=wv(m);w.sequenceNumber<=n&&null===s.get(w.targetId)&&(o++,u.push(this.removeTargetData(i,w)))}).next(()=>Te.waitFor(u)).next(()=>o)}forEachTarget(i,n){return af(i).Kt((s,o)=>{const u=wv(o);n(u)})}re(i){return XO(i).get(Ar.key).next(n=>(gt(null!==n),n))}oe(i,n){return XO(i).put(Ar.key,n)}ae(i,n){return af(i).put($O(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=Tm(n),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let u=null;return af(i).Kt({range:o,index:Tr.queryTargetsIndexName},(f,m,w)=>{const D=wv(m);ev(n,D.target)&&(u=D,w.done())}).next(()=>u)}addMatchingKeys(i,n,s){const o=[],u=Sc(i);return n.forEach(f=>{const m=Js(f.path);o.push(u.put(new er(s,m))),o.push(this.referenceDelegate.addReference(i,s,f))}),Te.waitFor(o)}removeMatchingKeys(i,n,s){const o=Sc(i);return Te.forEach(n,u=>{const f=Js(u.path);return Te.waitFor([o.delete([s,f]),this.referenceDelegate.removeReference(i,s,u)])})}removeMatchingKeysForTargetId(i,n){const s=Sc(i),o=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(o)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),o=Sc(i);let u=rn();return o.Kt({range:s,qt:!0},(f,m,w)=>{const D=Mo(f[1]),S=new Xe(D);u=u.add(S)}).next(()=>u)}containsKey(i,n){const s=Js(n.path),o=IDBKeyRange.bound([s],[AS(s)],!1,!0);let u=0;return Sc(i).Kt({index:er.documentTargetsIndex,qt:!0,range:o},([f,m],w,D)=>{0!==f&&(u++,D.done())}).next(()=>u>0)}Et(i,n){return af(i).get(n).next(s=>s?wv(s):null)}}function af(r){return Xr(r,Tr.store)}function XO(r){return Xr(r,Ar.store)}function Sc(r){return Xr(r,er.store)}function yl(r){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,be.Z)(function*(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==j0)throw r;Pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Z0([r,i],[n,s]){const o=zt(r,n);return 0===o?zt(i,s):o}class e1{constructor(i){this.ue=i,this.buffer=new Jn(Z0),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Z0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class t1{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(o){Xu(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield yl(o)}yield n._e(i)}))}}class W0{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Te.resolve(Ys.T);const s=new e1(n);return this.me.forEachTarget(i,o=>s.fe(o.sequenceNumber)).next(()=>this.me.ye(i,o=>s.fe(o))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(wT)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wT):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,o,u,f,m,w,D;const S=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(i,o))).next(I=>(s=I,m=Date.now(),this.removeTargets(i,s,n))).next(I=>(u=I,w=Date.now(),this.removeOrphanedDocuments(i,s))).next(I=>(D=Date.now(),Wy()<=uc.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-S}ms\n\tDetermined least recently used ${o} in `+(m-f)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${I} documents in `+(D-w)+`ms\nTotal Duration: ${D-S}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}class ET{constructor(i,n){this.db=i,this.garbageCollector=new W0(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(o=>s+o))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,o)=>n(o))}addReference(i,n,s){return $m(i,s)}removeReference(i,n,s){return $m(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return $m(i,n)}Ie(i,n){return function(s,o){let u=!1;return JO(s).jt(f=>CT(s,f,o).next(m=>(m&&(u=!0),Te.resolve(!m)))).next(()=>u)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Te(i,(f,m)=>{if(m<=n){const w=this.Ie(i,f).next(D=>{if(!D)return u++,s.getEntry(i,f).next(()=>(s.removeEntry(f),Sc(i).delete([0,Js(f.path)])))});o.push(w)}}).next(()=>Te.waitFor(o)).next(()=>s.apply(i)).next(()=>u)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return $m(i,n)}Te(i,n){const s=Sc(i);let o,u=Ys.T;return s.Kt({index:er.documentTargetsIndex},([f,m],{path:w,sequenceNumber:D})=>{0===f?(u!==Ys.T&&n(new Xe(Mo(o)),u),u=D,o=w):u=Ys.T}).next(()=>{u!==Ys.T&&n(new Xe(Mo(o)),u)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function $m(r,i){return Sc(r).put((s=r.currentSequenceNumber,new er(0,Js(i.path),s)));var s}class td{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[o,u]of s)if(this.equalsFn(o,i))return u}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),o=this.inner[s];if(void 0!==o){for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],i))return void(o[u]=[i,n]);o.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],i))return 1===s.length?delete this.inner[n]:s.splice(o,1),!0;return!1}forEach(i){wc(this.inner,(n,s)=>{for(const[o,u]of s)i(o,u)})}isEmpty(){return IS(this.inner)}}class n1{constructor(){this.changes=new td(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:Ze.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:On.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Te.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class DT{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return nd(i).put(Q0(n),s)}removeEntry(i,n){const s=nd(i),o=Q0(n);return s.delete(o)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return nd(i).get(Q0(n)).next(s=>this.Re(n,s))}be(i,n){return nd(i).get(Q0(n)).next(s=>({document:this.Re(n,s),size:q0(s)}))}getEntries(i,n){let s=Ks();return this.Pe(i,n,(o,u)=>{const f=this.Re(o,u);s=s.insert(o,f)}).next(()=>s)}ve(i,n){let s=Ks(),o=new Mi(Xe.comparator);return this.Pe(i,n,(u,f)=>{const m=this.Re(u,f);s=s.insert(u,m),o=o.insert(u,q0(f))}).next(()=>({documents:s,Ve:o}))}Pe(i,n,s){if(n.isEmpty())return Te.resolve();const o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator();let f=u.getNext();return nd(i).Kt({range:o},(m,w,D)=>{const S=Xe.fromSegments(m);for(;f&&Xe.comparator(f,S)<0;)s(f,null),f=u.getNext();f&&f.isEqual(S)&&(s(f,w),f=u.hasNext()?u.getNext():null),f?D.Mt(f.path.toArray()):D.done()}).next(()=>{for(;f;)s(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(i,n,s){let o=Ks();const u=n.path.length+1,f={};if(s.isEqual(Ze.min())){const m=n.path.toArray();f.range=IDBKeyRange.lowerBound(m)}else{const m=n.path.toArray(),w=_T(s);f.range=IDBKeyRange.lowerBound([m,w],!0),f.index=Un.collectionReadTimeIndex}return nd(i).Kt(f,(m,w,D)=>{if(m.length!==u)return;const S=gT(this.N,w);n.path.isPrefixOf(S.key.path)?rv(n,S)&&(o=o.insert(S.key,S)):D.done()}).next(()=>o)}newChangeBuffer(i){return new Cv(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return K0(i).get(bs.key).next(n=>(gt(!!n),n))}Ae(i,n){return K0(i).put(bs.key,n)}Re(i,n){if(n){const s=gT(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(Ze.min()))return s}return On.newInvalidDocument(i)}}class Cv extends n1{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new td(s=>s.toString(),(s,o)=>s.isEqual(o))}applyChanges(i){const n=[];let s=0,o=new Jn((u,f)=>zt(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const m=this.De.get(u);if(f.document.isValidDocument()){const w=YO(this.Se.N,f.document,this.getReadTime(u));o=o.add(u.path.popLast()),s+=q0(w)-m,n.push(this.Se.addEntry(i,u,w))}else if(s-=m,this.trackRemovals){const w=YO(this.Se.N,On.newNoDocument(u,Ze.min()),this.getReadTime(u));n.push(this.Se.addEntry(i,u,w))}else n.push(this.Se.removeEntry(i,u))}),o.forEach(u=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,u))}),n.push(this.Se.updateMetadata(i,s)),Te.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:o})=>(o.forEach((u,f)=>{this.De.set(u,f)}),s))}}function K0(r){return Xr(r,bs.store)}function nd(r){return Xr(r,Un.store)}function Q0(r){return r.path.toArray()}class vL{constructor(i){this.N=i}Ct(i,n,s,o){gt(s<o&&s>=0&&o<=11);const u=new Gm("createOrUpgrade",n);var m;s<1&&o>=1&&(i.createObjectStore(Jr.store),(m=i).createObjectStore(So.store,{keyPath:So.keyPath}),m.createObjectStore(yn.store,{keyPath:yn.keyPath,autoIncrement:!0}).createIndex(yn.userMutationsIndex,yn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(Sr.store),xT(i),function(m){m.createObjectStore(Un.store)}(i));let f=Te.resolve();return s<3&&o>=3&&(0!==s&&(function(m){m.deleteObjectStore(er.store),m.deleteObjectStore(Tr.store),m.deleteObjectStore(Ar.store)}(i),xT(i)),f=f.next(()=>function(m){const w=m.store(Ar.store),D=new Ar(0,0,Ze.min().toTimestamp(),0);return w.put(Ar.key,D)}(u))),s<4&&o>=4&&(0!==s&&(f=f.next(()=>function(m,w){return w.store(yn.store).Lt().next(D=>{m.deleteObjectStore(yn.store),m.createObjectStore(yn.store,{keyPath:yn.keyPath,autoIncrement:!0}).createIndex(yn.userMutationsIndex,yn.userMutationsKeyPath,{unique:!0});const S=w.store(yn.store),I=D.map(F=>S.put(F));return Te.waitFor(I)})}(i,u))),f=f.next(()=>{!function(m){m.createObjectStore(_l.store,{keyPath:_l.keyPath})}(i)})),s<5&&o>=5&&(f=f.next(()=>this.Ce(u))),s<6&&o>=6&&(f=f.next(()=>(function(m){m.createObjectStore(bs.store)}(i),this.Ne(u)))),s<7&&o>=7&&(f=f.next(()=>this.xe(u))),s<8&&o>=8&&(f=f.next(()=>this.ke(i,u))),s<9&&o>=9&&(f=f.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(i),function(m){const w=m.objectStore(Un.store);w.createIndex(Un.readTimeIndex,Un.readTimeIndexPath,{unique:!1}),w.createIndex(Un.collectionReadTimeIndex,Un.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&o>=10&&(f=f.next(()=>this.$e(u))),s<11&&o>=11&&(f=f.next(()=>{(function(m){m.createObjectStore(nf.store,{keyPath:nf.keyPath})})(i),function(m){m.createObjectStore(Ju.store,{keyPath:Ju.keyPath})}(i)})),f}Ne(i){let n=0;return i.store(Un.store).Kt((s,o)=>{n+=q0(o)}).next(()=>{const s=new bs(n);return i.store(bs.store).put(bs.key,s)})}Ce(i){const n=i.store(So.store),s=i.store(yn.store);return n.Lt().next(o=>Te.forEach(o,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return s.Lt(yn.userMutationsIndex,f).next(m=>Te.forEach(m,w=>{gt(w.userId===u.userId);const D=Ym(this.N,w);return QO(i,u.userId,D).next(()=>{})}))}))}xe(i){const n=i.store(er.store),s=i.store(Un.store);return i.store(Ar.store).get(Ar.key).next(o=>{const u=[];return s.Kt((f,m)=>{const w=new Qt(f),D=[0,Js(w)];u.push(n.get(D).next(S=>S?Te.resolve():n.put(new er(0,Js(w),o.highestListenSequenceNumber))))}).next(()=>Te.waitFor(u))})}ke(i,n){i.createObjectStore(gl.store,{keyPath:gl.keyPath});const s=n.store(gl.store),o=new vT,u=f=>{if(o.add(f)){const m=f.lastSegment(),w=f.popLast();return s.put({collectionId:m,parent:Js(w)})}};return n.store(Un.store).Kt({qt:!0},(f,m)=>{const w=new Qt(f);return u(w.popLast())}).next(()=>n.store(Sr.store).Kt({qt:!0},([f,m,w],D)=>{const S=Mo(m);return u(S.popLast())}))}$e(i){const n=i.store(Tr.store);return n.Kt((s,o)=>{const u=wv(o),f=$O(this.N,u);return n.put(f)})}}function xT(r){r.createObjectStore(er.store,{keyPath:er.keyPath}).createIndex(er.documentTargetsIndex,er.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(Tr.store,{keyPath:Tr.keyPath}).createIndex(Tr.queryTargetsIndexName,Tr.queryTargetsKeyPath,{unique:!0}),r.createObjectStore(Ar.store)}const MT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lf{constructor(i,n,s,o,u,f,m,w,D,S){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=u,this.window=f,this.document=m,this.Fe=D,this.Me=S,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=I=>Promise.resolve(),!lf.bt())throw new Se(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ET(this,o),this.We=n+"main",this.N=new zO(w),this.Ge=new To(this.We,11,new vL(this.N)),this.ze=new yL(this.referenceDelegate,this.N),this.Ht=new KO,this.He=new DT(this.N,this.Ht),this.Je=new gL,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===S&&ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(se.FAILED_PRECONDITION,MT);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new Ys(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,be.Z)(function*(o){if(n.started)return i(o)});return function(o){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,be.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,be.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>J0(i).put(new _l(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(Xu(i))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return Zm(i).get(Jr.key).next(n=>Te.resolve(this.cn(n)))}un(i){return J0(i).delete(this.clientId)}hn(){var i=this;return(0,be.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const o=Xr(s,_l.store);return o.Lt().next(u=>{const f=i.fn(u,18e5),m=u.filter(w=>-1===f.indexOf(w));return Te.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Te.resolve(!0):Zm(i).get(Jr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Se(se.FAILED_PRECONDITION,MT);return!1}}return!(!this.networkEnabled||!this.inForeground)||J0(i).Lt().next(s=>void 0===this.fn(s,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&m)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Pe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,be.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[Jr.store,_l.store],n=>{const s=new mT(n,Ys.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>J0(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return $0.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let u;return Pe("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",hT,f=>(u=new mT(f,this.Le?this.Le.next():Ys.T),"readwrite-primary"===n?this.sn(u).next(m=>!!m||this.rn(u)).next(m=>{if(!m)throw ri(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Se(se.FAILED_PRECONDITION,j0);return s(u)}).next(m=>this.an(u).next(()=>m)):this.En(u).next(()=>s(u)))).then(f=>(u.raiseOnCommittedEvent(),f))}En(i){return Zm(i).get(Jr.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Se(se.FAILED_PRECONDITION,MT)})}an(i){const n=new Jr(this.clientId,this.allowTabSynchronization,Date.now());return Zm(i).put(Jr.key,n)}static bt(){return To.bt()}on(i){const n=Zm(i);return n.get(Jr.key).next(s=>this.cn(s)?(Pe("IndexedDbPersistence","Releasing primary lease."),n.delete(Jr.key)):Te.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(ri(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,It.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return Pe("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ri("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){ri("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Zm(r){return Xr(r,Jr.store)}function J0(r){return Xr(r,_l.store)}function ST(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class X0{constructor(i,n){this.progress=i,this.Tn=n}}class TT{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(o=>{for(const u of s)u.applyToLocalView(o);return o})}bn(i,n){i.forEach((s,o)=>{for(const u of n)u.applyToLocalView(o)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return Xe.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(i,n.path):I0(n)?this.Sn(i,n,s):this.Dn(i,n,s);var o}Vn(i,n){return this.An(i,new Xe(n)).next(s=>{let o=pv();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}Sn(i,n,s){const o=n.collectionGroup;let u=pv();return this.Ht.getCollectionParents(i,o).next(f=>Te.forEach(f,m=>{const w=(D=n,S=m.child(o),new pl(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.Dn(i,w,s).next(D=>{D.forEach((S,I)=>{u=u.insert(S,I)})})}).next(()=>u))}Dn(i,n,s){let o,u;return this.He.getDocumentsMatchingQuery(i,n,s).next(f=>(o=f,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(f=>(u=f,this.Cn(i,u,o).next(m=>{o=m;for(const w of u)for(const D of w.mutations){const S=D.key;let I=o.get(S);null==I&&(I=On.newInvalidDocument(S),o=o.insert(S,I)),uv(D,I,w.localWriteTime),I.isFoundDocument()||(o=o.remove(S))}}))).next(()=>(o.forEach((f,m)=>{rv(n,m)||(o=o.remove(f))}),o))}Cn(i,n,s){let o=rn();for(const f of n)for(const m of f.mutations)m instanceof vs&&null===s.get(m.key)&&(o=o.add(m.key));let u=s;return this.He.getEntries(i,o).next(f=>(f.forEach((m,w)=>{w.isFoundDocument()&&(u=u.insert(m,w))}),u))}}class AT{constructor(i,n,s,o){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=o}static kn(i,n){let s=rn(),o=rn();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new AT(i,n.fromCache,s,o)}}class i1{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,o){return 0===(u=n).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ze.min())?this.Fn(i,n):this.On.Pn(i,o).next(u=>{const f=this.Mn(n,u);return(Dc(n)||T0(n))&&this.Ln(n.limitType,f,o,s)?this.Fn(i,n):(Wy()<=uc.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),k0(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(m=>(f.forEach(w=>{m=m.insert(w.key,w)}),m)))});var u}Mn(i,n){let s=new Jn(SO(i));return n.forEach((o,u)=>{rv(i,u)&&(s=s.add(u))}),s}Ln(i,n,s,o){if(s.size!==n.size)return!0;const u="F"===i?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Fn(i,n){return Wy()<=uc.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",k0(n)),this.On.getDocumentsMatchingQuery(i,n,Ze.min())}}class r1{constructor(i,n,s,o){this.persistence=i,this.Bn=n,this.N=o,this.Un=new Mi(zt),this.qn=new td(u=>Tm(u),ev),this.Kn=Ze.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new TT(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function s1(r,i,n,s){return new r1(r,i,n,s)}function eE(r,i){return tE.apply(this,arguments)}function tE(){return(tE=(0,be.Z)(function*(r,i){const n=Be(r);let s=n.In,o=n.Qn;const u=yield n.persistence.runTransaction("Handle user change","readonly",f=>{let m;return n.In.getAllMutationBatches(f).next(w=>(m=w,s=n.persistence.getMutationQueue(i),o=new TT(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(w=>{const D=[],S=[];let I=rn();for(const F of m){D.push(F.batchId);for(const L of F.mutations)I=I.add(L.key)}for(const F of w){S.push(F.batchId);for(const L of F.mutations)I=I.add(L.key)}return o.Pn(f,I).next(F=>({Wn:F,removedBatchIds:D,addedBatchIds:S}))})});return n.In=s,n.Qn=o,n.Bn.$n(n.Qn),u})).apply(this,arguments)}function bL(r,i){const n=Be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=i.batch.keys(),u=n.jn.newChangeBuffer({trackRemovals:!0});return function(f,m,w,D){const S=w.batch,I=S.keys();let F=Te.resolve();return I.forEach(L=>{F=F.next(()=>D.getEntry(m,L)).next(j=>{const te=w.docVersions.get(L);gt(null!==te),j.version.compareTo(te)<0&&(S.applyToRemoteDocument(j,w),j.isValidDocument()&&D.addEntry(j,w.commitVersion))})}),F.next(()=>f.In.removeMutationBatch(m,S))}(n,s,i,u).next(()=>u.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,o))})}function o1(r){const i=Be(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function a1(r,i){const n=Be(r),s=i.snapshotVersion;let o=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.jn.newChangeBuffer({trackRemovals:!0});o=n.Un;const m=[];i.targetChanges.forEach((D,S)=>{const I=o.get(S);if(!I)return;m.push(n.ze.removeMatchingKeys(u,D.removedDocuments,S).next(()=>n.ze.addMatchingKeys(u,D.addedDocuments,S)));const F=D.resumeToken;if(F.approximateByteSize()>0){const L=I.withResumeToken(F,s).withSequenceNumber(u.currentSequenceNumber);o=o.insert(S,L),j=I,me=D,gt((te=L).resumeToken.approximateByteSize()>0),(0===j.resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&m.push(n.ze.updateTargetData(u,L))}var j,te,me});let w=Ks();if(i.documentUpdates.forEach((D,S)=>{i.resolvedLimboDocuments.has(D)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,D))}),m.push(cf(u,f,i.documentUpdates,s,void 0).next(D=>{w=D})),!s.isEqual(Ze.min())){const D=n.ze.getLastRemoteSnapshotVersion(u).next(S=>n.ze.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(D)}return Te.waitFor(m).next(()=>f.apply(u)).next(()=>n.Qn.vn(u,w)).next(()=>w)}).then(u=>(n.Un=o,u))}function cf(r,i,n,s,o){let u=rn();return n.forEach(f=>u=u.add(f)),i.getEntries(r,u).next(f=>{let m=Ks();return n.forEach((w,D)=>{const S=f.get(w),I=(null==o?void 0:o.get(w))||s;D.isNoDocument()&&D.version.isEqual(Ze.min())?(i.removeEntry(w,I),m=m.insert(w,D)):!S.isValidDocument()||D.version.compareTo(S.version)>0||0===D.version.compareTo(S.version)&&S.hasPendingWrites?(i.addEntry(D,I),m=m.insert(w,D)):Pe("LocalStore","Ignoring outdated watch update for ",w,". Current version:",S.version," Watch version:",D.version)}),m})}function l1(r,i){const n=Be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function uf(r,i){const n=Be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ze.getTargetData(s,i).next(u=>u?(o=u,Te.resolve(o)):n.ze.allocateTargetId(s).next(f=>(o=new ed(i,f,0,s.currentSequenceNumber),n.ze.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Un.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function df(r,i,n){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,be.Z)(function*(r,i,n){const s=Be(r),o=s.Un.get(i),u=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Xu(f))throw f;Pe("LocalStore",`Failed to update sequence numbers for target ${i}: ${f}`)}s.Un=s.Un.remove(i),s.qn.delete(o.target)})).apply(this,arguments)}function Ev(r,i,n){const s=Be(r);let o=Ze.min(),u=rn();return s.persistence.runTransaction("Execute query","readonly",f=>function(m,w,D){const S=Be(m),I=S.qn.get(D);return void 0!==I?Te.resolve(S.Un.get(I)):S.ze.getTargetData(w,D)}(s,f,$s(i)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,m.targetId).next(w=>{u=w})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,i,n?o:Ze.min(),n?u:rn())).next(m=>({documents:m,Gn:u})))}function es(r,i){const n=Be(r),s=Be(n.ze),o=n.Un.get(i);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",u=>s.Et(u,i).next(f=>f?f.target:null))}function IT(r){const i=Be(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,o,u){const f=Be(s);let m=Ks(),w=_T(u);const D=nd(o),S=IDBKeyRange.lowerBound(w,!0);return D.Kt({index:Un.readTimeIndex,range:S},(I,F)=>{const L=gT(f.N,F);m=m.insert(L.key,L),w=F.readTime}).next(()=>({Tn:m,readTime:qO(w)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function iE(){return(iE=(0,be.Z)(function*(r){const i=Be(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const o=nd(s);let u=Ze.min();return o.Kt({index:Un.readTimeIndex,reverse:!0},(f,m,w)=>{m.readTime&&(u=qO(m.readTime)),w.done()}).next(()=>u)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function Km(){return(Km=(0,be.Z)(function*(r,i,n,s){const o=Be(r);let u=rn(),f=Ks(),m=P0();for(const S of n){const I=i.zn(S.metadata.name);S.document&&(u=u.add(I)),f=f.insert(I,i.Hn(S)),m=m.insert(I,i.Jn(S.metadata.readTime))}const w=o.jn.newChangeBuffer({trackRemovals:!0}),D=yield uf(o,(S=s,$s(Zu(Qt.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>cf(S,w,f,Ze.min(),m).next(I=>(w.apply(S),I)).next(I=>o.ze.removeMatchingKeysForTargetId(S,D.targetId).next(()=>o.ze.addMatchingKeys(S,u,D.targetId)).next(()=>o.Qn.vn(S,I)).next(()=>I)))})).apply(this,arguments)}function kT(r,i){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,be.Z)(function*(r,i,n=rn()){const s=yield uf(r,$s(yT(i.bundledQuery))),o=Be(r);return o.persistence.runTransaction("Save named query","readwrite",u=>{const f=hi(i.readTime);if(s.snapshotVersion.compareTo(f)>=0)return o.Je.saveNamedQuery(u,i);const m=s.withResumeToken(Li.EMPTY_BYTE_STRING,f);return o.Un=o.Un.insert(m.targetId,m),o.ze.updateTargetData(u,m).next(()=>o.ze.removeMatchingKeysForTargetId(u,s.targetId)).next(()=>o.ze.addMatchingKeys(u,n,s.targetId)).next(()=>o.Je.saveNamedQuery(u,i))})})).apply(this,arguments)}class u1{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Te.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:hi(s.createTime)}),Te.resolve()}getNamedQuery(i,n){return Te.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:yT(s.bundledQuery),readTime:hi(s.readTime)}),Te.resolve();var s}}class xv{constructor(){this.Zn=new Jn(Si.ts),this.es=new Jn(Si.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new Si(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new Si(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new Xe(new Qt([])),s=new Si(n,i),o=new Si(n,i+1),u=[];return this.es.forEachInRange([s,o],f=>{this.rs(f),u.push(f.key)}),u}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new Xe(new Qt([])),s=new Si(n,i),o=new Si(n,i+1);let u=rn();return this.es.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(i){const n=new Si(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class Si{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return Xe.comparator(i.key,n.key)||zt(i.ls,n.ls)}static ns(i,n){return zt(i.ls,n.ls)||Xe.comparator(i.key,n.key)}}class d1{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Jn(Si.ts)}checkEmpty(i){return Te.resolve(0===this.In.length)}addMutationBatch(i,n,s,o){const u=this.fs;this.fs++;const f=new Y0(u,n,s,o);this.In.push(f);for(const m of o)this.ds=this.ds.add(new Si(m.key,u)),this.Ht.addToCollectionParentIndex(i,m.key.path.popLast());return Te.resolve(f)}lookupMutationBatch(i,n){return Te.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const o=this._s(n+1),u=o<0?0:o;return Te.resolve(this.In.length>u?this.In[u]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Te.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new Si(n,0),o=new Si(n,Number.POSITIVE_INFINITY),u=[];return this.ds.forEachInRange([s,o],f=>{const m=this.ws(f.ls);u.push(m)}),Te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Jn(zt);return n.forEach(o=>{const u=new Si(o,0),f=new Si(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([u,f],m=>{s=s.add(m.ls)})}),Te.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1;let u=s;Xe.isDocumentKey(u)||(u=u.child(""));const f=new Si(new Xe(u),0);let m=new Jn(zt);return this.ds.forEachWhile(w=>{const D=w.key.path;return!!s.isPrefixOf(D)&&(D.length===o&&(m=m.add(w.ls)),!0)},f),Te.resolve(this.gs(m))}gs(i){const n=[];return i.forEach(s=>{const o=this.ws(s);null!==o&&n.push(o)}),n}removeMutationBatch(i,n){gt(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Te.forEach(n.mutations,o=>{const u=new Si(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(i,o.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new Si(n,0),o=this.ds.firstAfterOrEqual(s);return Te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(i){return Te.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class h1{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new Mi(Xe.comparator),this.size=0}addEntry(i,n,s){const o=n.key,u=this.docs.get(o),f=u?u.size:0,m=this.ps(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:m,readTime:s}),this.size+=m-f,this.Ht.addToCollectionParentIndex(i,o.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Te.resolve(s?s.document.clone():On.newInvalidDocument(n))}getEntries(i,n){let s=Ks();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.clone():On.newInvalidDocument(o))}),Te.resolve(s)}getDocumentsMatchingQuery(i,n,s){let o=Ks();const u=new Xe(n.path.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:w,readTime:D}}=f.getNext();if(!n.path.isPrefixOf(m.path))break;D.compareTo(s)<=0||rv(n,w)&&(o=o.insert(w.key,w.clone()))}return Te.resolve(o)}Es(i,n){return Te.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new rE(this)}getSize(i){return Te.resolve(this.size)}}class rE extends n1{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,o)=>{o.document.isValidDocument()?n.push(this.Se.addEntry(i,o.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Te.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class RT{constructor(i){this.persistence=i,this.Ts=new td(n=>Tm(n),ev),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Is=0,this.As=new xv,this.targetCount=0,this.Rs=sf.se()}forEachTarget(i,n){return this.Ts.forEach((s,o)=>n(o)),Te.resolve()}getLastRemoteSnapshotVersion(i){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Te.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Te.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new sf(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Te.resolve()}updateTargetData(i,n){return this.ae(n),Te.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Te.resolve()}removeTargets(i,n,s){let o=0;const u=[];return this.Ts.forEach((f,m)=>{m.sequenceNumber<=n&&null===s.get(m.targetId)&&(this.Ts.delete(f),u.push(this.removeMatchingKeysForTargetId(i,m.targetId)),o++)}),Te.waitFor(u).next(()=>o)}getTargetCount(i){return Te.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Te.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Te.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(i,f))}),Te.waitFor(u)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Te.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Te.resolve(s)}containsKey(i,n){return Te.resolve(this.As.containsKey(n))}}class OT{constructor(i,n){this.bs={},this.Le=new Ys(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new RT(this),this.Ht=new _L,this.He=new h1(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new zO(n),this.Je=new u1(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new d1(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){Pe("MemoryPersistence","Starting transaction:",i);const o=new sE(this.Le.next());return this.referenceDelegate.vs(),s(o).next(u=>this.referenceDelegate.Vs(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ss(i,n){return Te.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class sE extends fT{constructor(i){super(),this.currentSequenceNumber=i}}class oE{constructor(i){this.persistence=i,this.Ds=new xv,this.Cs=null}static Ns(i){return new oE(i)}get xs(){if(this.Cs)return this.Cs;throw We()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Te.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Te.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Te.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(o=>this.xs.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(o=>{o.forEach(u=>this.xs.add(u.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,s=>{const o=Xe.fromPath(s);return this.ks(i,o).next(u=>{u||n.removeEntry(o)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Te.or([()=>Te.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function Xs(r,i){return`firestore_clients_${r}_${i}`}function FT(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function PT(r,i){return`firestore_targets_${r}_${i}`}class Mv{constructor(i,n,s,o){this.user=i,this.batchId=n,this.state=s,this.error=o}static $s(i,n,s){const o=JSON.parse(s);let u,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new Se(o.error.code,o.error.message))),f?new Mv(i,n,o.state,u):(ri("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Sv{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let o,u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(o=new Se(s.error.code,s.error.message))),u?new Sv(i,s.state,o):(ri("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Tv{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let o="object"==typeof s&&s.activeTargetIds instanceof Array,u=mv();for(let f=0;o&&f<s.activeTargetIds.length;++f)o=w0(s.activeTargetIds[f]),u=u.add(s.activeTargetIds[f]);return o?new Tv(i,u):(ri("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class aE{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new aE(n.clientId,n.onlineState):(ri("SharedClientState",`Failed to parse online state: ${i}`),null)}}class lE{constructor(){this.activeTargetIds=mv()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class NT{constructor(i,n,s,o,u){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Mi(zt),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.js=Xs(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new lE),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,be.Z)(function*(){const n=yield i.syncEngine.pn();for(const o of n){if(o===i.Ls)continue;const u=i.getItem(Xs(i.persistenceKey,o));if(u){const f=Tv.$s(o,u);f&&(i.qs=i.qs.insert(f.clientId,f))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const o=i.Xs(s);o&&i.Zs(o)}for(const o of i.Ks)i.Us(o);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,o)=>{o.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(PT(this.persistenceKey,i));if(s){const o=Sv.$s(i,s);o&&(n=o.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(PT(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(o=>{this.ni(o)}),this.currentUser=i,s.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return Pe("SharedClientState","READ",i,n),n}setItem(i,n){Pe("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){Pe("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(Pe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const o=n.ai(s.key);return n.ci(o,null)}{const o=n.ui(s.key,s.newValue);if(o)return n.ci(o.clientId,o)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const o=n.hi(s.key,s.newValue);if(o)return n.li(o)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const o=n.fi(s.key,s.newValue);if(o)return n.di(o)}}else if(s.key===n.Hs){if(null!==s.newValue){const o=n.Xs(s.newValue);if(o)return n.Zs(o)}}else if(s.key===n.Qs){const o=function(u){let f=Ys.T;if(null!=u)try{const m=JSON.parse(u);gt("number"==typeof m),f=m}catch(m){ri("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(s.newValue);o!==Ys.T&&n.sequenceNumberHandler(o)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const o=new Mv(this.currentUser,i,n,s),u=FT(this.persistenceKey,this.currentUser,i);this.setItem(u,o.Os())}ni(i){const n=FT(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const o=PT(this.persistenceKey,i),u=new Sv(i,n,s);this.setItem(o,u.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return Tv.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),o=Number(s[1]);return Mv.$s(new Ni(void 0!==s[2]?s[2]:null),o,n)}fi(i,n){const s=this.zs.exec(i),o=Number(s[1]);return Sv.$s(o,n)}Xs(i){return aE.$s(i)}li(i){var n=this;return(0,be.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),o=this.ti(this.qs),u=this.ti(s),f=[],m=[];return u.forEach(w=>{o.has(w)||f.push(w)}),o.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.gi(f,m).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=mv();return i.forEach((s,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class LT{constructor(){this.yi=new lE,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new lE,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class BT{Ei(i){}shutdown(){}}class VT{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const f1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class UT{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class p1 extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,o){const u=this.Bi(i,n);Pe("RestConnection","Sending: ",u,s);const f={};return this.Ui(f,o),this.qi(i,u,f,s).then(m=>(Pe("RestConnection","Received: ",m),m),m=>{throw xm("RestConnection",`${i} failed with error: `,m,"url: ",u,"request:",s),m})}Ki(i,n,s,o){return this.Li(i,n,s,o)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+bc,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${f1[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,o){return new Promise((u,f)=>{const m=new SS;m.listenOnce(y0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case fa.NO_ERROR:const D=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),u(D);break;case fa.TIMEOUT:Pe("Connection",'RPC "'+i+'" timed out'),f(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case fa.HTTP_ERROR:const S=m.getStatus();if(Pe("Connection",'RPC "'+i+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const I=m.getResponseJson().error;if(I&&I.status&&I.message){const F=function(L){const j=L.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(j)>=0?j:se.UNKNOWN}(I.status);f(new Se(F,I.message))}else f(new Se(se.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Se(se.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Pe("Connection",'RPC "'+i+'" completed.')}});const w=JSON.stringify(o);m.send(n,"POST",w,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=new _0,u=mm(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new MS({})),this.Ui(f.initMessageHeaders,n),(0,It.uI)()||(0,It.b$)()||(0,It.d)()||(0,It.w1)()||(0,It.Mn)()||(0,It.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const m=s.join("");Pe("Connection","Creating WebChannel: "+m,f);const w=o.createWebChannel(m,f);let D=!1,S=!1;const I=new UT({vi:L=>{S?Pe("Connection","Not sending because WebChannel is closed:",L):(D||(Pe("Connection","Opening WebChannel transport."),w.open(),D=!0),Pe("Connection","WebChannel sending:",L),w.send(L))},Vi:()=>w.close()}),F=(L,j,te)=>{L.listen(j,me=>{try{te(me)}catch(xe){setTimeout(()=>{throw xe},0)}})};return F(w,vc.EventType.OPEN,()=>{S||Pe("Connection","WebChannel transport opened.")}),F(w,vc.EventType.CLOSE,()=>{S||(S=!0,Pe("Connection","WebChannel transport closed"),I.$i())}),F(w,vc.EventType.ERROR,L=>{S||(S=!0,xm("Connection","WebChannel transport errored:",L),I.$i(new Se(se.UNAVAILABLE,"The operation could not be completed")))}),F(w,vc.EventType.MESSAGE,L=>{var j;if(!S){const te=L.data[0];gt(!!te);const me=te,xe=me.error||(null===(j=me[0])||void 0===j?void 0:j.error);if(xe){Pe("Connection","WebChannel received error:",xe);const Ge=xe.status;let Le=function(gn){const mi=Qn[gn];if(void 0!==mi)return F0(mi)}(Ge),ze=xe.message;void 0===Le&&(Le=se.INTERNAL,ze="Unknown error status: "+Ge+" with message "+xe.message),S=!0,I.$i(new Se(Le,ze)),w.close()}else Pe("Connection","WebChannel received:",te),I.Oi(te)}}),F(u,DS.STAT_EVENT,L=>{L.stat===xS_PROXY?Pe("Connection","Detected buffering proxy"):L.stat===xS_NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{I.ki()},0),I}}function m1(){return"undefined"!=typeof window?window:null}function Qm(){return"undefined"!=typeof document?document:null}function hf(r){return new Pm(r,!0)}class cE{constructor(i,n,s=1e3,o=1.5,u=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=o,this.Gi=u,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),o=Math.max(0,n-s);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class HT{constructor(i,n,s,o,u,f){this.Oe=i,this.er=s,this.nr=o,this.credentialsProvider=u,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new cE(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,be.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,be.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,be.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===se.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const o=new Se(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(o)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){i.state=0,i.start()}))}pr(i){return Pe("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GT extends HT{constructor(i,n,s,o,u){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,u),this.N=o}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(w=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:We(),o=i.targetChange.targetIds||[],u=function(w,D){return w.D?(gt(void 0===D||"string"==typeof D),Li.fromBase64String(D||"")):(gt(void 0===D||D instanceof Uint8Array),Li.fromUint8Array(D||new Uint8Array))}(r,i.targetChange.resumeToken),f=i.targetChange.cause,m=f&&function(w){const D=void 0===w.code?se.UNKNOWN:F0(w.code);return new Se(D,w.message||"")}(f);n=new JS(s,o,u,m||null)}else if("documentChange"in i){const s=i.documentChange,o=Qs(r,s.document.name),u=hi(s.document.updateTime),f=new ur({mapValue:{fields:s.document.fields}}),m=On.newFoundDocument(o,u,f);n=new gv(s.targetIds||[],s.removedTargetIds||[],m.key,m)}else if("documentDelete"in i){const s=i.documentDelete,o=Qs(r,s.document),u=s.readTime?hi(s.readTime):Ze.min(),f=On.newNoDocument(o,u);n=new gv([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in i){const s=i.documentRemove,o=Qs(r,s.document);n=new gv([],s.removedTargetIds||[],o,null)}else{if(!("filter"in i))return We();{const s=i.filter,u=new FO(s.count||0);n=new QS(s.targetId,u)}}var w;return n}(this.N,i),s=function(o){if(!("targetChange"in o))return Ze.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ze.min():u.readTime?hi(u.readTime):Ze.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=Bm(this.N),n.addTarget=function(o,u){let f;const m=u.target;return f=tv(m)?{documents:U0(o,m)}:{query:H0(o,m)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?f.resumeToken=eT(o,u.resumeToken):u.snapshotVersion.compareTo(Ze.min())>0&&(f.readTime=Nm(o,u.snapshotVersion.toTimestamp())),f}(this.N,i);const s=function(r,i){const n=function(s,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return We()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=Bm(this.N),n.removeTarget=i,this.wr(n)}}class Jm extends HT{constructor(i,n,s,o,u){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,u),this.N=o,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(gt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(gt(void 0!==i),r.map(n=>function(s,o){let u=hi(s.updateTime?s.updateTime:o);return u.isEqual(Ze.min())&&(u=hi(o)),new zS(u,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=hi(i.commitTime);return this.listener.vr(s,n)}return gt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=Bm(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>Vm(this.N,s))};this.wr(n)}}class uE extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===se.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Se(se.UNKNOWN,o.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===se.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Se(se.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class jT{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ri(n),this.$r=!1):Pe("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class g1{constructor(i,n,s,o,u){var f=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=u,this.Qr.Ei(m=>{s.enqueueAndForget((0,be.Z)(function*(){var w;vl(f)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,be.Z)(function*(D){const S=Be(D);S.Kr.add(4),yield eg(S),S.Wr.set("Unknown"),S.Kr.delete(4),yield Xm(S)}),function(D){return w.apply(this,arguments)})(f))}))}),this.Wr=new jT(s,o)}}function Xm(r){return zT.apply(this,arguments)}function zT(){return(zT=(0,be.Z)(function*(r){if(vl(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function eg(r){return YT.apply(this,arguments)}function YT(){return(YT=(0,be.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function tg(r,i){const n=Be(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),fE(n)?hE(n):rg(n).cr()&&dE(n,i))}function ff(r,i){const n=Be(r),s=rg(n);n.qr.delete(i),s.cr()&&qT(n,i),0===n.qr.size&&(s.cr()?s.lr():vl(n)&&n.Wr.set("Unknown"))}function dE(r,i){r.Gr.Y(i.targetId),rg(r).Ir(i)}function qT(r,i){r.Gr.Y(i),rg(r).Ar(i)}function hE(r){r.Gr=new Fm({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),rg(r).start(),r.Wr.Or()}function fE(r){return vl(r)&&!rg(r).ar()&&r.qr.size>0}function vl(r){return 0===Be(r).Kr.size}function _1(r){r.Gr=void 0}function wL(r){return pE.apply(this,arguments)}function pE(){return(pE=(0,be.Z)(function*(r){r.qr.forEach((i,n)=>{dE(r,i)})})).apply(this,arguments)}function mE(r,i){return fi.apply(this,arguments)}function fi(){return(fi=(0,be.Z)(function*(r,i){_1(r),fE(r)?(r.Wr.Lr(i),hE(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function CL(r,i,n){return Av.apply(this,arguments)}function Av(){return(Av=(0,be.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof JS&&2===i.state&&i.cause)try{yield(s=(0,be.Z)(function*(o,u){const f=u.cause;for(const m of u.targetIds)o.qr.has(m)&&(yield o.remoteSyncer.rejectListen(m,f),o.qr.delete(m),o.Gr.removeTarget(m))}),function(o,u){return s.apply(this,arguments)})(r,i)}catch(s){Pe("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield ng(r,s)}else if(i instanceof gv?r.Gr.rt(i):i instanceof QS?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(Ze.min()))try{const s=yield o1(r.localStore);n.compareTo(s)>=0&&(yield function(o,u){const f=o.Gr._t(u);return f.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.qr.get(w);D&&o.qr.set(w,D.withResumeToken(m.resumeToken,u))}}),f.targetMismatches.forEach(m=>{const w=o.qr.get(m);if(!w)return;o.qr.set(m,w.withResumeToken(Li.EMPTY_BYTE_STRING,w.snapshotVersion)),qT(o,m);const D=new ed(w.target,m,1,w.sequenceNumber);dE(o,D)}),o.remoteSyncer.applyRemoteEvent(f)}(r,n))}catch(s){Pe("RemoteStore","Failed to raise snapshot:",s),yield ng(r,s)}var s})).apply(this,arguments)}function ng(r,i,n){return gE.apply(this,arguments)}function gE(){return(gE=(0,be.Z)(function*(r,i,n){if(!Xu(i))throw i;r.Kr.add(1),yield eg(r),r.Wr.set("Offline"),n||(n=()=>o1(r.localStore)),r.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield Xm(r)}))})).apply(this,arguments)}function ig(r,i){return i().catch(n=>ng(r,n,i))}function pf(r){return _E.apply(this,arguments)}function _E(){return(_E=(0,be.Z)(function*(r){const i=Be(r),n=Ao(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;$T(i);)try{const o=yield l1(i.localStore,s);if(null===o){0===i.Ur.length&&n.lr();break}s=o.batchId,id(i,o)}catch(o){yield ng(i,o)}yE(i)&&Iv(i)})).apply(this,arguments)}function $T(r){return vl(r)&&r.Ur.length<10}function id(r,i){r.Ur.push(i);const n=Ao(r);n.cr()&&n.br&&n.Pr(i.mutations)}function yE(r){return vl(r)&&!Ao(r).ar()&&r.Ur.length>0}function Iv(r){Ao(r).start()}function vE(r){return bE.apply(this,arguments)}function bE(){return(bE=(0,be.Z)(function*(r){Ao(r).Sr()})).apply(this,arguments)}function kv(r){return wE.apply(this,arguments)}function wE(){return(wE=(0,be.Z)(function*(r){const i=Ao(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function CE(r,i,n){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,be.Z)(function*(r,i,n){const s=r.Ur.shift(),o=bv.from(s,i,n);yield ig(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield pf(r)})).apply(this,arguments)}function Bi(r,i){return ZT.apply(this,arguments)}function ZT(){return(ZT=(0,be.Z)(function*(r,i){var n;i&&Ao(r).br&&(yield(n=(0,be.Z)(function*(s,o){if(O0(u=o.code)&&u!==se.ABORTED){const f=s.Ur.shift();Ao(s).hr(),yield ig(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield pf(s)}var u}),function(s,o){return n.apply(this,arguments)})(r,i)),yE(r)&&Iv(r)})).apply(this,arguments)}function EE(r,i){return DE.apply(this,arguments)}function DE(){return(DE=(0,be.Z)(function*(r,i){const n=Be(r);i?(n.Kr.delete(2),yield Xm(n)):i||(n.Kr.add(2),yield eg(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function rg(r){return r.zr||(r.zr=function(i,n,s){const o=Be(i);return o.Cr(),new GT(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:wL.bind(null,r),Ci:mE.bind(null,r),Tr:CL.bind(null,r)}),r.jr.push(function(){var i=(0,be.Z)(function*(n){n?(r.zr.hr(),fE(r)?hE(r):r.Wr.set("Unknown")):(yield r.zr.stop(),_1(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function Ao(r){return r.Hr||(r.Hr=function(i,n,s){const o=Be(i);return o.Cr(),new Jm(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:vE.bind(null,r),Ci:Bi.bind(null,r),Vr:kv.bind(null,r),vr:CE.bind(null,r)}),r.jr.push(function(){var i=(0,be.Z)(function*(n){n?(r.Hr.hr(),yield pf(r)):(yield r.Hr.stop(),r.Ur.length>0&&(Pe("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class xE{constructor(i,n,s,o,u){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(i,n,s,o,u){const f=Date.now()+s,m=new xE(i,n,f,o,u);return m.start(s),m}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(r,i){if(ri("AsyncQueue",`${i}: ${r}`),Xu(r))return new Se(se.UNAVAILABLE,`${i}: ${r}`);throw r}class og{constructor(i){this.comparator=i?(n,s)=>i(n,s)||Xe.comparator(n.key,s.key):(n,s)=>Xe.comparator(n.key,s.key),this.keyedMap=pv(),this.sortedSet=new Mi(this.comparator)}static emptySet(i){return new og(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof og)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new og;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class y1{constructor(){this.Jr=new Mi(Xe.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):We():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class mf{constructor(i,n,s,o,u,f,m,w){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=w}static fromInitialDocuments(i,n,s,o){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new mf(i,n,og.emptySet(n),u,s,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Qh(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class v1{constructor(){this.Xr=void 0,this.listeners=[]}}class b1{constructor(){this.queries=new td(i=>BS(i),Qh),this.onlineState="Unknown",this.Zr=new Set}}function ME(r,i){return SE.apply(this,arguments)}function SE(){return(SE=(0,be.Z)(function*(r,i){const n=Be(r),s=i.query;let o=!1,u=n.queries.get(s);if(u||(o=!0,u=new v1),o)try{u.Xr=yield n.onListen(s)}catch(f){const m=sg(f,`Initialization of query '${k0(i.query)}' failed`);return void i.onError(m)}n.queries.set(s,u),u.listeners.push(i),i.eo(n.onlineState),u.Xr&&i.no(u.Xr)&&KT(n)})).apply(this,arguments)}function WT(r,i){return TE.apply(this,arguments)}function TE(){return(TE=(0,be.Z)(function*(r,i){const n=Be(r),s=i.query;let o=!1;const u=n.queries.get(s);if(u){const f=u.listeners.indexOf(i);f>=0&&(u.listeners.splice(f,1),o=0===u.listeners.length)}if(o)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function w1(r,i){const n=Be(r);let s=!1;for(const o of i){const f=n.queries.get(o.query);if(f){for(const m of f.listeners)m.no(o)&&(s=!0);f.Xr=o}}s&&KT(n)}function C1(r,i,n){const s=Be(r),o=s.queries.get(i);if(o)for(const u of o.listeners)u.onError(n);s.queries.delete(i)}function KT(r){r.Zr.forEach(i=>{i.next()})}class QT{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const o of i.docChanges)3!==o.type&&s.push(o);i=new mf(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=mf.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class E1{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class JT{constructor(i){this.N=i}zn(i){return Qs(this.N,i)}Hn(i){return i.metadata.exists?yv(this.N,i.document,!1):On.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return hi(i)}}class D1{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=XT(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new JT(this.N);for(const o of i)if(o.metadata.queries){const u=s.zn(o.metadata.name);for(const f of o.metadata.queries){const m=(n.get(f)||rn()).add(u);n.set(f,m)}}return n}complete(){var i=this;return(0,be.Z)(function*(){const n=yield function(r,i,n,s){return Km.apply(this,arguments)}(i.localStore,new JT(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const o of i.queries)yield kT(i.localStore,o,s.get(o.name));return i.progress.taskState="Success",new X0(Object.assign({},i.progress),n)})()}}function XT(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class eA{constructor(i){this.key=i}}class eo{constructor(i){this.key=i}}class tA{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=rn(),this.mutatedKeys=rn(),this.po=SO(i),this.Eo=new og(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new y1,o=n?n.Eo:this.Eo;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const w=Dc(this.query)&&o.size===this.query.limit?o.last():null,D=T0(this.query)&&o.size===this.query.limit?o.first():null;if(i.inorderTraversal((S,I)=>{const F=o.get(S),L=rv(this.query,I)?I:null,j=!!F&&this.mutatedKeys.has(F.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let me=!1;F&&L?F.data.isEqual(L.data)?j!==te&&(s.track({type:3,doc:L}),me=!0):this.Ro(F,L)||(s.track({type:2,doc:L}),me=!0,(w&&this.po(L,w)>0||D&&this.po(L,D)<0)&&(m=!0)):!F&&L?(s.track({type:0,doc:L}),me=!0):F&&!L&&(s.track({type:1,doc:F}),me=!0,(w||D)&&(m=!0)),me&&(L?(f=f.add(L),u=te?u.add(S):u.delete(S)):(f=f.delete(S),u=u.delete(S)))}),Dc(this.query)||T0(this.query))for(;f.size>this.query.limit;){const S=Dc(this.query)?f.last():f.first();f=f.delete(S.key),u=u.delete(S.key),s.track({type:1,doc:S})}return{Eo:f,Ao:s,Ln:m,mutatedKeys:u}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const o=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const u=i.Ao.Yr();u.sort((D,S)=>function(I,F){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}};return L(I)-L(F)}(D.type,S.type)||this.po(D.doc,S.doc)),this.bo(s);const f=n?this.Po():[],m=0===this.yo.size&&this.current?1:0,w=m!==this.mo;return this.mo=m,0!==u.length||w?{snapshot:new mf(this.query,i.Eo,o,u,i.mutatedKeys,0===m,w,!1),vo:f}:{vo:f}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new y1,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=rn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new eo(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new eA(s))}),n}So(i){this._o=i.Gn,this.yo=rn();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return mf.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class x1{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class M1{constructor(i){this.key=i,this.Co=!1}}class S1{constructor(i,n,s,o,u,f){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new td(m=>BS(m),Qh),this.ko=new Map,this.$o=new Set,this.Oo=new Mi(Xe.comparator),this.Fo=new Map,this.Mo=new xv,this.Lo={},this.Bo=new Map,this.Uo=sf.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function EL(r,i){return AE.apply(this,arguments)}function AE(){return(AE=(0,be.Z)(function*(r,i){const n=Gv(r);let s,o;const u=n.xo.get(i);if(u)s=u.targetId,n.sharedClientState.addLocalQueryTarget(s),o=u.view.Do();else{const f=yield uf(n.localStore,$s(i)),m=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,o=yield IE(n,i,s,"current"===m),n.isPrimaryClient&&tg(n.remoteStore,f)}return o})).apply(this,arguments)}function IE(r,i,n,s){return kE.apply(this,arguments)}function kE(){return(kE=(0,be.Z)(function*(r,i,n,s){r.Ko=(S,I,F)=>{return(L=(0,be.Z)(function*(j,te,me,xe){let Ge=te.view.Io(me);Ge.Ln&&(Ge=yield Ev(j.localStore,te.query,!1).then(({documents:gn})=>te.view.Io(gn,Ge)));const Le=xe&&xe.targetChanges.get(te.targetId),ze=te.view.applyChanges(Ge,j.isPrimaryClient,Le);return Fv(j,te.targetId,ze.vo),ze.snapshot}),function(j,te,me,xe){return L.apply(this,arguments)})(r,S,I,F);var L};const o=yield Ev(r.localStore,i,!0),u=new tA(i,o.Gn),f=u.Io(o.documents),m=Om.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),w=u.applyChanges(f,r.isPrimaryClient,m);Fv(r,n,w.vo);const D=new x1(i,n,u);return r.xo.set(i,D),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),w.snapshot})).apply(this,arguments)}function ag(r,i){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,be.Z)(function*(r,i){const n=Be(r),s=n.xo.get(i),o=n.ko.get(s.targetId);if(o.length>1)return n.ko.set(s.targetId,o.filter(u=>!Qh(u,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield df(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),ff(n.remoteStore,s.targetId),rd(n,s.targetId)}).catch(yl))):(rd(n,s.targetId),yield df(n.localStore,s.targetId,!0))})).apply(this,arguments)}function RE(){return(RE=(0,be.Z)(function*(r,i,n){const s=_f(r);try{const o=yield function(u,f){const m=Be(u),w=ln.now(),D=f.reduce((I,F)=>I.add(F.key),rn());let S;return m.persistence.runTransaction("Locally write mutations","readwrite",I=>m.Qn.Pn(I,D).next(F=>{S=F;const L=[];for(const j of f){const te=kO(j,S.get(j.key));null!=te&&L.push(new vs(j.key,te,Qi(te.value.mapValue),oi.exists(!0)))}return m.In.addMutationBatch(I,w,L,f)})).then(I=>(I.applyToLocalDocumentSet(S),{batchId:I.batchId,changes:S}))}(s.localStore,i);s.sharedClientState.addPendingMutation(o.batchId),function(u,f,m){let w=u.Lo[u.currentUser.toKey()];w||(w=new Mi(zt)),w=w.insert(f,m),u.Lo[u.currentUser.toKey()]=w}(s,o.batchId,n),yield Io(s,o.changes),yield pf(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");n.reject(u)}})).apply(this,arguments)}function T1(r,i){return nA.apply(this,arguments)}function nA(){return(nA=(0,be.Z)(function*(r,i){const n=Be(r);try{const s=yield a1(n.localStore,i);i.targetChanges.forEach((o,u)=>{const f=n.Fo.get(u);f&&(gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Co=!0:o.modifiedDocuments.size>0?gt(f.Co):o.removedDocuments.size>0&&(gt(f.Co),f.Co=!1))}),yield Io(n,s,i)}catch(s){yield yl(s)}})).apply(this,arguments)}function A1(r,i,n){const s=Be(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const o=[];s.xo.forEach((u,f)=>{const m=f.view.eo(i);m.snapshot&&o.push(m.snapshot)}),function(u,f){const m=Be(u);m.onlineState=f;let w=!1;m.queries.forEach((D,S)=>{for(const I of S.listeners)I.eo(f)&&(w=!0)}),w&&KT(m)}(s.eventManager,i),o.length&&s.No.Tr(o),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function OE(r,i,n){return FE.apply(this,arguments)}function FE(){return(FE=(0,be.Z)(function*(r,i,n){const s=Be(r);s.sharedClientState.updateQueryState(i,"rejected",n);const o=s.Fo.get(i),u=o&&o.key;if(u){let f=new Mi(Xe.comparator);f=f.insert(u,On.newNoDocument(u,Ze.min()));const m=rn().add(u),w=new Jh(Ze.min(),new Map,new Jn(zt),f,m);yield T1(s,w),s.Oo=s.Oo.remove(u),s.Fo.delete(i),Pv(s)}else yield df(s.localStore,i,!1).then(()=>rd(s,i,n)).catch(yl)})).apply(this,arguments)}function I1(r,i){return PE.apply(this,arguments)}function PE(){return(PE=(0,be.Z)(function*(r,i){const n=Be(r),s=i.batch.batchId;try{const o=yield bL(n.localStore,i);iA(n,s,null),Cs(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Io(n,o)}catch(o){yield yl(o)}})).apply(this,arguments)}function xL(r,i,n){return NE.apply(this,arguments)}function NE(){return(NE=(0,be.Z)(function*(r,i,n){const s=Be(r);try{const o=yield function(u,f){const m=Be(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let D;return m.In.lookupMutationBatch(w,f).next(S=>(gt(null!==S),D=S.keys(),m.In.removeMutationBatch(w,S))).next(()=>m.In.performConsistencyCheck(w)).next(()=>m.Qn.Pn(w,D))})}(s.localStore,i);iA(s,i,n),Cs(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield Io(s,o)}catch(o){yield yl(o)}})).apply(this,arguments)}function LE(){return(LE=(0,be.Z)(function*(r,i){const n=Be(r);vl(n.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(u){const f=Be(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.In.getHighestUnacknowledgedBatchId(m))}(n.localStore);if(-1===s)return void i.resolve();const o=n.Bo.get(s)||[];o.push(i),n.Bo.set(s,o)}catch(s){const o=sg(s,"Initialization of waitForPendingWrites() operation failed");i.reject(o)}})).apply(this,arguments)}function Cs(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function iA(r,i,n){const s=Be(r);let o=s.Lo[s.currentUser.toKey()];if(o){const u=o.get(i);u&&(n?u.reject(n):u.resolve(),o=o.remove(i)),s.Lo[s.currentUser.toKey()]=o}}function rd(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||rA(r,s)})}function rA(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(ff(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),Pv(r))}function Fv(r,i,n){for(const s of n)s instanceof eA?(r.Mo.addReference(s.key,i),sA(r,s)):s instanceof eo?(Pe("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||rA(r,s.key)):We()}function sA(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(Pe("SyncEngine","New document in limbo: "+n),r.$o.add(s),Pv(r))}function Pv(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new Xe(Qt.fromString(i)),s=r.Uo.next();r.Fo.set(s,new M1(n)),r.Oo=r.Oo.insert(n,s),tg(r.remoteStore,new ed($s(Zu(n.path)),s,2,Ys.T))}}function Io(r,i,n){return lg.apply(this,arguments)}function lg(){return(lg=(0,be.Z)(function*(r,i,n){const s=Be(r),o=[],u=[],f=[];var m;s.xo.isEmpty()||(s.xo.forEach((m,w)=>{f.push(s.Ko(w,i,n).then(D=>{if(D){s.isPrimaryClient&&s.sharedClientState.updateQueryState(w.targetId,D.fromCache?"not-current":"current"),o.push(D);const S=AT.kn(w.targetId,D);u.push(S)}}))}),yield Promise.all(f),s.No.Tr(o),yield(m=(0,be.Z)(function*(w,D){const S=Be(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Te.forEach(D,F=>Te.forEach(F.Nn,L=>S.persistence.referenceDelegate.addReference(I,F.targetId,L)).next(()=>Te.forEach(F.xn,L=>S.persistence.referenceDelegate.removeReference(I,F.targetId,L)))))}catch(I){if(!Xu(I))throw I;Pe("LocalStore","Failed to update sequence numbers: "+I)}for(const I of D){const F=I.targetId;if(!I.fromCache){const L=S.Un.get(F),te=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);S.Un=S.Un.insert(F,te)}}}),function(w,D){return m.apply(this,arguments)})(s.localStore,u))})).apply(this,arguments)}function BE(r,i){return gf.apply(this,arguments)}function gf(){return(gf=(0,be.Z)(function*(r,i){const n=Be(r);if(!n.currentUser.isEqual(i)){Pe("SyncEngine","User change. New user:",i.toKey());const s=yield eE(n.localStore,i);n.currentUser=i,(o=n).Bo.forEach(f=>{f.forEach(m=>{m.reject(new Se(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield Io(n,s.Wn)}var o})).apply(this,arguments)}function Nv(r,i){const n=Be(r),s=n.Fo.get(i);if(s&&s.Co)return rn().add(s.key);{let o=rn();const u=n.ko.get(i);if(!u)return o;for(const f of u){const m=n.xo.get(f);o=o.unionWith(m.view.To)}return o}}function oA(r,i){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,be.Z)(function*(r,i){const n=Be(r),s=yield Ev(n.localStore,i.query,!0),o=i.view.So(s);return n.isPrimaryClient&&Fv(n,i.targetId,o.vo),o})).apply(this,arguments)}function R1(r){return VE.apply(this,arguments)}function VE(){return(VE=(0,be.Z)(function*(r){const i=Be(r);return IT(i.localStore).then(n=>Io(i,n))})).apply(this,arguments)}function aA(r,i,n,s){return UE.apply(this,arguments)}function UE(){return(UE=(0,be.Z)(function*(r,i,n,s){const o=Be(r),u=yield function(f,m){const w=Be(f),D=Be(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.Xt(S,m).next(I=>I?w.Qn.Pn(S,I):Te.resolve(null)))}(o.localStore,i);var m;null!==u?("pending"===n?yield pf(o.remoteStore):"acknowledged"===n||"rejected"===n?(iA(o,i,s||null),Cs(o,i),m=i,Be(Be(o.localStore).In).te(m)):We(),yield Io(o,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function HE(){return(HE=(0,be.Z)(function*(r,i){const n=Be(r);if(Gv(n),_f(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),o=yield Bv(n,s.toArray());n.qo=!0,yield EE(n.remoteStore,!0);for(const u of o)tg(n.remoteStore,u)}else if(!1===i&&!1!==n.qo){const s=[];let o=Promise.resolve();n.ko.forEach((u,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):o=o.then(()=>(rd(n,f),df(n.localStore,f,!0))),ff(n.remoteStore,f)}),yield o,yield Bv(n,s),function(u){const f=Be(u);f.Fo.forEach((m,w)=>{ff(f.remoteStore,w)}),f.Mo.us(),f.Fo=new Map,f.Oo=new Mi(Xe.comparator)}(n),n.qo=!1,yield EE(n.remoteStore,!1)}})).apply(this,arguments)}function Bv(r,i,n){return GE.apply(this,arguments)}function GE(){return(GE=(0,be.Z)(function*(r,i,n){const s=Be(r),o=[],u=[];for(const f of i){let m;const w=s.ko.get(f);if(w&&0!==w.length){m=yield uf(s.localStore,$s(w[0]));for(const D of w){const S=s.xo.get(D),I=yield oA(s,S);I.snapshot&&u.push(I.snapshot)}}else{const D=yield es(s.localStore,f);m=yield uf(s.localStore,D),yield IE(s,hr(D),f,!1)}o.push(m)}return s.No.Tr(u),o})).apply(this,arguments)}function hr(r){return NS(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function cg(r){const i=Be(r);return Be(Be(i.localStore).persistence).pn()}function Vv(r,i,n,s){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,be.Z)(function*(r,i,n,s){const o=Be(r);if(o.qo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(o.ko.has(i))switch(n){case"current":case"not-current":{const u=yield IT(o.localStore),f=Jh.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield Io(o,u,f);break}case"rejected":yield df(o.localStore,i,!0),rd(o,i,s);break;default:We()}})).apply(this,arguments)}function Hv(r,i,n){return ug.apply(this,arguments)}function ug(){return(ug=(0,be.Z)(function*(r,i,n){const s=Gv(r);if(s.qo){for(const o of i){if(s.ko.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const u=yield es(s.localStore,o),f=yield uf(s.localStore,u);yield IE(s,hr(u),f.targetId,!1),tg(s.remoteStore,f)}for(const o of n)s.ko.has(o)&&(yield df(s.localStore,o,!1).then(()=>{ff(s.remoteStore,o),rd(s,o)}).catch(yl))}})).apply(this,arguments)}function Gv(r){const i=Be(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nv.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=OE.bind(null,i),i.No.Tr=w1.bind(null,i.eventManager),i.No.jo=C1.bind(null,i.eventManager),i}function _f(r){const i=Be(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=I1.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=xL.bind(null,i),i}class lA{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,be.Z)(function*(){n.N=hf(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return s1(this.persistence,new i1,i.initialUser,this.N)}Go(i){return new OT(oE.Ns,this.N)}Wo(i){return new LT}terminate(){var i=this;return(0,be.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class cA extends lA{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield n().call(s,i),yield function(r){return iE.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield _f(s.Jo.syncEngine),yield pf(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return s1(this.persistence,new i1,i.initialUser,this.N)}zo(i){return new t1(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=ST(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new lf(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,m1(),Qm(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new LT}}class P1 extends cA{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield n().call(s,i);const o=s.Jo.syncEngine;s.sharedClientState instanceof NT&&(s.sharedClientState.syncEngine={_i:aA.bind(null,o),mi:Vv.bind(null,o),gi:Hv.bind(null,o),pn:cg.bind(null,o),wi:R1.bind(null,o)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var u=(0,be.Z)(function*(f){yield function(r,i){return HE.apply(this,arguments)}(s.Jo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}Wo(i){const n=m1();if(!NT.bt(n))throw new Se(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ST(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new NT(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class jv{initialize(i,n){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=o=>A1(s.syncEngine,o,1),s.remoteStore.remoteSyncer.handleCredentialChange=BE.bind(null,s.syncEngine),yield EE(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new b1}createDatastore(i){const n=hf(i.databaseInfo.databaseId),s=new p1(i.databaseInfo);return new uE(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,o=i.asyncQueue,u=m=>A1(this.syncEngine,m,0),f=VT.bt()?new VT:new BT,new g1(n,s,o,u,f);var n,s,o,u,f}createSyncEngine(i,n){return function(s,o,u,f,m,w,D){const S=new S1(s,o,u,f,m,w);return D&&(S.qo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,be.Z)(function*(n){const s=Be(n);Pe("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield eg(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function uA(r,i=10240){let n=0;return{read:()=>(0,be.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class zv{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class N1{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new Vn,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,be.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,be.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,be.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),o=Number(s);isNaN(o)&&i.sa(`length string (${s}) is not valid number`);const u=yield i.ia(o);return new E1(JSON.parse(u),n.length+o)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,be.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,be.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,be.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class Ac{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,be.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Se(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(o=(0,be.Z)(function*(u,f){const m=Be(u),w=Bm(m.N)+"/documents",D={documents:f.map(L=>Qu(m.N,L))},S=yield m.Ki("BatchGetDocuments",w,D),I=new Map;S.forEach(L=>{const j=function(r,i){return"found"in i?function(n,s){gt(!!s.found);const o=Qs(n,s.found.name),u=hi(s.found.updateTime),f=new ur({mapValue:{fields:s.found.fields}});return On.newFoundDocument(o,u,f)}(r,i):"missing"in i?function(n,s){gt(!!s.missing),gt(!!s.readTime);const o=Qs(n,s.missing),u=hi(s.readTime);return On.newNoDocument(o,u)}(r,i):We()}(m.N,L);I.set(j.key.toString(),j)});const F=[];return f.forEach(L=>{const j=I.get(L.toString());gt(!!j),F.push(j)}),F}),function(u,f){return o.apply(this,arguments)})(n.datastore,i);var o;return s.forEach(o=>n.recordVersion(o)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new dv(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,be.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,o)=>{const u=Xe.fromPath(o);i.mutations.push(new hv(u,i.precondition(u)))}),yield(s=(0,be.Z)(function*(o,u){const f=Be(o),m=Bm(f.N)+"/documents",w={writes:u.map(D=>Vm(f.N,D))};yield f.Li("Commit",m,w)}),function(o,u){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw We();n=Ze.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Se(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?oi.updateTime(n):oi.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(Ze.min()))throw new Se(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oi.updateTime(n)}return oi.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class dg{constructor(i,n,s,o){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=o,this.aa=5,this.rr=new cE(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,be.Z)(function*(){const n=new Ac(i.datastore),s=i.ua(n);s&&s.then(o=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(o)}).catch(u=>{i.ha(u)}))}).catch(o=>{i.ha(o)})}))}ua(i){try{const n=this.updateFunction(i);return!ma(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!O0(n)}return!1}}class jE{constructor(i,n,s){var o=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=Ni.UNAUTHENTICATED,this.clientId=b0.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var u=(0,be.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield o.credentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,be.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const o=sg(s,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function dA(r,i){return zE.apply(this,arguments)}function zE(){return(zE=(0,be.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var o=(0,be.Z)(function*(u){s.isEqual(u)||(yield eE(i.localStore,u),s=u)});return function(u){return o.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function hA(r,i){return hg.apply(this,arguments)}function hg(){return(hg=(0,be.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield YE(r);Pe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(o=>{return(u=(0,be.Z)(function*(f,m){const w=Be(f);w.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const D=vl(w);w.Kr.add(3),yield eg(w),D&&w.Wr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(m),w.Kr.delete(3),yield Xm(w)}),function(f,m){return u.apply(this,arguments)})(i.remoteStore,o);var u}),r.onlineComponents=i})).apply(this,arguments)}function YE(r){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,be.Z)(function*(r){return r.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield dA(r,new lA)),r.offlineComponents})).apply(this,arguments)}function fg(r){return qE.apply(this,arguments)}function qE(){return(qE=(0,be.Z)(function*(r){return r.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield hA(r,new jv)),r.onlineComponents})).apply(this,arguments)}function fA(r){return YE(r).then(i=>i.persistence)}function $E(r){return YE(r).then(i=>i.localStore)}function va(r){return fg(r).then(i=>i.remoteStore)}function sd(r){return fg(r).then(i=>i.syncEngine)}function ko(r){return yf.apply(this,arguments)}function yf(){return(yf=(0,be.Z)(function*(r){const i=yield fg(r),n=i.eventManager;return n.onListen=EL.bind(null,i.syncEngine),n.onUnlisten=ag.bind(null,i.syncEngine),n})).apply(this,arguments)}function pA(r,i,n={}){const s=new Vn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,f,m,w){const D=new zv({next:I=>{u.enqueueAndForget(()=>WT(o,S));const F=I.docs.has(f);!F&&I.fromCache?w.reject(new Se(se.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&I.fromCache&&m&&"server"===m.source?w.reject(new Se(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(I)},error:I=>w.reject(I)}),S=new QT(Zu(f.path),D,{includeMetadataChanges:!0,uo:!0});return ME(o,S)}(yield ko(r),r.asyncQueue,i,n,s)})),s.promise}function ZE(r,i,n={}){const s=new Vn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(o,u,f,m,w){const D=new zv({next:I=>{u.enqueueAndForget(()=>WT(o,S)),I.fromCache&&"server"===m.source?w.reject(new Se(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(I)},error:I=>w.reject(I)}),S=new QT(f,D,{includeMetadataChanges:!0,uo:!0});return ME(o,S)}(yield ko(r),r.asyncQueue,i,n,s)})),s.promise}class U1{constructor(i,n,s,o,u,f,m,w){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class od{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof od&&i.projectId===this.projectId&&i.database===this.database}}const Ic=new Map;function pg(r,i,n){if(!n)throw new Se(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function yA(r,i,n,s){if(!0===i&&!0===s)throw new Se(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vA(r){if(!Xe.isDocumentKey(r))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function H1(r){if(Xe.isDocumentKey(r))throw new Se(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function KE(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":We()}function Xt(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=KE(r);throw new Se(se.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function G1(r,i){if(i<=0)throw new Se(se.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class bA{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,yA("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class mg{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bA({}),this._settingsFrozen=!1,i instanceof od?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new od(s.options.projectId)}(i))}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bA(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new hL;switch(n.type){case"gapi":const s=n.client;return gt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new ju(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Se(se.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=Ic.get(i);n&&(Pe("ComponentProvider","Removing Datastore"),Ic.delete(i),n.terminate())}(this),Promise.resolve()}}class Fn{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bl(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Fn(this.firestore,i,this._key)}}class Ir{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Ir(this.firestore,i,this._query)}}class bl extends Ir{constructor(i,n,s){super(i,n,Zu(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Fn(this.firestore,null,new Xe(i))}withConverter(i){return new bl(this.firestore,i,this._path)}}function wA(r,i,...n){if(r=(0,It.m9)(r),pg("collection","path",i),r instanceof mg){const s=Qt.fromString(i,...n);return H1(s),new bl(r,null,s)}{if(!(r instanceof Fn||r instanceof bl))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qt.fromString(i,...n));return H1(s),new bl(r.firestore,null,s)}}function QE(r,i,...n){if(r=(0,It.m9)(r),1===arguments.length&&(i=b0.I()),pg("doc","path",i),r instanceof mg){const s=Qt.fromString(i,...n);return vA(s),new Fn(r,null,new Xe(s))}{if(!(r instanceof Fn||r instanceof bl))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Qt.fromString(i,...n));return vA(s),new Fn(r.firestore,r instanceof bl?r.converter:null,new Xe(s))}}function j1(r,i){return r=(0,It.m9)(r),i=(0,It.m9)(i),(r instanceof Fn||r instanceof bl)&&(i instanceof Fn||i instanceof bl)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function z1(r,i){return r=(0,It.m9)(r),i=(0,It.m9)(i),r instanceof Ir&&i instanceof Ir&&r.firestore===i.firestore&&Qh(r._query,i._query)&&r.converter===i.converter}class l{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new cE(this,"async_queue_retry"),this.Ea=()=>{const n=Qm();n&&Pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=Qm();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=Qm();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new Vn;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,be.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!Xu(n))throw n;Pe("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,ri("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const o=xE.createAndSchedule(this,i,n,s,u=>this.Ra(u));return this._a.push(o),o}Ta(){this.ma&&We()}verifyOperationInProgress(){}ba(){var i=this;return(0,be.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function c(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const o of["next","error","complete"])if(o in s&&"function"==typeof s[o])return!0;return!1}(r)}class d{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class p extends mg{constructor(i,n){super(i,n),this.type="firestore",this._queue=new l,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||M(this),this._firestoreClient.terminate()}}function C(r){return r._firestoreClient||M(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function M(r){var i;const n=r._freezeSettings(),s=(u=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new U1(r._databaseId,u,r._persistenceKey,(m=n).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;r._firestoreClient=new jE(r._credentials,r._queue,s)}function R(r,i,n){const s=new Vn;return r.asyncQueue.enqueue((0,be.Z)(function*(){try{yield dA(r,n),yield hA(r,i),s.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===se.FAILED_PRECONDITION||u.code===se.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),s.reject(o)}var u})).then(()=>s.promise)}function nt(r){if(r._initialized||r._terminated)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ot{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class mn{constructor(i){this._byteString=i}static fromBase64String(i){try{return new mn(Li.fromBase64String(i))}catch(n){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new mn(Li.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Vi{constructor(i){this._methodName=i}}class kc{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return zt(this._lat,i._lat)||zt(this._long,i._long)}}const bf=/^__.*__$/;class wf{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new vs(i,this.data,this.fieldMask,n,this.fieldTransforms):new km(i,this.data,n,this.fieldTransforms)}}class ad{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new vs(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function qv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}class Cf{constructor(i,n,s,o,u,f){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=o,void 0===u&&this.Sa(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new Cf(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.ka(i),o}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.Sa(),o}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return CA(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(qv(this.Da)&&bf.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class JE{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||hf(i)}Ba(i,n,s,o=!1){return new Cf({Da:i,methodName:n,La:s,path:si.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function wl(r){const i=r._freezeSettings(),n=hf(r._databaseId);return new JE(r._databaseId,!!i.ignoreUndefinedProperties,n)}function Ef(r,i,n,s,o,u={}){const f=r.Ba(u.merge||u.mergeFields?2:0,i,n,o);Z1("Data must be an object, but it was:",f,s);const m=IL(s,f);let w,D;if(u.merge)w=new $h(f.fieldMask),D=f.fieldTransforms;else if(u.mergeFields){const S=[];for(const I of u.mergeFields){const F=W1(i,I,n);if(!f.contains(F))throw new Se(se.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);RL(S,F)||S.push(F)}w=new $h(S),D=f.fieldTransforms.filter(I=>w.covers(I.field))}else w=null,D=f.fieldTransforms;return new wf(new ur(m),w,D)}class XE extends Vi{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof XE}}function TL(r,i,n){return new Cf({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class Y1 extends Vi{_toFieldTransform(i){return new Im(i.path,new Wu)}isEqual(i){return i instanceof Y1}}class HH extends Vi{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=TL(this,i,!0),s=this.Ua.map(u=>gg(u,n)),o=new ml(s);return new Im(i.path,o)}isEqual(i){return this===i}}class GH extends Vi{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=TL(this,i,!0),s=this.Ua.map(u=>gg(u,n)),o=new Zs(s);return new Im(i.path,o)}isEqual(i){return this===i}}class jH extends Vi{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new Ku(i.N,US(i.N,this.qa));return new Im(i.path,n)}isEqual(i){return this===i}}function q1(r,i,n,s){const o=r.Ba(1,i,n);Z1("Data must be an object, but it was:",o,s);const u=[],f=ur.empty();wc(s,(w,D)=>{const S=K1(i,w,n);D=(0,It.m9)(D);const I=o.$a(S);if(D instanceof XE)u.push(S);else{const F=gg(D,I);null!=F&&(u.push(S),f.set(S,F))}});const m=new $h(u);return new ad(f,m,o.fieldTransforms)}function $1(r,i,n,s,o,u){const f=r.Ba(1,i,n),m=[W1(i,s,n)],w=[o];if(u.length%2!=0)throw new Se(se.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)m.push(W1(i,u[F])),w.push(u[F+1]);const D=[],S=ur.empty();for(let F=m.length-1;F>=0;--F)if(!RL(D,m[F])){const L=m[F];let j=w[F];j=(0,It.m9)(j);const te=f.$a(L);if(j instanceof XE)D.push(L);else{const me=gg(j,te);null!=me&&(D.push(L),S.set(L,me))}}const I=new $h(D);return new ad(S,I,f.fieldTransforms)}function AL(r,i,n,s=!1){return gg(n,r.Ba(s?4:3,i))}function gg(r,i){if(kL(r=(0,It.m9)(r)))return Z1("Unsupported field value:",i,r),IL(r,i);if(r instanceof Vi)return function(n,s){if(!qv(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const o=[];let u=0;for(const f of n){let m=gg(f,s.Oa(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(r,i)}return function(n,s){if(null===(n=(0,It.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return US(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=ln.fromDate(n);return{timestampValue:Nm(s.N,o)}}if(n instanceof ln){const o=new ln(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Nm(s.N,o)}}if(n instanceof kc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mn)return{bytesValue:eT(s.N,n._byteString)};if(n instanceof Fn){const o=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(o))throw s.Fa(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Lm(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${KE(n)}`)}(r,i)}function IL(r,i){const n={};return IS(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):wc(r,(s,o)=>{const u=gg(o,i.Na(s));null!=u&&(n[s]=u)}),{mapValue:{fields:n}}}function kL(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof ln||r instanceof kc||r instanceof mn||r instanceof Fn||r instanceof Vi)}function Z1(r,i,n){if(!kL(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=KE(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function W1(r,i,n){if((i=(0,It.m9)(i))instanceof ot)return i._internalPath;if("string"==typeof i)return K1(r,i);throw CA("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const zH=new RegExp("[~\\*/\\[\\]]");function K1(r,i,n){if(i.search(zH)>=0)throw CA(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ot(...i.split("."))._internalPath}catch(s){throw CA(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function CA(r,i,n,s,o){const u=s&&!s.isEmpty(),f=void 0!==o;let m=`Function ${i}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||f)&&(w+=" (found",u&&(w+=` in field ${s}`),f&&(w+=` in document ${o}`),w+=")"),new Se(se.INVALID_ARGUMENT,m+r+w)}function RL(r,i){return r.some(n=>n.isEqual(i))}class eD{constructor(i,n,s,o,u){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new YH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(EA("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class YH extends eD{data(){return super.data()}}function EA(r,i){return"string"==typeof i?K1(r,i):i instanceof ot?i._internalPath:i._delegate._internalPath}class _g{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class ld extends eD{constructor(i,n,s,o,u,f){super(i,n,s,o,f),this._firestore=i,this._firestoreImpl=i,this.metadata=u}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new tD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(EA("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class tD extends ld{data(i={}){return super.data(i)}}class Df{constructor(i,n,s,o){this._firestore=i,this._userDataWriter=n,this._snapshot=o,this.metadata=new _g(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new tD(this._firestore,this._userDataWriter,s.key,s,new _g(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new tD(s._firestore,s._userDataWriter,f.doc.key,f.doc,new _g(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:u++}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const m=new tD(s._firestore,s._userDataWriter,f.doc.key,f.doc,new _g(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let w=-1,D=-1;return 0!==f.type&&(w=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),D=u.indexOf(f.doc.key)),{type:qH(f.type),doc:m,oldIndex:w,newIndex:D}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function qH(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function OL(r,i){return r instanceof ld&&i instanceof ld?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof Df&&i instanceof Df&&r._firestore===i._firestore&&z1(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function FL(r){if(T0(r)&&0===r.explicitOrderBy.length)throw new Se(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nD{}function xf(r,...i){for(const n of i)r=n._apply(r);return r}class $H extends nD{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=wl(i.firestore),s=function(o,u,f,m,w,D,S){let I;if(w.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){UL(S,D);const L=[];for(const j of S)L.push(VL(m,o,j));I={arrayValue:{values:L}}}else I=VL(m,o,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||UL(S,D),I=AL(f,"where",S,"in"===D||"not-in"===D);const F=Mr.create(w,D,I);return function(L,j){if(j.v()){const me=A0(L);if(null!==me&&!me.isEqual(j.field))throw new Se(se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${me.toString()}' and '${j.field.toString()}'`);const xe=iv(L);null!==xe&&HL(0,j.field,xe)}const te=function(me,xe){for(const Ge of me.filters)if(xe.indexOf(Ge.op)>=0)return Ge.op;return null}(L,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==te)throw new Se(se.INVALID_ARGUMENT,te===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${te.toString()}' filters.`)}(o,F),F}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Ir(i.firestore,i.converter,function(o,u){const f=o.filters.concat([u]);return new pl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(i._query,s))}}class WH extends nD{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,o,u){if(null!==s.startAt)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Se(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Zh(o,u);return function(m,w){if(null===iv(m)){const D=A0(m);null!==D&&HL(0,D,w.field)}}(s,f),f}(i._query,this.Ka,this.Wa);return new Ir(i.firestore,i.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new pl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class PL extends nD{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Ir(i.firestore,i.converter,LS(i._query,this.Ga,this.za))}}class NL extends nD{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=BL(i,this.type,this.Ha,this.Ja);return new Ir(i.firestore,i.converter,(o=n,new pl((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)));var s,o}}class LL extends nD{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=BL(i,this.type,this.Ha,this.Ja);return new Ir(i.firestore,i.converter,(o=n,new pl((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)));var s,o}}function BL(r,i,n,s){if(n[0]=(0,It.m9)(n[0]),n[0]instanceof eD)return function(o,u,f,m,w){if(!m)throw new Se(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const D=[];for(const S of Kh(o))if(S.field.isKeyField())D.push(C0(u,m.key));else{const I=m.data.field(S.field);if(Qy(I))throw new Se(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const F=S.field.canonicalString();throw new Se(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}D.push(I)}return new Am(D,w)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const o=wl(r.firestore);return function(u,f,m,w,D,S){const I=u.explicitOrderBy;if(D.length>I.length)throw new Se(se.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let L=0;L<D.length;L++){const j=D[L];if(I[L].field.isKeyField()){if("string"!=typeof j)throw new Se(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof j}`);if(!I0(u)&&-1!==j.indexOf("/"))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${j}' contains a slash.`);const te=u.path.child(Qt.fromString(j));if(!Xe.isDocumentKey(te))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const me=new Xe(te);F.push(C0(f,me))}else{const te=AL(m,w,j);F.push(te)}}return new Am(F,S)}(r._query,r.firestore._databaseId,o,i,n,s)}}function VL(r,i,n){if("string"==typeof(n=(0,It.m9)(n))){if(""===n)throw new Se(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!I0(i)&&-1!==n.indexOf("/"))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(Qt.fromString(n));if(!Xe.isDocumentKey(s))throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return C0(r,new Xe(s))}if(n instanceof Fn)return C0(r,n._key);throw new Se(se.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${KE(n)}.`)}function UL(r,i){if(!Array.isArray(r)||0===r.length)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Se(se.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function HL(r,i,n){if(!n.isEqual(i))throw new Se(se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Q1{convertValue(i,n="none"){switch(ga(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Rn(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(Cc(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw We()}}convertObject(i,n){const s={};return wc(i.fields,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertGeoPoint(i){return new kc(Rn(i.latitude),Rn(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=Yu(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Mm(i));default:return null}}convertTimestamp(i){const n=pa(i);return new ln(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=Qt.fromString(i);gt(lT(s));const o=new od(s.get(1),s.get(3)),u=new Xe(s.popFirst(5));return o.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function DA(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class iG extends Q1{constructor(i){super(),this.firestore=i}convertBytes(i){return new mn(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}class GL{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wl(i)}set(i,n,s){this._verifyNotCommitted();const o=Mf(i,this._firestore),u=DA(o.converter,n,s),f=Ef(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,s);return this._mutations.push(f.toMutation(o._key,oi.none())),this}update(i,n,s,...o){this._verifyNotCommitted();const u=Mf(i,this._firestore);let f;return f="string"==typeof(n=(0,It.m9)(n))||n instanceof ot?$1(this._dataReader,"WriteBatch.update",u._key,n,s,o):q1(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,oi.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=Mf(i,this._firestore);return this._mutations=this._mutations.concat(new dv(n._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mf(r,i){if((r=(0,It.m9)(r)).firestore!==i)throw new Se(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class yg extends Q1{constructor(i){super(),this.firestore=i}convertBytes(i){return new mn(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function jL(r,i,n){r=Xt(r,Fn);const s=Xt(r.firestore,p),o=DA(r.converter,i,n);return $v(s,[Ef(wl(s),"setDoc",r._key,o,null!==r.converter,n).toMutation(r._key,oi.none())])}function zL(r,i,n,...s){r=Xt(r,Fn);const o=Xt(r.firestore,p),u=wl(o);let f;return f="string"==typeof(i=(0,It.m9)(i))||i instanceof ot?$1(u,"updateDoc",r._key,i,n,s):q1(u,"updateDoc",r._key,i),$v(o,[f.toMutation(r._key,oi.exists(!0))])}function YL(r,...i){var n,s,o;r=(0,It.m9)(r);let u={includeMetadataChanges:!1},f=0;"object"!=typeof i[f]||c(i[f])||(u=i[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges};if(c(i[f])){const I=i[f];i[f]=null===(n=I.next)||void 0===n?void 0:n.bind(I),i[f+1]=null===(s=I.error)||void 0===s?void 0:s.bind(I),i[f+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}let w,D,S;if(r instanceof Fn)D=Xt(r.firestore,p),S=Zu(r._key.path),w={next:I=>{i[f]&&i[f](J1(D,r,I))},error:i[f+1],complete:i[f+2]};else{const I=Xt(r,Ir);D=Xt(I.firestore,p),S=I._query;const F=new yg(D);w={next:L=>{i[f]&&i[f](new Df(D,F,I,L))},error:i[f+1],complete:i[f+2]},FL(r._query)}return function(I,F,L,j){const te=new zv(j),me=new QT(F,te,L);return I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return ME(yield ko(I),me)})),()=>{te.Xo(),I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return WT(yield ko(I),me)}))}}(C(D),S,m,w)}function $v(r,i){return function(n,s){const o=new Vn;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,i,n){return RE.apply(this,arguments)}(yield sd(n),s,o)})),o.promise}(C(r),i)}function J1(r,i,n){const s=n.docs.get(i._key),o=new yg(r);return new ld(r,o,i._key,s,new _g(n.hasPendingWrites,n.fromCache),i.converter)}class fG extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=wl(i)}get(i){const n=Mf(i,this._firestore),s=new iG(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return We();const u=o[0];if(u.isFoundDocument())return new eD(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new eD(this._firestore,s,n._key,null,n.converter);throw We()})}set(i,n,s){const o=Mf(i,this._firestore),u=DA(o.converter,n,s),f=Ef(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,s);return this._transaction.set(o._key,f),this}update(i,n,s,...o){const u=Mf(i,this._firestore);let f;return f="string"==typeof(n=(0,It.m9)(n))||n instanceof ot?$1(this._dataReader,"Transaction.update",u._key,n,s,o):q1(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(i){const n=Mf(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=Mf(i,this._firestore),s=new yg(this._firestore);return super.get(i).then(o=>new ld(this._firestore,s,n._key,o._document,new _g(!1,!1),n.converter))}}function X1(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Se("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function qL(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function $L(){if("undefined"==typeof atob)throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){bc=r})(Au.SDK_VERSION),(0,Au._registerComponent)(new Jp.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new p(n,new zs(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,Au.registerVersion)("@firebase/firestore","3.0.2",void 0);class iD{constructor(i){this._delegate=i}static fromBase64String(i){return $L(),new iD(mn.fromBase64String(i))}static fromUint8Array(i){return qL(),new iD(mn.fromUint8Array(i))}toBase64(){return $L(),this._delegate.toBase64()}toUint8Array(){return qL(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eF(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class DG{enableIndexedDbPersistence(i,n){return function(r,i){nt(r=Xt(r,p));const n=C(r),s=r._freezeSettings(),o=new jv;return R(n,o,new cA(o,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){nt(r=Xt(r,p));const i=C(r),n=r._freezeSettings(),s=new jv;return R(i,s,new P1(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Se(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Vn;return r._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(n=(0,be.Z)(function*(s){if(!To.bt())return Promise.resolve();const o=s+"main";yield To.delete(o)}),function(s){return n.apply(this,arguments)})(ST(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class ZL{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof od||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&xm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var o;const u=(r=Xt(r,mg))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==i&&xm("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},u),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let f,m;if("string"==typeof s.mockUserToken)f=s.mockUserToken,m=Ni.MOCK_USER;else{f=(0,It.Sg)(s.mockUserToken,null===(o=r._app)||void 0===o?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ni(w)}r._credentials=new St(new jh(f,m))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const i=yield fA(r),n=yield va(r);return i.setNetworkEnabled(!0),function(s){const o=Be(s);return o.Kr.delete(0),Xm(o)}(n)}))}(C(r=Xt(r,p)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,be.Z)(function*(){const i=yield fA(r),n=yield va(r);return i.setNetworkEnabled(!1),(s=(0,be.Z)(function*(o){const u=Be(o);u.Kr.add(0),yield eg(u),u.Wr.set("Offline")}),function(o){return s.apply(this,arguments)})(n);var s}))}(C(r=Xt(r,p)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,yA("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new Vn;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,i){return LE.apply(this,arguments)}(yield sd(i),n)})),n.promise}(C(r=Xt(r,p)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new zv(i);return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield ko(r),o=n,Be(s).Zr.add(o),void o.next();var s,o})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield ko(r),o=n,void Be(s).Zr.delete(o);var s,o}))}}(C(r=Xt(r,p)),c(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new Zv(this,wA(this._delegate,i))}catch(n){throw Es(n,"collection()","Firestore.collection()")}}doc(i){try{return new ba(this,QE(this._delegate,i))}catch(n){throw Es(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Ds(this,function(r,i){if(r=Xt(r,mg),pg("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ir(r,null,(n=i,new pl(Qt.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw Es(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new Vn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(o=r,fg(o).then(u=>u.datastore));var o;new dg(r.asyncQueue,s,i,n).run()})),n.promise}(C(r),n=>i(new fG(r,n)))}(this._delegate,n=>i(new WL(this,n)))}batch(){return C(this._delegate),new KL(new GL(this._delegate,i=>$v(this._delegate,i)))}loadBundle(i){return function(r,i){const n=C(r=Xt(r,p)),s=new d;return function(r,i,n,s){const o=function(u,f){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,D){if(w instanceof Uint8Array)return uA(w,D);if(w instanceof ArrayBuffer)return uA(new Uint8Array(w),D);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new N1(w,f);var w}(n,hf(i));r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(r,i,n){const s=Be(r);var o;(o=(0,be.Z)(function*(u,f,m){try{const w=yield f.getMetadata();if(yield function(F,L){const j=Be(F),te=hi(L.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",me=>j.Je.getBundleMetadata(me,L.id)).then(me=>!!me&&me.createTime.compareTo(te)>=0)}(u.localStore,w))return yield f.close(),void m._completeWith((F=w,{taskState:"Success",documentsLoaded:F.totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}));m._updateProgress(XT(w));const D=new D1(w,u.localStore,f.N);let S=yield f.Qo();for(;S;){const F=yield D.fo(S);F&&m._updateProgress(F),S=yield f.Qo()}const I=yield D.complete();yield Io(u,I.Tn,void 0),yield function(F,L){const j=Be(F);return j.persistence.runTransaction("Save bundle","readwrite",te=>j.Je.saveBundleMetadata(te,L))}(u.localStore,w),m._completeWith(I.progress)}catch(w){xm("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w)}var F}),function(u,f,m){return o.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield sd(r),o,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,be.Z)(function*(){return function(n,s){const o=Be(n);return o.persistence.runTransaction("Get named query","readonly",u=>o.Je.getNamedQuery(u,s))}(yield $E(r),i)}))}(C(r=Xt(r,p)),i).then(n=>n?new Ir(r,null,n.query):null)}(this._delegate,i).then(n=>n?new Ds(this,n):null)}}class xA extends Q1{constructor(i){super(),this.firestore=i}convertBytes(i){return new iD(new mn(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return ba.forKey(n,this.firestore,null)}}class WL{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new xA(i)}get(i){const n=bg(i);return this._delegate.get(n).then(s=>new rD(this._firestore,new ld(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const o=bg(i);return s?(X1("Transaction.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const u=bg(i);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...o),this}delete(i){const n=bg(i);return this._delegate.delete(n),this}}class KL{constructor(i){this._delegate=i}set(i,n,s){const o=bg(i);return s?(X1("WriteBatch.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const u=bg(i);return 2===arguments.length?this._delegate.update(u,n):this._delegate.update(u,n,s,...o),this}delete(i){const n=bg(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class vg{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new tD(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new sD(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=vg.INSTANCES;let o=s.get(i);o||(o=new WeakMap,s.set(i,o));let u=o.get(n);return u||(u=new vg(i,new xA(i),n),o.set(n,u)),u}}vg.INSTANCES=new WeakMap;class ba{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new xA(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new ba(n,new Fn(n._delegate,s,new Xe(i)))}static forKey(i,n,s){return new ba(n,new Fn(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new Zv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new Zv(this.firestore,wA(this._delegate,i))}catch(n){throw Es(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,It.m9)(i))instanceof Fn&&j1(this._delegate,i)}set(i,n){n=X1("DocumentReference.set",n);try{return n?jL(this._delegate,i,n):jL(this._delegate,i)}catch(s){throw Es(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?zL(this._delegate,i):zL(this._delegate,i,n,...s)}catch(o){throw Es(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return $v(Xt(r.firestore,p),[new dv(r._key,oi.none())])}(this._delegate)}onSnapshot(...i){const n=QL(i),s=JL(i,o=>new rD(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return YL(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Xt(r,Fn);const i=Xt(r.firestore,p),n=C(i),s=new yg(i);return function(r,i){const n=new Vn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(o,u,f){try{const m=yield function(w,D){const S=Be(w);return S.persistence.runTransaction("read document","readonly",I=>S.Qn.An(I,D))}(o,u);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new Se(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=sg(m,`Failed to get document '${u} from cache`);f.reject(w)}}),function(o,u,f){return s.apply(this,arguments)})(yield $E(r),i,n);var s})),n.promise}(n,r._key).then(o=>new ld(i,s,r._key,o,new _g(null!==o&&o.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Xt(r,Fn);const i=Xt(r.firestore,p);return pA(C(i),r._key,{source:"server"}).then(n=>J1(i,r,n))}(this._delegate):function(r){r=Xt(r,Fn);const i=Xt(r.firestore,p);return pA(C(i),r._key).then(n=>J1(i,r,n))}(this._delegate),n.then(s=>new rD(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new ba(this.firestore,this._delegate.withConverter(i?vg.getInstance(this.firestore,i):null))}}function Es(r,i,n){return r.message=r.message.replace(i,n),r}function QL(r){for(const i of r)if("object"==typeof i&&!eF(i))return i;return{}}function JL(r,i){var n,s;let o;return o=eF(r[0])?r[0]:eF(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:u=>{o.next&&o.next(i(u))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(s=o.complete)||void 0===s?void 0:s.bind(o)}}class rD{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return OL(this._delegate,i._delegate)}}class sD extends rD{data(i){const n=this._delegate.data(i);return function(r,i){r||We()}(void 0!==n),n}}class Ds{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new xA(i)}where(i,n,s){try{return new Ds(this.firestore,xf(this._delegate,function(r,i,n){const s=i,o=EA("where",r);return new $H(o,s,n)}(i,n,s)))}catch(o){throw Es(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new Ds(this.firestore,xf(this._delegate,function(r,i="asc"){const n=i,s=EA("orderBy",r);return new WH(s,n)}(i,n)))}catch(s){throw Es(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Ds(this.firestore,xf(this._delegate,function(r){return G1("limit",r),new PL("limit",r,"F")}(i)))}catch(n){throw Es(n,"limit()","Query.limit()")}}limitToLast(i){try{return new Ds(this.firestore,xf(this._delegate,function(r){return G1("limitToLast",r),new PL("limitToLast",r,"L")}(i)))}catch(n){throw Es(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Ds(this.firestore,xf(this._delegate,function(...r){return new NL("startAt",r,!0)}(...i)))}catch(n){throw Es(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Ds(this.firestore,xf(this._delegate,function(...r){return new NL("startAfter",r,!1)}(...i)))}catch(n){throw Es(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Ds(this.firestore,xf(this._delegate,function(...r){return new LL("endBefore",r,!0)}(...i)))}catch(n){throw Es(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Ds(this.firestore,xf(this._delegate,function(...r){return new LL("endAt",r,!1)}(...i)))}catch(n){throw Es(n,"endAt()","Query.endAt()")}}isEqual(i){return z1(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Xt(r,Ir);const i=Xt(r.firestore,p),n=C(i),s=new yg(i);return function(r,i){const n=new Vn;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(o,u,f){try{const m=yield Ev(o,u,!0),w=new tA(u,m.Gn),D=w.Io(m.documents),S=w.applyChanges(D,!1);f.resolve(S.snapshot)}catch(m){const w=sg(m,`Failed to execute query '${u} against cache`);f.reject(w)}}),function(o,u,f){return s.apply(this,arguments)})(yield $E(r),i,n);var s})),n.promise}(n,r._query).then(o=>new Df(i,s,r,o))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Xt(r,Ir);const i=Xt(r.firestore,p),n=C(i),s=new yg(i);return ZE(n,r._query,{source:"server"}).then(o=>new Df(i,s,r,o))}(this._delegate):function(r){r=Xt(r,Ir);const i=Xt(r.firestore,p),n=C(i),s=new yg(i);return FL(r._query),ZE(n,r._query).then(o=>new Df(i,s,r,o))}(this._delegate),n.then(s=>new tF(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=QL(i),s=JL(i,o=>new tF(this.firestore,new Df(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return YL(this._delegate,n,s)}withConverter(i){return new Ds(this.firestore,this._delegate.withConverter(i?vg.getInstance(this.firestore,i):null))}}class MG{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new sD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tF{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new Ds(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new sD(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new MG(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new sD(this._firestore,s))})}isEqual(i){return OL(this._delegate,i._delegate)}}class Zv extends Ds{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new ba(this.firestore,i):null}doc(i){try{return new ba(this.firestore,void 0===i?QE(this._delegate):QE(this._delegate,i))}catch(n){throw Es(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=Xt(r.firestore,p),s=QE(r),o=DA(r.converter,i);return $v(n,[Ef(wl(r.firestore),"addDoc",s._key,o,null!==r.converter,{}).toMutation(s._key,oi.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new ba(this.firestore,n))}isEqual(i){return j1(this._delegate,i._delegate)}withConverter(i){return new Zv(this.firestore,this._delegate.withConverter(i?vg.getInstance(this.firestore,i):null))}}function bg(r){return Xt(r,Fn)}class nF{constructor(...i){this._delegate=new ot(...i)}static documentId(){return new nF(si.keyField().canonicalString())}isEqual(i){return(i=(0,It.m9)(i))instanceof ot&&this._delegate._internalPath.isEqual(i._internalPath)}}class wg{constructor(i){this._delegate=i}static serverTimestamp(){const i=new Y1("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new wg(i)}static delete(){const i=new XE("deleteField");return i._methodName="FieldValue.delete",new wg(i)}static arrayUnion(...i){const n=function(...r){return new HH("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new wg(n)}static arrayRemove(...i){const n=function(...r){return new GH("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new wg(n)}static increment(i){const n=function(r){return new jH("increment",r)}(i);return n._methodName="FieldValue.increment",new wg(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const SG={Firestore:ZL,GeoPoint:kc,Timestamp:ln,Blob:iD,Transaction:WL,WriteBatch:KL,DocumentReference:ba,DocumentSnapshot:rD,Query:Ds,QueryDocumentSnapshot:sD,QuerySnapshot:tF,CollectionReference:Zv,FieldPath:nF,FieldValue:wg,setLogLevel:function(r){!function(r){fl.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function(r){(function(r,i){r.INTERNAL.registerComponent(new Jp.wA("firestore-compat",n=>((i,n)=>new ZL(i,n,new DG))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},SG)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(qx.Z);var oD=N(9746),IG=N(7771),kG=N(8858);class RG extends ke.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new OG(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,u=s.length;let f;if(this.closed)throw new Pd.N;if(this.isStopped||this.hasError?f=Zt.w.EMPTY:(this.observers.push(i),f=new kG.W(this,i)),o&&i.add(i=new oD.ht(i,o)),n)for(let m=0;m<u&&!i.closed;m++)i.next(s[m]);else for(let m=0;m<u&&!i.closed;m++)i.next(s[m].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),f}_getNow(){return(this.scheduler||IG.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,o=this._events,u=o.length;let f=0;for(;f<u&&!(i-o[f].time<s);)f++;return u>n&&(f=Math.max(f,u-n)),f>0&&o.splice(0,f),o}}class OG{constructor(i,n){this.time=i,this.value=n}}function iF(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},o=>o.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let o,f,u=0,m=!1,w=!1;return function(S){let I;u++,!o||m?(m=!1,o=new RG(r,i,s),I=o.subscribe(this),f=S.subscribe({next(F){o.next(F)},error(F){m=!0,o.error(F)},complete(){w=!0,f=void 0,o.complete()}}),w&&(f=void 0)):I=o.subscribe(this),this.add(()=>{u--,I.unsubscribe(),I=void 0,f&&!w&&n&&0===u&&(f.unsubscribe(),f=void 0,o=void 0)})}}(s))}function XL(r,i){return i?Tn(()=>r,i):Tn(()=>r)}var rF=N(9673);const eB=new a.OlP("angularfire2.auth.use-emulator"),tB=new a.OlP("angularfire2.auth.settings"),nB=new a.OlP("angularfire2.auth.tenant-id"),iB=new a.OlP("angularfire2.auth.langugage-code"),rB=new a.OlP("angularfire2.auth.use-device-language"),sB=new a.OlP("angularfire.auth.persistence"),oB=(r,i,n,s,o,u,f,m)=>(0,Wn.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const w=i.runOutsideAngular(()=>r.auth());if(n&&w.useEmulator(...n),s&&(w.tenantId=s),w.languageCode=o,u&&w.useDeviceLanguage(),f)for(const[D,S]of Object.entries(f))w.settings[D]=S;return m&&w.setPersistence(m),w},[n,s,o,u,f,m]);let sF=(()=>{class r{constructor(n,s,o,u,f,m,w,D,S,I,F){const L=new ke.xQ,j=(0,je.of)(void 0).pipe((0,oD.QV)(f.outsideAngular),Tn(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,6780)))),(0,rt.U)(()=>(0,Us.on)(n,u,s)),(0,rt.U)(te=>oB(te,u,m,D,S,I,w,F)),iF({bufferSize:1,refCount:!1}));if($c(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{j.pipe(An()).subscribe();const me=j.pipe(Tn(Le=>Le.getRedirectResult().then(ze=>ze,()=>null)),Wn.iC,iF({bufferSize:1,refCount:!1})),xe=j.pipe(Tn(Le=>new on.y(ze=>({unsubscribe:u.runOutsideAngular(()=>Le.onAuthStateChanged(gn=>ze.next(gn),gn=>ze.error(gn),()=>ze.complete()))})))),Ge=j.pipe(Tn(Le=>new on.y(ze=>({unsubscribe:u.runOutsideAngular(()=>Le.onIdTokenChanged(gn=>ze.next(gn),gn=>ze.error(gn),()=>ze.complete()))}))));this.authState=me.pipe(XL(xe),(0,rF.R)(f.outsideAngular),(0,oD.QV)(f.insideAngular)),this.user=me.pipe(XL(Ge),(0,rF.R)(f.outsideAngular),(0,oD.QV)(f.insideAngular)),this.idToken=this.user.pipe(Tn(Le=>Le?(0,$t.D)(Le.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(Tn(Le=>Le?(0,$t.D)(Le.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,Dn.T)(me,L,this.authState.pipe(Nt(Le=>!Le))).pipe((0,rt.U)(Le=>(null==Le?void 0:Le.user)?Le:null),(0,rF.R)(f.outsideAngular),(0,oD.QV)(f.insideAngular))}return(0,Us.pX)(this,j,u,{spy:{apply:(te,me,xe)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&xe.then(Ge=>L.next(Ge))}}})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Us.Dh),a.LFG(Us.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Wn.HU),a.LFG(eB,8),a.LFG(tB,8),a.LFG(nB,8),a.LFG(iB,8),a.LFG(rB,8),a.LFG(sB,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function aB(r,i){return function(r,i=Qp.z){return new on.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function oF(r,i){return aB(r,i).pipe((0,rt.U)(n=>({payload:n,type:"query"})))}function MA(r,i){return oF(r,i).pipe(Jt(void 0),lm(),(0,rt.U)(([n,s])=>{const o=s.payload.docChanges(),u=o.map(f=>({type:f.type,payload:f}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,m)=>{const w=o.find(S=>S.doc.ref.isEqual(f.ref)),D=null==n?void 0:n.payload.docs.find(S=>S.ref.isEqual(f.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(f.metadata)||!w&&D&&JSON.stringify(D.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),u}))}function lB(r,i,n){return MA(r,n).pipe(Ld((s,o)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return aF(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return aF(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return aF(r,i.oldIndex,1)}return r}(r,s))}),r}(s,o.map(u=>u.payload),i),[]),Fu(),(0,rt.U)(s=>s.map(o=>({type:o.type,payload:o}))))}function aF(r,i,n,...s){const o=r.slice();return o.splice(i,n,...s),o}function cB(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class uB{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=MA(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,rt.U)(s=>s.filter(o=>i.indexOf(o.type)>-1)))),n.pipe(Jt(void 0),lm(),Nt(([s,o])=>o.length>0||!s),(0,rt.U)(([s,o])=>o),Wn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Ld((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=cB(i);return lB(this.query,n,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(i={}){return oF(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),Wn.iC)}get(i){return(0,$t.D)(this.query.get(i)).pipe(Wn.iC)}add(i){return this.ref.add(i)}doc(i){return new dB(this.ref.doc(i),this.afs)}}class dB{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:o,query:u}=pB(s,n);return new uB(o,u,this.afs)}snapshotChanges(){return function(r,i){return aB(r,i).pipe(Jt(void 0),lm(),(0,rt.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,rt.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,$t.D)(this.ref.get(i)).pipe(Wn.iC)}}class UG{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?MA(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),Nt(n=>n.length>0),Wn.iC):MA(this.query,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Ld((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=cB(i);return lB(this.query,n,this.afs.schedulers.outsideAngular).pipe(Wn.iC)}valueChanges(i={}){return oF(this.query,this.afs.schedulers.outsideAngular).pipe((0,rt.U)(s=>s.payload.docs.map(o=>i.idField?Object.assign({[i.idField]:o.id},o.data()):o.data())),Wn.iC)}get(i){return(0,$t.D)(this.query.get(i)).pipe(Wn.iC)}}const hB=new a.OlP("angularfire2.enableFirestorePersistence"),fB=new a.OlP("angularfire2.firestore.persistenceSettings"),HG=new a.OlP("angularfire2.firestore.settings"),GG=new a.OlP("angularfire2.firestore.use-emulator");function pB(r,i=(n=>n)){return{query:i(r),ref:r}}let mB=(()=>{class r{constructor(n,s,o,u,f,m,w,D,S,I,F,L,j,te,me,xe){this.schedulers=w;const Ge=(0,Us.on)(n,m,s),Le=S;I&&oB(Ge,m,F,j,te,me,L,xe),[this.firestore,this.persistenceEnabled$]=(0,Wn.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const ze=m.runOutsideAngular(()=>Ge.firestore());if(u&&ze.settings(u),Le&&ze.useEmulator(...Le),o&&!$c(f)){const gn=()=>{try{return(0,$t.D)(ze.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(mi){return"undefined"!=typeof console&&console.warn(mi),(0,je.of)(!1)}};return[ze,m.runOutsideAngular(gn)]}return[ze,(0,je.of)(!1)]},[u,Le,o])}collection(n,s){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:u,query:f}=pB(o,s),m=this.schedulers.ngZone.run(()=>u);return new uB(m,f,this)}collectionGroup(n,s){const o=s||(f=>f),u=this.firestore.collectionGroup(n);return new UG(o(u),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>s);return new dB(o,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Us.Dh),a.LFG(Us.xv,8),a.LFG(hB,8),a.LFG(HG,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Wn.HU),a.LFG(fB,8),a.LFG(GG,8),a.LFG(sF,8),a.LFG(eB,8),a.LFG(tB,8),a.LFG(nB,8),a.LFG(iB,8),a.LFG(rB,8),a.LFG(sB,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),jG=(()=>{class r{constructor(){Eh.Z.registerVersion("angularfire",Wn.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:hB,useValue:!0},{provide:fB,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[mB]}),r})(),Sf=(()=>{class r{constructor(n){this.angularFirestore=n,this.toSendCollection=n.collection(ms.TOSEND),this.toSend=this.toSendCollection.valueChanges({idField:"id"}),this.sentCollection=n.collection(ms.SENT),this.sent=this.sentCollection.valueChanges({idField:"id"})}addImageToSend(n){return(0,$t.D)(this.toSendCollection.add(Object.assign({},n)))}deleteImageToSend(n){return(0,$t.D)(this.toSendCollection.doc(n.id).delete())}addImageSent(n){return(0,$t.D)(this.sentCollection.add(Object.assign({},n)))}deleteImageSent(n){return(0,$t.D)(this.sentCollection.doc(n.id).delete())}moveImageFromToSendToSent(n,s,o){return(0,Fi.mG)(this,void 0,void 0,function*(){yield this.deleteImageSent(n).toPromise().then(()=>{n.name=o,n.drawable=s,n.date=zx.format(),this.addImageSent(n).toPromise().then(()=>this.deleteImageToSend(n))}).catch(()=>console.warn("firestore"))})}addReply(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){const o=new RM(this.angularFirestore.createId(),Gs.getDisplayName(),s);return n.replies.push(o),yield this.angularFirestore.doc(ms.SENT+"/"+n.id).update({replies:Eh.Z.firestore.FieldValue.arrayUnion(...n.replies.map(u=>Object.assign({},u)))})})}editReply(n){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ms.SENT+"/"+n.id).update({replies:n.replies})})}deleteReply(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ms.SENT+"/"+n.id).update({replies:Eh.Z.firestore.FieldValue.arrayRemove(s)})})}addGrade(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){const o=new IR(this.angularFirestore.createId(),Gs.getDisplayName(),s);return n.grades.push(o),yield this.angularFirestore.doc(ms.SENT+"/"+n.id).update({grades:Eh.Z.firestore.FieldValue.arrayUnion(...n.grades.map(u=>Object.assign({},u)))})})}editGrade(n){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ms.SENT+"/"+n.id).update({grades:n.grades})})}deleteGrade(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.angularFirestore.doc(ms.SENT+"/"+n.id).update({replies:Eh.Z.firestore.FieldValue.arrayRemove(s)})})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(mB))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gB=(()=>{class r{constructor(n,s){this.fireStorage=n,this.fireStoreService=s}uploadFileToSend(n){const s=(new Date).getTime().toString()+"_"+n.name,o=ms.TOSEND+"/"+s;return{name:s,uploadProgress:this.fireStorage.upload(o,n).percentageChanges(),downloadUrl:this.fireStorage.ref(o).getDownloadURL()}}moveFileToSent(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){const o=[];yield this.fireStoreService.sentCollection.get().toPromise().then(S=>{S.forEach(I=>{const F=new sc(I.data().name,I.data().drawable,I.data().date);o.push(F)})});const u=yield fetch(s).then(S=>S.blob()),f=class{static getName(i){let s,o,u,n=!0;for(s=function(){const r=new Date,n=new Date((new Date).getFullYear(),0,0),s=r-n+60*(n.getTimezoneOffset()-r.getTimezoneOffset())*1e3;return Math.floor(s/864e5)}(),o=(new Date).getFullYear()-2016,u="Season "+o+" Day "+s;n;)0===i.length&&(n=!1),i.forEach(f=>{f.name===u&&(s+=1,u="Season "+o+" Day "+s)}),n=!1;return u}}.getName(o),m=n.substr(n.length-4),w=`${ms.SENT}/${f}${m}`;return yield this.fireStorage.upload(w,u).then(()=>this.fireStorage.refFromURL(s).delete()),{drawable:yield this.fireStorage.ref(w).getDownloadURL().toPromise(),newName:f}})}deleteFile(n){this.fireStorage.refFromURL(n).delete()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(kM),a.LFG(Sf))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ue(r){return null!=r&&"false"!=`${r}`}function ai(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function SA(r){return Array.isArray(r)?r:[r]}function Ui(r){return null==r?"":"string"==typeof r?r:`${r}px`}function cd(r){return r instanceof a.SBq?r.nativeElement:r}var qG=N(9105);function Rc(r,i,n,s){return(0,qG.m)(n)&&(s=n,n=void 0),s?Rc(r,i,n).pipe((0,rt.U)(o=>(0,Vl.k)(o)?s(...o):s(o))):new on.y(o=>{_B(r,i,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,n)})}function _B(r,i,n,s,o){let u;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const f=r;r.addEventListener(i,n,o),u=()=>f.removeEventListener(i,n,o)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const f=r;r.on(i,n),u=()=>f.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const f=r;r.addListener(i,n),u=()=>f.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let f=0,m=r.length;f<m;f++)_B(r[f],i,n,s,o)}s.add(u)}var KG=N(6465),JG=N(6102);const e6=new class extends JG.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,o=-1,u=n.length;i=i||n.shift();do{if(s=i.execute(i.state,i.delay))break}while(++o<u&&(i=n.shift()));if(this.active=!1,s){for(;++o<u&&(i=n.shift());)i.unsubscribe();throw s}}}(class extends KG.o{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,s=0){return null!==s&&s>0?super.requestAsyncId(i,n,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,n,s);0===i.actions.length&&(cancelAnimationFrame(n),i.scheduled=void 0)}});var lF=N(4581);function cF(r){return!!r&&(r instanceof on.y||"function"==typeof r.lift&&"function"==typeof r.subscribe)}class n6{constructor(i){this.durationSelector=i}call(i,n){return n.subscribe(new i6(i,this.durationSelector))}}class i6 extends qr.Ds{constructor(i,n){super(i),this.durationSelector=n,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:o}=this;n=o(i)}catch(o){return this.destination.error(o)}const s=(0,qr.ft)(n,new qr.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var yB=N(6561);function r6(r){const{index:i,period:n,subscriber:s}=r;if(s.next(i),!s.closed){if(-1===n)return s.complete();r.index=i+1,this.schedule(r,n)}}function TA(r,i=Qp.P){return function(r){return function(n){return n.lift(new n6(r))}}(()=>function(r=0,i,n){let s=-1;return(0,yB.k)(i)?s=Number(i)<1?1:Number(i):(0,Fa.K)(i)&&(n=i),(0,Fa.K)(n)||(n=Qp.P),new on.y(o=>{const u=(0,yB.k)(r)?r:+r-n.now();return n.schedule(r6,u,{index:0,period:s,subscriber:o})})}(r,i))}let uF;try{uF="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){uF=!1}let Kv,Vt=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?co(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!uF)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.Lbi))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.Lbi))},token:r,providedIn:"root"}),r})(),Wv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const bB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wB(){if(Kv)return Kv;if("object"!=typeof document||!document)return Kv=new Set(bB),Kv;let r=document.createElement("input");return Kv=new Set(bB.filter(i=>(r.setAttribute("type",i),r.type===i))),Kv}let aD,AA,Eg,dF;function Cg(r){return function(){if(null==aD&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aD=!0}))}finally{aD=aD||!1}return aD}()?r:!!r.capture}function CB(){if(null==Eg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Eg=!1,Eg;if("scrollBehavior"in document.documentElement.style)Eg=!0;else{const r=Element.prototype.scrollTo;Eg=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return Eg}function lD(){if("object"!=typeof document||!document)return 0;if(null==AA){const r=document.createElement("div"),i=r.style;r.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const n=document.createElement("div"),s=n.style;s.width="2px",s.height="1px",r.appendChild(n),document.body.appendChild(r),AA=0,0===r.scrollLeft&&(r.scrollLeft=1,AA=0===r.scrollLeft?1:2),r.parentNode.removeChild(r)}return AA}function cD(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const i=r.shadowRoot.activeElement;if(i===r)break;r=i}return r}function Qv(r){return r.composedPath?r.composedPath()[0]:r.target}class c6 extends class{}{constructor(i){super(),this._data=i}connect(){return cF(this._data)?this._data:(0,je.of)(this._data)}disconnect(){}}class hF{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(i,n,s,o,u){i.forEachOperation((f,m,w)=>{let D,S;null==f.previousIndex?(D=this._insertView(()=>s(f,m,w),w,n,o(f)),S=D?1:0):null==w?(this._detachAndCacheView(m,n),S=3):(D=this._moveView(m,w,n,o(f)),S=2),u&&u({context:null==D?void 0:D.context,operation:S,record:f})})}detach(){for(const i of this._viewCache)i.destroy();this._viewCache=[]}_insertView(i,n,s,o){const u=this._insertViewFromCache(n,s);if(u)return void(u.context.$implicit=o);const f=i();return s.createEmbeddedView(f.templateRef,f.context,f.index)}_detachAndCacheView(i,n){const s=n.detach(i);this._maybeCacheView(s,n)}_moveView(i,n,s,o){const u=s.get(i);return s.move(u,n),u.context.$implicit=o,u}_maybeCacheView(i,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(i);else{const s=n.indexOf(i);-1===s?i.destroy():n.remove(s)}}_insertViewFromCache(i,n){const s=this._viewCache.pop();return s&&n.insert(s,i),s||null}}const Dg=new a.OlP("_ViewRepeater"),u6=["contentWrapper"],d6=["*"],DB=new a.OlP("VIRTUAL_SCROLL_STRATEGY");class h6{constructor(i,n,s){this._scrolledIndexChange=new ke.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Fu()),this._viewport=null,this._itemSize=i,this._minBufferPx=n,this._maxBufferPx=s}attach(i){this._viewport=i,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(i,n,s){this._itemSize=i,this._minBufferPx=n,this._maxBufferPx=s,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(i,n){this._viewport&&this._viewport.scrollToOffset(i*this._itemSize,n)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const i=this._viewport.getRenderedRange(),n={start:i.start,end:i.end},s=this._viewport.getViewportSize(),o=this._viewport.getDataLength();let u=this._viewport.measureScrollOffset(),f=this._itemSize>0?u/this._itemSize:0;if(n.end>o){const w=Math.ceil(s/this._itemSize),D=Math.max(0,Math.min(f,o-w));f!=D&&(f=D,u=D*this._itemSize,n.start=Math.floor(f)),n.end=Math.max(0,Math.min(o,n.start+w))}const m=u-n.start*this._itemSize;if(m<this._minBufferPx&&0!=n.start){const w=Math.ceil((this._maxBufferPx-m)/this._itemSize);n.start=Math.max(0,n.start-w),n.end=Math.min(o,Math.ceil(f+(s+this._minBufferPx)/this._itemSize))}else{const w=n.end*this._itemSize-(u+s);if(w<this._minBufferPx&&n.end!=o){const D=Math.ceil((this._maxBufferPx-w)/this._itemSize);D>0&&(n.end=Math.min(o,n.end+D),n.start=Math.max(0,Math.floor(f-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(f))}}function f6(r){return r._scrollStrategy}let OA=(()=>{class r{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new h6(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=ai(n)}get minBufferPx(){return this._minBufferPx}set minBufferPx(n){this._minBufferPx=ai(n)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(n){this._maxBufferPx=ai(n)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[a._Bn([{provide:DB,useFactory:f6,deps:[(0,a.Gpc)(()=>r)]}]),a.TTD]}),r})(),Tf=(()=>{class r{constructor(n,s,o){this._ngZone=n,this._platform=s,this._scrolled=new ke.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new on.y(s=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(TA(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,je.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const o=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(Nt(u=>!u||o.indexOf(u)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((o,u)=>{this._scrollableContainsElement(u,n)&&s.push(u)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let o=cd(s),u=n.getElementRef().nativeElement;do{if(o==u)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Rc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(Vt),a.LFG(q,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.R0b),a.LFG(Vt),a.LFG(q,8))},token:r,providedIn:"root"}),r})(),Jv=(()=>{class r{constructor(n,s,o,u){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=o,this.dir=u,this._destroyed=new ke.xQ,this._elementScrolled=new on.y(f=>this.ngZone.runOutsideAngular(()=>Rc(this.elementRef.nativeElement,"scroll").pipe(Je(this._destroyed)).subscribe(f)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const s=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=o?n.end:n.start),null==n.right&&(n.right=o?n.start:n.end),null!=n.bottom&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),o&&0!=lD()?(null!=n.left&&(n.right=s.scrollWidth-s.clientWidth-n.left),2==lD()?n.left=n.right:1==lD()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const s=this.elementRef.nativeElement;CB()?s.scrollTo(n):(null!=n.top&&(s.scrollTop=n.top),null!=n.left&&(s.scrollLeft=n.left))}measureScrollOffset(n){const s="left",o="right",u=this.elementRef.nativeElement;if("top"==n)return u.scrollTop;if("bottom"==n)return u.scrollHeight-u.clientHeight-u.scrollTop;const f=this.dir&&"rtl"==this.dir.value;return"start"==n?n=f?o:s:"end"==n&&(n=f?s:o),f&&2==lD()?n==s?u.scrollWidth-u.clientWidth-u.scrollLeft:u.scrollLeft:f&&1==lD()?n==s?u.scrollLeft+u.scrollWidth-u.clientWidth:-u.scrollLeft:n==s?u.scrollLeft:u.scrollWidth-u.clientWidth-u.scrollLeft}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Tf),a.Y36(a.R0b),a.Y36(Wt,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),Ro=(()=>{class r{constructor(n,s,o){this._platform=n,this._change=new ke.xQ,this._changeListener=u=>{this._change.next(u)},this._document=o,s.runOutsideAngular(()=>{if(n.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),o=n.documentElement,u=o.getBoundingClientRect();return{top:-u.top||n.body.scrollTop||s.scrollY||o.scrollTop||0,left:-u.left||n.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(TA(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q,8))},token:r,providedIn:"root"}),r})();const _6="undefined"!=typeof requestAnimationFrame?e6:lF.E;let uD=(()=>{class r extends Jv{constructor(n,s,o,u,f,m,w){super(n,m,o,f),this.elementRef=n,this._changeDetectorRef=s,this._scrollStrategy=u,this._detachedSubject=new ke.xQ,this._renderedRangeSubject=new ke.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new on.y(D=>this._scrollStrategy.scrolledIndexChange.subscribe(S=>Promise.resolve().then(()=>this.ngZone.run(()=>D.next(S))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Zt.w.EMPTY,this._viewportChanges=w.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(n){this._orientation!==n&&(this._orientation=n,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(n){this._appendOnly=Ue(n)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Jt(null),TA(0,_6)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(n){this.ngZone.runOutsideAngular(()=>{this._forOf=n,this._forOf.dataStream.pipe(Je(this._detachedSubject)).subscribe(s=>{const o=s.length;o!==this._dataLength&&(this._dataLength=o,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(n){this._totalContentSize!==n&&(this._totalContentSize=n,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(n){(function(r,i){return r.start==i.start&&r.end==i.end})(this._renderedRange,n)||(this.appendOnly&&(n={start:0,end:Math.max(this._renderedRange.end,n.end)}),this._renderedRangeSubject.next(this._renderedRange=n),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(n,s="to-start"){const u="horizontal"==this.orientation,f=u?"X":"Y";let w=`translate${f}(${Number((u&&this.dir&&"rtl"==this.dir.value?-1:1)*n)}px)`;this._renderedContentOffset=n,"to-end"===s&&(w+=` translate${f}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=w&&(this._renderedContentTransform=w,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(n,s="auto"){const o={behavior:s};"horizontal"===this.orientation?o.start=n:o.top=n,this.scrollTo(o)}scrollToIndex(n,s="auto"){this._scrollStrategy.scrollToIndex(n,s)}measureScrollOffset(n){return super.measureScrollOffset(n||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const n=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?n.offsetWidth:n.offsetHeight}measureRangeSize(n){return this._forOf?this._forOf.measureRangeSize(n,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const n=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?n.clientWidth:n.clientHeight}_markChangeDetectionNeeded(n){n&&this._runAfterChangeDetection.push(n),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const n=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const s of n)s()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(DB,8),a.Y36(Wt,8),a.Y36(Tf),a.Y36(Ro))},r.\u0275cmp=a.Xpm({type:r,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(n,s){if(1&n&&a.Gf(u6,7),2&n){let o;a.iGM(o=a.CRH())&&(s._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(n,s){2&n&&a.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===s.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==s.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[a._Bn([{provide:Jv,useExisting:r}]),a.qOj],ngContentSelectors:d6,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(n,s){1&n&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA(),a._UZ(3,"div",2)),2&n&&(a.xp6(3),a.Udp("width",s._totalContentWidth)("height",s._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),r})();function xB(r,i,n){if(!n.getBoundingClientRect)return 0;const o=n.getBoundingClientRect();return"horizontal"===r?"start"===i?o.left:o.right:"start"===i?o.top:o.bottom}let fF=(()=>{class r{constructor(n,s,o,u,f,m){this._viewContainerRef=n,this._template=s,this._differs=o,this._viewRepeater=u,this._viewport=f,this.viewChange=new ke.xQ,this._dataSourceChanges=new ke.xQ,this.dataStream=this._dataSourceChanges.pipe(Jt(null),lm(),Tn(([w,D])=>this._changeDataSource(w,D)),iF(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new ke.xQ,this.dataStream.subscribe(w=>{this._data=w,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Je(this._destroyed)).subscribe(w=>{this._renderedRange=w,m.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(n){this._cdkVirtualForOf=n,function(r){return r&&"function"==typeof r.connect}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new c6(cF(n)?n:Array.from(n||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(n){this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?(s,o)=>n(s+(this._renderedRange?this._renderedRange.start:0),o):void 0}set cdkVirtualForTemplate(n){n&&(this._needsUpdate=!0,this._template=n)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(n){this._viewRepeater.viewCacheSize=ai(n)}measureRangeSize(n,s){if(n.start>=n.end)return 0;const o=n.start-this._renderedRange.start,u=n.end-n.start;let f,m;for(let w=0;w<u;w++){const D=this._viewContainerRef.get(w+o);if(D&&D.rootNodes.length){f=m=D.rootNodes[0];break}}for(let w=u-1;w>-1;w--){const D=this._viewContainerRef.get(w+o);if(D&&D.rootNodes.length){m=D.rootNodes[D.rootNodes.length-1];break}}return f&&m?xB(s,"end",m)-xB(s,"start",f):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((n,s)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(n,s):s)),this._needsUpdate=!0)}_changeDataSource(n,s){return n&&n.disconnect(this),this._needsUpdate=!0,s?s.connect(this):(0,je.of)()}_updateContext(){const n=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const o=this._viewContainerRef.get(s);o.context.index=this._renderedRange.start+s,o.context.count=n,this._updateComputedContextProperties(o.context),o.detectChanges()}}_applyChanges(n){this._viewRepeater.applyChanges(n,this._viewContainerRef,(u,f,m)=>this._getEmbeddedViewArgs(u,m),u=>u.item),n.forEachIdentityChange(u=>{this._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});const s=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const u=this._viewContainerRef.get(o);u.context.index=this._renderedRange.start+o,u.context.count=s,this._updateComputedContextProperties(u.context)}}_updateComputedContextProperties(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}_getEmbeddedViewArgs(n,s){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:s}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(Dg),a.Y36(uD,4),a.Y36(a.R0b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[a._Bn([{provide:Dg,useClass:hF}])]}),r})(),Af=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),FA=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Eo,Wv,Af],Eo,Af]}),r})();class pF{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class If extends pF{constructor(i,n,s,o){super(),this.component=i,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=o}}class Oc extends pF{constructor(i,n,s){super(),this.templateRef=i,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,n=this.context){return this.context=n,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class y6 extends pF{constructor(i){super(),this.element=i instanceof a.SBq?i.nativeElement:i}}class PA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof If?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof Oc?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof y6?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MB extends PA{constructor(i,n,s,o,u){super(),this.outletElement=i,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=o,this.attachDomPortal=f=>{const m=f.element,w=this._document.createComment("dom-portal");m.parentNode.insertBefore(w,m),this.outletElement.appendChild(m),this._attachedPortal=f,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(m,w)})},this._document=u}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let o;return i.viewContainerRef?(o=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=s.create(i.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=i,o}attachTemplatePortal(i){let n=i.viewContainerRef,s=n.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(o=>this.outletElement.appendChild(o)),s.detectChanges(),this.setDisposeFn(()=>{let o=n.indexOf(s);-1!==o&&n.remove(o)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let wa=(()=>{class r extends PA{constructor(n,s,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=u=>{const f=u.element,m=this._document.createComment("dom-portal");u.setAttachedHost(this),f.parentNode.insertBefore(m,f),this._getRootNode().appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(n){n.setAttachedHost(this);const s=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,u=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),f=s.createComponent(u,s.length,n.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=n,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(n){n.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(q))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),r})(),Xv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const TB=CB();class k6{constructor(i,n){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Ui(-this._previousScrollPosition.left),i.style.top=Ui(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,o=this._document.body.style,u=s.scrollBehavior||"",f=o.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),TB&&(s.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TB&&(s.scrollBehavior=u,o.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class R6{constructor(i,n,s,o){this._scrollDispatcher=i,this._ngZone=n,this._viewportRuler=s,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class AB{enable(){}disable(){}attach(){}}function vF(r,i){return i.some(n=>r.bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}function IB(r,i){return i.some(n=>r.top<n.top||r.bottom>n.bottom||r.left<n.left||r.right>n.right)}class O6{constructor(i,n,s,o){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=s,this._config=o,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:o}=this._viewportRuler.getViewportSize();vF(n,[{width:s,height:o,bottom:o,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let F6=(()=>{class r{constructor(n,s,o,u){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=o,this.noop=()=>new AB,this.close=f=>new R6(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new k6(this._viewportRuler,this._document),this.reposition=f=>new O6(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=u}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Tf),a.LFG(Ro),a.LFG(a.R0b),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Tf),a.LFG(Ro),a.LFG(a.R0b),a.LFG(q))},token:r,providedIn:"root"}),r})();class eb{constructor(i){if(this.scrollStrategy=new AB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const n=Object.keys(i);for(const s of n)void 0!==i[s]&&(this[s]=i[s])}}}class P6{constructor(i,n,s,o,u){this.offsetX=s,this.offsetY=o,this.panelClass=u,this.originX=i.originX,this.originY=i.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class N6{constructor(i,n){this.connectionPair=i,this.scrollableViewProperties=n}}let kB=(()=>{class r{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q))},token:r,providedIn:"root"}),r})(),L6=(()=>{class r extends kB{constructor(n){super(n),this._keydownListener=s=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){o[u]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q))},token:r,providedIn:"root"}),r})(),B6=(()=>{class r extends kB{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=o=>{const u=Qv(o),f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const w=f[m];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(u))break;w._outsidePointerEvents.next(o)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q),a.LFG(Vt))},token:r,providedIn:"root"}),r})();const kf="undefined"!=typeof window?window:{},RB=void 0!==kf.__karma__&&!!kf.__karma__||void 0!==kf.jasmine&&!!kf.jasmine||void 0!==kf.jest&&!!kf.jest||void 0!==kf.Mocha&&!!kf.Mocha;let dD=(()=>{class r{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||RB){const o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let u=0;u<o.length;u++)o[u].parentNode.removeChild(o[u])}const s=this._document.createElement("div");s.classList.add(n),RB?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(q),a.LFG(Vt))},token:r,providedIn:"root"}),r})();class V6{constructor(i,n,s,o,u,f,m,w,D){this._portalOutlet=i,this._host=n,this._pane=s,this._config=o,this._ngZone=u,this._keyboardDispatcher=f,this._document=m,this._location=w,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new ke.xQ,this._attachments=new ke.xQ,this._detachments=new ke.xQ,this._locationChanges=Zt.w.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._keydownEvents=new ke.xQ,this._outsidePointerEvents=new ke.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let n=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(hn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Ui(this._config.width),i.height=Ui(this._config.height),i.minWidth=Ui(this._config.minWidth),i.minHeight=Ui(this._config.minHeight),i.maxWidth=Ui(this._config.maxWidth),i.maxHeight=Ui(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let n,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(n)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,n,s){const o=i.classList;SA(n).forEach(u=>{u&&(s?o.add(u):o.remove(u))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Je((0,Dn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const OB="cdk-overlay-connected-position-bounding-box",U6=/([A-Za-z%]+)$/;class bF{constructor(i,n,s,o,u){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke.xQ,this._resizeSubscription=Zt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(OB),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,n=this._overlayRect,s=this._viewportRect,o=[];let u;for(let f of this._preferredPositions){let m=this._getOriginPoint(i,f),w=this._getOverlayPoint(m,n,f),D=this._getOverlayFit(w,n,s,f);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(D,w,s)?o.push({position:f,origin:m,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!u||u.overlayFit.visibleArea<D.visibleArea)&&(u={overlayFit:D,overlayPoint:w,originPoint:m,position:f,overlayRect:n})}if(o.length){let f=null,m=-1;for(const w of o){const D=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);D>m&&(m=D,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,i);this._applyPosition(i,n)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,n){let s,o;if("center"==n.originX)s=i.left+i.width/2;else{const u=this._isRtl()?i.right:i.left,f=this._isRtl()?i.left:i.right;s="start"==n.originX?u:f}return o="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,{x:s,y:o}}_getOverlayPoint(i,n,s){let o,u;return o="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,u="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:i.x+o,y:i.y+u}}_getOverlayFit(i,n,s,o){const u=PB(n);let{x:f,y:m}=i,w=this._getOffset(o,"x"),D=this._getOffset(o,"y");w&&(f+=w),D&&(m+=D);let F=0-m,L=m+u.height-s.height,j=this._subtractOverflows(u.width,0-f,f+u.width-s.width),te=this._subtractOverflows(u.height,F,L),me=j*te;return{visibleArea:me,isCompletelyWithinViewport:u.width*u.height===me,fitsInViewportVertically:te===u.height,fitsInViewportHorizontally:j==u.width}}_canFitWithFlexibleDimensions(i,n,s){if(this._hasFlexibleDimensions){const o=s.bottom-n.y,u=s.right-n.x,f=FB(this._overlayRef.getConfig().minHeight),m=FB(this._overlayRef.getConfig().minWidth),D=i.fitsInViewportHorizontally||null!=m&&m<=u;return(i.fitsInViewportVertically||null!=f&&f<=o)&&D}return!1}_pushOverlayOnScreen(i,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const o=PB(n),u=this._viewportRect,f=Math.max(i.x+o.width-u.width,0),m=Math.max(i.y+o.height-u.height,0),w=Math.max(u.top-s.top-i.y,0),D=Math.max(u.left-s.left-i.x,0);let S=0,I=0;return S=o.width<=u.width?D||-f:i.x<this._viewportMargin?u.left-s.left-i.x:0,I=o.height<=u.height?w||-m:i.y<this._viewportMargin?u.top-s.top-i.y:0,this._previousPushAmount={x:S,y:I},{x:i.x+S,y:i.y+I}}_applyPosition(i,n){if(this._setTransformOrigin(i),this._setOverlayElementStyles(n,i),this._setBoundingBoxStyles(n,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),o=new N6(i,s);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,o=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let u=0;u<n.length;u++)n[u].style.transformOrigin=`${s} ${o}`}_calculateBoundingBoxRect(i,n){const s=this._viewportRect,o=this._isRtl();let u,f,m,S,I,F;if("top"===n.overlayY)f=i.y,u=s.height-f+this._viewportMargin;else if("bottom"===n.overlayY)m=s.height-i.y+2*this._viewportMargin,u=s.height-m+this._viewportMargin;else{const L=Math.min(s.bottom-i.y+s.top,i.y),j=this._lastBoundingBoxSize.height;u=2*L,f=i.y-L,u>j&&!this._isInitialRender&&!this._growAfterOpen&&(f=i.y-j/2)}if("end"===n.overlayX&&!o||"start"===n.overlayX&&o)F=s.width-i.x+this._viewportMargin,S=i.x-this._viewportMargin;else if("start"===n.overlayX&&!o||"end"===n.overlayX&&o)I=i.x,S=s.right-i.x;else{const L=Math.min(s.right-i.x+s.left,i.x),j=this._lastBoundingBoxSize.width;S=2*L,I=i.x-L,S>j&&!this._isInitialRender&&!this._growAfterOpen&&(I=i.x-j/2)}return{top:f,left:I,bottom:m,right:F,width:S,height:u}}_setBoundingBoxStyles(i,n){const s=this._calculateBoundingBoxRect(i,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;o.height=Ui(s.height),o.top=Ui(s.top),o.bottom=Ui(s.bottom),o.width=Ui(s.width),o.left=Ui(s.left),o.right=Ui(s.right),o.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",o.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",u&&(o.maxHeight=Ui(u)),f&&(o.maxWidth=Ui(f))}this._lastBoundingBoxSize=s,Tg(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Tg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,n){const s={},o=this._hasExactPosition(),u=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(o){const S=this._viewportRuler.getViewportScrollPosition();Tg(s,this._getExactOverlayY(n,i,S)),Tg(s,this._getExactOverlayX(n,i,S))}else s.position="static";let m="",w=this._getOffset(n,"x"),D=this._getOffset(n,"y");w&&(m+=`translateX(${w}px) `),D&&(m+=`translateY(${D}px)`),s.transform=m.trim(),f.maxHeight&&(o?s.maxHeight=Ui(f.maxHeight):u&&(s.maxHeight="")),f.maxWidth&&(o?s.maxWidth=Ui(f.maxWidth):u&&(s.maxWidth="")),Tg(this._pane.style,s)}_getExactOverlayY(i,n,s){let o={top:"",bottom:""},u=this._getOverlayPoint(n,this._overlayRect,i);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=f,"bottom"===i.overlayY?o.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":o.top=Ui(u.y),o}_getExactOverlayX(i,n,s){let f,o={left:"",right:""},u=this._getOverlayPoint(n,this._overlayRect,i);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,s)),f=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===f?o.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":o.left=Ui(u.x),o}_getScrollVisibility(){const i=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:IB(i,s),isOriginOutsideView:vF(i,s),isOverlayClipped:IB(n,s),isOverlayOutsideView:vF(n,s)}}_subtractOverflows(i,...n){return n.reduce((s,o)=>s-Math.max(o,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:i-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,n){return"x"===n?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&SA(i).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof a.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const n=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+n,height:s,width:n}}}function Tg(r,i){for(let n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);return r}function FB(r){if("number"!=typeof r&&null!=r){const[i,n]=r.split(U6);return n&&"px"!==n?null:parseFloat(i)}return r||null}function PB(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}class H6{constructor(i,n,s,o,u,f,m){this._preferredPositions=[],this._positionStrategy=new bF(s,o,u,f,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,n,s,o){const u=new P6(i,n,s,o);return this._preferredPositions.push(u),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const NB="cdk-global-overlay-wrapper";class G6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const n=i.getConfig();this._overlayRef=i,this._width&&!n.width&&i.updateSize({width:this._width}),this._height&&!n.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(NB),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:o,height:u,maxWidth:f,maxHeight:m}=s,w=!("100%"!==o&&"100vw"!==o||f&&"100%"!==f&&"100vw"!==f),D=!("100%"!==u&&"100vh"!==u||m&&"100%"!==m&&"100vh"!==m);i.position=this._cssPosition,i.marginLeft=w?"0":this._leftOffset,i.marginTop=D?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,w?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(NB),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let j6=(()=>{class r{constructor(n,s,o,u){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=u}global(){return new G6}connectedTo(n,s,o){return new H6(s,o,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new bF(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Ro),a.LFG(q),a.LFG(Vt),a.LFG(dD))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Ro),a.LFG(q),a.LFG(Vt),a.LFG(dD))},token:r,providedIn:"root"}),r})(),z6=0,ts=(()=>{class r{constructor(n,s,o,u,f,m,w,D,S,I,F){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=o,this._positionBuilder=u,this._keyboardDispatcher=f,this._injector=m,this._ngZone=w,this._document=D,this._directionality=S,this._location=I,this._outsideClickDispatcher=F}create(n){const s=this._createHostElement(),o=this._createPaneElement(s),u=this._createPortalOutlet(o),f=new eb(n);return f.direction=f.direction||this._directionality.value,new V6(u,s,o,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+z6++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new MB(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(F6),a.LFG(dD),a.LFG(a._Vd),a.LFG(j6),a.LFG(L6),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(q),a.LFG(Wt),a.LFG(ct),a.LFG(B6))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Z6={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ts],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let tb=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[ts,Z6],imports:[[Eo,Xv,FA],FA]}),r})();function VB(r){return i=>i.lift(new W6(r))}class W6{constructor(i){this.total=i}call(i,n){return n.subscribe(new K6(i,this.total))}}class K6 extends wi.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}let wF=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),UB=(()=>{class r{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,s)=>this._cleanupObserver(s))}observe(n){const s=cd(n);return new on.y(o=>{const f=this._observeElement(s).subscribe(o);return()=>{f.unsubscribe(),this._unobserveElement(s)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const s=new ke.xQ,o=this._mutationObserverFactory.create(u=>s.next(u));o&&o.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:o,stream:s,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:s,stream:o}=this._observedElements.get(n);s&&s.disconnect(),o.complete(),this._observedElements.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(wF))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(wF))},token:r,providedIn:"root"}),r})(),hD=(()=>{class r{constructor(n,s,o){this._contentObserver=n,this._elementRef=s,this._ngZone=o,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=Ue(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=ai(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(ry(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(UB),a.Y36(a.SBq),a.Y36(a.R0b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),fD=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[wF]}),r})(),$B=(()=>{class r{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(i){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(n));if(s&&(-1===WB(s)||!this.isVisible(s)))return!1;let o=n.nodeName.toLowerCase(),u=WB(n);return n.hasAttribute("contenteditable")?-1!==u:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let i=r.nodeName.toLowerCase(),n="input"===i&&r.type;return"text"===n||"password"===n||"select"===i||"textarea"===i}(n))&&("audio"===o?!!n.hasAttribute("controls")&&-1!==u:"video"===o?-1!==u&&(null!==u||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let i=r.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||ZB(r))}(n)&&!this.isDisabled(n)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(n))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt))},token:r,providedIn:"root"}),r})();function ZB(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let i=r.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function WB(r){if(!ZB(r))return null;const i=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class dj{constructor(i,n,s,o,u=!1){this._element=i,this._checker=n,this._ngZone=s,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,n=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let n=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<n.length;s++)n[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]):n[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]);return"start"==i?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const s=this._getFirstTabbableElement(n);return null==s||s.focus(i),!!s}return n.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const n=this._getRegionBoundary("start");return n&&n.focus(i),!!n}focusLastTabbableElement(i){const n=this._getRegionBoundary("end");return n&&n.focus(i),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=0;s<n.length;s++){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[s]):null;if(o)return o}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=n.length-1;s>=0;s--){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[s]):null;if(o)return o}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,n){i?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(hn(1)).subscribe(i)}}let EF=(()=>{class r{constructor(n,s,o){this._checker=n,this._ngZone=s,this._document=o}create(n,s=!1){return new dj(n,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG($B),a.LFG(a.R0b),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG($B),a.LFG(a.R0b),a.LFG(q))},token:r,providedIn:"root"}),r})();function DF(r){return 0===r.offsetX&&0===r.offsetY}function xF(r){const i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const KB=new a.OlP("cdk-input-modality-detector-options"),_j={ignoreKeys:[18,17,224,91,16]},nb=Cg({passive:!0,capture:!0});let JB=(()=>{class r{constructor(n,s,o,u){this._platform=n,this._mostRecentTarget=null,this._modality=new Yi(null),this._lastTouchMs=0,this._onKeydown=f=>{var m,w;(null===(w=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===w?void 0:w.some(D=>D===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Qv(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(DF(f)?"keyboard":"mouse"),this._mostRecentTarget=Qv(f))},this._onTouchstart=f=>{xF(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Qv(f))},this._options=Object.assign(Object.assign({},_j),u),this.modalityDetected=this._modality.pipe(VB(1)),this.modalityChanged=this.modalityDetected.pipe(Fu()),n.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,nb),o.addEventListener("mousedown",this._onMousedown,nb),o.addEventListener("touchstart",this._onTouchstart,nb)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,nb),document.removeEventListener("mousedown",this._onMousedown,nb),document.removeEventListener("touchstart",this._onTouchstart,nb))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q),a.LFG(KB,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(a.R0b),a.LFG(q),a.LFG(KB,8))},token:r,providedIn:"root"}),r})();const XB=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),eV=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let HA=(()=>{class r{constructor(n,s,o,u){this._ngZone=s,this._defaultOptions=u,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...s){const o=this._defaultOptions;let u,f;return 1===s.length&&"number"==typeof s[0]?f=s[0]:[u,f]=s,this.clear(),clearTimeout(this._previousTimeout),u||(u=o&&o.politeness?o.politeness:"polite"),null==f&&o&&(f=o.duration),this._liveElement.setAttribute("aria-live",u),this._ngZone.runOutsideAngular(()=>new Promise(m=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,m(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const n="cdk-live-announcer-element",s=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let u=0;u<s.length;u++)s[u].parentNode.removeChild(s[u]);return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(XB,8),a.LFG(a.R0b),a.LFG(q),a.LFG(eV,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(XB,8),a.LFG(a.R0b),a.LFG(q),a.LFG(eV,8))},token:r,providedIn:"root"}),r})();const tV=new a.OlP("cdk-focus-monitor-default-options"),GA=Cg({passive:!0,capture:!0});let Rr=(()=>{class r{constructor(n,s,o,u,f){this._ngZone=n,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke.xQ,this._rootNodeFocusAndBlurListener=m=>{const w=Qv(m),D="focus"===m.type?this._onFocus:this._onBlur;for(let S=w;S;S=S.parentElement)D.call(this,m,S)},this._document=u,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(n,s=!1){const o=cd(n);if(!this._platform.isBrowser||1!==o.nodeType)return(0,je.of)(null);const u=function(r){if(function(){if(null==dF){const r="undefined"!=typeof document?document.head:null;dF=!(!r||!r.createShadowRoot&&!r.attachShadow)}return dF}()){const i=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return s&&(f.checkChildren=!0),f.subject;const m={checkChildren:s,subject:new ke.xQ,rootNode:u};return this._elementInfo.set(o,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(n){const s=cd(n),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(n,s,o){const u=cd(n);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([m,w])=>this._originChanged(m,s,w)):(this._setOrigin(s),"function"==typeof u.focus&&u.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(n,s,o){o?n.classList.add(s):n.classList.remove(s)}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,s){this._toggleClass(n,"cdk-focused",!!s),this._toggleClass(n,"cdk-touch-focused","touch"===s),this._toggleClass(n,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(n,"cdk-mouse-focused","mouse"===s),this._toggleClass(n,"cdk-program-focused","program"===s)}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,s){const o=this._elementInfo.get(s),u=Qv(n);!o||!o.checkChildren&&s!==u||this._originChanged(s,this._getFocusOrigin(u),o)}_onBlur(n,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(n,s){this._ngZone.run(()=>n.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const s=n.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,GA),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,GA)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Je(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(n){const s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,GA),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,GA),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,o){this._setClasses(n,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){const s=[];return this._elementInfo.forEach((o,u)=>{(u===n||o.checkChildren&&u.contains(n))&&s.push([u,o])}),s}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.R0b),a.LFG(Vt),a.LFG(JB),a.LFG(q,8),a.LFG(tV,8))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(a.R0b),a.LFG(Vt),a.LFG(JB),a.LFG(q,8),a.LFG(tV,8))},token:r,providedIn:"root"}),r})();const nV="cdk-high-contrast-black-on-white",iV="cdk-high-contrast-white-on-black",SF="cdk-high-contrast-active";let rV=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(n):null,u=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(SF),n.remove(nV),n.remove(iV),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(SF),n.add(nV)):2===s&&(n.add(SF),n.add(iV))}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(q))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(q))},token:r,providedIn:"root"}),r})(),TF=(()=>{class r{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(rV))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Wv,fD]]}),r})();const sV=new a.GfV("12.2.5");class oV{}const hd="*";function io(r,i){return{type:7,name:r,definitions:i,options:{}}}function li(r,i=null){return{type:4,styles:i,timings:r}}function aV(r,i=null){return{type:2,steps:r,options:i}}function kt(r){return{type:6,styles:r,offset:null}}function ci(r,i,n){return{type:0,name:r,styles:i,options:n}}function Xn(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function lV(r){Promise.resolve(null).then(r)}class ib{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class cV{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,o=0;const u=this.players.length;0==u?lV(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++n==u&&this._onFinish()}),f.onDestroy(()=>{++s==u&&this._onDestroy()}),f.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(o)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function uV(){return"undefined"!=typeof window&&void 0!==window.document}function kF(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rf(r){switch(r.length){case 0:return new ib;case 1:return r[0];default:return new cV(r)}}function dV(r,i,n,s,o={},u={}){const f=[],m=[];let w=-1,D=null;if(s.forEach(S=>{const I=S.offset,F=I==w,L=F&&D||{};Object.keys(S).forEach(j=>{let te=j,me=S[j];if("offset"!==j)switch(te=i.normalizePropertyName(te,f),me){case"!":me=o[j];break;case hd:me=u[j];break;default:me=i.normalizeStyleValue(j,te,me,f)}L[te]=me}),F||m.push(L),D=L,w=I}),f.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${f.join(S)}`)}return m}function RF(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&OF(n,"start",r)));break;case"done":r.onDone(()=>s(n&&OF(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&OF(n,"destroy",r)))}}function OF(r,i,n){const s=n.totalTime,u=FF(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),f=r._data;return null!=f&&(u._data=f),u}function FF(r,i,n,s,o="",u=0,f){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:o,totalTime:u,disabled:!!f}}function Oo(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function hV(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let PF=(r,i)=>!1,NF=(r,i)=>!1,fV=(r,i,n)=>[];const pV=kF();(pV||"undefined"!=typeof Element)&&(PF=uV()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),NF=(()=>{if(pV||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):NF}})(),fV=(r,i,n)=>{let s=[];if(n){const o=r.querySelectorAll(i);for(let u=0;u<o.length;u++)s.push(o[u])}else{const o=r.querySelector(i);o&&s.push(o)}return s});let Ag=null,mV=!1;function LF(r){Ag||(Ag=("undefined"!=typeof document?document.body:null)||{},mV=!!Ag.style&&"WebkitAppearance"in Ag.style);let i=!0;return Ag.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in Ag.style,!i&&mV&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in Ag.style)),i}const BF=NF,VF=PF,UF=fV;function gV(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let _V=(()=>{class r{validateStyleProperty(n){return LF(n)}matchesElement(n,s){return BF(n,s)}containsElement(n,s){return VF(n,s)}query(n,s,o){return UF(n,s,o)}computeStyle(n,s,o){return o||""}animate(n,s,o,u,f,m=[],w){return new ib(o,u)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class jA{}jA.NOOP=new _V;const HF="ng-enter",zA="ng-leave",YA="ng-trigger",qA=".ng-trigger",vV="ng-animating",GF=".ng-animating";function Ig(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:jF(parseFloat(i[1]),i[2])}function jF(r,i){switch(i){case"s":return 1e3*r;default:return r}}function $A(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let o,u=0,f="";if("string"==typeof r){const m=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};o=jF(parseFloat(m[1]),m[2]);const w=m[3];null!=w&&(u=jF(parseFloat(w),m[4]));const D=m[5];D&&(f=D)}else o=r;if(!n){let m=!1,w=i.length;o<0&&(i.push("Duration values below 0 are not allowed for this animation step."),m=!0),u<0&&(i.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&i.splice(w,0,`The provided timing value "${r}" is invalid.`)}return{duration:o,delay:u,easing:f}}(r,i,n)}function rb(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function Of(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else rb(r,n);return n}function wV(r,i,n){return n?i+":"+n+";":""}function CV(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=wV(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=wV(0,Ij(n),r.style[n]));r.setAttribute("style",i)}function Pc(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const o=YF(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[o]),r.style[o]=i[s]}),kF()&&CV(r))}function kg(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=YF(n);r.style[s]=""}),kF()&&CV(r))}function mD(r){return Array.isArray(r)?1==r.length?r[0]:aV(r):r}const zF=new RegExp("{{\\s*(.+?)\\s*}}","g");function EV(r){let i=[];if("string"==typeof r){let n;for(;n=zF.exec(r);)i.push(n[1]);zF.lastIndex=0}return i}function ZA(r,i,n){const s=r.toString(),o=s.replace(zF,(u,f)=>{let m=i[f];return i.hasOwnProperty(f)||(n.push(`Please provide a value for the animation param ${f}`),m=""),m.toString()});return o==s?r:o}function WA(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const Aj=/-+([a-z0-9])/g;function YF(r){return r.replace(Aj,(...i)=>i[1].toUpperCase())}function Ij(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function DV(r,i){return 0===r||0===i}function xV(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let u=i[0],f=[];if(s.forEach(m=>{u.hasOwnProperty(m)||f.push(m),u[m]=n[m]}),f.length)for(var o=1;o<i.length;o++){let m=i[o];f.forEach(function(w){m[w]=qF(r,w)})}}return i}function Fo(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function qF(r,i){return window.getComputedStyle(r)[i]}function kj(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const w=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof w)return void i.push(w);r=w}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const o=s[1],u=s[2],f=s[3];i.push(MV(o,f));"<"==u[0]&&!("*"==o&&"*"==f)&&i.push(MV(f,o))}(s,n,i)):n.push(r),n}const QA=new Set(["true","1"]),JA=new Set(["false","0"]);function MV(r,i){const n=QA.has(r)||JA.has(r),s=QA.has(i)||JA.has(i);return(o,u)=>{let f="*"==r||r==o,m="*"==i||i==u;return!f&&n&&"boolean"==typeof o&&(f=o?QA.has(r):JA.has(r)),!m&&s&&"boolean"==typeof u&&(m=u?QA.has(i):JA.has(i)),f&&m}}const Fj=new RegExp("s*:selfs*,?","g");function $F(r,i,n){return new Pj(r).build(i,n)}class Pj{constructor(i){this._driver=i}build(i,n){const s=new Bj(n);return this._resetContextStyleTimingState(s),Fo(this,mD(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,o=n.depCount=0;const u=[],f=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(m=>{if(this._resetContextStyleTimingState(n),0==m.type){const w=m,D=w.name;D.toString().split(/\s*,\s*/).forEach(S=>{w.name=S,u.push(this.visitState(w,n))}),w.name=D}else if(1==m.type){const w=this.visitTransition(m,n);s+=w.queryCount,o+=w.depCount,f.push(w)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:u,transitions:f,queryCount:s,depCount:o,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),o=i.options&&i.options.params||null;if(s.containsDynamicStyles){const u=new Set,f=o||{};if(s.styles.forEach(m=>{if(XA(m)){const w=m;Object.keys(w).forEach(D=>{EV(w[D]).forEach(S=>{f.hasOwnProperty(S)||u.add(S)})})}}),u.size){const m=WA(u.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:i.name,style:s,options:o?{params:o}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=Fo(this,mD(i.animation),n);return{type:1,matchers:kj(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:Rg(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>Fo(this,s,n)),options:Rg(i.options)}}visitGroup(i,n){const s=n.currentTime;let o=0;const u=i.steps.map(f=>{n.currentTime=s;const m=Fo(this,f,n);return o=Math.max(o,n.currentTime),m});return n.currentTime=o,{type:3,steps:u,options:Rg(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return ZF($A(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=ZF(0,0,"");return u.dynamic=!0,u.strValue=s,u}return n=n||$A(s,i),ZF(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let o,u=i.styles?i.styles:kt({});if(5==u.type)o=this.visitKeyframes(u,n);else{let f=i.styles,m=!1;if(!f){m=!0;const D={};s.easing&&(D.easing=s.easing),f=kt(D)}n.currentTime+=s.duration+s.delay;const w=this.visitStyle(f,n);w.isEmptyStep=m,o=w}return n.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(f=>{"string"==typeof f?f==hd?s.push(f):n.errors.push(`The provided style string value ${f} is not allowed.`):s.push(f)}):s.push(i.styles);let o=!1,u=null;return s.forEach(f=>{if(XA(f)){const m=f,w=m.easing;if(w&&(u=w,delete m.easing),!o)for(let D in m)if(m[D].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:u,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let o=n.currentTime,u=n.currentTime;s&&u>0&&(u-=s.duration+s.delay),i.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void n.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const w=n.collectedStyles[n.currentQuerySelector],D=w[m];let S=!0;D&&(u!=o&&u>=D.startTime&&o<=D.endTime&&(n.errors.push(`The CSS property "${m}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),S=!1),u=D.startTime),S&&(w[m]={startTime:u,endTime:o}),n.options&&function(r,i,n){const s=i.params||{},o=EV(r);o.length&&o.forEach(u=>{s.hasOwnProperty(u)||n.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(f[m],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let u=0;const f=[];let m=!1,w=!1,D=0;const S=i.steps.map(xe=>{const Ge=this._makeStyleAst(xe,n);let Le=null!=Ge.offset?Ge.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(XA(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(XA(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(Ge.styles),ze=0;return null!=Le&&(u++,ze=Ge.offset=Le),w=w||ze<0||ze>1,m=m||ze<D,D=ze,f.push(ze),Ge});w&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&n.errors.push("Please ensure that all keyframe offsets are in order");const I=i.steps.length;let F=0;u>0&&u<I?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(F=1/(I-1));const L=I-1,j=n.currentTime,te=n.currentAnimateTimings,me=te.duration;return S.forEach((xe,Ge)=>{const Le=F>0?Ge==L?1:F*Ge:f[Ge],ze=Le*me;n.currentTime=j+te.delay+ze,te.duration=ze,this._validateStyleAst(xe,n),xe.offset=Le,s.styles.push(xe)}),s}visitReference(i,n){return{type:8,animation:Fo(this,mD(i.animation),n),options:Rg(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:Rg(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:Rg(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,o=i.options||{};n.queryCount++,n.currentQuery=i;const[u,f]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(Fj,"")),[r=r.replace(/@\*/g,qA).replace(/@\w+/g,n=>qA+"-"+n.substr(1)).replace(/:animating/g,GF),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+u:u,Oo(n.collectedStyles,n.currentQuerySelector,{});const m=Fo(this,mD(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:m,originalSelector:i.selector,options:Rg(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:$A(i.timings,n.errors,!0);return{type:12,animation:Fo(this,mD(i.animation),n),timings:s,options:null}}}class Bj{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function XA(r){return!Array.isArray(r)&&"object"==typeof r}function Rg(r){return r?(r=rb(r)).params&&(r.params=function(r){return r?rb(r):null}(r.params)):r={},r}function ZF(r,i,n){return{duration:r,delay:i,easing:n}}function WF(r,i,n,s,o,u,f=null,m=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:o,delay:u,totalTime:o+u,easing:f,subTimeline:m}}class eI{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const jj=new RegExp(":enter","g"),Yj=new RegExp(":leave","g");function KF(r,i,n,s,o,u={},f={},m,w,D=[]){return(new qj).buildKeyframes(r,i,n,s,o,u,f,m,w,D)}class qj{buildKeyframes(i,n,s,o,u,f,m,w,D,S=[]){D=D||new eI;const I=new QF(i,n,D,o,u,S,[]);I.options=w,I.currentTimeline.setStyles([f],null,I.errors,w),Fo(this,s,I);const F=I.timelines.filter(L=>L.containsAnimation());if(F.length&&Object.keys(m).length){const L=F[F.length-1];L.allowOnlyTimelineStyles()||L.setStyles([m],null,I.errors,w)}return F.length?F.map(L=>L.buildKeyframes()):[WF(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const o=n.createSubContext(i.options),u=n.currentTimeline.currentTime,f=this._visitSubInstructions(s,o,o.options);u!=f&&n.transformIntoNewTimeline(f)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let u=n.currentTimeline.currentTime;const f=null!=s.duration?Ig(s.duration):null,m=null!=s.delay?Ig(s.delay):null;return 0!==f&&i.forEach(w=>{const D=n.appendInstructionToTimeline(w,f,m);u=Math.max(u,D.duration+D.delay)}),u}visitReference(i,n){n.updateOptions(i.options,!0),Fo(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let o=n;const u=i.options;if(u&&(u.params||u.delay)&&(o=n.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=tI);const f=Ig(u.delay);o.delayNextStep(f)}i.steps.length&&(i.steps.forEach(f=>Fo(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let o=n.currentTimeline.currentTime;const u=i.options&&i.options.delay?Ig(i.options.delay):0;i.steps.forEach(f=>{const m=n.createSubContext(i.options);u&&m.delayNextStep(u),Fo(this,f,m),o=Math.max(o,m.currentTimeline.currentTime),s.push(m.currentTimeline)}),s.forEach(f=>n.currentTimeline.mergeTimelineCollectedStyles(f)),n.transformIntoNewTimeline(o),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return $A(n.params?ZA(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),o=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),o.snapshotCurrentStyles());const u=i.style;5==u.type?this.visitKeyframes(u,n):(n.incrementTime(s.duration),this.visitStyle(u,n),o.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,o=n.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const u=o&&o.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(u):s.setStyles(i.styles,u,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,o=n.currentTimeline.duration,u=s.duration,m=n.createSubContext().currentTimeline;m.easing=s.easing,i.styles.forEach(w=>{m.forwardTime((w.offset||0)*u),m.setStyles(w.styles,w.easing,n.errors,n.options),m.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(m),n.transformIntoNewTimeline(o+u),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,o=i.options||{},u=o.delay?Ig(o.delay):0;u&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=tI);let f=s;const m=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=m.length;let w=null;m.forEach((D,S)=>{n.currentQueryIndex=S;const I=n.createSubContext(i.options,D);u&&I.delayNextStep(u),D===n.element&&(w=I.currentTimeline),Fo(this,i.animation,I),I.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,I.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(f),w&&(n.currentTimeline.mergeTimelineCollectedStyles(w),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,o=n.currentTimeline,u=i.timings,f=Math.abs(u.duration),m=f*(n.currentQueryTotal-1);let w=f*n.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=m-w;break;case"full":w=s.currentStaggerTime}const S=n.currentTimeline;w&&S.delayNextStep(w);const I=S.currentTime;Fo(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=o.currentTime-I+(o.startTime-s.currentTimeline.startTime)}}const tI={};class QF{constructor(i,n,s,o,u,f,m,w){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=u,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new nI(this._driver,n,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let o=this.options;null!=s.duration&&(o.duration=Ig(s.duration)),null!=s.delay&&(o.delay=Ig(s.delay));const u=s.params;if(u){let f=o.params;f||(f=this.options.params={}),Object.keys(u).forEach(m=>{(!n||!f.hasOwnProperty(m))&&(f[m]=ZA(u[m],f,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(o=>{s[o]=n[o]})}}return i}createSubContext(i=null,n,s){const o=n||this.element,u=new QF(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(i),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(i){return this.previousNode=tI,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const o={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},u=new $j(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,o,u,f){let m=[];if(o&&m.push(this.element),i.length>0){i=(i=i.replace(jj,"."+this._enterClassName)).replace(Yj,"."+this._leaveClassName);let D=this._driver.query(this.element,i,1!=s);0!==s&&(D=s<0?D.slice(D.length+s,D.length):D.slice(0,s)),m.push(...D)}return!u&&0==m.length&&f.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),m}}class nI{constructor(i,n,s,o){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new nI(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||hd,this._currentKeyframe[n]=hd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,o){n&&(this._previousKeyframe.easing=n);const u=o&&o.params||{},f=function(r,i){const n={};let s;return r.forEach(o=>{"*"===o?(s=s||Object.keys(i),s.forEach(u=>{n[u]=hd})):Of(o,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const w=ZA(f[m],u,s);this._pendingStyles[m]=w,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:hd),this._updateStyle(m,w)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],o=i._styleSummary[n];(!s||o.time>s.time)&&this._updateStyle(n,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,w)=>{const D=Of(m,!0);Object.keys(D).forEach(S=>{const I=D[S];"!"==I?i.add(S):I==hd&&n.add(S)}),s||(D.offset=w/this.duration),o.push(D)});const u=i.size?WA(i.values()):[],f=n.size?WA(n.values()):[];if(s){const m=o[0],w=rb(m);m.offset=0,w.offset=1,o=[m,w]}return WF(this.element,o,u,f,this.duration,this.startTime,this.easing,!1)}}class $j extends nI{constructor(i,n,s,o,u,f,m=!1){super(i,n,f.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&n){const u=[],f=s+n,m=n/f,w=Of(i[0],!1);w.offset=0,u.push(w);const D=Of(i[0],!1);D.offset=AV(m),u.push(D);const S=i.length-1;for(let I=1;I<=S;I++){let F=Of(i[I],!1);F.offset=AV((n+F.offset*s)/f),u.push(F)}s=f,n=0,o="",i=u}return WF(this.element,i,this.preStyleProps,this.postStyleProps,s,n,o,!0)}}function AV(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class JF{}class Wj extends JF{normalizePropertyName(i,n){return YF(i)}normalizeStyleValue(i,n,s,o){let u="";const f=s.toString().trim();if(Kj[n]&&0!==s&&"0"!==s)if("number"==typeof s)u="px";else{const m=s.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${i}:${s}`)}return f+u}}const Kj=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function IV(r,i,n,s,o,u,f,m,w,D,S,I,F){return{type:0,element:r,triggerName:i,isRemovalTransition:o,fromState:n,fromStyles:u,toState:s,toStyles:f,timelines:m,queriedElements:w,preStyleProps:D,postStyleProps:S,totalTime:I,errors:F}}const XF={};class kV{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,o){return function(r,i,n,s,o){return r.some(u=>u(i,n,s,o))}(this.ast.matchers,i,n,s,o)}buildStyles(i,n,s){const o=this._stateStyles["*"],u=this._stateStyles[i],f=o?o.buildStyles(n,s):{};return u?u.buildStyles(n,s):f}build(i,n,s,o,u,f,m,w,D,S){const I=[],F=this.ast.options&&this.ast.options.params||XF,j=this.buildStyles(s,m&&m.params||XF,I),te=w&&w.params||XF,me=this.buildStyles(o,te,I),xe=new Set,Ge=new Map,Le=new Map,ze="void"===o,gn={params:Object.assign(Object.assign({},F),te)},mi=S?[]:KF(i,n,this.ast.animation,u,f,j,me,gn,D,I);let tr=0;if(mi.forEach(Bo=>{tr=Math.max(Bo.duration+Bo.delay,tr)}),I.length)return IV(n,this._triggerName,s,o,ze,j,me,[],[],Ge,Le,tr,I);mi.forEach(Bo=>{const _d=Bo.element,NH=Oo(Ge,_d,{});Bo.preStyleProps.forEach(Ug=>NH[Ug]=!0);const FD=Oo(Le,_d,{});Bo.postStyleProps.forEach(Ug=>FD[Ug]=!0),_d!==n&&xe.add(_d)});const Ms=WA(xe.values());return IV(n,this._triggerName,s,o,ze,j,me,mi,Ms,Ge,Le,tr)}}class Xj{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},o=rb(this.defaultParams);return Object.keys(i).forEach(u=>{const f=i[u];null!=f&&(o[u]=f)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const f=u;Object.keys(f).forEach(m=>{let w=f[m];w.length>1&&(w=ZA(w,o,n));const D=this.normalizer.normalizePropertyName(m,n);w=this.normalizer.normalizeStyleValue(m,D,w,n),s[D]=w})}}),s}}class tz{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(o=>{this.states[o.name]=new Xj(o.style,o.options&&o.options.params||{},s)}),RV(this.states,"true","1"),RV(this.states,"false","0"),n.transitions.forEach(o=>{this.transitionFactories.push(new kV(i,o,this.states))}),this.fallbackTransition=function(r,i,n){return new kV(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,o){return this.transitionFactories.find(f=>f.match(i,n,s,o))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function RV(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const iz=new eI;class rz{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],o=$F(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=o}_buildPlayer(i,n,s){const o=i.element,u=dV(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(o,u,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const o=[],u=this._animations[i];let f;const m=new Map;if(u?(f=KF(this._driver,n,u,HF,zA,{},{},s,iz,o),f.forEach(S=>{const I=Oo(m,S.element,{});S.postStyleProps.forEach(F=>I[F]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),f=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((S,I)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(I,F,hd)})});const D=Rf(f.map(S=>{const I=m.get(S.element);return this._buildPlayer(S,{},I)}));return this._playersById[i]=D,D.onDestroy(()=>this.destroy(i)),this.players.push(D),D}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,o){const u=FF(n,"","","");return RF(this._getPlayer(i),s,u,o),()=>{}}command(i,n,s,o){if("register"==s)return void this.register(i,o[0]);if("create"==s)return void this.create(i,n,o[0]||{});const u=this._getPlayer(i);switch(s){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const OV="ng-animate-queued",FV="ng-animate-disabled",PV=".ng-animate-disabled",lz=[],NV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ca="__ng_removed";class eP{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(s?i.value:i),s){const u=rb(i);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(o=>{null==s[o]&&(s[o]=n[o])})}}}const gD="void",tP=new eP(gD);class uz{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ea(n,this._hostClassName)}listen(i,n,s,o){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const u=Oo(this._elementListeners,i,[]),f={name:n,phase:s,callback:o};u.push(f);const m=Oo(this._engine.statesByElement,i,{});return m.hasOwnProperty(n)||(Ea(i,YA),Ea(i,YA+"-"+n),m[n]=tP),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(f);w>=0&&u.splice(w,1),this._triggers[n]||delete m[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,o=!0){const u=this._getTrigger(n),f=new nP(this.id,n,i);let m=this._engine.statesByElement.get(i);m||(Ea(i,YA),Ea(i,YA+"-"+n),this._engine.statesByElement.set(i,m={}));let w=m[n];const D=new eP(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&w&&D.absorbOptions(w.options),m[n]=D,w||(w=tP),D.value!==gD&&w.value===D.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let o=0;o<n.length;o++){const u=n[o];if(!i.hasOwnProperty(u)||r[u]!==i[u])return!1}return!0}(w.params,D.params)){const te=[],me=u.matchStyles(w.value,w.params,te),xe=u.matchStyles(D.value,D.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{kg(i,me),Pc(i,xe)})}return}const F=Oo(this._engine.playersByElement,i,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==n&&te.queued&&te.destroy()});let L=u.matchTransition(w.value,D.value,i,D.params),j=!1;if(!L){if(!o)return;L=u.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:L,fromState:w,toState:D,player:f,isFallbackTransition:j}),j||(Ea(i,OV),f.onStart(()=>{sb(i,OV)})),f.onDone(()=>{let te=this.players.indexOf(f);te>=0&&this.players.splice(te,1);const me=this._engine.playersByElement.get(i);if(me){let xe=me.indexOf(f);xe>=0&&me.splice(xe,1)}}),this.players.push(f),F.push(f),f}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,qA,!0);s.forEach(o=>{if(o[Ca])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(f=>f.triggerLeaveAnimation(o,n,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,n,s,o){const u=this._engine.statesByElement.get(i);if(u){const f=[];if(Object.keys(u).forEach(m=>{if(this._triggers[m]){const w=this.trigger(i,m,gD,o);w&&f.push(w)}}),f.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&Rf(f).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const o=new Set;n.forEach(u=>{const f=u.name;if(o.has(f))return;o.add(f);const w=this._triggers[f].fallbackTransition,D=s[f]||tP,S=new eP(gD),I=new nP(this.id,f,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:f,transition:w,fromState:D,toState:S,player:I,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let o=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(i):[];if(u&&u.length)o=!0;else{let f=i;for(;f=f.parentNode;)if(s.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)s.markElementAsRemoved(this.id,i,!1,n);else{const u=i[Ca];(!u||u===NV)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Ea(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const u=s.element,f=this._elementListeners.get(u);f&&f.forEach(m=>{if(m.name==s.triggerName){const w=FF(u,s.triggerName,s.fromState.value,s.toState.value);w._data=i,RF(s.player,m.phase,w,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):n.push(s)}),this._queue=[],n.sort((s,o)=>{const u=s.transition.ast.depCount,f=o.transition.ast.depCount;return 0==u||0==f?u-f:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class dz{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new uz(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let u=s;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,n)){this._namespaceList.splice(u+1,0,i),o=!0;break}o||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let o=this._namespaceLookup[i];o&&o.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const o=Object.keys(s);for(let u=0;u<o.length;u++){const f=s[o[u]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&n.add(m)}}}return n}trigger(i,n,s,o){if(iI(n)){const u=this._fetchNamespace(i);if(u)return u.trigger(n,s,o),!0}return!1}insertNode(i,n,s,o){if(!iI(n))return;const u=n[Ca];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const f=this.collectedLeaveElements.indexOf(n);f>=0&&this.collectedLeaveElements.splice(f,1)}if(i){const f=this._fetchNamespace(i);f&&f.insertNode(n,s)}o&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ea(i,FV)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),sb(i,FV))}removeNode(i,n,s,o){if(iI(n)){const u=i?this._fetchNamespace(i):null;if(u?u.removeNode(n,o):this.markElementAsRemoved(i,n,!1,o),s){const f=this.namespacesByHostElement.get(n);f&&f.id!==i&&f.removeNode(n,o)}}else this._onRemovalComplete(n,o)}markElementAsRemoved(i,n,s,o){this.collectedLeaveElements.push(n),n[Ca]={namespaceId:i,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,o,u){return iI(n)?this._fetchNamespace(i).listen(n,s,o,u):()=>{}}_buildInstruction(i,n,s,o,u){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,o,i.fromState.options,i.toState.options,n,u)}destroyInnerAnimations(i){let n=this.driver.query(i,qA,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,GF,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Rf(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[Ca];if(n&&n.setForRemoval){if(i[Ca]=NV,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,PV)&&this.markElementAsDisabled(i,!1),this.driver.query(i,PV,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ea(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?Rf(n).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new eI,o=[],u=new Map,f=[],m=new Map,w=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(et=>{S.add(et);const _t=this.driver.query(et,".ng-animate-queued",!0);for(let Tt=0;Tt<_t.length;Tt++)S.add(_t[Tt])});const I=this.bodyNode,F=Array.from(this.statesByElement.keys()),L=VV(F,this.collectedEnterElements),j=new Map;let te=0;L.forEach((et,_t)=>{const Tt=HF+te++;j.set(_t,Tt),et.forEach(tn=>Ea(tn,Tt))});const me=[],xe=new Set,Ge=new Set;for(let et=0;et<this.collectedLeaveElements.length;et++){const _t=this.collectedLeaveElements[et],Tt=_t[Ca];Tt&&Tt.setForRemoval&&(me.push(_t),xe.add(_t),Tt.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(tn=>xe.add(tn)):Ge.add(_t))}const Le=new Map,ze=VV(F,Array.from(xe));ze.forEach((et,_t)=>{const Tt=zA+te++;Le.set(_t,Tt),et.forEach(tn=>Ea(tn,Tt))}),i.push(()=>{L.forEach((et,_t)=>{const Tt=j.get(_t);et.forEach(tn=>sb(tn,Tt))}),ze.forEach((et,_t)=>{const Tt=Le.get(_t);et.forEach(tn=>sb(tn,Tt))}),me.forEach(et=>{this.processLeaveNode(et)})});const gn=[],mi=[];for(let et=this._namespaceList.length-1;et>=0;et--)this._namespaceList[et].drainQueuedTransitions(n).forEach(Tt=>{const tn=Tt.player,pr=Tt.element;if(gn.push(tn),this.collectedEnterElements.length){const Vc=pr[Ca];if(Vc&&Vc.setForMove)return void tn.destroy()}const Bc=!I||!this.driver.containsElement(I,pr),Vo=Le.get(pr),Hf=j.get(pr),gi=this._buildInstruction(Tt,s,Hf,Vo,Bc);if(gi.errors&&gi.errors.length)mi.push(gi);else{if(Bc)return tn.onStart(()=>kg(pr,gi.fromStyles)),tn.onDestroy(()=>Pc(pr,gi.toStyles)),void o.push(tn);if(Tt.isFallbackTransition)return tn.onStart(()=>kg(pr,gi.fromStyles)),tn.onDestroy(()=>Pc(pr,gi.toStyles)),void o.push(tn);gi.timelines.forEach(Vc=>Vc.stretchStartingKeyframe=!0),s.append(pr,gi.timelines),f.push({instruction:gi,player:tn,element:pr}),gi.queriedElements.forEach(Vc=>Oo(m,Vc,[]).push(tn)),gi.preStyleProps.forEach((Vc,PD)=>{const KI=Object.keys(Vc);if(KI.length){let Hg=w.get(PD);Hg||w.set(PD,Hg=new Set),KI.forEach(EN=>Hg.add(EN))}}),gi.postStyleProps.forEach((Vc,PD)=>{const KI=Object.keys(Vc);let Hg=D.get(PD);Hg||D.set(PD,Hg=new Set),KI.forEach(EN=>Hg.add(EN))})}});if(mi.length){const et=[];mi.forEach(_t=>{et.push(`@${_t.triggerName} has failed due to:\n`),_t.errors.forEach(Tt=>et.push(`- ${Tt}\n`))}),gn.forEach(_t=>_t.destroy()),this.reportError(et)}const tr=new Map,Ms=new Map;f.forEach(et=>{const _t=et.element;s.has(_t)&&(Ms.set(_t,_t),this._beforeAnimationBuild(et.player.namespaceId,et.instruction,tr))}),o.forEach(et=>{const _t=et.element;this._getPreviousPlayers(_t,!1,et.namespaceId,et.triggerName,null).forEach(tn=>{Oo(tr,_t,[]).push(tn),tn.destroy()})});const Bo=me.filter(et=>HV(et,w,D)),_d=new Map;BV(_d,this.driver,Ge,D,hd).forEach(et=>{HV(et,w,D)&&Bo.push(et)});const FD=new Map;L.forEach((et,_t)=>{BV(FD,this.driver,new Set(et),w,"!")}),Bo.forEach(et=>{const _t=_d.get(et),Tt=FD.get(et);_d.set(et,Object.assign(Object.assign({},_t),Tt))});const Ug=[],LH=[],BH={};f.forEach(et=>{const{element:_t,player:Tt,instruction:tn}=et;if(s.has(_t)){if(S.has(_t))return Tt.onDestroy(()=>Pc(_t,tn.toStyles)),Tt.disabled=!0,Tt.overrideTotalTime(tn.totalTime),void o.push(Tt);let pr=BH;if(Ms.size>1){let Vo=_t;const Hf=[];for(;Vo=Vo.parentNode;){const gi=Ms.get(Vo);if(gi){pr=gi;break}Hf.push(Vo)}Hf.forEach(gi=>Ms.set(gi,pr))}const Bc=this._buildAnimation(Tt.namespaceId,tn,tr,u,FD,_d);if(Tt.setRealPlayer(Bc),pr===BH)Ug.push(Tt);else{const Vo=this.playersByElement.get(pr);Vo&&Vo.length&&(Tt.parentPlayer=Rf(Vo)),o.push(Tt)}}else kg(_t,tn.fromStyles),Tt.onDestroy(()=>Pc(_t,tn.toStyles)),LH.push(Tt),S.has(_t)&&o.push(Tt)}),LH.forEach(et=>{const _t=u.get(et.element);if(_t&&_t.length){const Tt=Rf(_t);et.setRealPlayer(Tt)}}),o.forEach(et=>{et.parentPlayer?et.syncPlayerEvents(et.parentPlayer):et.destroy()});for(let et=0;et<me.length;et++){const _t=me[et],Tt=_t[Ca];if(sb(_t,zA),Tt&&Tt.hasAnimation)continue;let tn=[];if(m.size){let Bc=m.get(_t);Bc&&Bc.length&&tn.push(...Bc);let Vo=this.driver.query(_t,GF,!0);for(let Hf=0;Hf<Vo.length;Hf++){let gi=m.get(Vo[Hf]);gi&&gi.length&&tn.push(...gi)}}const pr=tn.filter(Bc=>!Bc.destroyed);pr.length?mz(this,_t,pr):this.processLeaveNode(_t)}return me.length=0,Ug.forEach(et=>{this.players.push(et),et.onDone(()=>{et.destroy();const _t=this.players.indexOf(et);this.players.splice(_t,1)}),et.play()}),Ug}elementContainsData(i,n){let s=!1;const o=n[Ca];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,o,u){let f=[];if(n){const m=this.playersByQueriedElement.get(i);m&&(f=m)}else{const m=this.playersByElement.get(i);if(m){const w=!u||u==gD;m.forEach(D=>{D.queued||!w&&D.triggerName!=o||f.push(D)})}}return(s||o)&&(f=f.filter(m=>!(s&&s!=m.namespaceId||o&&o!=m.triggerName))),f}_beforeAnimationBuild(i,n,s){const u=n.element,f=n.isRemovalTransition?void 0:i,m=n.isRemovalTransition?void 0:n.triggerName;for(const w of n.timelines){const D=w.element,S=D!==u,I=Oo(s,D,[]);this._getPreviousPlayers(D,S,f,m,n.toState).forEach(L=>{const j=L.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),L.destroy(),I.push(L)})}kg(u,n.fromStyles)}_buildAnimation(i,n,s,o,u,f){const m=n.triggerName,w=n.element,D=[],S=new Set,I=new Set,F=n.timelines.map(j=>{const te=j.element;S.add(te);const me=te[Ca];if(me&&me.removedBeforeQueried)return new ib(j.duration,j.delay);const xe=te!==w,Ge=function(r){const i=[];return UV(r,i),i}((s.get(te)||lz).map(tr=>tr.getRealPlayer())).filter(tr=>!!tr.element&&tr.element===te),Le=u.get(te),ze=f.get(te),gn=dV(0,this._normalizer,0,j.keyframes,Le,ze),mi=this._buildPlayer(j,gn,Ge);if(j.subTimeline&&o&&I.add(te),xe){const tr=new nP(i,m,te);tr.setRealPlayer(mi),D.push(tr)}return mi});D.forEach(j=>{Oo(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,j.element,j))}),S.forEach(j=>Ea(j,vV));const L=Rf(F);return L.onDestroy(()=>{S.forEach(j=>sb(j,vV)),Pc(w,n.toStyles)}),I.forEach(j=>{Oo(o,j,[]).push(L)}),L}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new ib(i.duration,i.delay)}}class nP{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new ib,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>RF(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){Oo(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function iI(r){return r&&1===r.nodeType}function LV(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function BV(r,i,n,s,o){const u=[];n.forEach(w=>u.push(LV(w)));const f=[];s.forEach((w,D)=>{const S={};w.forEach(I=>{const F=S[I]=i.computeStyle(D,I,o);(!F||0==F.length)&&(D[Ca]=cz,f.push(D))}),r.set(D,S)});let m=0;return n.forEach(w=>LV(w,u[m++])),f}function VV(r,i){const n=new Map;if(r.forEach(m=>n.set(m,[])),0==i.length)return n;const o=new Set(i),u=new Map;function f(m){if(!m)return 1;let w=u.get(m);if(w)return w;const D=m.parentNode;return w=n.has(D)?D:o.has(D)?1:f(D),u.set(m,w),w}return i.forEach(m=>{const w=f(m);1!==w&&n.get(w).push(m)}),n}const rI="$$classes";function Ea(r,i){if(r.classList)r.classList.add(i);else{let n=r[rI];n||(n=r[rI]={}),n[i]=!0}}function sb(r,i){if(r.classList)r.classList.remove(i);else{let n=r[rI];n&&delete n[i]}}function mz(r,i,n){Rf(n).onDone(()=>r.processLeaveNode(i))}function UV(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof cV?UV(s.players,i):i.push(s)}}function HV(r,i,n){const s=n.get(r);if(!s)return!1;let o=i.get(r);return o?s.forEach(u=>o.add(u)):i.set(r,s),n.delete(r),!0}class sI{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new dz(i,n,s),this._timelineEngine=new rz(i,n,s),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(i,n,s,o,u){const f=i+"-"+o;let m=this._triggerCache[f];if(!m){const w=[],D=$F(this._driver,u,w);if(w.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);m=function(r,i,n){return new tz(r,i,n)}(o,D,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(n,o,m)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,o){this._transitionEngine.insertNode(i,n,s,o)}onRemove(i,n,s,o){this._transitionEngine.removeNode(i,n,o||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,o){if("@"==s.charAt(0)){const[u,f]=hV(s);this._timelineEngine.command(u,n,f,o)}else this._transitionEngine.trigger(i,n,s,o)}listen(i,n,s,o,u){if("@"==s.charAt(0)){const[f,m]=hV(s);return this._timelineEngine.listen(f,n,m,u)}return this._transitionEngine.listen(i,n,s,o,u)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function GV(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=iP(i[0]),i.length>1&&(s=iP(i[i.length-1]))):i&&(n=iP(i)),n||s?new ob(r,n,s):null}class ob{constructor(i,n,s){this._element=i,this._startStyles=n,this._endStyles=s,this._state=0;let o=ob.initialStylesByElement.get(i);o||ob.initialStylesByElement.set(i,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pc(this._element,this._initialStyles),this._endStyles&&(Pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ob.initialStylesByElement.delete(this._element),this._startStyles&&(kg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kg(this._element,this._endStyles),this._endStyles=null),Pc(this._element,this._initialStyles),this._state=3)}}function iP(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const o=n[s];yz(o)&&(i=i||{},i[o]=r[o])}return i}function yz(r){return"display"===r||"position"===r}ob.initialStylesByElement=new WeakMap;const jV="animation",zV="animationend";class wz{constructor(i,n,s,o,u,f,m){this._element=i,this._name=n,this._duration=s,this._delay=o,this._easing=u,this._fillMode=f,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(r,i){const n=sP(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),oI(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),$V(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){YV(this._element,this._name,"paused")}resume(){YV(this._element,this._name,"running")}setPosition(i){const n=qV(this._element,this._name);this._position=i*this._duration,oI(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),$V(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=sP(r,"").split(","),o=rP(s,i);o>=0&&(s.splice(o,1),oI(r,"",s.join(",")))}(this._element,this._name))}}function YV(r,i,n){oI(r,"PlayState",n,qV(r,i))}function qV(r,i){const n=sP(r,"");return n.indexOf(",")>0?rP(n.split(","),i):rP([n],i)}function rP(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function $V(r,i,n){n?r.removeEventListener(zV,i):r.addEventListener(zV,i)}function oI(r,i,n,s){const o=jV+i;if(null!=s){const u=r.style[o];if(u.length){const f=u.split(",");f[s]=n,n=f.join(",")}}r.style[o]=n}function sP(r,i){return r.style[jV+i]||""}class ZV{constructor(i,n,s,o,u,f,m,w){this.element=i,this.keyframes=n,this.animationName=s,this._duration=o,this._delay=u,this._finalStyles=m,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=o+u,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wz(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:qF(this.element,s))})}this.currentSnapshot=i}}class Sz extends ib{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=gV(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class KV{constructor(){this._count=0}validateStyleProperty(i){return LF(i)}matchesElement(i,n){return BF(i,n)}containsElement(i,n){return VF(i,n)}query(i,n,s){return UF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(m=>gV(m));let o=`@keyframes ${n} {\n`,u="";s.forEach(m=>{u=" ";const w=parseFloat(m.offset);o+=`${u}${100*w}% {\n`,u+=" ",Object.keys(m).forEach(D=>{const S=m[D];switch(D){case"offset":return;case"easing":return void(S&&(o+=`${u}animation-timing-function: ${S};\n`));default:return void(o+=`${u}${D}: ${S};\n`)}}),o+=`${u}}\n`}),o+="}\n";const f=document.createElement("style");return f.textContent=o,f}animate(i,n,s,o,u,f=[],m){const w=f.filter(me=>me instanceof ZV),D={};DV(s,o)&&w.forEach(me=>{let xe=me.currentSnapshot;Object.keys(xe).forEach(Ge=>D[Ge]=xe[Ge])});const S=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(i[o]=s[o])})}),i}(n=xV(i,n,D));if(0==s)return new Sz(i,S);const I="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(i,I,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(F);const j=GV(i,n),te=new ZV(i,n,I,s,o,u,S,j);return te.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(F)),te}}class JV{constructor(i,n,s,o){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:qF(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class Rz{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(XV().toString()),this._cssKeyframesDriver=new KV}validateStyleProperty(i){return LF(i)}matchesElement(i,n){return BF(i,n)}containsElement(i,n){return VF(i,n)}query(i,n,s){return UF(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,o,u,f=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,o,u,f);const S={duration:s,delay:o,fill:0==o?"both":"forwards"};u&&(S.easing=u);const I={},F=f.filter(j=>j instanceof JV);DV(s,o)&&F.forEach(j=>{let te=j.currentSnapshot;Object.keys(te).forEach(me=>I[me]=te[me])});const L=GV(i,n=xV(i,n=n.map(j=>Of(j,!1)),I));return new JV(i,n,S,L)}}function XV(){return uV()&&Element.prototype.animate||{}}let Fz=(()=>{class r extends oV{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?aV(n):n;return e2(this._renderer,null,s,"register",[o]),new Pz(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.FYo),a.LFG(q))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class Pz extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new Nz(this._id,i,n||{},this._renderer)}}class Nz{constructor(i,n,s,o){this.id=i,this.element=n,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return e2(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function e2(r,i,n,s,o){return r.setProperty(i,`@@${n}:${s}`,o)}const t2="@.disabled";let Lz=(()=>{class r{constructor(n,s,o){this.delegate=n,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(u,f)=>{f&&f.parentNode(u)&&f.removeChild(u.parentNode,u)}}createRenderer(n,s){const u=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let S=this._rendererCache.get(u);return S||(S=new n2("",u,this.engine),this._rendererCache.set(u,S)),S}const f=s.id,m=s.id+"-"+this._currentId;this._currentId++,this.engine.register(m,n);const w=S=>{Array.isArray(S)?S.forEach(w):this.engine.registerTrigger(f,m,n,S.name,S)};return s.data.animation.forEach(w),new Bz(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,o){n>=0&&n<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[f,m]=u;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(a.FYo),a.LFG(sI),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class n2{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,o=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,o)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,o){this.delegate.setAttribute(i,n,s,o)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,o){this.delegate.setStyle(i,n,s,o)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==t2?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class Bz extends n2{constructor(i,n,s,o){super(n,s,o),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==t2?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const o=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let u=n.substr(1),f="";return"@"!=u.charAt(0)&&([u,f]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(u)),this.engine.listen(this.namespaceId,o,u,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,s,m)})}return this.delegate.listen(i,n,s)}}let Hz=(()=>{class r extends sI{constructor(n,s,o){super(n.body,s,o)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(q),a.LFG(jA),a.LFG(JF))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Pn=new a.OlP("AnimationModuleType"),r2=[{provide:oV,useClass:Fz},{provide:JF,useFactory:function(){return new Wj}},{provide:sI,useClass:Hz},{provide:a.FYo,useFactory:function(r,i,n){return new Lz(r,i,n)},deps:[fo,sI,a.R0b]}],s2=[{provide:jA,useFactory:function(){return"function"==typeof XV()?new Rz:new KV}},{provide:Pn,useValue:"BrowserAnimations"},...r2],o2=[{provide:jA,useClass:_V},{provide:Pn,useValue:"NoopAnimations"},...r2];let Yz=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?o2:s2}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:s2,imports:[up]}),r})();const a2=new a.GfV("12.2.5"),Jz=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Fg,bt=(()=>{class r{constructor(n,s,o){this._hasDoneGlobalChecks=!1,this._document=o,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,a.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&a2.full!==sV.full&&console.warn("The Angular Material version ("+a2.full+") does not match the Angular CDK version ("+sV.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(rV),a.LFG(Jz,8),a.LFG(q))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Eo],Eo]}),r})();function Cl(r){return class extends r{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=Ue(i)}}}function Nc(r,i){return class extends r{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const s=n||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Po(r){return class extends r{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=Ue(i)}}}function lI(r){return class extends r{constructor(...i){super(...i),this.stateChanges=new ke.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==i&&(this.errorState=u,this.stateChanges.next())}}}try{Fg="undefined"!=typeof Intl}catch(r){Fg=!1}let Ff=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),uI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();class uY{constructor(i,n,s){this._renderer=i,this.element=n,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const l2={enterDuration:225,exitDuration:150},lP=Cg({passive:!0}),c2=["mousedown","touchstart"],u2=["mouseup","mouseleave","touchend","touchcancel"];class cP{constructor(i,n,s,o){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=cd(s))}fadeInRipple(i,n,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Object.assign(Object.assign({},l2),s.animation);s.centered&&(i=o.left+o.width/2,n=o.top+o.height/2);const f=s.radius||function(r,i,n){const s=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),o=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(s*s+o*o)}(i,n,o),m=i-o.left,w=n-o.top,D=u.enterDuration,S=document.createElement("div");S.classList.add("mat-ripple-element"),S.style.left=m-f+"px",S.style.top=w-f+"px",S.style.height=2*f+"px",S.style.width=2*f+"px",null!=s.color&&(S.style.backgroundColor=s.color),S.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(S),function(r){window.getComputedStyle(r).getPropertyValue("opacity")}(S),S.style.transform="scale(1)";const I=new uY(this,S,s);return I.state=0,this._activeRipples.add(I),s.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const F=I===this._mostRecentTransientRipple;I.state=1,!s.persistent&&(!F||!this._isPointerDown)&&I.fadeOut()},D),I}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const s=i.element,o=Object.assign(Object.assign({},l2),i.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=cd(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(c2))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(u2),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=DF(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!xF(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let s=0;s<n.length;s++)this.fadeInRipple(n[s].clientX,n[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,lP)})})}_removeTriggerEvents(){this._triggerElement&&(c2.forEach(i=>{this._triggerElement.removeEventListener(i,this,lP)}),this._pointerUpEventsRegistered&&u2.forEach(i=>{this._triggerElement.removeEventListener(i,this,lP)}))}}const dI=new a.OlP("mat-ripple-global-options");let ro=(()=>{class r{constructor(n,s,o,u,f){this._elementRef=n,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new cP(this,s,n,o)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,s=0,o){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Vt),a.Y36(dI,8),a.Y36(Pn,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&a.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r})(),Pf=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt,Wv],bt]}),r})(),uP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt]]}),r})(),m2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Pf,Ii,bt,uP]]}),r})();const g2=["mat-button",""],_2=["*"],wY=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],CY=Nc(Cl(Po(class{constructor(r){this._elementRef=r}})));let xs=(()=>{class r extends CY{constructor(n,s,o){super(n),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of wY)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,s){n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Rr),a.Y36(Pn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,s){if(1&n&&a.Gf(ro,5),2&n){let o;a.iGM(o=a.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,s){2&n&&(a.uIk("disabled",s.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:g2,ngContentSelectors:_2,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,s){1&n&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&n&&(a.xp6(2),a.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),a.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[ro],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),hI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Pf,bt],bt]}),r})();const v2=new Set;let ab,b2=(()=>{class r{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DY}matchMedia(n){return this._platform.WEBKIT&&function(r){if(!v2.has(r))try{ab||(ab=document.createElement("style"),ab.setAttribute("type","text/css"),document.head.appendChild(ab)),ab.sheet&&(ab.sheet.insertRule(`@media ${r} {.fx-query-test{ }}`,0),v2.add(r))}catch(i){console.error(i)}}(n),this._matchMedia(n)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt))},token:r,providedIn:"root"}),r})();function DY(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let fP=(()=>{class r{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new ke.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return w2(SA(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let u=Pa(w2(SA(n)).map(f=>this._registerQuery(f).observable));return u=Xo(u.pipe(hn(1)),u.pipe(VB(1),ry(0))),u.pipe((0,rt.U)(f=>{const m={matches:!1,breakpoints:{}};return f.forEach(({matches:w,query:D})=>{m.matches=m.matches||w,m.breakpoints[D]=w}),m}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const s=this._mediaMatcher.matchMedia(n),u={observable:new on.y(f=>{const m=w=>this._zone.run(()=>f.next(w));return s.addListener(m),()=>{s.removeListener(m)}}).pipe(Jt(s),(0,rt.U)(({matches:f})=>({query:n,matches:f})),Je(this._destroySubject)),mql:s};return this._queries.set(n,u),u}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(b2),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(b2),a.LFG(a.R0b))},token:r,providedIn:"root"}),r})();function w2(r){return r.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}function xY(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div",1),a.TgZ(1,"button",2),a.NdJ("click",function(){return a.CHM(n),a.oxw().action()}),a._uU(2),a.qZA(),a.qZA()}if(2&r){const n=a.oxw();a.xp6(2),a.Oqu(n.data.action)}}function MY(r,i){}const E2=new a.OlP("MatSnackBarData");class fI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const SY=Math.pow(2,31)-1;class pP{constructor(i,n){this._overlayRef=n,this._afterDismissed=new ke.xQ,this._afterOpened=new ke.xQ,this._onAction=new ke.xQ,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,SY))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let TY=(()=>{class r{constructor(n,s){this.snackBarRef=n,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(pP),a.Y36(E2))},r.\u0275cmp=a.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA(),a.YNc(2,xY,3,1,"div",0)),2&n&&(a.xp6(1),a.Oqu(s.data.message),a.xp6(1),a.Q6J("ngIf",s.hasAction))},directives:[ui,xs],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),r})();const AY={snackBarState:io("state",[ci("void, hidden",kt({transform:"scale(0.8)",opacity:0})),ci("visible",kt({transform:"scale(1)",opacity:1})),Xn("* => visible",li("150ms cubic-bezier(0, 0, 0.2, 1)")),Xn("* => void, * => hidden",li("75ms cubic-bezier(0.4, 0.0, 1, 1)",kt({opacity:0})))])};let IY=(()=>{class r extends PA{constructor(n,s,o,u,f){super(),this._ngZone=n,this._elementRef=s,this._changeDetectorRef=o,this._platform=u,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ke.xQ,this._onExit=new ke.xQ,this._onEnter=new ke.xQ,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(n)}onAnimationEnd(n){const{fromState:s,toState:o}=n;if(("void"===o&&"void"!==s||"hidden"===o)&&this._completeExit(),"visible"===o){const u=this._onEnter;this._ngZone.run(()=>{u.next(),u.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(hn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const n=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(o=>n.classList.add(o)):n.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&n.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&n.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&s){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),s.appendChild(n),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Vt),a.Y36(fI))},r.\u0275cmp=a.Xpm({type:r,selectors:[["snack-bar-container"]],viewQuery:function(n,s){if(1&n&&a.Gf(wa,7),2&n){let o;a.iGM(o=a.CRH())&&(s._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(n,s){1&n&&a.WFA("@state.done",function(u){return s.onAnimationEnd(u)}),2&n&&a.d8E("@state",s._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.YNc(1,MY,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&n&&(a.xp6(2),a.uIk("aria-live",s._live)("role",s._role))},directives:[wa],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[AY.snackBarState]}}),r})(),D2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[tb,Xv,Ii,hI,bt],bt]}),r})();const x2=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new fI}});let RY=(()=>{class r{constructor(n,s,o,u,f,m){this._overlay=n,this._live=s,this._injector=o,this._breakpointObserver=u,this._parentSnackBar=f,this._defaultConfig=m,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=TY,this.snackBarContainerComponent=IY,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}openFromComponent(n,s){return this._attach(n,s)}openFromTemplate(n,s){return this._attach(n,s)}open(n,s="",o){const u=Object.assign(Object.assign({},this._defaultConfig),o);return u.data={message:n,action:s},u.announcementMessage===n&&(u.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,u)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,s){const u=a.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:fI,useValue:s}]}),f=new If(this.snackBarContainerComponent,s.viewContainerRef,u),m=n.attach(f);return m.instance.snackBarConfig=s,m.instance}_attach(n,s){const o=Object.assign(Object.assign(Object.assign({},new fI),this._defaultConfig),s),u=this._createOverlay(o),f=this._attachSnackBarContainer(u,o),m=new pP(f,u);if(n instanceof a.Rgc){const w=new Oc(n,null,{$implicit:o.data,snackBarRef:m});m.instance=f.attachTemplatePortal(w)}else{const w=this._createInjector(o,m),D=new If(n,void 0,w),S=f.attachComponentPortal(D);m.instance=S.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Je(u.detachments())).subscribe(w=>{const D=u.overlayElement.classList;w.matches?D.add(this.handsetCssClass):D.remove(this.handsetCssClass)}),o.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(m,o),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(n,s){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),s.duration&&s.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(s.duration))}_createOverlay(n){const s=new eb;s.direction=n.direction;let o=this._overlay.position().global();const u="rtl"===n.direction,f="left"===n.horizontalPosition||"start"===n.horizontalPosition&&!u||"end"===n.horizontalPosition&&u,m=!f&&"center"!==n.horizontalPosition;return f?o.left("0"):m?o.right("0"):o.centerHorizontally(),"top"===n.verticalPosition?o.top("0"):o.bottom("0"),s.positionStrategy=o,this._overlay.create(s)}_createInjector(n,s){return a.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:pP,useValue:s},{provide:E2,useValue:n.data}]})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(ts),a.LFG(HA),a.LFG(a.zs3),a.LFG(fP),a.LFG(r,12),a.LFG(x2))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(ts),a.LFG(HA),a.LFG(a.gxx),a.LFG(fP),a.LFG(r,12),a.LFG(x2))},token:r,providedIn:D2}),r})(),yD=(()=>{class r{constructor(n){this.snackBar=n}open(n,s){this.snackBar.open(n,s,{duration:2e3})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(RY))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vD=(()=>{class r{constructor(n,s,o){this.fireStorageService=n,this.fireStoreService=s,this.snackBar=o}upload(n){let s,o;const u=this.fireStorageService.uploadFileToSend(n);return u.uploadProgress.toPromise().then(f=>(0,Fi.mG)(this,void 0,void 0,function*(){yield u.downloadUrl.toPromise().then(m=>o=m),100===f&&(s=new sc(u.name,o,zx.format()),this.fireStoreService.addImageToSend(s))})),u.uploadProgress}deleteFromToSend(n){this.fireStoreService.deleteImageToSend(n),this.fireStorageService.deleteFile(n.drawable)}deleteFromSent(n){this.fireStoreService.deleteImageSent(n),this.fireStorageService.deleteFile(n.drawable)}draw(){return(0,Fi.mG)(this,void 0,void 0,function*(){0===(yield this.fireStoreService.toSendCollection.get().toPromise().then(s=>s.size))?this.snackBar.open("Nothing to draw :c","Close"):(this.snackBar.open("Drawing...","Close"),yield this.fireStoreService.toSend.pipe(An()).subscribe(s=>(0,Fi.mG)(this,void 0,void 0,function*(){let o,u;const f=class{static randomize(i){return i[function(r,i){return r=Math.ceil(r),i=Math.floor(i),Math.floor(Math.random()*(i-r))+r}(0,i.length)]}}.randomize(s);yield this.fireStorageService.moveFileToSent(f.name,f.drawable).then(m=>{o=m.drawable,u=m.newName,this.fireStoreService.moveImageFromToSendToSent(f,o,u),this.snackBar.open("Successfully drawn!","Close")}).catch(()=>this.snackBar.open("Failed to draw :C","Close"))})))})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(gB),a.LFG(Sf),a.LFG(yD))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function OY(r,i){}class mP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const FY={dialogContainer:io("dialogContainer",[ci("void, exit",kt({opacity:0,transform:"scale(0.7)"})),ci("enter",kt({transform:"none"})),Xn("* => enter",li("150ms cubic-bezier(0, 0, 0.2, 1)",kt({transform:"none",opacity:1}))),Xn("* => void, * => exit",li("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",kt({opacity:0})))])};let PY=(()=>{class r extends PA{constructor(n,s,o,u,f,m){super(),this._elementRef=n,this._focusTrapFactory=s,this._changeDetectorRef=o,this._config=f,this._focusMonitor=m,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(w)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=u}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(n)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const n=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=cD(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=cD())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=cD();return n===s||n.contains(s)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(EF),a.Y36(a.sBO),a.Y36(q,8),a.Y36(mP),a.Y36(Rr))},r.\u0275dir=a.lG2({type:r,viewQuery:function(n,s){if(1&n&&a.Gf(wa,7),2&n){let o;a.iGM(o=a.CRH())&&(s._portalOutlet=o.first)}},features:[a.qOj]}),r})(),NY=(()=>{class r extends PY{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:n,totalTime:s}){"enter"===n?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===n&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:n,totalTime:s}){"enter"===n?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===n||"void"===n)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(n,s){1&n&&a.WFA("@dialogContainer.start",function(u){return s._onAnimationStart(u)})("@dialogContainer.done",function(u){return s._onAnimationDone(u)}),2&n&&(a.Ikx("id",s._id),a.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),a.d8E("@dialogContainer",s._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){1&n&&a.YNc(0,OY,0,0,"ng-template",0)},directives:[wa],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[FY.dialogContainer]}}),r})(),LY=0;class pI{constructor(i,n,s="mat-dialog-"+LY++){this._overlayRef=i,this._containerInstance=n,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ke.xQ,this._afterClosed=new ke.xQ,this._beforeClosed=new ke.xQ,this._state=0,n._id=s,n._animationStateChanged.pipe(Nt(o=>"opened"===o.state),hn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Nt(o=>"closed"===o.state),hn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(Nt(o=>27===o.keyCode&&!this.disableClose&&!function(r,...i){return i.length?i.some(n=>r[n]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}(o))).subscribe(o=>{o.preventDefault(),gP(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():gP(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Nt(n=>"closing"===n.state),hn(1)).subscribe(n=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let n=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?n.left(i.left):n.right(i.right):n.centerHorizontally(),i&&(i.top||i.bottom)?i.top?n.top(i.top):n.bottom(i.bottom):n.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",n=""){return this._overlayRef.updateSize({width:i,height:n}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function gP(r,i,n){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=i),r.close(n)}const BY=new a.OlP("MatDialogData"),VY=new a.OlP("mat-dialog-default-options"),M2=new a.OlP("mat-dialog-scroll-strategy"),HY={provide:M2,deps:[ts],useFactory:function(r){return()=>r.scrollStrategies.block()}};let GY=(()=>{class r{constructor(n,s,o,u,f,m,w,D,S){this._overlay=n,this._injector=s,this._defaultOptions=o,this._parentDialog=u,this._overlayContainer=f,this._dialogRefConstructor=w,this._dialogContainerType=D,this._dialogDataToken=S,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke.xQ,this._afterOpenedAtThisLevel=new ke.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Yr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Jt(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(n,s){(s=function(r,i){return Object.assign(Object.assign({},i),r)}(s,this._defaultOptions||new mP)).id&&this.getDialogById(s.id);const o=this._createOverlay(s),u=this._attachDialogContainer(o,s),f=this._attachDialogContent(n,u,o,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),u._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(n){const s=this._getOverlayConfig(n);return this._overlay.create(s)}_getOverlayConfig(n){const s=new eb({positionStrategy:this._overlay.position().global(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachDialogContainer(n,s){const u=a.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:mP,useValue:s}]}),f=new If(this._dialogContainerType,s.viewContainerRef,u,s.componentFactoryResolver);return n.attach(f).instance}_attachDialogContent(n,s,o,u){const f=new this._dialogRefConstructor(o,s,u.id);if(n instanceof a.Rgc)s.attachTemplatePortal(new Oc(n,null,{$implicit:u.data,dialogRef:f}));else{const m=this._createInjector(u,f,s),w=s.attachComponentPortal(new If(n,u.viewContainerRef,m));f.componentInstance=w.instance}return f.updateSize(u.width,u.height).updatePosition(u.position),f}_createInjector(n,s,o){const u=n&&n.viewContainerRef&&n.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:n.data},{provide:this._dialogRefConstructor,useValue:s}];return n.direction&&(!u||!u.get(Wt,null,a.XFs.Optional))&&f.push({provide:Wt,useValue:{value:n.direction,change:(0,je.of)()}}),a.zs3.create({parent:u||this._injector,providers:f})}_removeOpenDialog(n){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let o=s.length-1;o>-1;o--){let u=s[o];u!==n&&"SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName&&!u.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}}}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ts),a.Y36(a.zs3),a.Y36(void 0),a.Y36(void 0),a.Y36(dD),a.Y36(void 0),a.Y36(a.DyG),a.Y36(a.DyG),a.Y36(a.OlP))},r.\u0275dir=a.lG2({type:r}),r})(),lb=(()=>{class r extends GY{constructor(n,s,o,u,f,m,w){super(n,s,u,m,w,f,pI,NY,BY)}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(ts),a.LFG(a.zs3),a.LFG(ct,8),a.LFG(VY,8),a.LFG(M2),a.LFG(r,12),a.LFG(dD))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),YY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[lb,HY],imports:[[tb,Xv,bt],bt]}),r})(),qY=(()=>{class r{constructor(){this.fileOver=!1,this.fileDropped=new a.vpe}onDragOver(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!0}onDragLeave(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1}ondrop(n){n.preventDefault(),n.stopPropagation(),this.fileOver=!1;const s=n.dataTransfer.files;s.length>0&&this.fileDropped.emit(s)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","appDragAndDrop",""]],hostVars:2,hostBindings:function(n,s){1&n&&a.NdJ("dragover",function(u){return s.onDragOver(u)})("dragleave",function(u){return s.onDragLeave(u)})("drop",function(u){return s.ondrop(u)}),2&n&&a.ekj("fileover",s.fileOver)},outputs:{fileDropped:"fileDropped"}}),r})();var $Y=N(205),ZY=N(1555);function T2(...r){if(1===r.length){const i=r[0];if((0,Vl.k)(i))return mI(i,null);if((0,ZY.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return mI(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return mI(r=1===r.length&&(0,Vl.k)(r[0])?r[0]:r,null).pipe((0,rt.U)(n=>i(...n)))}return mI(r,null)}function mI(r,i){return new on.y(n=>{const s=r.length;if(0===s)return void n.complete();const o=new Array(s);let u=0,f=0;for(let m=0;m<s;m++){const w=(0,$t.D)(r[m]);let D=!1;n.add(w.subscribe({next:S=>{D||(D=!0,f++),o[m]=S},error:S=>n.error(S),complete:()=>{u++,(u===s||!D)&&(f===s&&n.next(i?i.reduce((S,I,F)=>(S[I]=o[F],S),{}):o),n.complete())}}))}})}var WY=N(8819);class A2{}class fd{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const o=n.slice(0,s),u=o.toLowerCase(),f=n.slice(s+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const o=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(n,o))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof fd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new fd;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof fd?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const o=("a"===i.op?this.headers.get(n):void 0)||[];o.push(...s),this.headers.set(n,o);break;case"d":const u=i.value;if(u){let f=this.headers.get(n);if(!f)return;f=f.filter(m=>-1===u.indexOf(m)),0===f.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class KY{encodeKey(i){return k2(i)}encodeValue(i){return k2(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const JY=/%(\d[a-f0-9])/gi,XY={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function k2(r){return encodeURIComponent(r).replace(JY,(i,n)=>{var s;return null!==(s=XY[n])&&void 0!==s?s:i})}function R2(r){return`${r}`}class Nf{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new KY,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[f,m]=-1==u?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,u)),i.decodeValue(o.slice(u+1))],w=n.get(f)||[];w.push(m),n.set(f,w)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const o=i[s];Array.isArray(o)?o.forEach(u=>{n.push({param:s,value:u,op:"a"})}):n.push({param:s,value:o,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new Nf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(R2(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const o=s.indexOf(R2(i.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class eq{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function O2(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function F2(r){return"undefined"!=typeof Blob&&r instanceof Blob}function P2(r){return"undefined"!=typeof FormData&&r instanceof FormData}class bD{constructor(i,n,s,o){let u;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,u=o):u=s,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new fd),this.context||(this.context=new eq),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=n;else{const m=n.indexOf("?");this.urlWithParams=n+(-1===m?"?":m<n.length-1?"&":"")+f}}else this.params=new Nf,this.urlWithParams=n}serializeBody(){return null===this.body?null:O2(this.body)||F2(this.body)||P2(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||P2(this.body)?null:F2(this.body)?this.body.type||null:O2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,o=i.url||this.url,u=i.responseType||this.responseType,f=void 0!==i.body?i.body:this.body,m=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,w=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let D=i.headers||this.headers,S=i.params||this.params;const I=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(D=Object.keys(i.setHeaders).reduce((F,L)=>F.set(L,i.setHeaders[L]),D)),i.setParams&&(S=Object.keys(i.setParams).reduce((F,L)=>F.set(L,i.setParams[L]),S)),new bD(s,o,f,{params:S,headers:D,context:I,reportProgress:w,responseType:u,withCredentials:m})}}var Hi=(()=>((Hi=Hi||{})[Hi.Sent=0]="Sent",Hi[Hi.UploadProgress=1]="UploadProgress",Hi[Hi.ResponseHeader=2]="ResponseHeader",Hi[Hi.DownloadProgress=3]="DownloadProgress",Hi[Hi.Response=4]="Response",Hi[Hi.User=5]="User",Hi))();class gI extends class{constructor(i,n=200,s="OK"){this.headers=i.headers||new fd,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=Hi.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new gI({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function vP(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let _I=(()=>{class r{constructor(n){this.handler=n}request(n,s,o={}){let u;if(n instanceof bD)u=n;else{let w,D;w=o.headers instanceof fd?o.headers:new fd(o.headers),o.params&&(D=o.params instanceof Nf?o.params:new Nf({fromObject:o.params})),u=new bD(n,s,void 0!==o.body?o.body:null,{headers:w,context:o.context,params:D,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=(0,je.of)(u).pipe(Ba(w=>this.handler.handle(w)));if(n instanceof bD||"events"===o.observe)return f;const m=f.pipe(Nt(w=>w instanceof gI));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,rt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe((0,rt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe((0,rt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));case"json":default:return m.pipe((0,rt.U)(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new Nf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,o={}){return this.request("PATCH",n,vP(o,s))}post(n,s,o={}){return this.request("POST",n,vP(o,s))}put(n,s,o={}){return this.request("PUT",n,vP(o,s))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(A2))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const cq=["*"];function H2(r){return Error(`Unable to find icon with the name "${r}"`)}function G2(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function j2(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Pg{constructor(i,n,s){this.url=i,this.svgText=n,this.options=s}}let yI=(()=>{class r{constructor(n,s,o,u){this._httpClient=n,this._sanitizer=s,this._errorHandler=u,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(n,s,o){return this.addSvgIconInNamespace("",n,s,o)}addSvgIconLiteral(n,s,o){return this.addSvgIconLiteralInNamespace("",n,s,o)}addSvgIconInNamespace(n,s,o,u){return this._addSvgIconConfig(n,s,new Pg(o,null,u))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,s,o,u){const f=this._sanitizer.sanitize(a.q3G.HTML,o);if(!f)throw j2(o);return this._addSvgIconConfig(n,s,new Pg("",f,u))}addSvgIconSet(n,s){return this.addSvgIconSetInNamespace("",n,s)}addSvgIconSetLiteral(n,s){return this.addSvgIconSetLiteralInNamespace("",n,s)}addSvgIconSetInNamespace(n,s,o){return this._addSvgIconSetConfig(n,new Pg(s,null,o))}addSvgIconSetLiteralInNamespace(n,s,o){const u=this._sanitizer.sanitize(a.q3G.HTML,s);if(!u)throw j2(s);return this._addSvgIconSetConfig(n,new Pg("",u,o))}registerFontClassAlias(n,s=n){return this._fontCssClassesByAlias.set(n,s),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const s=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,n);if(!s)throw G2(n);const o=this._cachedIconsByUrl.get(s);return o?(0,je.of)(vI(o)):this._loadSvgIconFromConfig(new Pg(n,null)).pipe((0,qn.b)(u=>this._cachedIconsByUrl.set(s,u)),(0,rt.U)(u=>vI(u)))}getNamedSvgIcon(n,s=""){const o=z2(s,n);let u=this._svgIconConfigs.get(o);if(u)return this._getSvgFromConfig(u);if(u=this._getIconConfigFromResolvers(s,n),u)return this._svgIconConfigs.set(o,u),this._getSvgFromConfig(u);const f=this._iconSetConfigs.get(s);return f?this._getSvgFromIconSetConfigs(n,f):(0,$Y._)(H2(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,je.of)(vI(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,rt.U)(s=>vI(s)))}_getSvgFromIconSetConfigs(n,s){const o=this._extractIconWithNameFromAnySet(n,s);return o?(0,je.of)(o):T2(s.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(La(m=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,f.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(D)),(0,je.of)(null)})))).pipe((0,rt.U)(()=>{const f=this._extractIconWithNameFromAnySet(n,s);if(!f)throw H2(n);return f}))}_extractIconWithNameFromAnySet(n,s){for(let o=s.length-1;o>=0;o--){const u=s[o];if(u.svgText&&u.svgText.indexOf(n)>-1){const f=this._svgElementFromConfig(u),m=this._extractSvgIconFromSet(f,n,u.options);if(m)return m}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,qn.b)(s=>n.svgText=s),(0,rt.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,je.of)(null):this._fetchIcon(n).pipe((0,qn.b)(s=>n.svgText=s))}_extractSvgIconFromSet(n,s,o){const u=n.querySelector(`[id="${s}"]`);if(!u)return null;const f=u.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(f),this._setSvgAttributes(m,o)}_svgElementFromString(n){const s=this._document.createElement("DIV");s.innerHTML=n;const o=s.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){const s=this._svgElementFromString("<svg></svg>"),o=n.attributes;for(let u=0;u<o.length;u++){const{name:f,value:m}=o[u];"id"!==f&&s.setAttribute(f,m)}for(let u=0;u<n.childNodes.length;u++)n.childNodes[u].nodeType===this._document.ELEMENT_NODE&&s.appendChild(n.childNodes[u].cloneNode(!0));return s}_setSvgAttributes(n,s){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),s&&s.viewBox&&n.setAttribute("viewBox",s.viewBox),n}_fetchIcon(n){var s;const{url:o,options:u}=n,f=null!==(s=null==u?void 0:u.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const m=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,o);if(!m)throw G2(o);const w=this._inProgressUrlFetches.get(m);if(w)return w;const D=this._httpClient.get(m,{responseType:"text",withCredentials:f}).pipe(yp(()=>this._inProgressUrlFetches.delete(m)),(0,WY.B)());return this._inProgressUrlFetches.set(m,D),D}_addSvgIconConfig(n,s,o){return this._svgIconConfigs.set(z2(n,s),o),this}_addSvgIconSetConfig(n,s){const o=this._iconSetConfigs.get(n);return o?o.push(s):this._iconSetConfigs.set(n,[s]),this}_svgElementFromConfig(n){if(!n.svgElement){const s=this._svgElementFromString(n.svgText);this._setSvgAttributes(s,n.options),n.svgElement=s}return n.svgElement}_getIconConfigFromResolvers(n,s){for(let o=0;o<this._resolvers.length;o++){const u=this._resolvers[o](s,n);if(u)return hq(u)?new Pg(u.url,null,u.options):new Pg(u,null)}}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(_I,8),a.LFG(Gr),a.LFG(q,8),a.LFG(a.qLn))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(_I,8),a.LFG(Gr),a.LFG(q,8),a.LFG(a.qLn))},token:r,providedIn:"root"}),r})();function vI(r){return r.cloneNode(!0)}function z2(r,i){return r+":"+i}function hq(r){return!(!r.url||!r.options)}const fq=Nc(class{constructor(r){this._elementRef=r}}),pq=new a.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,a.f3M)(q),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),Y2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_q=Y2.map(r=>`[${r}]`).join(", "),yq=/^url\(['"]?#(.*?)['"]?\)$/;let Ng=(()=>{class r extends fq{constructor(n,s,o,u,f){super(n),this._iconRegistry=s,this._location=u,this._errorHandler=f,this._inline=!1,this._currentIconFetch=Zt.w.EMPTY,o||n.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(n){this._inline=Ue(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const s=this._cleanupFontValue(n);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const s=this._cleanupFontValue(n);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(n){if(!n)return["",""];const s=n.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const s=n.querySelectorAll("style");for(let u=0;u<s.length;u++)s[u].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let s=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const o=n.childNodes[s];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&n.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&n.classList.remove(this._previousFontSetClass),s&&n.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const s=this._elementsWithExternalReferences;s&&s.forEach((o,u)=>{o.forEach(f=>{u.setAttribute(f.name,`url('${n}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(n){const s=n.querySelectorAll(_q),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let u=0;u<s.length;u++)Y2.forEach(f=>{const m=s[u],w=m.getAttribute(f),D=w?w.match(yq):null;if(D){let S=o.get(m);S||(S=[],o.set(m,S)),S.push({name:f,value:D[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[s,o]=this._splitIconName(n);s&&(this._svgNamespace=s),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,s).pipe(hn(1)).subscribe(u=>this._setSvgElement(u),u=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${o}! ${u.message}`))})}}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(yI),a.$8M("aria-hidden"),a.Y36(pq),a.Y36(a.qLn))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(n,s){2&n&&(a.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),a.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:cq,decls:1,vars:0,template:function(n,s){1&n&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),vq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();const bq=["primaryValueBar"],wq=Nc(class{constructor(r){this._elementRef=r}},"primary"),Cq=new a.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const r=(0,a.f3M)(q),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}});let Dq=0,xq=(()=>{class r extends wq{constructor(n,s,o,u){super(n),this._ngZone=s,this._animationMode=o,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new a.vpe,this._animationEndSubscription=Zt.w.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Dq++;const f=u?u.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${f}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===o}get value(){return this._value}set value(n){this._value=q2(ai(n)||0)}get bufferValue(){return this._bufferValue}set bufferValue(n){this._bufferValue=q2(n||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const n=this._primaryValueBar.nativeElement;this._animationEndSubscription=Rc(n,"transitionend").pipe(Nt(s=>s.target===n)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Pn,8),a.Y36(Cq,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-progress-bar"]],viewQuery:function(n,s){if(1&n&&a.Gf(bq,5),2&n){let o;a.iGM(o=a.CRH())&&(s._primaryValueBar=o.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(n,s){2&n&&(a.uIk("aria-valuenow","indeterminate"===s.mode||"query"===s.mode?null:s.value)("mode",s.mode),a.ekj("_mat-animation-noopable",s._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[a.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1),a.TgZ(2,"defs"),a.TgZ(3,"pattern",2),a._UZ(4,"circle",3),a.qZA(),a.qZA(),a._UZ(5,"rect",4),a.qZA(),a.kcU(),a._UZ(6,"div",5),a._UZ(7,"div",6,7),a._UZ(9,"div",8),a.qZA()),2&n&&(a.xp6(3),a.Q6J("id",s.progressbarId),a.xp6(2),a.uIk("fill",s._rectangleFillValue),a.xp6(1),a.Q6J("ngStyle",s._bufferTransform()),a.xp6(1),a.Q6J("ngStyle",s._primaryTransform()))},directives:[Yc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),r})();function q2(r,i=0,n=100){return Math.max(i,Math.min(n,r))}let Mq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ii,bt],bt]}),r})();const Sq=["drop"],Tq=["dropzone"];function Aq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div",11),a.TgZ(1,"div",12),a.TgZ(2,"div",13),a.TgZ(3,"h3"),a._uU(4),a.qZA(),a.TgZ(5,"h3"),a._uU(6),a.qZA(),a.qZA(),a._UZ(7,"mat-progress-bar",14),a.ALo(8,"async"),a.qZA(),a.TgZ(9,"div"),a.TgZ(10,"button",15),a.NdJ("click",function(){const u=a.CHM(n).index;return a.oxw().deleteFile(u)}),a._uU(11,"x"),a.qZA(),a.qZA(),a.qZA()}if(2&r){const n=i.$implicit,s=a.oxw();a.xp6(4),a.hij("",n.name,"\xa0"),a.xp6(2),a.Oqu(s.formatBytes(n.size)),a.xp6(1),a.Q6J("value",a.lcZ(8,5,n.progress))("bufferValue",100),a.xp6(3),a.Q6J("disabled",s.startedUploading)}}let Iq=(()=>{class r{constructor(n,s,o,u){this.imageRepository=n,this.matDialog=s,this.dialogRef=o,this.snackbar=u,this.elementReference={},this.dropzone={},this.files=[],this.startedUploading=!1}ngOnInit(){}onFileDropped(n){this.prepareFilesList(n)}fileBrowseHandler(n){this.prepareFilesList(n.target.files)}deleteFile(n){this.files.splice(n,1)}prepareFilesList(n){for(const s of n)s.progress=0,this.files.push(s)}formatBytes(n,s=2){if(0===n)return"0 Bytes";const u=s<=0?0:s,m=Math.floor(Math.log(n)/Math.log(1024));return parseFloat((n/Math.pow(1024,m)).toFixed(u))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][m]}upload(){return(0,Fi.mG)(this,void 0,void 0,function*(){this.startedUploading=!0,this.dialogRef.disableClose=!0;const n=[];this.files.forEach(o=>{o.progress=this.imageRepository.upload(o),n.push(o.progress)});let s=0;for(const o of n)yield o.toPromise().then(()=>s++);this.snackbar.open("Successfully uploaded all files!","Close"),function(r,i=Qp.P){const s=function(r){return r instanceof Date&&!isNaN(+r)}(r)?+r-i.now():Math.abs(r)}(1e3),this.matDialog.closeAll()})}onDrag(){null!==this.dropzone&&(this.dropzone.nativeElement.style.backgroundColor="#AAAAAA")}onLeave(){null!==this.dropzone&&(this.dropzone.nativeElement.style.backgroundColor="transparent")}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(vD),a.Y36(lb),a.Y36(pI),a.Y36(yD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-upload"]],viewQuery:function(n,s){if(1&n&&(a.Gf(Sq,5),a.Gf(Tq,5)),2&n){let o;a.iGM(o=a.CRH())&&(s.elementReference=o.first),a.iGM(o=a.CRH())&&(s.dropzone=o.first)}},decls:19,vars:2,consts:[["appDragAndDrop","","fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","16px",2,"min-width","600px",3,"fileDropped"],["fxFill","","fxLayout","column",2,"border-style","dashed"],["fxLayout","column","fxLayoutAlign","center center",2,"height","200px",3,"dragover","dragleave","drop"],["dropzone",""],["hidden","","id","drop","type","file","multiple","",3,"change"],["drop",""],["mat-raised-button","","color","primary"],["for","drop"],["itemSize","50",2,"min-height","300px","min-width","650px"],["fxFill","","fxLayout","row",4,"ngFor","ngForOf"],["mat-raised-button","",3,"disabled","click"],["fxFill","","fxLayout","row"],["fxLayout","column","fxFlex","90"],["fxLayoutAlign","space-between center"],["color","primary",3,"value","bufferValue"],["mat-button","","fxFlex","10",3,"disabled","click"]],template:function(n,s){1&n&&(a.TgZ(0,"div",0),a.NdJ("fileDropped",function(u){return s.onFileDropped(u)}),a.TgZ(1,"div",1),a.TgZ(2,"div",2,3),a.NdJ("dragover",function(){return s.onDrag()})("dragleave",function(){return s.onLeave()})("drop",function(){return s.onLeave()}),a.TgZ(4,"h3"),a._uU(5,"Drag and drop to upload"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(6,"h3"),a._uU(7,"or"),a.qZA(),a.TgZ(8,"input",4,5),a.NdJ("change",function(u){return s.fileBrowseHandler(u)}),a.qZA(),a.TgZ(10,"button",6),a.TgZ(11,"label",7),a._uU(12," Browse files "),a.qZA(),a.qZA(),a.TgZ(13,"cdk-virtual-scroll-viewport",8),a.YNc(14,Aq,12,7,"div",9),a.qZA(),a.TgZ(15,"button",10),a.NdJ("click",function(){return s.upload()}),a.TgZ(16,"mat-icon"),a._uU(17,"upload"),a.qZA(),a._uU(18," Upload! "),a.qZA(),a.qZA()),2&n&&(a.xp6(14),a.Q6J("ngForOf",s.files),a.xp6(1),a.Q6J("disabled",0===s.files.length||s.startedUploading))},directives:[qY,Oi,Vs,ps,kw,xs,uD,OA,Gt,Ng,ch,xq],pipes:[Ta],styles:[""]}),r})();var No=(()=>(function(r){r.EMPTY="",r.DASHBOARD="dashboard",r.START="start",r.MANAGER="manager"}(No||(No={})),No))();let $2=(()=>{class r{constructor(n,s,o,u){this.angularFireAuth=n,this.snackBar=s,this.router=o,this.matDialog=u}signUp(n){this.angularFireAuth.createUserWithEmailAndPassword(n.email,n.password).then(s=>{var o;null===(o=s.user)||void 0===o||o.updateProfile({displayName:n.displayName})}).catch(s=>{this.snackBar.open(s.message,"Close")})}signIn(n){this.angularFireAuth.signInWithEmailAndPassword(n.email,n.password).then(s=>{var o;Gs.setDisplayName(null===(o=s.user)||void 0===o?void 0:o.displayName),Gs.setIsSignedIn("true"),this.snackBar.open("Successfully signed in.","Close"),this.router.navigate([No.DASHBOARD]).then()}).catch(s=>{this.snackBar.open(s.message,"Close")})}signOut(){localStorage.clear(),this.router.navigate([No.START]).then(()=>{Gs.setIsSignedIn("false"),this.snackBar.open("User Signed out.","Close"),this.matDialog.closeAll()})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(sF),a.LFG(yD),a.LFG(qi),a.LFG(lb))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const kq=["*",[["mat-toolbar-row"]]],Rq=["*","mat-toolbar-row"],Oq=Nc(class{constructor(r){this._elementRef=r}});let Fq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),cb=(()=>{class r extends Oq{constructor(n,s,o){super(n),this._platform=s,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Vt),a.Y36(q))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(n,s,o){if(1&n&&a.Suo(o,Fq,5),2&n){let u;a.iGM(u=a.CRH())&&(s._toolbarRows=u)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(n,s){2&n&&a.ekj("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:Rq,decls:2,vars:0,template:function(n,s){1&n&&(a.F$t(kq),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),Pq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();function Nq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().openUploadDialog()}),a.TgZ(1,"mat-icon"),a._uU(2,"upload"),a.qZA(),a._uU(3," Upload "),a.qZA()}}function Lq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().toManager()}),a.TgZ(1,"mat-icon"),a._uU(2,"settings"),a.qZA(),a._uU(3," Manager "),a.qZA()}}function Bq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().draw()}),a.TgZ(1,"mat-icon"),a._uU(2,"casino"),a.qZA(),a._uU(3," Draw "),a.qZA()}}function Vq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().back()}),a.TgZ(1,"mat-icon"),a._uU(2,"arrow_back"),a.qZA(),a._uU(3," Back "),a.qZA()}}function Uq(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",7),a.NdJ("click",function(){return a.CHM(n),a.oxw().signOut()}),a.TgZ(1,"mat-icon"),a._uU(2,"exit_to_app"),a.qZA(),a._uU(3," Sign out "),a.qZA()}}let EP=(()=>{class r{constructor(n,s,o,u){this.authenticationService=n,this.matDialog=s,this.router=o,this.imageRepository=u,this.showLogoutButton=!1,this.showUploadButton=!1,this.showManagerButton=!1,this.showBackButton=!1,this.showDrawButton=!1}ngOnInit(){}signOut(){this.authenticationService.signOut()}openUploadDialog(){this.matDialog.open(Iq,{})}toManager(){this.router.navigate([No.MANAGER])}back(){this.router.navigate([No.DASHBOARD])}draw(){this.imageRepository.draw()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36($2),a.Y36(lb),a.Y36(qi),a.Y36(vD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-toolbar"]],inputs:{showLogoutButton:"showLogoutButton",showUploadButton:"showUploadButton",showManagerButton:"showManagerButton",showBackButton:"showBackButton",showDrawButton:"showDrawButton"},decls:10,vars:5,consts:[["fxLayoutAlign","space-between center","color","primary"],["fxLayout","row","fxLayoutAlign","space-around center"],["src","assets/logo.jpg","alt","",1,"logo"],["fxLayoutGap","16px"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["mat-stroked-button","",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-toolbar",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a._uU(3," \xa0 Daily Girl\n"),a.qZA(),a.TgZ(4,"div",3),a.YNc(5,Nq,4,0,"button",4),a.YNc(6,Lq,4,0,"button",4),a.YNc(7,Bq,4,0,"button",4),a.YNc(8,Vq,4,0,"button",4),a.YNc(9,Uq,4,0,"button",5),a.qZA(),a.qZA()),2&n&&(a.xp6(5),a.Q6J("ngIf",s.showUploadButton),a.xp6(1),a.Q6J("ngIf",s.showManagerButton),a.xp6(1),a.Q6J("ngIf",s.showDrawButton),a.xp6(1),a.Q6J("ngIf",s.showBackButton),a.xp6(1),a.Q6J("ngIf",s.showLogoutButton))},directives:[cb,Oi,Vs,ps,ui,xs,Ng],styles:[""]}),r})();class Hq{constructor(i,n){this.email=i,this.password=n}}const Gq=["*",[["mat-card-footer"]]],jq=["*","mat-card-footer"];let ub=(()=>{class r{constructor(n){this._animationMode=n}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Pn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,s){2&n&&a.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:jq,decls:2,vars:0,template:function(n,s){1&n&&(a.F$t(Gq),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),Zq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})();const Wq=["underline"],Kq=["connectionContainer"],Qq=["inputContainer"],Jq=["label"];function Xq(r,i){1&r&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15),a._UZ(3,"div",16),a._UZ(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15),a._UZ(7,"div",16),a._UZ(8,"div",17),a.qZA(),a.BQk())}function e$(r,i){1&r&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function t$(r,i){if(1&r&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&r){const n=a.oxw(2);a.xp6(3),a.Oqu(n._control.placeholder)}}function n$(r,i){1&r&&a.Hsn(0,3,["*ngSwitchCase","true"])}function i$(r,i){1&r&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function r$(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(n),a.oxw().updateOutlineGap()}),a.YNc(2,t$,4,1,"ng-container",12),a.YNc(3,n$,1,0,"ng-content",12),a.YNc(4,i$,2,0,"span",22),a.qZA()}if(2&r){const n=a.oxw();a.ekj("mat-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-form-field-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-accent","accent"==n.color)("mat-warn","warn"==n.color),a.Q6J("cdkObserveContentDisabled","outline"!=n.appearance)("id",n._labelId)("ngSwitch",n._hasLabel()),a.uIk("for",n._control.id)("aria-owns",n._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}}function s$(r,i){1&r&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function o$(r,i){if(1&r&&(a.TgZ(0,"div",25,26),a._UZ(2,"span",27),a.qZA()),2&r){const n=a.oxw();a.xp6(2),a.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function a$(r,i){if(1&r&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&r){const n=a.oxw();a.Q6J("@transitionMessages",n._subscriptAnimationState)}}function l$(r,i){if(1&r&&(a.TgZ(0,"div",31),a._uU(1),a.qZA()),2&r){const n=a.oxw(2);a.Q6J("id",n._hintLabelId),a.xp6(1),a.Oqu(n.hintLabel)}}function c$(r,i){if(1&r&&(a.TgZ(0,"div",28),a.YNc(1,l$,2,2,"div",29),a.Hsn(2,6),a._UZ(3,"div",30),a.Hsn(4,7),a.qZA()),2&r){const n=a.oxw();a.Q6J("@transitionMessages",n._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",n.hintLabel)}}const u$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],d$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Z2=new a.OlP("MatError"),f$={transitionMessages:io("transitionMessages",[ci("enter",kt({opacity:1,transform:"translateY(0%)"})),Xn("void => enter",[kt({opacity:0,transform:"translateY(-5px)"}),li("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let db=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r}),r})();const W2=new a.OlP("MatHint");let DP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-label"]]}),r})(),m$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const K2=new a.OlP("MatPrefix"),Q2=new a.OlP("MatSuffix");let J2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:Q2,useExisting:r}])]}),r})(),X2=0;const _$=Nc(class{constructor(r){this._elementRef=r}},"primary"),y$=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),wD=new a.OlP("MatFormField");let bI=(()=>{class r extends _${constructor(n,s,o,u,f,m,w,D){super(n),this._changeDetectorRef=s,this._dir=u,this._defaults=f,this._platform=m,this._ngZone=w,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ke.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+X2++,this._labelId="mat-form-field-label-"+X2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==D,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(n){const s=this._appearance;this._appearance=n||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==n&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Ue(n)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(n){this._explicitFormFieldControl=n}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${n.controlType}`),n.stateChanges.pipe(Jt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Je(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Je(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Dn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Jt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Jt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Je(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(n){const s=this._control?this._control.ngControl:null;return s&&s[n]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Rc(this._label.nativeElement,"transitionend").pipe(hn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,o=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;s?n.push(s.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(n)}}_validateControlChild(){}updateOutlineGap(){const n=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const u=this._connectionContainerRef.nativeElement,f=u.querySelectorAll(".mat-form-field-outline-start"),m=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const w=u.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(w),S=n.children,I=this._getStartEnd(S[0].getBoundingClientRect());let F=0;for(let L=0;L<S.length;L++)F+=S[L].offsetWidth;s=Math.abs(I-D)-5,o=F>0?.75*F+10:0}for(let w=0;w<f.length;w++)f[w].style.width=`${s}px`;for(let w=0;w<m.length;w++)m[w].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(n){return this._dir&&"rtl"===this._dir.value?n.right:n.left}_isAttachedToDOM(){const n=this._elementRef.nativeElement;if(n.getRootNode){const s=n.getRootNode();return s&&s!==n}return document.documentElement.contains(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Wt,8),a.Y36(y$,8),a.Y36(Vt),a.Y36(a.R0b),a.Y36(Pn,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,s,o){if(1&n&&(a.Suo(o,db,5),a.Suo(o,db,7),a.Suo(o,DP,5),a.Suo(o,DP,7),a.Suo(o,m$,5),a.Suo(o,Z2,5),a.Suo(o,W2,5),a.Suo(o,K2,5),a.Suo(o,Q2,5)),2&n){let u;a.iGM(u=a.CRH())&&(s._controlNonStatic=u.first),a.iGM(u=a.CRH())&&(s._controlStatic=u.first),a.iGM(u=a.CRH())&&(s._labelChildNonStatic=u.first),a.iGM(u=a.CRH())&&(s._labelChildStatic=u.first),a.iGM(u=a.CRH())&&(s._placeholderChild=u.first),a.iGM(u=a.CRH())&&(s._errorChildren=u),a.iGM(u=a.CRH())&&(s._hintChildren=u),a.iGM(u=a.CRH())&&(s._prefixChildren=u),a.iGM(u=a.CRH())&&(s._suffixChildren=u)}},viewQuery:function(n,s){if(1&n&&(a.Gf(Wq,5),a.Gf(Kq,7),a.Gf(Qq,5),a.Gf(Jq,5)),2&n){let o;a.iGM(o=a.CRH())&&(s.underlineRef=o.first),a.iGM(o=a.CRH())&&(s._connectionContainerRef=o.first),a.iGM(o=a.CRH())&&(s._inputContainerRef=o.first),a.iGM(o=a.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(n,s){2&n&&a.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:wD,useExisting:r}]),a.qOj],ngContentSelectors:d$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(n,s){1&n&&(a.F$t(u$),a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(u){return s._control.onContainerClick&&s._control.onContainerClick(u)}),a.YNc(3,Xq,9,0,"ng-container",3),a.YNc(4,e$,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,r$,5,16,"label",8),a.qZA(),a.qZA(),a.YNc(10,s$,2,0,"div",9),a.qZA(),a.YNc(11,o$,3,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,a$,2,1,"div",12),a.YNc(14,c$,5,2,"div",13),a.qZA(),a.qZA()),2&n&&(a.xp6(3),a.Q6J("ngIf","outline"==s.appearance),a.xp6(1),a.Q6J("ngIf",s._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",s._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",s._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=s.appearance),a.xp6(1),a.Q6J("ngSwitch",s._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[ui,Vr,Nn,hD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[f$.transitionMessages]},changeDetection:0}),r})(),wI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ii,bt,fD],bt]}),r})();const tU=Cg({passive:!0});let nU=(()=>{class r{constructor(n,s){this._platform=n,this._ngZone=s,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return zr.E;const s=cd(n),o=this._monitoredElements.get(s);if(o)return o.subject;const u=new ke.xQ,f="cdk-text-field-autofilled",m=w=>{"cdk-text-field-autofill-start"!==w.animationName||s.classList.contains(f)?"cdk-text-field-autofill-end"===w.animationName&&s.classList.contains(f)&&(s.classList.remove(f),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!1}))):(s.classList.add(f),this._ngZone.run(()=>u.next({target:w.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",m,tU),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:u,unlisten:()=>{s.removeEventListener("animationstart",m,tU)}}),u}stopMonitoring(n){const s=cd(n),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((n,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Vt),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({factory:function(){return new r(a.LFG(Vt),a.LFG(a.R0b))},token:r,providedIn:"root"}),r})(),iU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Wv]]}),r})(),rU=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.Qsj),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r}),r})(),Lg=(()=>{class r extends rU{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();const Or=new a.OlP("NgValueAccessor"),w$={provide:Or,useExisting:(0,a.Gpc)(()=>hb),multi:!0},E$=new a.OlP("CompositionEventMode");let hb=(()=>{class r extends rU{constructor(n,s,o){super(n,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=U()?U().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(E$,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&a.NdJ("input",function(u){return s._handleInput(u.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(u){return s._compositionEnd(u.target.value)})},features:[a._Bn([w$]),a.qOj]}),r})();const Ti=new a.OlP("NgValidators"),Bf=new a.OlP("NgAsyncValidators");function mU(r){return null!=r}function gU(r){const i=(0,a.QGY)(r)?(0,$t.D)(r):r;return(0,a.CqO)(i),i}function _U(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function yU(r,i){return i.map(n=>n(r))}function vU(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function MP(r){return null!=r?function(r){if(!r)return null;const i=r.filter(mU);return 0==i.length?null:function(n){return _U(yU(n,i))}}(vU(r)):null}function SP(r){return null!=r?function(r){if(!r)return null;const i=r.filter(mU);return 0==i.length?null:function(n){return T2(yU(n,i).map(gU)).pipe((0,rt.U)(_U))}}(vU(r)):null}function CU(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function EU(r){return r._rawValidators}function DU(r){return r._rawAsyncValidators}function TP(r){return r?Array.isArray(r)?r:[r]:[]}function CI(r,i){return Array.isArray(r)?r.includes(i):r===i}function xU(r,i){const n=TP(i);return TP(r).forEach(o=>{CI(n,o)||n.push(o)}),n}function MU(r,i){return TP(i).filter(n=>!CI(r,n))}let SU=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=MP(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=SP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r}),r})(),ns=(()=>{class r extends SU{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=a.n5z(r)))(s||r)}}(),r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();class Da extends SU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class TU{constructor(i){this._cd=i}is(i){var n,s,o;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[i])}}let EI=(()=>{class r extends TU{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Da,2))},r.\u0275dir=a.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&a.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[a.qOj]}),r})(),AP=(()=>{class r extends TU{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ns,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&a.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[a.qOj]}),r})();function CD(r,i){RP(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&AU(r,i)})}(r,i),function(r,i){const n=(s,o)=>{i.valueAccessor.writeValue(s),o&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&AU(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function MI(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),TI(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function SI(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function RP(r,i){const n=EU(r);null!==i.validator?r.setValidators(CU(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=DU(r);null!==i.asyncValidator?r.setAsyncValidators(CU(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const o=()=>r.updateValueAndValidity();SI(i._rawValidators,o),SI(i._rawAsyncValidators,o)}function TI(r,i){let n=!1;if(null!==r){if(null!==i.validator){const o=EU(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==i.validator);u.length!==o.length&&(n=!0,r.setValidators(u))}}if(null!==i.asyncValidator){const o=DU(r);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==i.asyncValidator);u.length!==o.length&&(n=!0,r.setAsyncValidators(u))}}}const s=()=>{};return SI(i._rawValidators,s),SI(i._rawAsyncValidators,s),n}function AU(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function IU(r,i){RP(r,i)}function kU(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function AI(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const ED="VALID",II="INVALID",fb="PENDING",DD="DISABLED";function PP(r){return(LP(r)?r.validators:r)||null}function RU(r){return Array.isArray(r)?MP(r):r||null}function NP(r,i){return(LP(i)?i.asyncValidators:r)||null}function OU(r){return Array.isArray(r)?SP(r):r||null}function LP(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class BP{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=RU(this._rawValidators),this._composedAsyncValidatorFn=OU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===ED}get invalid(){return this.status===II}get pending(){return this.status==fb}get disabled(){return this.status===DD}get enabled(){return this.status!==DD}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=RU(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=OU(i)}addValidators(i){this.setValidators(xU(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(xU(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(MU(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(MU(i,this._rawAsyncValidators))}hasValidator(i){return CI(this._rawValidators,i)}hasAsyncValidator(i){return CI(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=fb,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=DD,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=ED,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ED||this.status===fb)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?DD:ED}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=fb,this._hasOwnPendingAsyncValidator=!0;const n=gU(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(o=>{s=s instanceof VP?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof L$&&s.at(o)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?DD:this.errors?II:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fb)?fb:this._anyControlsHaveStatus(II)?II:ED}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){LP(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class kI extends BP{constructor(i=null,n,s){super(PP(n),NP(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){AI(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){AI(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class VP extends BP{constructor(i,n,s){super(PP(n),NP(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof kI?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((o,u)=>{s=n(s,o,u)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class L$ extends BP{constructor(i,n,s){super(PP(n),NP(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof kI?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const B$={provide:ns,useExisting:(0,a.Gpc)(()=>El)},xD=(()=>Promise.resolve(null))();let El=(()=>{class r extends ns{constructor(n,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new VP({},MP(n),SP(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){xD.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),CD(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){xD.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),AI(this._directives,n)})}addFormGroup(n){xD.then(()=>{const s=this._findContainer(n.path),o=new VP({});IU(o,n),s.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){xD.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){xD.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,kU(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Ti,10),a.Y36(Bf,10))},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&a.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([B$]),a.qOj]}),r})();const U$={provide:Da,useExisting:(0,a.Gpc)(()=>MD)},NU=(()=>Promise.resolve(null))();let MD=(()=>{class r extends Da{constructor(n,s,o,u){super(),this.control=new kI,this._registered=!1,this.update=new a.vpe,this._parent=n,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=function(r,i){if(!i)return null;let n,s,o;return Array.isArray(i),i.forEach(u=>{u.constructor===hb?n=u:function(r){return Object.getPrototypeOf(r.constructor)===Lg}(u)?s=u:o=u}),o||s||n||null}(0,u)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(r,i){return[...i.path,r]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){CD(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){NU.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const s=n.isDisabled.currentValue,o=""===s||s&&"false"!==s;NU.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ns,9),a.Y36(Ti,10),a.Y36(Bf,10),a.Y36(Or,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([U$]),a.qOj,a.TTD]}),r})(),UP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),BU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const q$={provide:ns,useExisting:(0,a.Gpc)(()=>pd)};let pd=(()=>{class r extends ns{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(TI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return CD(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){MI(n.control||null,n,!1),AI(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,kU(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,o=this.form.get(n.path);s!==o&&(MI(s||null,n),o instanceof kI&&(CD(o,n),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);IU(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return TI(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){RP(this.form,this),this._oldForm&&TI(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Ti,10),a.Y36(Bf,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&a.NdJ("submit",function(u){return s.onSubmit(u)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([q$]),a.qOj,a.TTD]}),r})(),e3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[BU]]}),r})(),u4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[e3]}),r})();const t3=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),d4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let h4=0;const f4=lI(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let $P=(()=>{class r extends f4{constructor(n,s,o,u,f,m,w,D,S,I){super(m,u,f,o),this._elementRef=n,this._platform=s,this._autofillMonitor=D,this._formField=I,this._uid="mat-input-"+h4++,this.focused=!1,this.stateChanges=new ke.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>wB().has(j));const F=this._elementRef.nativeElement,L=F.nodeName.toLowerCase();this._inputValueAccessor=w||F,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&S.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",j=>{const te=j.target;!te.value&&0===te.selectionStart&&0===te.selectionEnd&&(te.setSelectionRange(1,1),te.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=Ue(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required}set required(n){this._required=Ue(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&wB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Ue(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,s;const o=(null===(s=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===s?void 0:s.call(n))?null:this.placeholder;if(o!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=o,o?u.setAttribute("placeholder",o):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){d4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,s=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(a.SBq),a.Y36(Vt),a.Y36(Da,10),a.Y36(El,8),a.Y36(pd,8),a.Y36(Ff),a.Y36(t3,10),a.Y36(nU),a.Y36(a.R0b),a.Y36(wD,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(n,s){1&n&&a.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(a.Ikx("disabled",s.disabled)("required",s.required),a.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),a.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:db,useExisting:r}]),a.qOj,a.TTD]}),r})(),p4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Ff],imports:[[iU,wI,bt],iU,wI]}),r})(),m4=(()=>{class r{constructor(n){this.authenticationService=n,this.hide=!0,this.signInRequest=new Hq("","")}ngOnInit(){}onLogIn(){this.authenticationService.signIn(this.signInRequest)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36($2))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-sign-in"]],decls:18,vars:6,consts:[["fxLayout","column"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","","matSuffix","","disabled",""],["matInput","",3,"type","ngModel","ngModelChange"],["mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"h1"),a._uU(2,"Sign in"),a.qZA(),a.TgZ(3,"mat-form-field",1),a.TgZ(4,"mat-label"),a._uU(5,"Enter your email"),a.qZA(),a.TgZ(6,"input",2),a.NdJ("ngModelChange",function(u){return s.signInRequest.email=u}),a.qZA(),a.TgZ(7,"button",3),a._UZ(8,"mat-icon"),a.qZA(),a.qZA(),a.TgZ(9,"mat-form-field",1),a.TgZ(10,"mat-label"),a._uU(11,"Enter your password"),a.qZA(),a.TgZ(12,"input",4),a.NdJ("ngModelChange",function(u){return s.signInRequest.password=u}),a.qZA(),a.TgZ(13,"button",5),a.NdJ("click",function(){return s.hide=!s.hide}),a.TgZ(14,"mat-icon"),a._uU(15),a.qZA(),a.qZA(),a.qZA(),a.TgZ(16,"button",6),a.NdJ("click",function(){return s.onLogIn()}),a._uU(17,"Sign in"),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("ngModel",s.signInRequest.email),a.xp6(6),a.Q6J("type",s.hide?"password":"text")("ngModel",s.signInRequest.password),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",s.hide),a.xp6(2),a.Oqu(s.hide?"visibility_off":"visibility"))},directives:[ub,Vs,bI,DP,$P,hb,EI,MD,xs,J2,Ng],styles:[""]}),r})(),g4=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-sign-up"]],decls:2,vars:0,template:function(n,s){1&n&&(a.TgZ(0,"p"),a._uU(1,"sign-up works!"),a.qZA())},styles:[""]}),r})(),_4=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-start"]],decls:5,vars:0,consts:[["fxLayout","column","fxLayoutGap","16px"],["fxFlex","90","fxLayout","row","fxLayoutAlign","space-around center"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"app-toolbar"),a.TgZ(2,"div",1),a._UZ(3,"app-sign-in"),a._UZ(4,"app-sign-up"),a.qZA(),a.qZA())},directives:[Vs,ps,EP,ch,Oi,m4,g4],styles:[""]}),r})(),y4=(()=>{class r{constructor(n){this.fireStoreService=n}addGrade(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.addGrade(n,s)})}editGrade(n){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.editGrade(n)})}deleteGrade(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.deleteGrade(n,s)})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Sf))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),v4=(()=>{class r{constructor(n){this.gradeRepository=n,this.grades=[],this.image=new sc("","","")}ngOnInit(){}onCLick(n){let s=!1;this.grades.forEach(o=>{o.value===n&&o.author===Gs.getDisplayName()?(s=!0,this.gradeRepository.deleteGrade(this.image,o)):o.value!==n&&o.author===Gs.getDisplayName()&&(s=!0,o.value=n,this.gradeRepository.editGrade(this.image))}),s||(console.log("adding"),this.gradeRepository.addGrade(this.image,n))}countGrade(n){let s=0;return this.grades.forEach(o=>{o.value===n&&s++}),s}hasUsersGradeButtonStyle(n){let s="mat-stroked-button";return this.grades.forEach(o=>{o.value===n&&o.author===Gs.getDisplayName()&&(s="mat-raised-button")}),s}hasUserGradeColour(n){let s="";return this.grades.forEach(o=>{o.value===n&&o.author===Gs.getDisplayName()&&(s="primary")}),s}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(y4))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-grade-bar"]],inputs:{grades:"grades",image:"image"},decls:19,vars:18,consts:[["fxLayoutGap","16px","fxLayoutAlign","space-around center",2,"width","100%"],["mat-button","","fxLayoutAlign","center center",3,"ngClass","color","click"],["src","assets/SS.png","alt","",1,"grade"],["src","assets/S.png","alt","",1,"grade"],["src","assets/A.png","alt","",1,"grade"],["src","assets/B.png","alt","",1,"grade"],["src","assets/C.png","alt","",1,"grade"],["src","assets/D.png","alt","",1,"grade"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"button",1),a.NdJ("click",function(){return s.onCLick(6)}),a._UZ(2,"img",2),a._uU(3),a.qZA(),a.TgZ(4,"button",1),a.NdJ("click",function(){return s.onCLick(5)}),a._UZ(5,"img",3),a._uU(6),a.qZA(),a.TgZ(7,"button",1),a.NdJ("click",function(){return s.onCLick(4)}),a._UZ(8,"img",4),a._uU(9),a.qZA(),a.TgZ(10,"button",1),a.NdJ("click",function(){return s.onCLick(3)}),a._UZ(11,"img",5),a._uU(12),a.qZA(),a.TgZ(13,"button",1),a.NdJ("click",function(){return s.onCLick(2)}),a._UZ(14,"img",6),a._uU(15),a.qZA(),a.TgZ(16,"button",1),a.NdJ("click",function(){return s.onCLick(1)}),a._UZ(17,"img",7),a._uU(18),a.qZA(),a.qZA()),2&n&&(a.xp6(1),a.s9C("color",s.hasUserGradeColour(6)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(6)),a.xp6(2),a.hij(" : ",s.countGrade(6)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(5)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(5)),a.xp6(2),a.hij(" : ",s.countGrade(5)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(4)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(4)),a.xp6(2),a.hij(" : ",s.countGrade(4)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(3)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(3)),a.xp6(2),a.hij(" : ",s.countGrade(3)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(2)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(2)),a.xp6(2),a.hij(" : ",s.countGrade(2)," "),a.xp6(1),a.s9C("color",s.hasUserGradeColour(1)),a.Q6J("ngClass",s.hasUsersGradeButtonStyle(1)),a.xp6(2),a.hij(" : ",s.countGrade(1)," "))},directives:[ub,ps,Oi,xs,as],styles:[""]}),r})(),ZP=(()=>{class r{constructor(n){this.fireStoreService=n}addReply(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.addReply(n,s)})}editReply(n){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.editReply(n)})}deleteReply(n,s){return(0,Fi.mG)(this,void 0,void 0,function*(){return yield this.fireStoreService.deleteReply(n,s)})}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(Sf))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),b4=(()=>{class r{constructor(n,s){this.replyRepository=n,this.snackBar=s,this.image=new sc("","",""),this.text=""}ngOnInit(){}addReply(){this.replyRepository.addReply(this.image,this.text).then(()=>this.text="").catch(n=>{this.snackBar.open("Something went wrong.","Close"),console.log(n)})}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ZP),a.Y36(yD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-reply-create"]],inputs:{image:"image"},decls:7,vars:1,consts:[["appearance","outline",1,"comment-form",2,"width","400px"],["fxLayoutAlign","center center","fxFlex","90","matInput","","placeholder","Enter your comment...","name","text","autocomplete","off",3,"ngModel","ngModelChange"],["mat-icon-button","","color","primary",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"div"),a.TgZ(1,"form"),a.TgZ(2,"mat-form-field",0),a.TgZ(3,"input",1),a.NdJ("ngModelChange",function(u){return s.text=u}),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return s.addReply()}),a.TgZ(5,"mat-icon"),a._uU(6,"send"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(3),a.Q6J("ngModel",s.text))},directives:[UP,AP,El,bI,$P,hb,Oi,ch,EI,MD,xs,Ng],styles:[""]}),r})();function w4(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().switchEditing()}),a.TgZ(1,"mat-icon"),a._uU(2,"edit"),a.qZA(),a.qZA()}}function C4(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){return a.CHM(n),a.oxw().deleteReply()}),a.TgZ(1,"mat-icon"),a._uU(2,"delete"),a.qZA(),a.qZA()}}function E4(r,i){if(1&r&&(a.TgZ(0,"div",7),a._uU(1),a.qZA()),2&r){const n=a.oxw();a.xp6(1),a.hij(" ",n.reply.message," ")}}function D4(r,i){if(1&r){const n=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"form",8),a.NdJ("keydown.enter",function(){return a.CHM(n),a.oxw().editReply()}),a.TgZ(2,"mat-form-field",9),a.TgZ(3,"input",10),a.NdJ("ngModelChange",function(o){return a.CHM(n),a.oxw().reply.message=o}),a.qZA(),a.TgZ(4,"button",11),a.NdJ("click",function(){return a.CHM(n),a.oxw().editReply()}),a.TgZ(5,"mat-icon"),a._uU(6,"send"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&r){const n=a.oxw();a.xp6(3),a.Q6J("ngModel",n.reply.message)}}let x4=(()=>{class r{constructor(n,s){this.replyRepository=n,this.snackBar=s,this.reply=new RM("","",""),this.image=new sc("","",""),this.username=Gs.getDisplayName(),this.isEditing=!1}ngOnInit(){}isAuthor(){return this.reply.author===this.username}switchEditing(){this.isEditing=!this.isEditing}deleteReply(){this.replyRepository.deleteReply(this.image,this.reply).catch(()=>this.snackBar.open("Something went wrong.","Close"))}editReply(){this.replyRepository.editReply(this.image).then(()=>this.isEditing=!1).catch(()=>this.snackBar.open("Something went wrong.","Close"))}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(ZP),a.Y36(yD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-reply-element"]],inputs:{reply:"reply",image:"image"},decls:9,vars:5,consts:[["fxLayout","column","fxLayoutGap","16px",1,"comment-container",2,"width","400px"],["fxLayoutAlign","space-between center"],["mat-flat-button","","color","primary"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["fxLayout","row","fxLayoutGap","16px",4,"ngIf"],[4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutGap","16px"],[3,"keydown.enter"],["appearance","outline",1,"edit-comment-form"],["matInput","","fxFlex","90","name","editComment","fxLayoutAlign","start center","autocomplete","off",3,"ngModel","ngModelChange"],["mat-icon-button","","color","primary","fxLayoutAlign","center center",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"div",1),a.TgZ(2,"button",2),a._uU(3),a.qZA(),a.TgZ(4,"div"),a.YNc(5,w4,3,0,"button",3),a.YNc(6,C4,3,0,"button",3),a.qZA(),a.qZA(),a.YNc(7,E4,2,1,"div",4),a.YNc(8,D4,7,1,"div",5),a.qZA()),2&n&&(a.xp6(3),a.Oqu(s.reply.author),a.xp6(2),a.Q6J("ngIf",s.isAuthor()),a.xp6(1),a.Q6J("ngIf",s.isAuthor()),a.xp6(1),a.Q6J("ngIf",!1===s.isEditing),a.xp6(1),a.Q6J("ngIf",s.isEditing&&s.isAuthor()))},directives:[ub,Vs,ps,Oi,xs,ui,J2,Ng,UP,AP,El,bI,$P,hb,ch,EI,MD],styles:[""]}),r})();function M4(r,i){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-reply-element",8),a.qZA()),2&r){const n=i.$implicit,s=a.oxw();a.xp6(1),a.Q6J("reply",n)("image",s.image)}}let S4=(()=>{class r{constructor(){this.image=new sc("","","")}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-dashboard-element"]],inputs:{image:"image"},decls:11,vars:7,consts:[["fxLayoutAlign","center"],["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","8px",2,"width","55vw"],["color","accent"],["mat-raised-button","","disabled","",2,"width","100%"],["alt","",1,"image",3,"src"],[3,"grades","image"],[4,"ngFor","ngForOf"],[3,"image"],[3,"reply","image"]],template:function(n,s){1&n&&(a._UZ(0,"br"),a.TgZ(1,"div",0),a.TgZ(2,"mat-card",1),a.TgZ(3,"mat-toolbar",2),a._uU(4),a.qZA(),a.TgZ(5,"button",3),a._uU(6),a.qZA(),a._UZ(7,"img",4),a._UZ(8,"app-grade-bar",5),a.YNc(9,M4,2,2,"div",6),a._UZ(10,"app-reply-create",7),a.qZA(),a.qZA()),2&n&&(a.xp6(4),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH),a.xp6(1),a.Q6J("grades",s.image.grades)("image",s.image),a.xp6(1),a.Q6J("ngForOf",s.image.replies),a.xp6(1),a.Q6J("image",s.image))},directives:[Oi,ub,Vs,ps,cb,xs,v4,Gt,b4,x4],styles:[""]}),r})();function T4(r,i){if(1&r&&(a.TgZ(0,"div"),a._UZ(1,"app-dashboard-element",3),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let A4=(()=>{class r{constructor(n){this.fireStoreService=n,this.elements=this.fireStoreService.sent}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Sf))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-dashboard"]],decls:4,vars:6,consts:[[3,"showUploadButton","showManagerButton","showLogoutButton"],["itemSize","900",2,"width","100vw","height","90vh"],[4,"cdkVirtualFor","cdkVirtualForOf"],[3,"image"]],template:function(n,s){1&n&&(a._UZ(0,"app-toolbar",0),a.TgZ(1,"cdk-virtual-scroll-viewport",1),a.YNc(2,T4,2,1,"div",2),a.ALo(3,"async"),a.qZA()),2&n&&(a.Q6J("showUploadButton",!0)("showManagerButton",!0)("showLogoutButton",!0),a.xp6(2),a.Q6J("cdkVirtualForOf",a.lcZ(3,4,s.elements)))},directives:[EP,uD,OA,fF,S4],pipes:[Ta],styles:[""]}),r})(),n3=(()=>{class r{constructor(n){this.router=n}canActivate(){return!!this.isSignedIn()||(this.router.navigate([No.START]),!1)}isSignedIn(){return"true"===Gs.getIsSignedIn()}}return r.\u0275fac=function(n){return new(n||r)(a.LFG(qi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),I4=(()=>{class r{constructor(n){this.imageRepository=n,this.image=new sc("","","")}ngOnInit(){}deleteItem(){this.imageRepository.deleteFromToSend(this.image)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(vD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-to-send-element"]],inputs:{image:"image"},decls:11,vars:3,consts:[["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","8px",2,"width","45vw"],["color","primary","fxLayoutAlign","center center"],["alt","",1,"manager-image",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-toolbar",1),a._uU(2),a.qZA(),a.TgZ(3,"h4"),a._uU(4),a.qZA(),a._UZ(5,"img",2),a.TgZ(6,"button",3),a.NdJ("click",function(){return s.deleteItem()}),a.TgZ(7,"mat-icon"),a._uU(8,"delete"),a.qZA(),a._uU(9," Delete "),a.qZA(),a.qZA(),a._UZ(10,"br")),2&n&&(a.xp6(2),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH))},directives:[ub,Oi,Vs,ps,cb,xs,Ng],styles:[""]}),r})();function k4(r,i){if(1&r&&(a.TgZ(0,"div",5),a._UZ(1,"app-manager-to-send-element",6),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let R4=(()=>{class r{constructor(n){this.fireStoreService=n,this.toSendCollection=this.fireStoreService.toSend}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Sf))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-to-send"]],decls:8,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","center center","fxLayout","column"],["color","accent","fxLayoutAlign","center center","fxLayoutGap","16px"],["itemSize","900",2,"width","50vw","height","85vh"],["fxLayoutAlign","center",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["fxLayoutAlign","center"],[3,"image"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a.TgZ(1,"div",1),a.TgZ(2,"mat-toolbar",2),a._uU(3,"To Send"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"cdk-virtual-scroll-viewport",3),a.YNc(6,k4,2,1,"div",4),a.ALo(7,"async"),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("cdkVirtualForOf",a.lcZ(7,2,s.toSendCollection))("cdkVirtualForTemplateCacheSize",10))},directives:[Vs,Oi,cb,ps,uD,OA,fF,I4],pipes:[Ta],styles:[""]}),r})(),O4=(()=>{class r{constructor(n){this.imageRepository=n,this.image=new sc("","","")}ngOnInit(){}deleteItem(){this.imageRepository.deleteFromSent(this.image)}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(vD))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-sent-element"]],inputs:{image:"image"},decls:11,vars:3,consts:[["fxLayoutAlign","center center","fxLayout","column","fxLayoutGap","8px",2,"width","45vw"],["color","primary","fxLayoutAlign","center center"],["alt","",1,"manager-image",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(n,s){1&n&&(a.TgZ(0,"mat-card",0),a.TgZ(1,"mat-toolbar",1),a._uU(2),a.qZA(),a.TgZ(3,"h4"),a._uU(4),a.qZA(),a._UZ(5,"img",2),a.TgZ(6,"button",3),a.NdJ("click",function(){return s.deleteItem()}),a.TgZ(7,"mat-icon"),a._uU(8,"delete"),a.qZA(),a._uU(9," Delete "),a.qZA(),a.qZA(),a._UZ(10,"br")),2&n&&(a.xp6(2),a.Oqu(s.image.name),a.xp6(2),a.Oqu(s.image.date),a.xp6(1),a.s9C("src",s.image.drawable,a.LSH))},directives:[ub,Oi,Vs,ps,cb,xs,Ng],styles:[""]}),r})();function F4(r,i){if(1&r&&(a.TgZ(0,"div",5),a._UZ(1,"app-manager-sent-element",6),a.qZA()),2&r){const n=i.$implicit;a.xp6(1),a.Q6J("image",n)}}let P4=(()=>{class r{constructor(n){this.fireStoreService=n,this.sentCollection=this.fireStoreService.sent}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)(a.Y36(Sf))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager-sent"]],decls:8,vars:4,consts:[["fxLayout","column"],["fxLayoutAlign","center center","fxLayout","column"],["color","accent","fxLayoutAlign","center center","fxLayoutGap","16px"],["itemSize","900",2,"width","50vw","height","85vh"],["fxLayoutAlign","center",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],["fxLayoutAlign","center"],[3,"image"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a.TgZ(1,"div",1),a.TgZ(2,"mat-toolbar",2),a._uU(3,"Sent"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"cdk-virtual-scroll-viewport",3),a.YNc(6,F4,2,1,"div",4),a.ALo(7,"async"),a.qZA(),a.qZA(),a.qZA()),2&n&&(a.xp6(6),a.Q6J("cdkVirtualForOf",a.lcZ(7,2,s.sentCollection))("cdkVirtualForTemplateCacheSize",10))},directives:[Vs,Oi,cb,ps,uD,OA,fF,O4],pipes:[Ta],styles:[""]}),r})();const L4=[{path:No.EMPTY,redirectTo:No.START,pathMatch:"full"},{path:No.START,component:_4},{path:No.DASHBOARD,component:A4,canActivate:[n3]},{path:No.MANAGER,component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-manager"]],decls:5,vars:2,consts:[["fxLayout","column","fxLayoutGap","16px"],[3,"showDrawButton","showBackButton"],["fxFlex","90","fxLayout","row","fxLayoutAlign","center center"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"app-toolbar",1),a.TgZ(2,"div",2),a._UZ(3,"app-manager-to-send"),a._UZ(4,"app-manager-sent"),a.qZA(),a.qZA()),2&n&&(a.xp6(1),a.Q6J("showDrawButton",!0)("showBackButton",!0))},directives:[Vs,ps,EP,ch,Oi,R4,P4],styles:[""]}),r})(),canActivate:[n3]}];let B4=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[cw.forRoot(L4)],cw]}),r})(),V4=(()=>{class r{constructor(){this.title="Daily Girl"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"mat-app-background"]],template:function(n,s){1&n&&(a.TgZ(0,"body",0),a._UZ(1,"router-outlet"),a.qZA())},directives:[oh],styles:[""]}),r})(),e8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ii,bt,Wv,Af],Af,bt]}),r})(),t8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[bt],bt]}),r})(),p8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[uI,Pf,bt,uP,Ii],uI,bt,uP,t8]}),r})(),x8=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[uI,bt],uI,bt]}),r})();const V8={provide:new a.OlP("mat-select-scroll-strategy"),deps:[ts],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let D3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[V8],imports:[[Ii,tb,m2,bt],Af,wI,m2,bt]}),r})(),tZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Pf,bt],bt]}),r})(),TD=(()=>{class r{constructor(){this.changes=new ke.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(n,s){return`${n} \u2013 ${s}`}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const OZ={provide:new a.OlP("mat-datepicker-scroll-strategy"),deps:[ts],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let GZ=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[TD,OZ],imports:[[Ii,hI,tb,TF,Xv,bt],Af]}),r})();const Y3=new a.OlP("mat-chips-default-options"),t5={separatorKeyCodes:[13]};let n5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Ff,{provide:Y3,useValue:t5}],imports:[[bt]]}),r})();const a5={provide:new a.OlP("mat-tooltip-scroll-strategy"),deps:[ts],useFactory:function(r){return()=>r.scrollStrategies.reposition({scrollThrottle:20})}};let W3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[a5],imports:[[TF,Ii,tb,bt],bt,Af]}),r})(),S5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[FA]]}),r})(),z5=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[S5,bt],bt]}),r})(),RD=(()=>{class r{constructor(){this.changes=new ke.xQ,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(n,s,o)=>{if(0==o||0==s)return`0 of ${o}`;const u=n*s;return`${u+1} \u2013 ${u<(o=Math.max(o,0))?Math.min(u+s,o):u+s} of ${o}`}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=a.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();const X5={provide:RD,deps:[[new a.FiY,new a.tp0,RD]],useFactory:function(r){return r||new RD}};let rW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[X5],imports:[[Ii,hI,D3,W3,bt]]}),r})(),oH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),yW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[oH,Pf,bt,fD],oH,bt]}),r})(),DW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),VW=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ii,bt,DW,Xv]]}),r})();const pH={provide:new a.OlP("mat-menu-scroll-strategy"),deps:[ts],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let _H=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[pH],imports:[bt]}),r})(),$W=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[pH],imports:[[Ii,bt,Pf,tb,_H],Af,bt,_H]}),r})(),M7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Ii,bt,Xv,Pf,fD,TF],bt]}),r})(),FH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),B7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Pf,bt,fD,FH],bt,FH]}),r})(),V7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[hI,Pq,e8,Zq,p8,x8,p4,wI,D3,tZ,GZ,n5,W3,z5,rW,vq,D2,yW,Mq,VW,$W,YY,FA,M7,B7]}),r})();const PH_firebaseConfig={apiKey:"AIzaSyAGgVzKLjB3cOhtQBb3_89p-li2yPq7LWM",authDomain:"daily-girl-v2.firebaseapp.com",databaseURL:"https://daily-girl-v2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"daily-girl-v2",storageBucket:"daily-girl-v2.appspot.com",messagingSenderId:"873670599787",appId:"1:873670599787:web:eb04fb86de2b537764bd2e",measurementId:"G-6N8DVMJ878"};let U7=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=a.oAB({type:r,bootstrap:[V4]}),r.\u0275inj=a.cJS({providers:[vD,ZP,gB,Sf],imports:[[up,B4,Yz,V7,Us.hO.initializeApp(PH_firebaseConfig),Ow,u4,jG]]}),r})();(0,a.G48)(),tu().bootstrapModule(U7).catch(r=>console.error(r))},4762:(Ye,De,N)=>{"use strict";N.d(De,{ZT:()=>ae,pi:()=>U,_T:()=>oe,mG:()=>W,Jh:()=>Y,XA:()=>V,CR:()=>K,ev:()=>he});var a=function(ue,ce){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,fe){Ce.__proto__=fe}||function(Ce,fe){for(var ge in fe)Object.prototype.hasOwnProperty.call(fe,ge)&&(Ce[ge]=fe[ge])})(ue,ce)};function ae(ue,ce){if("function"!=typeof ce&&null!==ce)throw new TypeError("Class extends value "+String(ce)+" is not a constructor or null");function Ce(){this.constructor=ue}a(ue,ce),ue.prototype=null===ce?Object.create(ce):(Ce.prototype=ce.prototype,new Ce)}var U=function(){return(U=Object.assign||function(ce){for(var Ce,fe=1,ge=arguments.length;fe<ge;fe++)for(var ee in Ce=arguments[fe])Object.prototype.hasOwnProperty.call(Ce,ee)&&(ce[ee]=Ce[ee]);return ce}).apply(this,arguments)};function oe(ue,ce){var Ce={};for(var fe in ue)Object.prototype.hasOwnProperty.call(ue,fe)&&ce.indexOf(fe)<0&&(Ce[fe]=ue[fe]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(fe=Object.getOwnPropertySymbols(ue);ge<fe.length;ge++)ce.indexOf(fe[ge])<0&&Object.prototype.propertyIsEnumerable.call(ue,fe[ge])&&(Ce[fe[ge]]=ue[fe[ge]])}return Ce}function W(ue,ce,Ce,fe){return new(Ce||(Ce=Promise))(function(ee,Fe){function Ke(ht){try{lt(fe.next(ht))}catch(ut){Fe(ut)}}function Rt(ht){try{lt(fe.throw(ht))}catch(ut){Fe(ut)}}function lt(ht){ht.done?ee(ht.value):function(ee){return ee instanceof Ce?ee:new Ce(function(Fe){Fe(ee)})}(ht.value).then(Ke,Rt)}lt((fe=fe.apply(ue,ce||[])).next())})}function Y(ue,ce){var fe,ge,ee,Fe,Ce={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return Fe={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(Fe[Symbol.iterator]=function(){return this}),Fe;function Ke(lt){return function(ht){return function(lt){if(fe)throw new TypeError("Generator is already executing.");for(;Ce;)try{if(fe=1,ge&&(ee=2&lt[0]?ge.return:lt[0]?ge.throw||((ee=ge.return)&&ee.call(ge),0):ge.next)&&!(ee=ee.call(ge,lt[1])).done)return ee;switch(ge=0,ee&&(lt=[2&lt[0],ee.value]),lt[0]){case 0:case 1:ee=lt;break;case 4:return Ce.label++,{value:lt[1],done:!1};case 5:Ce.label++,ge=lt[1],lt=[0];continue;case 7:lt=Ce.ops.pop(),Ce.trys.pop();continue;default:if(!(ee=(ee=Ce.trys).length>0&&ee[ee.length-1])&&(6===lt[0]||2===lt[0])){Ce=0;continue}if(3===lt[0]&&(!ee||lt[1]>ee[0]&&lt[1]<ee[3])){Ce.label=lt[1];break}if(6===lt[0]&&Ce.label<ee[1]){Ce.label=ee[1],ee=lt;break}if(ee&&Ce.label<ee[2]){Ce.label=ee[2],Ce.ops.push(lt);break}ee[2]&&Ce.ops.pop(),Ce.trys.pop();continue}lt=ce.call(ue,Ce)}catch(ht){lt=[6,ht],ge=0}finally{fe=ee=0}if(5&lt[0])throw lt[1];return{value:lt[0]?lt[1]:void 0,done:!0}}([lt,ht])}}}function V(ue){var ce="function"==typeof Symbol&&Symbol.iterator,Ce=ce&&ue[ce],fe=0;if(Ce)return Ce.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&fe>=ue.length&&(ue=void 0),{value:ue&&ue[fe++],done:!ue}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(ue,ce){var Ce="function"==typeof Symbol&&ue[Symbol.iterator];if(!Ce)return ue;var ge,Fe,fe=Ce.call(ue),ee=[];try{for(;(void 0===ce||ce-- >0)&&!(ge=fe.next()).done;)ee.push(ge.value)}catch(Ke){Fe={error:Ke}}finally{try{ge&&!ge.done&&(Ce=fe.return)&&Ce.call(fe)}finally{if(Fe)throw Fe.error}}return ee}function he(ue,ce,Ce){if(Ce||2===arguments.length)for(var ee,fe=0,ge=ce.length;fe<ge;fe++)(ee||!(fe in ce))&&(ee||(ee=Array.prototype.slice.call(ce,0,fe)),ee[fe]=ce[fe]);return ue.concat(ee||Array.prototype.slice.call(ce))}},8239:(Ye,De,N)=>{"use strict";function a(U,oe,le,J,q,W,Y){try{var B=U[W](Y),$=B.value}catch(V){return void le(V)}B.done?oe($):Promise.resolve($).then(J,q)}function ae(U){return function(){var oe=this,le=arguments;return new Promise(function(J,q){var W=U.apply(oe,le);function Y($){a(W,J,q,Y,B,"next",$)}function B($){a(W,J,q,Y,B,"throw",$)}Y(void 0)})}}N.d(De,{Z:()=>ae})}},Ye=>{Ye(Ye.s=7956)}]);